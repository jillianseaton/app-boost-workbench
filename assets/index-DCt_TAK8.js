var y4=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ere=y4((Tre,ou)=>{function v4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function il(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var XA={exports:{}},Km={},eS={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd=Symbol.for("react.element"),w4=Symbol.for("react.portal"),b4=Symbol.for("react.fragment"),_4=Symbol.for("react.strict_mode"),E4=Symbol.for("react.profiler"),A4=Symbol.for("react.provider"),S4=Symbol.for("react.context"),j4=Symbol.for("react.forward_ref"),N4=Symbol.for("react.suspense"),C4=Symbol.for("react.memo"),k4=Symbol.for("react.lazy"),o1=Symbol.iterator;function T4(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var tS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nS=Object.assign,rS={};function ol(t,e,n){this.props=t,this.context=e,this.refs=rS,this.updater=n||tS}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sS(){}sS.prototype=ol.prototype;function cx(t,e,n){this.props=t,this.context=e,this.refs=rS,this.updater=n||tS}var lx=cx.prototype=new sS;lx.constructor=cx;nS(lx,ol.prototype);lx.isPureReactComponent=!0;var a1=Array.isArray,iS=Object.prototype.hasOwnProperty,ux={current:null},oS={key:!0,ref:!0,__self:!0,__source:!0};function aS(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)iS.call(e,r)&&!oS.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Cd,type:t,key:i,ref:a,props:s,_owner:ux.current}}function P4(t,e){return{$$typeof:Cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cd}function I4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c1=/\/+/g;function Eg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I4(""+t.key):e.toString(36)}function Lf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Cd:case w4:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Eg(a,0):r,a1(s)?(n="",t!=null&&(n=t.replace(c1,"$&/")+"/"),Lf(s,e,n,"",function(u){return u})):s!=null&&(dx(s)&&(s=P4(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(c1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",a1(t))for(var c=0;c<t.length;c++){i=t[c];var l=r+Eg(i,c);a+=Lf(i,e,n,l,s)}else if(l=T4(t),typeof l=="function")for(t=l.call(t),c=0;!(i=t.next()).done;)i=i.value,l=r+Eg(i,c++),a+=Lf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ef(t,e,n){if(t==null)return t;var r=[],s=0;return Lf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function R4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mn={current:null},Ff={transition:null},O4={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:Ff,ReactCurrentOwner:ux};function cS(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:ef,forEach:function(t,e,n){ef(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ef(t,function(){e++}),e},toArray:function(t){return ef(t,function(e){return e})||[]},only:function(t){if(!dx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=ol;He.Fragment=b4;He.Profiler=E4;He.PureComponent=cx;He.StrictMode=_4;He.Suspense=N4;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O4;He.act=cS;He.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nS({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ux.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)iS.call(e,l)&&!oS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Cd,type:t.type,key:s,ref:i,props:r,_owner:a}};He.createContext=function(t){return t={$$typeof:S4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A4,_context:t},t.Consumer=t};He.createElement=aS;He.createFactory=function(t){var e=aS.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:j4,render:t}};He.isValidElement=dx;He.lazy=function(t){return{$$typeof:k4,_payload:{_status:-1,_result:t},_init:R4}};He.memo=function(t,e){return{$$typeof:C4,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=Ff.transition;Ff.transition={};try{t()}finally{Ff.transition=e}};He.unstable_act=cS;He.useCallback=function(t,e){return Mn.current.useCallback(t,e)};He.useContext=function(t){return Mn.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return Mn.current.useDeferredValue(t)};He.useEffect=function(t,e){return Mn.current.useEffect(t,e)};He.useId=function(){return Mn.current.useId()};He.useImperativeHandle=function(t,e,n){return Mn.current.useImperativeHandle(t,e,n)};He.useInsertionEffect=function(t,e){return Mn.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return Mn.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return Mn.current.useMemo(t,e)};He.useReducer=function(t,e,n){return Mn.current.useReducer(t,e,n)};He.useRef=function(t){return Mn.current.useRef(t)};He.useState=function(t){return Mn.current.useState(t)};He.useSyncExternalStore=function(t,e,n){return Mn.current.useSyncExternalStore(t,e,n)};He.useTransition=function(){return Mn.current.useTransition()};He.version="18.3.1";eS.exports=He;var x=eS.exports;const O=il(x),lS=v4({__proto__:null,default:O},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M4=x,B4=Symbol.for("react.element"),D4=Symbol.for("react.fragment"),L4=Object.prototype.hasOwnProperty,F4=M4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U4={key:!0,ref:!0,__self:!0,__source:!0};function uS(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)L4.call(e,r)&&!U4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:B4,type:t,key:i,ref:a,props:s,_owner:F4.current}}Km.Fragment=D4;Km.jsx=uS;Km.jsxs=uS;XA.exports=Km;var o=XA.exports,dS={exports:{}},hr={},fS={exports:{}},hS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,M){var $=k.length;k.push(M);e:for(;0<$;){var W=$-1>>>1,ee=k[W];if(0<s(ee,M))k[W]=M,k[$]=ee,$=W;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var M=k[0],$=k.pop();if($!==M){k[0]=$;e:for(var W=0,ee=k.length,fe=ee>>>1;W<fe;){var le=2*(W+1)-1,Le=k[le],Ne=le+1,ae=k[Ne];if(0>s(Le,$))Ne<ee&&0>s(ae,Le)?(k[W]=ae,k[Ne]=$,W=Ne):(k[W]=Le,k[le]=$,W=le);else if(Ne<ee&&0>s(ae,$))k[W]=ae,k[Ne]=$,W=Ne;else break e}}return M}function s(k,M){var $=k.sortIndex-M.sortIndex;return $!==0?$:k.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=k)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function _(k){if(m=!1,b(k),!g)if(n(l)!==null)g=!0,C(E);else{var M=n(u);M!==null&&B(_,M.startTime-k)}}function E(k,M){g=!1,m&&(m=!1,v(j),j=-1),p=!0;var $=h;try{for(b(M),f=n(l);f!==null&&(!(f.expirationTime>M)||k&&!R());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var ee=W(f.expirationTime<=M);M=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),b(M)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var le=n(u);le!==null&&B(_,le.startTime-M),fe=!1}return fe}finally{f=null,h=$,p=!1}}var S=!1,N=null,j=-1,L=5,T=-1;function R(){return!(t.unstable_now()-T<L)}function I(){if(N!==null){var k=t.unstable_now();T=k;var M=!0;try{M=N(!0,k)}finally{M?H():(S=!1,N=null)}}else S=!1}var H;if(typeof w=="function")H=function(){w(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,A=F.port2;F.port1.onmessage=I,H=function(){A.postMessage(null)}}else H=function(){y(I,0)};function C(k){N=k,S||(S=!0,H())}function B(k,M){j=y(function(){k(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,C(E))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return k()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,M){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=h;h=k;try{return M()}finally{h=$}},t.unstable_scheduleCallback=function(k,M,$){var W=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,k){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,k={id:d++,callback:M,priorityLevel:k,startTime:$,expirationTime:ee,sortIndex:-1},$>W?(k.sortIndex=$,e(u,k),n(l)===null&&k===n(u)&&(m?(v(j),j=-1):m=!0,B(_,$-W))):(k.sortIndex=ee,e(l,k),g||p||(g=!0,C(E))),k},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(k){var M=h;return function(){var $=h;h=M;try{return k.apply(this,arguments)}finally{h=$}}}})(hS);fS.exports=hS;var $4=fS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H4=x,ur=$4;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mS=new Set,Cu={};function wa(t,e){kc(t,e),kc(t+"Capture",e)}function kc(t,e){for(Cu[t]=e,t=0;t<e.length;t++)mS.add(e[t])}var Ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gy=Object.prototype.hasOwnProperty,z4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l1={},u1={};function V4(t){return Gy.call(u1,t)?!0:Gy.call(l1,t)?!1:z4.test(t)?u1[t]=!0:(l1[t]=!0,!1)}function G4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W4(t,e,n,r){if(e===null||typeof e>"u"||G4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fx=/[\-:]([a-z])/g;function hx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fx,hx);ln[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fx,hx);ln[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fx,hx);ln[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mx(t,e,n,r){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W4(e,n,s,r)&&(n=null),r||s===null?V4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ci=H4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tf=Symbol.for("react.element"),Ya=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),px=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),pS=Symbol.for("react.provider"),gS=Symbol.for("react.context"),gx=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),yx=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),yS=Symbol.for("react.offscreen"),d1=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Ag;function Yl(t){if(Ag===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ag=e&&e[1]||""}return`
`+Ag+t}var Sg=!1;function jg(t,e){if(!t||Sg)return"";Sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=c);break}}}finally{Sg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yl(t):""}function q4(t){switch(t.tag){case 5:return Yl(t.type);case 16:return Yl("Lazy");case 13:return Yl("Suspense");case 19:return Yl("SuspenseList");case 0:case 2:case 15:return t=jg(t.type,!1),t;case 11:return t=jg(t.type.render,!1),t;case 1:return t=jg(t.type,!0),t;default:return""}}function Ky(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ja:return"Fragment";case Ya:return"Portal";case Wy:return"Profiler";case px:return"StrictMode";case qy:return"Suspense";case Qy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gS:return(t.displayName||"Context")+".Consumer";case pS:return(t._context.displayName||"Context")+".Provider";case gx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yx:return e=t.displayName||null,e!==null?e:Ky(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return Ky(t(e))}catch{}}return null}function Q4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ky(e);case 8:return e===px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function eo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function K4(t){var e=vS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nf(t){t._valueTracker||(t._valueTracker=K4(t))}function xS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yy(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=eo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wS(t,e){e=e.checked,e!=null&&mx(t,"checked",e,!1)}function Jy(t,e){wS(t,e);var n=eo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zy(t,e.type,eo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function h1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zy(t,e,n){(e!=="number"||fh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function hc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+eo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Xy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Jl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:eo(n)}}function bS(t,e){var n=eo(e.value),r=eo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function p1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _S(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_S(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rf,ES=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rf=rf||document.createElement("div"),rf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y4=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(t){Y4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),au[e]=au[t]})});function AS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||au.hasOwnProperty(t)&&au[t]?(""+e).trim():e+"px"}function SS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=AS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var J4=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t0(t,e){if(e){if(J4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function vx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var s0=null,mc=null,pc=null;function g1(t){if(t=Pd(t)){if(typeof s0!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=ep(e),s0(t.stateNode,t.type,e))}}function jS(t){mc?pc?pc.push(t):pc=[t]:mc=t}function NS(){if(mc){var t=mc,e=pc;if(pc=mc=null,g1(t),e)for(t=0;t<e.length;t++)g1(e[t])}}function CS(t,e){return t(e)}function kS(){}var Ng=!1;function TS(t,e,n){if(Ng)return t(e,n);Ng=!0;try{return CS(t,e,n)}finally{Ng=!1,(mc!==null||pc!==null)&&(kS(),NS())}}function Tu(t,e){var n=t.stateNode;if(n===null)return null;var r=ep(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var i0=!1;if(Ys)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){i0=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{i0=!1}function Z4(t,e,n,r,s,i,a,c,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var cu=!1,hh=null,mh=!1,o0=null,X4={onError:function(t){cu=!0,hh=t}};function eM(t,e,n,r,s,i,a,c,l){cu=!1,hh=null,Z4.apply(X4,arguments)}function tM(t,e,n,r,s,i,a,c,l){if(eM.apply(this,arguments),cu){if(cu){var u=hh;cu=!1,hh=null}else throw Error(Y(198));mh||(mh=!0,o0=u)}}function ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y1(t){if(ba(t)!==t)throw Error(Y(188))}function nM(t){var e=t.alternate;if(!e){if(e=ba(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return y1(s),t;if(i===r)return y1(s),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function IS(t){return t=nM(t),t!==null?RS(t):null}function RS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RS(t);if(e!==null)return e;t=t.sibling}return null}var OS=ur.unstable_scheduleCallback,v1=ur.unstable_cancelCallback,rM=ur.unstable_shouldYield,sM=ur.unstable_requestPaint,It=ur.unstable_now,iM=ur.unstable_getCurrentPriorityLevel,xx=ur.unstable_ImmediatePriority,MS=ur.unstable_UserBlockingPriority,ph=ur.unstable_NormalPriority,oM=ur.unstable_LowPriority,BS=ur.unstable_IdlePriority,Ym=null,ps=null;function aM(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Ym,t,void 0,(t.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:uM,cM=Math.log,lM=Math.LN2;function uM(t){return t>>>=0,t===0?32:31-(cM(t)/lM|0)|0}var sf=64,of=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=Zl(c):(i&=a,i!==0&&(r=Zl(i)))}else a=n&~s,a!==0?r=Zl(a):i!==0&&(r=Zl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$r(e),s=1<<n,r|=t[n],e&=~s;return r}function dM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-$r(i),c=1<<a,l=s[a];l===-1?(!(c&n)||c&r)&&(s[a]=dM(c,e)):l<=e&&(t.expiredLanes|=c),i&=~c}}function a0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DS(){var t=sf;return sf<<=1,!(sf&4194240)&&(sf=64),t}function Cg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$r(e),t[e]=n}function hM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$r(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function wx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$r(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var nt=0;function LS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FS,bx,US,$S,HS,c0=!1,af=[],Fi=null,Ui=null,$i=null,Pu=new Map,Iu=new Map,ki=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x1(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Pu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(e.pointerId)}}function Pl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Pd(e),e!==null&&bx(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pM(t,e,n,r,s){switch(e){case"focusin":return Fi=Pl(Fi,t,e,n,r,s),!0;case"dragenter":return Ui=Pl(Ui,t,e,n,r,s),!0;case"mouseover":return $i=Pl($i,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pu.set(i,Pl(Pu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Iu.set(i,Pl(Iu.get(i)||null,t,e,n,r,s)),!0}return!1}function zS(t){var e=Do(t.target);if(e!==null){var n=ba(e);if(n!==null){if(e=n.tag,e===13){if(e=PS(n),e!==null){t.blockedOn=e,HS(t.priority,function(){US(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=l0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);r0=r,n.target.dispatchEvent(r),r0=null}else return e=Pd(n),e!==null&&bx(e),t.blockedOn=n,!1;e.shift()}return!0}function w1(t,e,n){Uf(t)&&n.delete(e)}function gM(){c0=!1,Fi!==null&&Uf(Fi)&&(Fi=null),Ui!==null&&Uf(Ui)&&(Ui=null),$i!==null&&Uf($i)&&($i=null),Pu.forEach(w1),Iu.forEach(w1)}function Il(t,e){t.blockedOn===e&&(t.blockedOn=null,c0||(c0=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,gM)))}function Ru(t){function e(s){return Il(s,t)}if(0<af.length){Il(af[0],t);for(var n=1;n<af.length;n++){var r=af[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fi!==null&&Il(Fi,t),Ui!==null&&Il(Ui,t),$i!==null&&Il($i,t),Pu.forEach(e),Iu.forEach(e),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)zS(n),n.blockedOn===null&&ki.shift()}var gc=ci.ReactCurrentBatchConfig,yh=!0;function yM(t,e,n,r){var s=nt,i=gc.transition;gc.transition=null;try{nt=1,_x(t,e,n,r)}finally{nt=s,gc.transition=i}}function vM(t,e,n,r){var s=nt,i=gc.transition;gc.transition=null;try{nt=4,_x(t,e,n,r)}finally{nt=s,gc.transition=i}}function _x(t,e,n,r){if(yh){var s=l0(t,e,n,r);if(s===null)Lg(t,e,r,vh,n),x1(t,r);else if(pM(s,t,e,n,r))r.stopPropagation();else if(x1(t,r),e&4&&-1<mM.indexOf(t)){for(;s!==null;){var i=Pd(s);if(i!==null&&FS(i),i=l0(t,e,n,r),i===null&&Lg(t,e,r,vh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Lg(t,e,r,null,n)}}var vh=null;function l0(t,e,n,r){if(vh=null,t=vx(r),t=Do(t),t!==null)if(e=ba(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function VS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iM()){case xx:return 1;case MS:return 4;case ph:case oM:return 16;case BS:return 536870912;default:return 16}default:return 16}}var Oi=null,Ex=null,$f=null;function GS(){if($f)return $f;var t,e=Ex,n=e.length,r,s="value"in Oi?Oi.value:Oi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return $f=s.slice(t,1<r?1-r:void 0)}function Hf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cf(){return!0}function b1(){return!1}function mr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cf:b1,this.isPropagationStopped=b1,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ax=mr(al),Td=St({},al,{view:0,detail:0}),xM=mr(Td),kg,Tg,Rl,Jm=St({},Td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rl&&(Rl&&t.type==="mousemove"?(kg=t.screenX-Rl.screenX,Tg=t.screenY-Rl.screenY):Tg=kg=0,Rl=t),kg)},movementY:function(t){return"movementY"in t?t.movementY:Tg}}),_1=mr(Jm),wM=St({},Jm,{dataTransfer:0}),bM=mr(wM),_M=St({},Td,{relatedTarget:0}),Pg=mr(_M),EM=St({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),AM=mr(EM),SM=St({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jM=mr(SM),NM=St({},al,{data:0}),E1=mr(NM),CM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TM[t])?!!e[t]:!1}function Sx(){return PM}var IM=St({},Td,{key:function(t){if(t.key){var e=CM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sx,charCode:function(t){return t.type==="keypress"?Hf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RM=mr(IM),OM=St({},Jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A1=mr(OM),MM=St({},Td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sx}),BM=mr(MM),DM=St({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),LM=mr(DM),FM=St({},Jm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UM=mr(FM),$M=[9,13,27,32],jx=Ys&&"CompositionEvent"in window,lu=null;Ys&&"documentMode"in document&&(lu=document.documentMode);var HM=Ys&&"TextEvent"in window&&!lu,WS=Ys&&(!jx||lu&&8<lu&&11>=lu),S1=" ",j1=!1;function qS(t,e){switch(t){case"keyup":return $M.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Za=!1;function zM(t,e){switch(t){case"compositionend":return QS(e);case"keypress":return e.which!==32?null:(j1=!0,S1);case"textInput":return t=e.data,t===S1&&j1?null:t;default:return null}}function VM(t,e){if(Za)return t==="compositionend"||!jx&&qS(t,e)?(t=GS(),$f=Ex=Oi=null,Za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WS&&e.locale!=="ko"?null:e.data;default:return null}}var GM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GM[t.type]:e==="textarea"}function KS(t,e,n,r){jS(r),e=xh(e,"onChange"),0<e.length&&(n=new Ax("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uu=null,Ou=null;function WM(t){oj(t,0)}function Zm(t){var e=tc(t);if(xS(e))return t}function qM(t,e){if(t==="change")return e}var YS=!1;if(Ys){var Ig;if(Ys){var Rg="oninput"in document;if(!Rg){var C1=document.createElement("div");C1.setAttribute("oninput","return;"),Rg=typeof C1.oninput=="function"}Ig=Rg}else Ig=!1;YS=Ig&&(!document.documentMode||9<document.documentMode)}function k1(){uu&&(uu.detachEvent("onpropertychange",JS),Ou=uu=null)}function JS(t){if(t.propertyName==="value"&&Zm(Ou)){var e=[];KS(e,Ou,t,vx(t)),TS(WM,e)}}function QM(t,e,n){t==="focusin"?(k1(),uu=e,Ou=n,uu.attachEvent("onpropertychange",JS)):t==="focusout"&&k1()}function KM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zm(Ou)}function YM(t,e){if(t==="click")return Zm(e)}function JM(t,e){if(t==="input"||t==="change")return Zm(e)}function ZM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:ZM;function Mu(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gy.call(e,s)||!Vr(t[s],e[s]))return!1}return!0}function T1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P1(t,e){var n=T1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T1(n)}}function ZS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XS(){for(var t=window,e=fh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fh(t.document)}return e}function Nx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XM(t){var e=XS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZS(n.ownerDocument.documentElement,n)){if(r!==null&&Nx(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=P1(n,i);var a=P1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eB=Ys&&"documentMode"in document&&11>=document.documentMode,Xa=null,u0=null,du=null,d0=!1;function I1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d0||Xa==null||Xa!==fh(r)||(r=Xa,"selectionStart"in r&&Nx(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),du&&Mu(du,r)||(du=r,r=xh(u0,"onSelect"),0<r.length&&(e=new Ax("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function lf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ec={animationend:lf("Animation","AnimationEnd"),animationiteration:lf("Animation","AnimationIteration"),animationstart:lf("Animation","AnimationStart"),transitionend:lf("Transition","TransitionEnd")},Og={},ej={};Ys&&(ej=document.createElement("div").style,"AnimationEvent"in window||(delete ec.animationend.animation,delete ec.animationiteration.animation,delete ec.animationstart.animation),"TransitionEvent"in window||delete ec.transitionend.transition);function Xm(t){if(Og[t])return Og[t];if(!ec[t])return t;var e=ec[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ej)return Og[t]=e[n];return t}var tj=Xm("animationend"),nj=Xm("animationiteration"),rj=Xm("animationstart"),sj=Xm("transitionend"),ij=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(t,e){ij.set(t,e),wa(e,[t])}for(var Mg=0;Mg<R1.length;Mg++){var Bg=R1[Mg],tB=Bg.toLowerCase(),nB=Bg[0].toUpperCase()+Bg.slice(1);po(tB,"on"+nB)}po(tj,"onAnimationEnd");po(nj,"onAnimationIteration");po(rj,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(sj,"onTransitionEnd");kc("onMouseEnter",["mouseout","mouseover"]);kc("onMouseLeave",["mouseout","mouseover"]);kc("onPointerEnter",["pointerout","pointerover"]);kc("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function O1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tM(r,e,void 0,t),t.currentTarget=null}function oj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==i&&s.isPropagationStopped())break e;O1(s,c,u),i=l}else for(a=0;a<r.length;a++){if(c=r[a],l=c.instance,u=c.currentTarget,c=c.listener,l!==i&&s.isPropagationStopped())break e;O1(s,c,u),i=l}}}if(mh)throw t=o0,mh=!1,o0=null,t}function ht(t,e){var n=e[g0];n===void 0&&(n=e[g0]=new Set);var r=t+"__bubble";n.has(r)||(aj(e,t,2,!1),n.add(r))}function Dg(t,e,n){var r=0;e&&(r|=4),aj(n,t,r,e)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Bu(t){if(!t[uf]){t[uf]=!0,mS.forEach(function(n){n!=="selectionchange"&&(rB.has(n)||Dg(n,!1,t),Dg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uf]||(e[uf]=!0,Dg("selectionchange",!1,e))}}function aj(t,e,n,r){switch(VS(e)){case 1:var s=yM;break;case 4:s=vM;break;default:s=_x}n=s.bind(null,e,n,t),s=void 0,!i0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Lg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Do(c),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}c=c.parentNode}}r=r.return}TS(function(){var u=i,d=vx(n),f=[];e:{var h=ij.get(t);if(h!==void 0){var p=Ax,g=t;switch(t){case"keypress":if(Hf(n)===0)break e;case"keydown":case"keyup":p=RM;break;case"focusin":g="focus",p=Pg;break;case"focusout":g="blur",p=Pg;break;case"beforeblur":case"afterblur":p=Pg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BM;break;case tj:case nj:case rj:p=AM;break;case sj:p=LM;break;case"scroll":p=xM;break;case"wheel":p=UM;break;case"copy":case"cut":case"paste":p=jM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=A1}var m=(e&4)!==0,y=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var w=u,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=Tu(w,v),_!=null&&m.push(Du(w,_,b)))),y)break;w=w.return}0<m.length&&(h=new p(h,g,null,n,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==r0&&(g=n.relatedTarget||n.fromElement)&&(Do(g)||g[Js]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Do(g):null,g!==null&&(y=ba(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=_1,_="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=A1,_="onPointerLeave",v="onPointerEnter",w="pointer"),y=p==null?h:tc(p),b=g==null?h:tc(g),h=new m(_,w+"leave",p,n,d),h.target=y,h.relatedTarget=b,_=null,Do(d)===u&&(m=new m(v,w+"enter",g,n,d),m.target=b,m.relatedTarget=y,_=m),y=_,p&&g)t:{for(m=p,v=g,w=0,b=m;b;b=Pa(b))w++;for(b=0,_=v;_;_=Pa(_))b++;for(;0<w-b;)m=Pa(m),w--;for(;0<b-w;)v=Pa(v),b--;for(;w--;){if(m===v||v!==null&&m===v.alternate)break t;m=Pa(m),v=Pa(v)}m=null}else m=null;p!==null&&M1(f,h,p,m,!1),g!==null&&y!==null&&M1(f,y,g,m,!0)}}e:{if(h=u?tc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=qM;else if(N1(h))if(YS)E=JM;else{E=KM;var S=QM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=YM);if(E&&(E=E(t,u))){KS(f,E,n,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Zy(h,"number",h.value)}switch(S=u?tc(u):window,t){case"focusin":(N1(S)||S.contentEditable==="true")&&(Xa=S,u0=u,du=null);break;case"focusout":du=u0=Xa=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,I1(f,n,d);break;case"selectionchange":if(eB)break;case"keydown":case"keyup":I1(f,n,d)}var N;if(jx)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Za?qS(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(WS&&n.locale!=="ko"&&(Za||j!=="onCompositionStart"?j==="onCompositionEnd"&&Za&&(N=GS()):(Oi=d,Ex="value"in Oi?Oi.value:Oi.textContent,Za=!0)),S=xh(u,j),0<S.length&&(j=new E1(j,t,null,n,d),f.push({event:j,listeners:S}),N?j.data=N:(N=QS(n),N!==null&&(j.data=N)))),(N=HM?zM(t,n):VM(t,n))&&(u=xh(u,"onBeforeInput"),0<u.length&&(d=new E1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}oj(f,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tu(t,n),i!=null&&r.unshift(Du(t,i,s)),i=Tu(t,e),i!=null&&r.push(Du(t,i,s))),t=t.return}return r}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var c=n,l=c.alternate,u=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&u!==null&&(c=u,s?(l=Tu(n,i),l!=null&&a.unshift(Du(n,l,c))):s||(l=Tu(n,i),l!=null&&a.push(Du(n,l,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var sB=/\r\n?/g,iB=/\u0000|\uFFFD/g;function B1(t){return(typeof t=="string"?t:""+t).replace(sB,`
`).replace(iB,"")}function df(t,e,n){if(e=B1(e),B1(t)!==e&&n)throw Error(Y(425))}function wh(){}var f0=null,h0=null;function m0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p0=typeof setTimeout=="function"?setTimeout:void 0,oB=typeof clearTimeout=="function"?clearTimeout:void 0,D1=typeof Promise=="function"?Promise:void 0,aB=typeof queueMicrotask=="function"?queueMicrotask:typeof D1<"u"?function(t){return D1.resolve(null).then(t).catch(cB)}:p0;function cB(t){setTimeout(function(){throw t})}function Fg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ru(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ru(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function L1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cl=Math.random().toString(36).slice(2),as="__reactFiber$"+cl,Lu="__reactProps$"+cl,Js="__reactContainer$"+cl,g0="__reactEvents$"+cl,lB="__reactListeners$"+cl,uB="__reactHandles$"+cl;function Do(t){var e=t[as];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Js]||n[as]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=L1(t);t!==null;){if(n=t[as])return n;t=L1(t)}return e}t=n,n=t.parentNode}return null}function Pd(t){return t=t[as]||t[Js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function ep(t){return t[Lu]||null}var y0=[],nc=-1;function go(t){return{current:t}}function mt(t){0>nc||(t.current=y0[nc],y0[nc]=null,nc--)}function lt(t,e){nc++,y0[nc]=t.current,t.current=e}var to={},vn=go(to),Kn=go(!1),ea=to;function Tc(t,e){var n=t.type.contextTypes;if(!n)return to;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yn(t){return t=t.childContextTypes,t!=null}function bh(){mt(Kn),mt(vn)}function F1(t,e,n){if(vn.current!==to)throw Error(Y(168));lt(vn,e),lt(Kn,n)}function cj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Y(108,Q4(t)||"Unknown",s));return St({},n,r)}function _h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||to,ea=vn.current,lt(vn,t),lt(Kn,Kn.current),!0}function U1(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=cj(t,e,ea),r.__reactInternalMemoizedMergedChildContext=t,mt(Kn),mt(vn),lt(vn,t)):mt(Kn),lt(Kn,n)}var Ls=null,tp=!1,Ug=!1;function lj(t){Ls===null?Ls=[t]:Ls.push(t)}function dB(t){tp=!0,lj(t)}function yo(){if(!Ug&&Ls!==null){Ug=!0;var t=0,e=nt;try{var n=Ls;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ls=null,tp=!1}catch(s){throw Ls!==null&&(Ls=Ls.slice(t+1)),OS(xx,yo),s}finally{nt=e,Ug=!1}}return null}var rc=[],sc=0,Eh=null,Ah=0,br=[],_r=0,ta=null,Hs=1,zs="";function Co(t,e){rc[sc++]=Ah,rc[sc++]=Eh,Eh=t,Ah=e}function uj(t,e,n){br[_r++]=Hs,br[_r++]=zs,br[_r++]=ta,ta=t;var r=Hs;t=zs;var s=32-$r(r)-1;r&=~(1<<s),n+=1;var i=32-$r(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Hs=1<<32-$r(e)+s|n<<s|r,zs=i+t}else Hs=1<<i|n<<s|r,zs=t}function Cx(t){t.return!==null&&(Co(t,1),uj(t,1,0))}function kx(t){for(;t===Eh;)Eh=rc[--sc],rc[sc]=null,Ah=rc[--sc],rc[sc]=null;for(;t===ta;)ta=br[--_r],br[_r]=null,zs=br[--_r],br[_r]=null,Hs=br[--_r],br[_r]=null}var ar=null,or=null,vt=!1,Lr=null;function dj(t,e){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,or=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ta!==null?{id:Hs,overflow:zs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ar=t,or=null,!0):!1;default:return!1}}function v0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x0(t){if(vt){var e=or;if(e){var n=e;if(!$1(t,e)){if(v0(t))throw Error(Y(418));e=Hi(n.nextSibling);var r=ar;e&&$1(t,e)?dj(r,n):(t.flags=t.flags&-4097|2,vt=!1,ar=t)}}else{if(v0(t))throw Error(Y(418));t.flags=t.flags&-4097|2,vt=!1,ar=t}}}function H1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function ff(t){if(t!==ar)return!1;if(!vt)return H1(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!m0(t.type,t.memoizedProps)),e&&(e=or)){if(v0(t))throw fj(),Error(Y(418));for(;e;)dj(t,e),e=Hi(e.nextSibling)}if(H1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){or=Hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}or=null}}else or=ar?Hi(t.stateNode.nextSibling):null;return!0}function fj(){for(var t=or;t;)t=Hi(t.nextSibling)}function Pc(){or=ar=null,vt=!1}function Tx(t){Lr===null?Lr=[t]:Lr.push(t)}var fB=ci.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function hf(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z1(t){var e=t._init;return e(t._payload)}function hj(t){function e(v,w){if(t){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Wi(v,w),v.index=0,v.sibling=null,v}function i(v,w,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function c(v,w,b,_){return w===null||w.tag!==6?(w=qg(b,v.mode,_),w.return=v,w):(w=s(w,b),w.return=v,w)}function l(v,w,b,_){var E=b.type;return E===Ja?d(v,w,b.props.children,_,b.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ji&&z1(E)===w.type)?(_=s(w,b.props),_.ref=Ol(v,w,b),_.return=v,_):(_=Kf(b.type,b.key,b.props,null,v.mode,_),_.ref=Ol(v,w,b),_.return=v,_)}function u(v,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Qg(b,v.mode,_),w.return=v,w):(w=s(w,b.children||[]),w.return=v,w)}function d(v,w,b,_,E){return w===null||w.tag!==7?(w=qo(b,v.mode,_,E),w.return=v,w):(w=s(w,b),w.return=v,w)}function f(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=qg(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tf:return b=Kf(w.type,w.key,w.props,null,v.mode,b),b.ref=Ol(v,null,w),b.return=v,b;case Ya:return w=Qg(w,v.mode,b),w.return=v,w;case ji:var _=w._init;return f(v,_(w._payload),b)}if(Jl(w)||kl(w))return w=qo(w,v.mode,b,null),w.return=v,w;hf(v,w)}return null}function h(v,w,b,_){var E=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:c(v,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tf:return b.key===E?l(v,w,b,_):null;case Ya:return b.key===E?u(v,w,b,_):null;case ji:return E=b._init,h(v,w,E(b._payload),_)}if(Jl(b)||kl(b))return E!==null?null:d(v,w,b,_,null);hf(v,b)}return null}function p(v,w,b,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,c(w,v,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tf:return v=v.get(_.key===null?b:_.key)||null,l(w,v,_,E);case Ya:return v=v.get(_.key===null?b:_.key)||null,u(w,v,_,E);case ji:var S=_._init;return p(v,w,b,S(_._payload),E)}if(Jl(_)||kl(_))return v=v.get(b)||null,d(w,v,_,E,null);hf(w,_)}return null}function g(v,w,b,_){for(var E=null,S=null,N=w,j=w=0,L=null;N!==null&&j<b.length;j++){N.index>j?(L=N,N=null):L=N.sibling;var T=h(v,N,b[j],_);if(T===null){N===null&&(N=L);break}t&&N&&T.alternate===null&&e(v,N),w=i(T,w,j),S===null?E=T:S.sibling=T,S=T,N=L}if(j===b.length)return n(v,N),vt&&Co(v,j),E;if(N===null){for(;j<b.length;j++)N=f(v,b[j],_),N!==null&&(w=i(N,w,j),S===null?E=N:S.sibling=N,S=N);return vt&&Co(v,j),E}for(N=r(v,N);j<b.length;j++)L=p(N,v,j,b[j],_),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?j:L.key),w=i(L,w,j),S===null?E=L:S.sibling=L,S=L);return t&&N.forEach(function(R){return e(v,R)}),vt&&Co(v,j),E}function m(v,w,b,_){var E=kl(b);if(typeof E!="function")throw Error(Y(150));if(b=E.call(b),b==null)throw Error(Y(151));for(var S=E=null,N=w,j=w=0,L=null,T=b.next();N!==null&&!T.done;j++,T=b.next()){N.index>j?(L=N,N=null):L=N.sibling;var R=h(v,N,T.value,_);if(R===null){N===null&&(N=L);break}t&&N&&R.alternate===null&&e(v,N),w=i(R,w,j),S===null?E=R:S.sibling=R,S=R,N=L}if(T.done)return n(v,N),vt&&Co(v,j),E;if(N===null){for(;!T.done;j++,T=b.next())T=f(v,T.value,_),T!==null&&(w=i(T,w,j),S===null?E=T:S.sibling=T,S=T);return vt&&Co(v,j),E}for(N=r(v,N);!T.done;j++,T=b.next())T=p(N,v,j,T.value,_),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?j:T.key),w=i(T,w,j),S===null?E=T:S.sibling=T,S=T);return t&&N.forEach(function(I){return e(v,I)}),vt&&Co(v,j),E}function y(v,w,b,_){if(typeof b=="object"&&b!==null&&b.type===Ja&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case tf:e:{for(var E=b.key,S=w;S!==null;){if(S.key===E){if(E=b.type,E===Ja){if(S.tag===7){n(v,S.sibling),w=s(S,b.props.children),w.return=v,v=w;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ji&&z1(E)===S.type){n(v,S.sibling),w=s(S,b.props),w.ref=Ol(v,S,b),w.return=v,v=w;break e}n(v,S);break}else e(v,S);S=S.sibling}b.type===Ja?(w=qo(b.props.children,v.mode,_,b.key),w.return=v,v=w):(_=Kf(b.type,b.key,b.props,null,v.mode,_),_.ref=Ol(v,w,b),_.return=v,v=_)}return a(v);case Ya:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(v,w.sibling),w=s(w,b.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Qg(b,v.mode,_),w.return=v,v=w}return a(v);case ji:return S=b._init,y(v,w,S(b._payload),_)}if(Jl(b))return g(v,w,b,_);if(kl(b))return m(v,w,b,_);hf(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,b),w.return=v,v=w):(n(v,w),w=qg(b,v.mode,_),w.return=v,v=w),a(v)):n(v,w)}return y}var Ic=hj(!0),mj=hj(!1),Sh=go(null),jh=null,ic=null,Px=null;function Ix(){Px=ic=jh=null}function Rx(t){var e=Sh.current;mt(Sh),t._currentValue=e}function w0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yc(t,e){jh=t,Px=ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wn=!0),t.firstContext=null)}function Nr(t){var e=t._currentValue;if(Px!==t)if(t={context:t,memoizedValue:e,next:null},ic===null){if(jh===null)throw Error(Y(308));ic=t,jh.dependencies={lanes:0,firstContext:t}}else ic=ic.next=t;return e}var Lo=null;function Ox(t){Lo===null?Lo=[t]:Lo.push(t)}function pj(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ox(e)):(n.next=s.next,s.next=n),e.interleaved=n,Zs(t,r)}function Zs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function Mx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ws(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Zs(t,n)}return s=r.interleaved,s===null?(e.next=e,Ox(r)):(e.next=s.next,s.next=e),r.interleaved=e,Zs(t,n)}function zf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wx(t,n)}}function V1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nh(t,e,n,r){var s=t.updateQueue;Ni=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==a&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=u=l=null,c=i;do{var h=c.lane,p=c.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=t,m=c;switch(h=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=St({},f,h);break e;case 2:Ni=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=p,l=f):d=d.next=p,a|=h;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;h=c,c=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ra|=a,t.lanes=a,t.memoizedState=f}}function G1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var Id={},gs=go(Id),Fu=go(Id),Uu=go(Id);function Fo(t){if(t===Id)throw Error(Y(174));return t}function Bx(t,e){switch(lt(Uu,e),lt(Fu,t),lt(gs,Id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:e0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=e0(e,t)}mt(gs),lt(gs,e)}function Rc(){mt(gs),mt(Fu),mt(Uu)}function yj(t){Fo(Uu.current);var e=Fo(gs.current),n=e0(e,t.type);e!==n&&(lt(Fu,t),lt(gs,n))}function Dx(t){Fu.current===t&&(mt(gs),mt(Fu))}var bt=go(0);function Ch(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $g=[];function Lx(){for(var t=0;t<$g.length;t++)$g[t]._workInProgressVersionPrimary=null;$g.length=0}var Vf=ci.ReactCurrentDispatcher,Hg=ci.ReactCurrentBatchConfig,na=0,At=null,Gt=null,Zt=null,kh=!1,fu=!1,$u=0,hB=0;function un(){throw Error(Y(321))}function Fx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vr(t[n],e[n]))return!1;return!0}function Ux(t,e,n,r,s,i){if(na=i,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vf.current=t===null||t.memoizedState===null?yB:vB,t=n(r,s),fu){i=0;do{if(fu=!1,$u=0,25<=i)throw Error(Y(301));i+=1,Zt=Gt=null,e.updateQueue=null,Vf.current=xB,t=n(r,s)}while(fu)}if(Vf.current=Th,e=Gt!==null&&Gt.next!==null,na=0,Zt=Gt=At=null,kh=!1,e)throw Error(Y(300));return t}function $x(){var t=$u!==0;return $u=0,t}function ss(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?At.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Cr(){if(Gt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var e=Zt===null?At.memoizedState:Zt.next;if(e!==null)Zt=e,Gt=t;else{if(t===null)throw Error(Y(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Zt===null?At.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function Hu(t,e){return typeof e=="function"?e(t):e}function zg(t){var e=Cr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=Gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=a=null,l=null,u=i;do{var d=u.lane;if((na&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=f,a=r):l=l.next=f,At.lanes|=d,ra|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=c,Vr(r,e.memoizedState)||(Wn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,At.lanes|=i,ra|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vg(t){var e=Cr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Vr(i,e.memoizedState)||(Wn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vj(){}function xj(t,e){var n=At,r=Cr(),s=e(),i=!Vr(r.memoizedState,s);if(i&&(r.memoizedState=s,Wn=!0),r=r.queue,Hx(_j.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Zt!==null&&Zt.memoizedState.tag&1){if(n.flags|=2048,zu(9,bj.bind(null,n,r,s,e),void 0,null),en===null)throw Error(Y(349));na&30||wj(n,e,s)}return s}function wj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bj(t,e,n,r){e.value=n,e.getSnapshot=r,Ej(e)&&Aj(t)}function _j(t,e,n){return n(function(){Ej(e)&&Aj(t)})}function Ej(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vr(t,n)}catch{return!0}}function Aj(t){var e=Zs(t,1);e!==null&&Hr(e,t,1,-1)}function W1(t){var e=ss();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:t},e.queue=t,t=t.dispatch=gB.bind(null,At,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sj(){return Cr().memoizedState}function Gf(t,e,n,r){var s=ss();At.flags|=t,s.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function np(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(Gt!==null){var a=Gt.memoizedState;if(i=a.destroy,r!==null&&Fx(r,a.deps)){s.memoizedState=zu(e,n,i,r);return}}At.flags|=t,s.memoizedState=zu(1|e,n,i,r)}function q1(t,e){return Gf(8390656,8,t,e)}function Hx(t,e){return np(2048,8,t,e)}function jj(t,e){return np(4,2,t,e)}function Nj(t,e){return np(4,4,t,e)}function Cj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kj(t,e,n){return n=n!=null?n.concat([t]):null,np(4,4,Cj.bind(null,e,t),n)}function zx(){}function Tj(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pj(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ij(t,e,n){return na&21?(Vr(n,e)||(n=DS(),At.lanes|=n,ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wn=!0),t.memoizedState=n)}function mB(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Hg.transition;Hg.transition={};try{t(!1),e()}finally{nt=n,Hg.transition=r}}function Rj(){return Cr().memoizedState}function pB(t,e,n){var r=Gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Oj(t))Mj(e,n);else if(n=pj(t,e,n,r),n!==null){var s=kn();Hr(n,t,r,s),Bj(n,e,r)}}function gB(t,e,n){var r=Gi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oj(t))Mj(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,c=i(a,n);if(s.hasEagerState=!0,s.eagerState=c,Vr(c,a)){var l=e.interleaved;l===null?(s.next=s,Ox(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=pj(t,e,s,r),n!==null&&(s=kn(),Hr(n,t,r,s),Bj(n,e,r))}}function Oj(t){var e=t.alternate;return t===At||e!==null&&e===At}function Mj(t,e){fu=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,wx(t,n)}}var Th={readContext:Nr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},yB={readContext:Nr,useCallback:function(t,e){return ss().memoizedState=[t,e===void 0?null:e],t},useContext:Nr,useEffect:q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gf(4194308,4,Cj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gf(4,2,t,e)},useMemo:function(t,e){var n=ss();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ss();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pB.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=ss();return t={current:t},e.memoizedState=t},useState:W1,useDebugValue:zx,useDeferredValue:function(t){return ss().memoizedState=t},useTransition:function(){var t=W1(!1),e=t[0];return t=mB.bind(null,t[1]),ss().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,s=ss();if(vt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),en===null)throw Error(Y(349));na&30||wj(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,q1(_j.bind(null,r,i,t),[t]),r.flags|=2048,zu(9,bj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ss(),e=en.identifierPrefix;if(vt){var n=zs,r=Hs;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vB={readContext:Nr,useCallback:Tj,useContext:Nr,useEffect:Hx,useImperativeHandle:kj,useInsertionEffect:jj,useLayoutEffect:Nj,useMemo:Pj,useReducer:zg,useRef:Sj,useState:function(){return zg(Hu)},useDebugValue:zx,useDeferredValue:function(t){var e=Cr();return Ij(e,Gt.memoizedState,t)},useTransition:function(){var t=zg(Hu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:vj,useSyncExternalStore:xj,useId:Rj,unstable_isNewReconciler:!1},xB={readContext:Nr,useCallback:Tj,useContext:Nr,useEffect:Hx,useImperativeHandle:kj,useInsertionEffect:jj,useLayoutEffect:Nj,useMemo:Pj,useReducer:Vg,useRef:Sj,useState:function(){return Vg(Hu)},useDebugValue:zx,useDeferredValue:function(t){var e=Cr();return Gt===null?e.memoizedState=t:Ij(e,Gt.memoizedState,t)},useTransition:function(){var t=Vg(Hu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:vj,useSyncExternalStore:xj,useId:Rj,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function b0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rp={isMounted:function(t){return(t=t._reactInternals)?ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kn(),s=Gi(t),i=Ws(r,s);i.payload=e,n!=null&&(i.callback=n),e=zi(t,i,s),e!==null&&(Hr(e,t,s,r),zf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kn(),s=Gi(t),i=Ws(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zi(t,i,s),e!==null&&(Hr(e,t,s,r),zf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),r=Gi(t),s=Ws(n,r);s.tag=2,e!=null&&(s.callback=e),e=zi(t,s,r),e!==null&&(Hr(e,t,r,n),zf(e,t,r))}};function Q1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Mu(n,r)||!Mu(s,i):!0}function Dj(t,e,n){var r=!1,s=to,i=e.contextType;return typeof i=="object"&&i!==null?i=Nr(i):(s=Yn(e)?ea:vn.current,r=e.contextTypes,i=(r=r!=null)?Tc(t,s):to),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function K1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rp.enqueueReplaceState(e,e.state,null)}function _0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nr(i):(i=Yn(e)?ea:vn.current,s.context=Tc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(b0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rp.enqueueReplaceState(s,s.state,null),Nh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Oc(t,e){try{var n="",r=e;do n+=q4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function E0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wB=typeof WeakMap=="function"?WeakMap:Map;function Lj(t,e,n){n=Ws(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,R0=r),E0(t,e)},n}function Fj(t,e,n){n=Ws(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){E0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){E0(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Y1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wB;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=OB.bind(null,t,e,n),e.then(t,t))}function J1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Z1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ws(-1,1),e.tag=2,zi(n,e,1))),n.lanes|=1),t)}var bB=ci.ReactCurrentOwner,Wn=!1;function En(t,e,n,r){e.child=t===null?mj(e,null,n,r):Ic(e,t.child,n,r)}function X1(t,e,n,r,s){n=n.render;var i=e.ref;return yc(e,s),r=Ux(t,e,n,r,i,s),n=$x(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xs(t,e,s)):(vt&&n&&Cx(e),e.flags|=1,En(t,e,r,s),e.child)}function e_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Jx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Uj(t,e,i,r,s)):(t=Kf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(a,r)&&t.ref===e.ref)return Xs(t,e,s)}return e.flags|=1,t=Wi(i,r),t.ref=e.ref,t.return=e,e.child=t}function Uj(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mu(i,r)&&t.ref===e.ref)if(Wn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Wn=!0);else return e.lanes=t.lanes,Xs(t,e,s)}return A0(t,e,n,r,s)}function $j(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ac,rr),rr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(ac,rr),rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,lt(ac,rr),rr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,lt(ac,rr),rr|=r;return En(t,e,s,n),e.child}function Hj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function A0(t,e,n,r,s){var i=Yn(n)?ea:vn.current;return i=Tc(e,i),yc(e,s),n=Ux(t,e,n,r,i,s),r=$x(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xs(t,e,s)):(vt&&r&&Cx(e),e.flags|=1,En(t,e,n,s),e.child)}function t_(t,e,n,r,s){if(Yn(n)){var i=!0;_h(e)}else i=!1;if(yc(e,s),e.stateNode===null)Wf(t,e),Dj(e,n,r),_0(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=Yn(n)?ea:vn.current,u=Tc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||l!==u)&&K1(e,a,r,u),Ni=!1;var h=e.memoizedState;a.state=h,Nh(e,r,a,s),l=e.memoizedState,c!==r||h!==l||Kn.current||Ni?(typeof d=="function"&&(b0(e,n,d,r),l=e.memoizedState),(c=Ni||Q1(e,n,c,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,gj(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Rr(e.type,c),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nr(l):(l=Yn(n)?ea:vn.current,l=Tc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==f||h!==l)&&K1(e,a,r,l),Ni=!1,h=e.memoizedState,a.state=h,Nh(e,r,a,s);var g=e.memoizedState;c!==f||h!==g||Kn.current||Ni?(typeof p=="function"&&(b0(e,n,p,r),g=e.memoizedState),(u=Ni||Q1(e,n,u,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return S0(t,e,n,r,i,s)}function S0(t,e,n,r,s,i){Hj(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&U1(e,n,!1),Xs(t,e,i);r=e.stateNode,bB.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ic(e,t.child,null,i),e.child=Ic(e,null,c,i)):En(t,e,c,i),e.memoizedState=r.state,s&&U1(e,n,!0),e.child}function zj(t){var e=t.stateNode;e.pendingContext?F1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F1(t,e.context,!1),Bx(t,e.containerInfo)}function n_(t,e,n,r,s){return Pc(),Tx(s),e.flags|=256,En(t,e,n,r),e.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function N0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vj(t,e,n){var r=e.pendingProps,s=bt.current,i=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(bt,s&1),t===null)return x0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=op(a,r,0,null),t=qo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=N0(n),e.memoizedState=j0,t):Vx(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return _B(t,e,a,r,c,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,c=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Wi(c,i):(i=qo(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?N0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=j0,r}return i=t.child,t=i.sibling,r=Wi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vx(t,e){return e=op({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mf(t,e,n,r){return r!==null&&Tx(r),Ic(e,t.child,null,n),t=Vx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _B(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Gg(Error(Y(422))),mf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=op({mode:"visible",children:r.children},s,0,null),i=qo(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ic(e,t.child,null,a),e.child.memoizedState=N0(a),e.memoizedState=j0,i);if(!(e.mode&1))return mf(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(Y(419)),r=Gg(i,r,void 0),mf(t,e,a,r)}if(c=(a&t.childLanes)!==0,Wn||c){if(r=en,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zs(t,s),Hr(r,t,s,-1))}return Yx(),r=Gg(Error(Y(421))),mf(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=MB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,or=Hi(s.nextSibling),ar=e,vt=!0,Lr=null,t!==null&&(br[_r++]=Hs,br[_r++]=zs,br[_r++]=ta,Hs=t.id,zs=t.overflow,ta=e),e=Vx(e,r.children),e.flags|=4096,e)}function r_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),w0(t.return,e,n)}function Wg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Gj(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(En(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r_(t,n,e);else if(t.tag===19)r_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(bt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ch(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ch(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wg(e,!0,n,null,i);break;case"together":Wg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EB(t,e,n){switch(e.tag){case 3:zj(e),Pc();break;case 5:yj(e);break;case 1:Yn(e.type)&&_h(e);break;case 4:Bx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(Sh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?Vj(t,e,n):(lt(bt,bt.current&1),t=Xs(t,e,n),t!==null?t.sibling:null);lt(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,$j(t,e,n)}return Xs(t,e,n)}var Wj,C0,qj,Qj;Wj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};qj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Fo(gs.current);var i=null;switch(n){case"input":s=Yy(t,s),r=Yy(t,r),i=[];break;case"select":s=St({},s,{value:void 0}),r=St({},r,{value:void 0}),i=[];break;case"textarea":s=Xy(t,s),r=Xy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wh)}t0(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(c=s?.[u],r.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ht("scroll",t),i||c===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Qj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ml(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AB(t,e,n){var r=e.pendingProps;switch(kx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Yn(e.type)&&bh(),dn(e),null;case 3:return r=e.stateNode,Rc(),mt(Kn),mt(vn),Lx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ff(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(B0(Lr),Lr=null))),C0(t,e),dn(e),null;case 5:Dx(e);var s=Fo(Uu.current);if(n=e.type,t!==null&&e.stateNode!=null)qj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return dn(e),null}if(t=Fo(gs.current),ff(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[as]=e,r[Lu]=i,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(s=0;s<Xl.length;s++)ht(Xl[s],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":f1(r,i),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ht("invalid",r);break;case"textarea":m1(r,i),ht("invalid",r)}t0(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&df(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&df(r.textContent,c,t),s=["children",""+c]):Cu.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&ht("scroll",r)}switch(n){case"input":nf(r),h1(r,i,!0);break;case"textarea":nf(r),p1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_S(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[as]=e,t[Lu]=r,Wj(t,e,!1,!1),e.stateNode=t;e:{switch(a=n0(n,r),n){case"dialog":ht("cancel",t),ht("close",t),s=r;break;case"iframe":case"object":case"embed":ht("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xl.length;s++)ht(Xl[s],t);s=r;break;case"source":ht("error",t),s=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),s=r;break;case"details":ht("toggle",t),s=r;break;case"input":f1(t,r),s=Yy(t,r),ht("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=St({},r,{value:void 0}),ht("invalid",t);break;case"textarea":m1(t,r),s=Xy(t,r),ht("invalid",t);break;default:s=r}t0(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?SS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ES(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ku(t,l):typeof l=="number"&&ku(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ht("scroll",t):l!=null&&mx(t,i,l,a))}switch(n){case"input":nf(t),h1(t,r,!1);break;case"textarea":nf(t),p1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+eo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?hc(t,!!r.multiple,i,!1):r.defaultValue!=null&&hc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)Qj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=Fo(Uu.current),Fo(gs.current),ff(e)){if(r=e.stateNode,n=e.memoizedProps,r[as]=e,(i=r.nodeValue!==n)&&(t=ar,t!==null))switch(t.tag){case 3:df(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&df(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[as]=e,e.stateNode=r}return dn(e),null;case 13:if(mt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&or!==null&&e.mode&1&&!(e.flags&128))fj(),Pc(),e.flags|=98560,i=!1;else if(i=ff(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[as]=e}else Pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),i=!1}else Lr!==null&&(B0(Lr),Lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?qt===0&&(qt=3):Yx())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Rc(),C0(t,e),t===null&&Bu(e.stateNode.containerInfo),dn(e),null;case 10:return Rx(e.type._context),dn(e),null;case 17:return Yn(e.type)&&bh(),dn(e),null;case 19:if(mt(bt),i=e.memoizedState,i===null)return dn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Ml(i,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ch(t),a!==null){for(e.flags|=128,Ml(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(bt,bt.current&1|2),e.child}t=t.sibling}i.tail!==null&&It()>Mc&&(e.flags|=128,r=!0,Ml(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ch(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ml(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!vt)return dn(e),null}else 2*It()-i.renderingStartTime>Mc&&n!==1073741824&&(e.flags|=128,r=!0,Ml(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=It(),e.sibling=null,n=bt.current,lt(bt,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return Kx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rr&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function SB(t,e){switch(kx(e),e.tag){case 1:return Yn(e.type)&&bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rc(),mt(Kn),mt(vn),Lx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dx(e),null;case 13:if(mt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(bt),null;case 4:return Rc(),null;case 10:return Rx(e.type._context),null;case 22:case 23:return Kx(),null;case 24:return null;default:return null}}var pf=!1,gn=!1,jB=typeof WeakSet=="function"?WeakSet:Set,ce=null;function oc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function k0(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var s_=!1;function NB(t,e){if(f0=yh,t=XS(),Nx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(c=a+s),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===s&&(c=a),h===i&&++d===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(h0={focusedElem:t,selectionRange:n},yh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Rr(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(_){Ct(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return g=s_,s_=!1,g}function hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&k0(e,n,i)}s=s.next}while(s!==r)}}function sp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function T0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kj(t){var e=t.alternate;e!==null&&(t.alternate=null,Kj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[as],delete e[Lu],delete e[g0],delete e[lB],delete e[uB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yj(t){return t.tag===5||t.tag===3||t.tag===4}function i_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function P0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wh));else if(r!==4&&(t=t.child,t!==null))for(P0(t,e,n),t=t.sibling;t!==null;)P0(t,e,n),t=t.sibling}function I0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(I0(t,e,n),t=t.sibling;t!==null;)I0(t,e,n),t=t.sibling}var sn=null,Br=!1;function yi(t,e,n){for(n=n.child;n!==null;)Jj(t,e,n),n=n.sibling}function Jj(t,e,n){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Ym,n)}catch{}switch(n.tag){case 5:gn||oc(n,e);case 6:var r=sn,s=Br;sn=null,yi(t,e,n),sn=r,Br=s,sn!==null&&(Br?(t=sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(Br?(t=sn,n=n.stateNode,t.nodeType===8?Fg(t.parentNode,n):t.nodeType===1&&Fg(t,n),Ru(t)):Fg(sn,n.stateNode));break;case 4:r=sn,s=Br,sn=n.stateNode.containerInfo,Br=!0,yi(t,e,n),sn=r,Br=s;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&k0(n,e,a),s=s.next}while(s!==r)}yi(t,e,n);break;case 1:if(!gn&&(oc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ct(n,e,c)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,yi(t,e,n),gn=r):yi(t,e,n);break;default:yi(t,e,n)}}function o_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jB),e.forEach(function(r){var s=BB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:sn=c.stateNode,Br=!1;break e;case 3:sn=c.stateNode.containerInfo,Br=!0;break e;case 4:sn=c.stateNode.containerInfo,Br=!0;break e}c=c.return}if(sn===null)throw Error(Y(160));Jj(i,a,s),sn=null,Br=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ct(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zj(e,t),e=e.sibling}function Zj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),es(t),r&4){try{hu(3,t,t.return),sp(3,t)}catch(m){Ct(t,t.return,m)}try{hu(5,t,t.return)}catch(m){Ct(t,t.return,m)}}break;case 1:Tr(e,t),es(t),r&512&&n!==null&&oc(n,n.return);break;case 5:if(Tr(e,t),es(t),r&512&&n!==null&&oc(n,n.return),t.flags&32){var s=t.stateNode;try{ku(s,"")}catch(m){Ct(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,c=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&wS(s,i),n0(c,a);var u=n0(c,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?SS(s,f):d==="dangerouslySetInnerHTML"?ES(s,f):d==="children"?ku(s,f):mx(s,d,f,u)}switch(c){case"input":Jy(s,i);break;case"textarea":bS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?hc(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?hc(s,!!i.multiple,i.defaultValue,!0):hc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lu]=i}catch(m){Ct(t,t.return,m)}}break;case 6:if(Tr(e,t),es(t),r&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Ct(t,t.return,m)}}break;case 3:if(Tr(e,t),es(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ru(e.containerInfo)}catch(m){Ct(t,t.return,m)}break;case 4:Tr(e,t),es(t);break;case 13:Tr(e,t),es(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qx=It())),r&4&&o_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(u=gn)||d,Tr(e,t),gn=u):Tr(e,t),es(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(f=ce=d;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:hu(4,h,h.return);break;case 1:oc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ct(r,n,m)}}break;case 5:oc(h,h.return);break;case 22:if(h.memoizedState!==null){c_(f);continue}}p!==null?(p.return=h,ce=p):c_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=AS("display",a))}catch(m){Ct(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ct(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tr(e,t),es(t),r&4&&o_(t);break;case 21:break;default:Tr(e,t),es(t)}}function es(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Yj(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ku(s,""),r.flags&=-33);var i=i_(t);I0(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=i_(t);P0(t,c,a);break;default:throw Error(Y(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CB(t,e,n){ce=t,Xj(t)}function Xj(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||pf;if(!a){var c=s.alternate,l=c!==null&&c.memoizedState!==null||gn;c=pf;var u=gn;if(pf=a,(gn=l)&&!u)for(ce=s;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?l_(s):l!==null?(l.return=a,ce=l):l_(s);for(;i!==null;)ce=i,Xj(i),i=i.sibling;ce=s,pf=c,gn=u}a_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):a_(t)}}function a_(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||sp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&G1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G1(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ru(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}gn||e.flags&512&&T0(e)}catch(h){Ct(e,e.return,h)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function c_(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function l_(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sp(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ct(e,s,l)}}var i=e.return;try{T0(e)}catch(l){Ct(e,i,l)}break;case 5:var a=e.return;try{T0(e)}catch(l){Ct(e,a,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){ce=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ce=c;break}ce=e.return}}var kB=Math.ceil,Ph=ci.ReactCurrentDispatcher,Gx=ci.ReactCurrentOwner,jr=ci.ReactCurrentBatchConfig,Qe=0,en=null,Lt=null,an=0,rr=0,ac=go(0),qt=0,Vu=null,ra=0,ip=0,Wx=0,mu=null,Hn=null,qx=0,Mc=1/0,Ms=null,Ih=!1,R0=null,Vi=null,gf=!1,Mi=null,Rh=0,pu=0,O0=null,qf=-1,Qf=0;function kn(){return Qe&6?It():qf!==-1?qf:qf=It()}function Gi(t){return t.mode&1?Qe&2&&an!==0?an&-an:fB.transition!==null?(Qf===0&&(Qf=DS()),Qf):(t=nt,t!==0||(t=window.event,t=t===void 0?16:VS(t.type)),t):1}function Hr(t,e,n,r){if(50<pu)throw pu=0,O0=null,Error(Y(185));kd(t,n,r),(!(Qe&2)||t!==en)&&(t===en&&(!(Qe&2)&&(ip|=n),qt===4&&Ti(t,an)),Jn(t,r),n===1&&Qe===0&&!(e.mode&1)&&(Mc=It()+500,tp&&yo()))}function Jn(t,e){var n=t.callbackNode;fM(t,e);var r=gh(t,t===en?an:0);if(r===0)n!==null&&v1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v1(n),e===1)t.tag===0?dB(u_.bind(null,t)):lj(u_.bind(null,t)),aB(function(){!(Qe&6)&&yo()}),n=null;else{switch(LS(r)){case 1:n=xx;break;case 4:n=MS;break;case 16:n=ph;break;case 536870912:n=BS;break;default:n=ph}n=aN(n,eN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eN(t,e){if(qf=-1,Qf=0,Qe&6)throw Error(Y(327));var n=t.callbackNode;if(vc()&&t.callbackNode!==n)return null;var r=gh(t,t===en?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var s=Qe;Qe|=2;var i=nN();(en!==t||an!==e)&&(Ms=null,Mc=It()+500,Wo(t,e));do try{IB();break}catch(c){tN(t,c)}while(!0);Ix(),Ph.current=i,Qe=s,Lt!==null?e=0:(en=null,an=0,e=qt)}if(e!==0){if(e===2&&(s=a0(t),s!==0&&(r=s,e=M0(t,s))),e===1)throw n=Vu,Wo(t,0),Ti(t,r),Jn(t,It()),n;if(e===6)Ti(t,r);else{if(s=t.current.alternate,!(r&30)&&!TB(s)&&(e=Oh(t,r),e===2&&(i=a0(t),i!==0&&(r=i,e=M0(t,i))),e===1))throw n=Vu,Wo(t,0),Ti(t,r),Jn(t,It()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:ko(t,Hn,Ms);break;case 3:if(Ti(t,r),(r&130023424)===r&&(e=qx+500-It(),10<e)){if(gh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=p0(ko.bind(null,t,Hn,Ms),e);break}ko(t,Hn,Ms);break;case 4:if(Ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-$r(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kB(r/1960))-r,10<r){t.timeoutHandle=p0(ko.bind(null,t,Hn,Ms),r);break}ko(t,Hn,Ms);break;case 5:ko(t,Hn,Ms);break;default:throw Error(Y(329))}}}return Jn(t,It()),t.callbackNode===n?eN.bind(null,t):null}function M0(t,e){var n=mu;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&B0(e)),t}function B0(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function TB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ti(t,e){for(e&=~Wx,e&=~ip,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$r(e),r=1<<n;t[n]=-1,e&=~r}}function u_(t){if(Qe&6)throw Error(Y(327));vc();var e=gh(t,0);if(!(e&1))return Jn(t,It()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=a0(t);r!==0&&(e=r,n=M0(t,r))}if(n===1)throw n=Vu,Wo(t,0),Ti(t,e),Jn(t,It()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,Hn,Ms),Jn(t,It()),null}function Qx(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Mc=It()+500,tp&&yo())}}function sa(t){Mi!==null&&Mi.tag===0&&!(Qe&6)&&vc();var e=Qe;Qe|=1;var n=jr.transition,r=nt;try{if(jr.transition=null,nt=1,t)return t()}finally{nt=r,jr.transition=n,Qe=e,!(Qe&6)&&yo()}}function Kx(){rr=ac.current,mt(ac)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oB(n)),Lt!==null)for(n=Lt.return;n!==null;){var r=n;switch(kx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bh();break;case 3:Rc(),mt(Kn),mt(vn),Lx();break;case 5:Dx(r);break;case 4:Rc();break;case 13:mt(bt);break;case 19:mt(bt);break;case 10:Rx(r.type._context);break;case 22:case 23:Kx()}n=n.return}if(en=t,Lt=t=Wi(t.current,null),an=rr=e,qt=0,Vu=null,Wx=ip=ra=0,Hn=mu=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Lo=null}return t}function tN(t,e){do{var n=Lt;try{if(Ix(),Vf.current=Th,kh){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kh=!1}if(na=0,Zt=Gt=At=null,fu=!1,$u=0,Gx.current=null,n===null||n.return===null){qt=1,Vu=e,Lt=null;break}e:{var i=t,a=n.return,c=n,l=e;if(e=an,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=J1(a);if(p!==null){p.flags&=-257,Z1(p,a,c,i,e),p.mode&1&&Y1(i,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Y1(i,u,e),Yx();break e}l=Error(Y(426))}}else if(vt&&c.mode&1){var y=J1(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Z1(y,a,c,i,e),Tx(Oc(l,c));break e}}i=l=Oc(l,c),qt!==4&&(qt=2),mu===null?mu=[i]:mu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Lj(i,l,e);V1(i,v);break e;case 1:c=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vi===null||!Vi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Fj(i,c,e);V1(i,_);break e}}i=i.return}while(i!==null)}sN(n)}catch(E){e=E,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function nN(){var t=Ph.current;return Ph.current=Th,t===null?Th:t}function Yx(){(qt===0||qt===3||qt===2)&&(qt=4),en===null||!(ra&268435455)&&!(ip&268435455)||Ti(en,an)}function Oh(t,e){var n=Qe;Qe|=2;var r=nN();(en!==t||an!==e)&&(Ms=null,Wo(t,e));do try{PB();break}catch(s){tN(t,s)}while(!0);if(Ix(),Qe=n,Ph.current=r,Lt!==null)throw Error(Y(261));return en=null,an=0,qt}function PB(){for(;Lt!==null;)rN(Lt)}function IB(){for(;Lt!==null&&!rM();)rN(Lt)}function rN(t){var e=oN(t.alternate,t,rr);t.memoizedProps=t.pendingProps,e===null?sN(t):Lt=e,Gx.current=null}function sN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SB(n,e),n!==null){n.flags&=32767,Lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,Lt=null;return}}else if(n=AB(n,e,rr),n!==null){Lt=n;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);qt===0&&(qt=5)}function ko(t,e,n){var r=nt,s=jr.transition;try{jr.transition=null,nt=1,RB(t,e,n,r)}finally{jr.transition=s,nt=r}return null}function RB(t,e,n,r){do vc();while(Mi!==null);if(Qe&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hM(t,i),t===en&&(Lt=en=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gf||(gf=!0,aN(ph,function(){return vc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jr.transition,jr.transition=null;var a=nt;nt=1;var c=Qe;Qe|=4,Gx.current=null,NB(t,n),Zj(n,t),XM(h0),yh=!!f0,h0=f0=null,t.current=n,CB(n),sM(),Qe=c,nt=a,jr.transition=i}else t.current=n;if(gf&&(gf=!1,Mi=t,Rh=s),i=t.pendingLanes,i===0&&(Vi=null),aM(n.stateNode),Jn(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ih)throw Ih=!1,t=R0,R0=null,t;return Rh&1&&t.tag!==0&&vc(),i=t.pendingLanes,i&1?t===O0?pu++:(pu=0,O0=t):pu=0,yo(),null}function vc(){if(Mi!==null){var t=LS(Rh),e=jr.transition,n=nt;try{if(jr.transition=null,nt=16>t?16:t,Mi===null)var r=!1;else{if(t=Mi,Mi=null,Rh=0,Qe&6)throw Error(Y(331));var s=Qe;for(Qe|=4,ce=t.current;ce!==null;){var i=ce,a=i.child;if(ce.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:hu(8,d,i)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var h=d.sibling,p=d.return;if(Kj(d),d===u){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ce=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ce=a;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ce=v;break e}ce=i.return}}var w=t.current;for(ce=w;ce!==null;){a=ce;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ce=b;else e:for(a=w;ce!==null;){if(c=ce,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:sp(9,c)}}catch(E){Ct(c,c.return,E)}if(c===a){ce=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,ce=_;break e}ce=c.return}}if(Qe=s,yo(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Ym,t)}catch{}r=!0}return r}finally{nt=n,jr.transition=e}}return!1}function d_(t,e,n){e=Oc(n,e),e=Lj(t,e,1),t=zi(t,e,1),e=kn(),t!==null&&(kd(t,1,e),Jn(t,e))}function Ct(t,e,n){if(t.tag===3)d_(t,t,n);else for(;e!==null;){if(e.tag===3){d_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=Oc(n,t),t=Fj(e,t,1),e=zi(e,t,1),t=kn(),e!==null&&(kd(e,1,t),Jn(e,t));break}}e=e.return}}function OB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kn(),t.pingedLanes|=t.suspendedLanes&n,en===t&&(an&n)===n&&(qt===4||qt===3&&(an&130023424)===an&&500>It()-qx?Wo(t,0):Wx|=n),Jn(t,e)}function iN(t,e){e===0&&(t.mode&1?(e=of,of<<=1,!(of&130023424)&&(of=4194304)):e=1);var n=kn();t=Zs(t,e),t!==null&&(kd(t,e,n),Jn(t,n))}function MB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iN(t,n)}function BB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),iN(t,n)}var oN;oN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wn=!1,EB(t,e,n);Wn=!!(t.flags&131072)}else Wn=!1,vt&&e.flags&1048576&&uj(e,Ah,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wf(t,e),t=e.pendingProps;var s=Tc(e,vn.current);yc(e,n),s=Ux(null,e,r,t,s,n);var i=$x();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(r)?(i=!0,_h(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mx(e),s.updater=rp,e.stateNode=s,s._reactInternals=e,_0(e,r,t,n),e=S0(null,e,r,!0,i,n)):(e.tag=0,vt&&i&&Cx(e),En(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=LB(r),t=Rr(r,t),s){case 0:e=A0(null,e,r,t,n);break e;case 1:e=t_(null,e,r,t,n);break e;case 11:e=X1(null,e,r,t,n);break e;case 14:e=e_(null,e,r,Rr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),A0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),t_(t,e,r,s,n);case 3:e:{if(zj(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gj(t,e),Nh(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Oc(Error(Y(423)),e),e=n_(t,e,r,n,s);break e}else if(r!==s){s=Oc(Error(Y(424)),e),e=n_(t,e,r,n,s);break e}else for(or=Hi(e.stateNode.containerInfo.firstChild),ar=e,vt=!0,Lr=null,n=mj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pc(),r===s){e=Xs(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return yj(e),t===null&&x0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,m0(r,s)?a=null:i!==null&&m0(r,i)&&(e.flags|=32),Hj(t,e),En(t,e,a,n),e.child;case 6:return t===null&&x0(e),null;case 13:return Vj(t,e,n);case 4:return Bx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ic(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),X1(t,e,r,s,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,lt(Sh,r._currentValue),r._currentValue=a,i!==null)if(Vr(i.value,a)){if(i.children===s.children&&!Kn.current){e=Xs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ws(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),w0(i.return,n,e),c.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),w0(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}En(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,yc(e,n),s=Nr(s),r=r(s),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,s=Rr(r,e.pendingProps),s=Rr(r.type,s),e_(t,e,r,s,n);case 15:return Uj(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rr(r,s),Wf(t,e),e.tag=1,Yn(r)?(t=!0,_h(e)):t=!1,yc(e,n),Dj(e,r,s),_0(e,r,s,n),S0(null,e,r,!0,t,n);case 19:return Gj(t,e,n);case 22:return $j(t,e,n)}throw Error(Y(156,e.tag))};function aN(t,e){return OS(t,e)}function DB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,n,r){return new DB(t,e,n,r)}function Jx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LB(t){if(typeof t=="function")return Jx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gx)return 11;if(t===yx)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=Ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kf(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Jx(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ja:return qo(n.children,s,i,e);case px:a=8,s|=8;break;case Wy:return t=Ar(12,n,e,s|2),t.elementType=Wy,t.lanes=i,t;case qy:return t=Ar(13,n,e,s),t.elementType=qy,t.lanes=i,t;case Qy:return t=Ar(19,n,e,s),t.elementType=Qy,t.lanes=i,t;case yS:return op(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pS:a=10;break e;case gS:a=9;break e;case gx:a=11;break e;case yx:a=14;break e;case ji:a=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Ar(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qo(t,e,n,r){return t=Ar(7,t,r,e),t.lanes=n,t}function op(t,e,n,r){return t=Ar(22,t,r,e),t.elementType=yS,t.lanes=n,t.stateNode={isHidden:!1},t}function qg(t,e,n){return t=Ar(6,t,null,e),t.lanes=n,t}function Qg(t,e,n){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cg(0),this.expirationTimes=Cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cg(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zx(t,e,n,r,s,i,a,c,l){return t=new FB(t,e,n,c,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ar(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mx(i),t}function UB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ya,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cN(t){if(!t)return to;t=t._reactInternals;e:{if(ba(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Yn(n))return cj(t,n,e)}return e}function lN(t,e,n,r,s,i,a,c,l){return t=Zx(n,r,!0,t,s,i,a,c,l),t.context=cN(null),n=t.current,r=kn(),s=Gi(n),i=Ws(r,s),i.callback=e??null,zi(n,i,s),t.current.lanes=s,kd(t,s,r),Jn(t,r),t}function ap(t,e,n,r){var s=e.current,i=kn(),a=Gi(s);return n=cN(n),e.context===null?e.context=n:e.pendingContext=n,e=Ws(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zi(s,e,a),t!==null&&(Hr(t,s,a,i),zf(t,s,a)),a}function Mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xx(t,e){f_(t,e),(t=t.alternate)&&f_(t,e)}function $B(){return null}var uN=typeof reportError=="function"?reportError:function(t){console.error(t)};function ew(t){this._internalRoot=t}cp.prototype.render=ew.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));ap(t,e,null,null)};cp.prototype.unmount=ew.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){ap(null,t,null,null)}),e[Js]=null}};function cp(t){this._internalRoot=t}cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=$S();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&zS(t)}};function tw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h_(){}function HB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Mh(a);i.call(u)}}var a=lN(e,r,t,0,null,!1,!1,"",h_);return t._reactRootContainer=a,t[Js]=a.current,Bu(t.nodeType===8?t.parentNode:t),sa(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var u=Mh(l);c.call(u)}}var l=Zx(t,0,!1,null,null,!1,!1,"",h_);return t._reactRootContainer=l,t[Js]=l.current,Bu(t.nodeType===8?t.parentNode:t),sa(function(){ap(e,l,n,r)}),l}function up(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var l=Mh(a);c.call(l)}}ap(e,a,t,s)}else a=HB(n,e,t,s,r);return Mh(a)}FS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(wx(e,n|1),Jn(e,It()),!(Qe&6)&&(Mc=It()+500,yo()))}break;case 13:sa(function(){var r=Zs(t,1);if(r!==null){var s=kn();Hr(r,t,1,s)}}),Xx(t,1)}};bx=function(t){if(t.tag===13){var e=Zs(t,134217728);if(e!==null){var n=kn();Hr(e,t,134217728,n)}Xx(t,134217728)}};US=function(t){if(t.tag===13){var e=Gi(t),n=Zs(t,e);if(n!==null){var r=kn();Hr(n,t,e,r)}Xx(t,e)}};$S=function(){return nt};HS=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};s0=function(t,e,n){switch(e){case"input":if(Jy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ep(r);if(!s)throw Error(Y(90));xS(r),Jy(r,s)}}}break;case"textarea":bS(t,n);break;case"select":e=n.value,e!=null&&hc(t,!!n.multiple,e,!1)}};CS=Qx;kS=sa;var zB={usingClientEntryPoint:!1,Events:[Pd,tc,ep,jS,NS,Qx]},Bl={findFiberByHostInstance:Do,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VB={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IS(t),t===null?null:t.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||$B,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Ym=yf.inject(VB),ps=yf}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zB;hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tw(e))throw Error(Y(200));return UB(t,e,null,n)};hr.createRoot=function(t,e){if(!tw(t))throw Error(Y(299));var n=!1,r="",s=uN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zx(t,1,!1,null,null,n,!1,r,s),t[Js]=e.current,Bu(t.nodeType===8?t.parentNode:t),new ew(e)};hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=IS(e),t=t===null?null:t.stateNode,t};hr.flushSync=function(t){return sa(t)};hr.hydrate=function(t,e,n){if(!lp(e))throw Error(Y(200));return up(null,t,e,!0,n)};hr.hydrateRoot=function(t,e,n){if(!tw(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=uN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=lN(e,null,t,1,n??null,s,!1,i,a),t[Js]=e.current,Bu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new cp(e)};hr.render=function(t,e,n){if(!lp(e))throw Error(Y(200));return up(null,t,e,!1,n)};hr.unmountComponentAtNode=function(t){if(!lp(t))throw Error(Y(40));return t._reactRootContainer?(sa(function(){up(null,null,t,!1,function(){t._reactRootContainer=null,t[Js]=null})}),!0):!1};hr.unstable_batchedUpdates=Qx;hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lp(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return up(t,e,n,!1,r)};hr.version="18.3.1-next-f1338f8080-20240426";function dN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dN)}catch(t){console.error(t)}}dN(),dS.exports=hr;var _a=dS.exports;const fN=il(_a);var hN,m_=_a;hN=m_.createRoot,m_.hydrateRoot;const GB=1,WB=1e6;let Kg=0;function qB(){return Kg=(Kg+1)%Number.MAX_SAFE_INTEGER,Kg.toString()}const Yg=new Map,p_=t=>{if(Yg.has(t))return;const e=setTimeout(()=>{Yg.delete(t),gu({type:"REMOVE_TOAST",toastId:t})},WB);Yg.set(t,e)},QB=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,GB)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?p_(n):t.toasts.forEach(r=>{p_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Yf=[];let Jf={toasts:[]};function gu(t){Jf=QB(Jf,t),Yf.forEach(e=>{e(Jf)})}function KB({...t}){const e=qB(),n=s=>gu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>gu({type:"DISMISS_TOAST",toastId:e});return gu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ze(){const[t,e]=x.useState(Jf);return x.useEffect(()=>(Yf.push(e),()=>{const n=Yf.indexOf(e);n>-1&&Yf.splice(n,1)}),[t]),{...t,toast:KB,dismiss:n=>gu({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function YB(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function mN(...t){return e=>t.forEach(n=>YB(n,e))}function Ze(...t){return x.useCallback(mN(...t),t)}function JB(t,e=[]){let n=[];function r(i,a){const c=x.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=h?.[t][l]||c,y=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:p})}function d(f,h){const p=h?.[t][l]||c,g=x.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>x.createContext(a));return function(c){const l=c?.[t]||i;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,ZB(s,...e)]}function ZB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var no=x.forwardRef((t,e)=>{const{children:n,...r}=t,s=x.Children.toArray(n),i=s.find(XB);if(i){const a=i.props.children,c=s.map(l=>l===i?x.Children.count(a)>1?x.Children.only(null):x.isValidElement(a)?a.props.children:null:l);return o.jsx(D0,{...r,ref:e,children:x.isValidElement(a)?x.cloneElement(a,void 0,c):null})}return o.jsx(D0,{...r,ref:e,children:n})});no.displayName="Slot";var D0=x.forwardRef((t,e)=>{const{children:n,...r}=t;if(x.isValidElement(n)){const s=t3(n);return x.cloneElement(n,{...e3(r,n.props),ref:e?mN(e,s):s})}return x.Children.count(n)>1?x.Children.only(null):null});D0.displayName="SlotClone";var nw=({children:t})=>o.jsx(o.Fragment,{children:t});function XB(t){return x.isValidElement(t)&&t.type===nw}function e3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function t3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function rw(t){const e=t+"CollectionProvider",[n,r]=JB(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:m}=p,y=O.useRef(null),v=O.useRef(new Map).current;return o.jsx(s,{scope:g,itemMap:v,collectionRef:y,children:m})};a.displayName=e;const c=t+"CollectionSlot",l=O.forwardRef((p,g)=>{const{scope:m,children:y}=p,v=i(c,m),w=Ze(g,v.collectionRef);return o.jsx(no,{ref:w,children:y})});l.displayName=c;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=O.forwardRef((p,g)=>{const{scope:m,children:y,...v}=p,w=O.useRef(null),b=Ze(g,w),_=i(u,m);return O.useEffect(()=>(_.itemMap.set(w,{ref:w,...v}),()=>void _.itemMap.delete(w))),o.jsx(no,{[d]:"",ref:b,children:y})});f.displayName=u;function h(p){const g=i(t+"CollectionConsumer",p);return O.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((_,E)=>v.indexOf(_.ref.current)-v.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},h,r]}function n3(t,e){const n=x.createContext(e),r=i=>{const{children:a,...c}=i,l=x.useMemo(()=>c,Object.values(c));return o.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function s(i){const a=x.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _s(t,e=[]){let n=[];function r(i,a){const c=x.createContext(a),l=n.length;n=[...n,a];const u=f=>{const{scope:h,children:p,...g}=f,m=h?.[t]?.[l]||c,y=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:p})};u.displayName=i+"Provider";function d(f,h){const p=h?.[t]?.[l]||c,g=x.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>x.createContext(a));return function(c){const l=c?.[t]||i;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,r3(s,...e)]}function r3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var s3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=s3.reduce((t,e)=>{const n=x.forwardRef((r,s)=>{const{asChild:i,...a}=r,c=i?no:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function pN(t,e){t&&_a.flushSync(()=>t.dispatchEvent(e))}function Zn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>e.current?.(...n),[])}function i3(t,e=globalThis?.document){const n=Zn(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var o3="DismissableLayer",L0="dismissableLayer.update",a3="dismissableLayer.pointerDownOutside",c3="dismissableLayer.focusOutside",g_,gN=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...l}=t,u=x.useContext(gN),[d,f]=x.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=x.useState({}),g=Ze(e,N=>f(N)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(y),w=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=v,E=u3(N=>{const j=N.target,L=[...u.branches].some(T=>T.contains(j));!_||L||(s?.(N),a?.(N),N.defaultPrevented||c?.())},h),S=d3(N=>{const j=N.target;[...u.branches].some(T=>T.contains(j))||(i?.(N),a?.(N),N.defaultPrevented||c?.())},h);return i3(N=>{w===u.layers.size-1&&(r?.(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},h),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),y_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=g_)}},[d,h,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),y_())},[d,u]),x.useEffect(()=>{const N=()=>p({});return document.addEventListener(L0,N),()=>document.removeEventListener(L0,N)},[]),o.jsx(je.div,{...l,ref:g,style:{pointerEvents:b?_?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,S.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,E.onPointerDownCapture)})});Rd.displayName=o3;var l3="DismissableLayerBranch",yN=x.forwardRef((t,e)=>{const n=x.useContext(gN),r=x.useRef(null),s=Ze(e,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(je.div,{...t,ref:s})});yN.displayName=l3;function u3(t,e=globalThis?.document){const n=Zn(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let l=function(){vN(a3,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function d3(t,e=globalThis?.document){const n=Zn(t),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&vN(c3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function y_(){const t=new CustomEvent(L0);document.dispatchEvent(t)}function vN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?pN(s,i):s.dispatchEvent(i)}var f3=Rd,h3=yN,xn=globalThis?.document?x.useLayoutEffect:()=>{},m3="Portal",dp=x.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=x.useState(!1);xn(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?fN.createPortal(o.jsx(je.div,{...r,ref:e}),a):null});dp.displayName=m3;function p3(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var li=t=>{const{present:e,children:n}=t,r=g3(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Ze(r.ref,y3(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};li.displayName="Presence";function g3(t){const[e,n]=x.useState(),r=x.useRef({}),s=x.useRef(t),i=x.useRef("none"),a=t?"mounted":"unmounted",[c,l]=p3(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=vf(r.current);i.current=c==="mounted"?u:"none"},[c]),xn(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,p=vf(u);t?l("MOUNT"):p==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),xn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const m=vf(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=p=>{p.target===e&&(i.current=vf(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function vf(t){return t?.animationName||"none"}function y3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ei({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=v3({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,c=Zn(n),l=x.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&c(f)}else s(u)},[i,t,s,c]);return[a,l]}function v3({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,s=x.useRef(r),i=Zn(e);return x.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var x3="VisuallyHidden",Od=x.forwardRef((t,e)=>o.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Od.displayName=x3;var w3=Od,sw="ToastProvider",[iw,b3,_3]=rw("Toast"),[xN,nre]=_s("Toast",[_3]),[E3,fp]=xN(sw),wN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[c,l]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sw}\`. Expected non-empty \`string\`.`),o.jsx(iw.Provider,{scope:e,children:o.jsx(E3,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:c,onViewportChange:l,onToastAdd:x.useCallback(()=>d(p=>p+1),[]),onToastRemove:x.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};wN.displayName=sw;var bN="ToastViewport",A3=["F8"],F0="toast.viewportPause",U0="toast.viewportResume",_N=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=A3,label:s="Notifications ({hotkey})",...i}=t,a=fp(bN,n),c=b3(n),l=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=Ze(e,f,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;x.useEffect(()=>{const y=v=>{r.length!==0&&r.every(b=>v[b]||v.code===b)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),x.useEffect(()=>{const y=l.current,v=f.current;if(g&&y&&v){const w=()=>{if(!a.isClosePausedRef.current){const S=new CustomEvent(F0);v.dispatchEvent(S),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const S=new CustomEvent(U0);v.dispatchEvent(S),a.isClosePausedRef.current=!1}},_=S=>{!y.contains(S.relatedTarget)&&b()},E=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",_),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:y})=>{const w=c().map(b=>{const _=b.ref.current,E=[_,...D3(_)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?w.reverse():w).flat()},[c]);return x.useEffect(()=>{const y=f.current;if(y){const v=w=>{const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const E=document.activeElement,S=w.shiftKey;if(w.target===y&&S){u.current?.focus();return}const L=m({tabbingDirection:S?"backwards":"forwards"}),T=L.findIndex(R=>R===E);Jg(L.slice(T+1))?w.preventDefault():S?u.current?.focus():d.current?.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[c,m]),o.jsxs(h3,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx($0,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Jg(y)}}),o.jsx(iw.Slot,{scope:n,children:o.jsx(je.ol,{tabIndex:-1,...i,ref:h})}),g&&o.jsx($0,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Jg(y)}})]})});_N.displayName=bN;var EN="ToastFocusProxy",$0=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=fp(EN,n);return o.jsx(Od,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{const c=a.relatedTarget;!i.viewport?.contains(c)&&r()}})});$0.displayName=EN;var hp="Toast",S3="toast.swipeStart",j3="toast.swipeMove",N3="toast.swipeCancel",C3="toast.swipeEnd",AN=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[c=!0,l]=ei({prop:r,defaultProp:s,onChange:i});return o.jsx(li,{present:n||c,children:o.jsx(P3,{open:c,...a,ref:e,onClose:()=>l(!1),onPause:Zn(t.onPause),onResume:Zn(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});AN.displayName=hp;var[k3,T3]=xN(hp,{onClose(){}}),P3=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:c,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=t,m=fp(hp,n),[y,v]=x.useState(null),w=Ze(e,F=>v(F)),b=x.useRef(null),_=x.useRef(null),E=s||m.duration,S=x.useRef(0),N=x.useRef(E),j=x.useRef(0),{onToastAdd:L,onToastRemove:T}=m,R=Zn(()=>{y?.contains(document.activeElement)&&m.viewport?.focus(),a()}),I=x.useCallback(F=>{!F||F===1/0||(window.clearTimeout(j.current),S.current=new Date().getTime(),j.current=window.setTimeout(R,F))},[R]);x.useEffect(()=>{const F=m.viewport;if(F){const A=()=>{I(N.current),u?.()},C=()=>{const B=new Date().getTime()-S.current;N.current=N.current-B,window.clearTimeout(j.current),l?.()};return F.addEventListener(F0,C),F.addEventListener(U0,A),()=>{F.removeEventListener(F0,C),F.removeEventListener(U0,A)}}},[m.viewport,E,l,u,I]),x.useEffect(()=>{i&&!m.isClosePausedRef.current&&I(E)},[i,E,m.isClosePausedRef,I]),x.useEffect(()=>(L(),()=>T()),[L,T]);const H=x.useMemo(()=>y?PN(y):null,[y]);return m.viewport?o.jsxs(o.Fragment,{children:[H&&o.jsx(I3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),o.jsx(k3,{scope:n,onClose:R,children:_a.createPortal(o.jsx(iw.ItemSlot,{scope:n,children:o.jsx(f3,{asChild:!0,onEscapeKeyDown:pe(c,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,F=>{F.key==="Escape"&&(c?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:pe(t.onPointerDown,F=>{F.button===0&&(b.current={x:F.clientX,y:F.clientY})}),onPointerMove:pe(t.onPointerMove,F=>{if(!b.current)return;const A=F.clientX-b.current.x,C=F.clientY-b.current.y,B=!!_.current,k=["left","right"].includes(m.swipeDirection),M=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,$=k?M(0,A):0,W=k?0:M(0,C),ee=F.pointerType==="touch"?10:2,fe={x:$,y:W},le={originalEvent:F,delta:fe};B?(_.current=fe,xf(j3,f,le,{discrete:!1})):v_(fe,m.swipeDirection,ee)?(_.current=fe,xf(S3,d,le,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(A)>ee||Math.abs(C)>ee)&&(b.current=null)}),onPointerUp:pe(t.onPointerUp,F=>{const A=_.current,C=F.target;if(C.hasPointerCapture(F.pointerId)&&C.releasePointerCapture(F.pointerId),_.current=null,b.current=null,A){const B=F.currentTarget,k={originalEvent:F,delta:A};v_(A,m.swipeDirection,m.swipeThreshold)?xf(C3,p,k,{discrete:!0}):xf(N3,h,k,{discrete:!0}),B.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),I3=t=>{const{__scopeToast:e,children:n,...r}=t,s=fp(hp,e),[i,a]=x.useState(!1),[c,l]=x.useState(!1);return M3(()=>a(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:o.jsx(dp,{asChild:!0,children:o.jsx(Od,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},R3="ToastTitle",SN=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(je.div,{...r,ref:e})});SN.displayName=R3;var O3="ToastDescription",jN=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(je.div,{...r,ref:e})});jN.displayName=O3;var NN="ToastAction",CN=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(TN,{altText:n,asChild:!0,children:o.jsx(ow,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${NN}\`. Expected non-empty \`string\`.`),null)});CN.displayName=NN;var kN="ToastClose",ow=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=T3(kN,n);return o.jsx(TN,{asChild:!0,children:o.jsx(je.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,s.onClose)})})});ow.displayName=kN;var TN=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function PN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),B3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...PN(r))}}),e}function xf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?pN(s,i):s.dispatchEvent(i)}var v_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function M3(t=()=>{}){const e=Zn(t);xn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function B3(t){return t.nodeType===t.ELEMENT_NODE}function D3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var L3=wN,IN=_N,RN=AN,ON=SN,MN=jN,BN=CN,DN=ow;function LN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=LN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function FN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=LN(t))&&(r&&(r+=" "),r+=e);return r}const x_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,w_=FN,Md=(t,e)=>n=>{var r;if(e?.variants==null)return w_(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n?.[u],f=i?.[u];if(d===null)return null;const h=x_(d)||x_(f);return s[u][h]}),c=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...i,...c}[m]):{...i,...c}[m]===y})?[...u,f,h]:u},[]);return w_(t,a,l,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},l)=>x.createElement("svg",{ref:l,...U3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:UN("lucide",s),...c},[...a.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement($3,{ref:i,iconNode:e,className:UN(`lucide-${F3(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=de("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=de("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=de("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=de("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=de("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=de("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=de("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=de("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=de("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=de("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=de("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=de("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lw="-",cD=t=>{const e=uD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(lw);return c[0]===""&&c.length!==1&&c.shift(),YN(c,e)||lD(a)},getConflictingClassGroupIds:(a,c)=>{const l=n[a]||[];return c&&r[a]?[...l,...r[a]]:l}}},YN=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?YN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(lw);return e.validators.find(({validator:a})=>a(i))?.classGroupId},A_=/^\[(.+)\]$/,lD=t=>{if(A_.test(t)){const e=A_.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return fD(Object.entries(t.classGroups),n).forEach(([i,a])=>{z0(a,r,i,e)}),r},z0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:S_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(dD(s)){z0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{z0(a,S_(e,i),n,r)})})},S_=(t,e)=>{let n=t;return e.split(lw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dD=t=>t.isThemeGetter,fD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[e+a,c])):i);return[n,s]}):t,hD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},JN="!",mD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=c=>{const l=[];let u=0,d=0,f;for(let y=0;y<c.length;y++){let v=c[y];if(u===0){if(v===s&&(r||c.slice(y,y+i)===e)){l.push(c.slice(d,y)),d=y+i;continue}if(v==="/"){f=y;continue}}v==="["?u++:v==="]"&&u--}const h=l.length===0?c:c.substring(d),p=h.startsWith(JN),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return n?c=>n({className:c,parseClassName:a}):a},pD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},gD=t=>({cache:hD(t.cacheSize),parseClassName:mD(t),...cD(t)}),yD=/\s+/,vD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(yD);let c="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let g=!!p,m=r(g?h.substring(0,p):h);if(!m){if(!g){c=u+(c.length>0?" "+c:c);continue}if(m=r(h),!m){c=u+(c.length>0?" "+c:c);continue}g=!1}const y=pD(d).join(":"),v=f?y+JN:y,w=v+m;if(i.includes(w))continue;i.push(w);const b=s(m,g);for(let _=0;_<b.length;++_){const E=b[_];i.push(v+E)}c=u+(c.length>0?" "+c:c)}return c};function xD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ZN(e))&&(r&&(r+=" "),r+=n);return r}const ZN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ZN(t[r]))&&(n&&(n+=" "),n+=e);return n};function wD(t,...e){let n,r,s,i=a;function a(l){const u=e.reduce((d,f)=>f(d),t());return n=gD(u),r=n.cache.get,s=n.cache.set,i=c,c(l)}function c(l){const u=r(l);if(u)return u;const d=vD(l,n);return s(l,d),d}return function(){return i(xD.apply(null,arguments))}}const ft=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},XN=/^\[(?:([a-z-]+):)?(.+)\]$/i,bD=/^\d+\/\d+$/,_D=new Set(["px","full","screen"]),ED=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ND=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ss=t=>xc(t)||_D.has(t)||bD.test(t),vi=t=>dl(t,"length",MD),xc=t=>!!t&&!Number.isNaN(Number(t)),Zg=t=>dl(t,"number",xc),Dl=t=>!!t&&Number.isInteger(Number(t)),CD=t=>t.endsWith("%")&&xc(t.slice(0,-1)),Re=t=>XN.test(t),xi=t=>ED.test(t),kD=new Set(["length","size","percentage"]),TD=t=>dl(t,kD,eC),PD=t=>dl(t,"position",eC),ID=new Set(["image","url"]),RD=t=>dl(t,ID,DD),OD=t=>dl(t,"",BD),Ll=()=>!0,dl=(t,e,n)=>{const r=XN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},MD=t=>AD.test(t)&&!SD.test(t),eC=()=>!1,BD=t=>jD.test(t),DD=t=>ND.test(t),LD=()=>{const t=ft("colors"),e=ft("spacing"),n=ft("blur"),r=ft("brightness"),s=ft("borderColor"),i=ft("borderRadius"),a=ft("borderSpacing"),c=ft("borderWidth"),l=ft("contrast"),u=ft("grayscale"),d=ft("hueRotate"),f=ft("invert"),h=ft("gap"),p=ft("gradientColorStops"),g=ft("gradientColorStopPositions"),m=ft("inset"),y=ft("margin"),v=ft("opacity"),w=ft("padding"),b=ft("saturate"),_=ft("scale"),E=ft("sepia"),S=ft("skew"),N=ft("space"),j=ft("translate"),L=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Re,e],I=()=>[Re,e],H=()=>["",Ss,vi],F=()=>["auto",xc,Re],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Re],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[xc,Re];return{cacheSize:500,separator:":",theme:{colors:[Ll],spacing:[Ss,vi],blur:["none","",xi,Re],brightness:W(),borderColor:[t],borderRadius:["none","","full",xi,Re],borderSpacing:I(),borderWidth:H(),contrast:W(),grayscale:M(),hueRotate:W(),invert:M(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[CD,vi],inset:R(),margin:R(),opacity:W(),padding:I(),saturate:W(),scale:W(),sepia:M(),skew:W(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[xi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),Re]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dl,Re]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Dl,Re]}],"grid-cols":[{"grid-cols":[Ll]}],"col-start-end":[{col:["auto",{span:["full",Dl,Re]},Re]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Ll]}],"row-start-end":[{row:["auto",{span:[Dl,Re]},Re]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[xi]},xi]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xi,vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zg]}],"font-family":[{font:[Ll]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",xc,Zg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ss,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ss,vi]}],"underline-offset":[{"underline-offset":["auto",Ss,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),PD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...C(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:C()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...C()]}],"outline-offset":[{"outline-offset":[Ss,Re]}],"outline-w":[{outline:[Ss,vi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ss,vi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xi,OD]}],"shadow-color":[{shadow:[Ll]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xi,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Dl,Re]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ss,vi,Zg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FD=wD(LD);function he(...t){return FD(FN(t))}const UD=L3,tC=x.forwardRef(({className:t,...e},n)=>o.jsx(IN,{ref:n,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));tC.displayName=IN.displayName;const $D=Md("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nC=x.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(RN,{ref:r,className:he($D({variant:e}),t),...n}));nC.displayName=RN.displayName;const HD=x.forwardRef(({className:t,...e},n)=>o.jsx(BN,{ref:n,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));HD.displayName=BN.displayName;const rC=x.forwardRef(({className:t,...e},n)=>o.jsx(DN,{ref:n,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(aD,{className:"h-4 w-4"})}));rC.displayName=DN.displayName;const sC=x.forwardRef(({className:t,...e},n)=>o.jsx(ON,{ref:n,className:he("text-sm font-semibold",t),...e}));sC.displayName=ON.displayName;const iC=x.forwardRef(({className:t,...e},n)=>o.jsx(MN,{ref:n,className:he("text-sm opacity-90",t),...e}));iC.displayName=MN.displayName;function zD(){const{toasts:t}=ze();return o.jsxs(UD,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(nC,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(sC,{children:n}),r&&o.jsx(iC,{children:r})]}),s,o.jsx(rC,{})]},e)}),o.jsx(tC,{})]})}var j_=["light","dark"],VD="(prefers-color-scheme: dark)",GD=x.createContext(void 0),WD={setTheme:t=>{},themes:[]},qD=()=>{var t;return(t=x.useContext(GD))!=null?t:WD};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:c,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?j_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,y=!0)=>{let v=a?a[g]:g,w=m?g+"|| ''":`'${v}'`,b="";return s&&y&&!m&&j_.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?m||v?b+=`c.add(${w})`:b+="null":v&&(b+=`d[s](n,${w})`),b},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${VD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var QD=t=>{switch(t){case"success":return JD;case"info":return XD;case"warning":return ZD;case"error":return eL;default:return null}},KD=Array(12).fill(0),YD=({visible:t})=>O.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},O.createElement("div",{className:"sonner-spinner"},KD.map((e,n)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),JD=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ZD=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XD=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eL=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tL=()=>{let[t,e]=O.useState(document.hidden);return O.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},V0=1,nL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:V0++,a=this.toasts.find(l=>l.id===i),c=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:c,title:r}):l):this.addToast({title:r,...s,dismissible:c,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async a=>{if(sL(a)&&!a.ok){i=!1;let c=typeof n.error=="function"?await n.error(`HTTP error! status: ${a.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${a.status}`):n.description;this.create({id:r,type:"error",message:c,description:l})}else if(n.success!==void 0){i=!1;let c=typeof n.success=="function"?await n.success(a):n.success,l=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"success",message:c,description:l})}}).catch(async a=>{if(n.error!==void 0){i=!1;let c=typeof n.error=="function"?await n.error(a):n.error,l=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"error",message:c,description:l})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=n.finally)==null||a.call(n)}),r},this.custom=(e,n)=>{let r=n?.id||V0++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},nr=new nL,rL=(t,e)=>{let n=e?.id||V0++;return nr.addToast({title:t,...e,id:n}),n},sL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",iL=rL,oL=()=>nr.toasts;Object.assign(iL,{success:nr.success,info:nr.info,warning:nr.warning,error:nr.error,custom:nr.custom,message:nr.message,promise:nr.promise,dismiss:nr.dismiss,loading:nr.loading},{getHistory:oL});function aL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}aL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wf(t){return t.label!==void 0}var cL=3,lL="32px",uL=4e3,dL=356,fL=14,hL=20,mL=200;function pL(...t){return t.filter(Boolean).join(" ")}var gL=t=>{var e,n,r,s,i,a,c,l,u,d;let{invert:f,toast:h,unstyled:p,interacting:g,setHeights:m,visibleToasts:y,heights:v,index:w,toasts:b,expanded:_,removeToast:E,defaultRichColors:S,closeButton:N,style:j,cancelButtonStyle:L,actionButtonStyle:T,className:R="",descriptionClassName:I="",duration:H,position:F,gap:A,loadingIcon:C,expandByDefault:B,classNames:k,icons:M,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:W,cn:ee}=t,[fe,le]=O.useState(!1),[Le,Ne]=O.useState(!1),[ae,Ve]=O.useState(!1),[Ke,Oe]=O.useState(!1),[Ye,Fe]=O.useState(0),[pt,Kt]=O.useState(0),Yr=O.useRef(null),Dn=O.useRef(null),Ca=w===0,P=w+1<=y,D=h.type,z=h.dismissible!==!1,re=h.className||"",te=h.descriptionClassName||"",J=O.useMemo(()=>v.findIndex(Ie=>Ie.toastId===h.id)||0,[v,h.id]),ge=O.useMemo(()=>{var Ie;return(Ie=h.closeButton)!=null?Ie:N},[h.closeButton,N]),Pe=O.useMemo(()=>h.duration||H||uL,[h.duration,H]),jt=O.useRef(0),ut=O.useRef(0),Jr=O.useRef(0),pi=O.useRef(null),[ka,Nl]=F.split("-"),Zd=O.useMemo(()=>v.reduce((Ie,dt,it)=>it>=J?Ie:Ie+dt.height,0),[v,J]),Cl=tL(),_g=h.invert||f,Ta=D==="loading";ut.current=O.useMemo(()=>J*A+Zd,[J,Zd]),O.useEffect(()=>{le(!0)},[]),O.useLayoutEffect(()=>{if(!fe)return;let Ie=Dn.current,dt=Ie.style.height;Ie.style.height="auto";let it=Ie.getBoundingClientRect().height;Ie.style.height=dt,Kt(it),m(Zr=>Zr.find(Xr=>Xr.toastId===h.id)?Zr.map(Xr=>Xr.toastId===h.id?{...Xr,height:it}:Xr):[{toastId:h.id,height:it,position:h.position},...Zr])},[fe,h.title,h.description,m,h.id]);let gi=O.useCallback(()=>{Ne(!0),Fe(ut.current),m(Ie=>Ie.filter(dt=>dt.toastId!==h.id)),setTimeout(()=>{E(h)},mL)},[h,E,m,ut]);O.useEffect(()=>{if(h.promise&&D==="loading"||h.duration===1/0||h.type==="loading")return;let Ie,dt=Pe;return _||g||W&&Cl?(()=>{if(Jr.current<jt.current){let it=new Date().getTime()-jt.current;dt=dt-it}Jr.current=new Date().getTime()})():dt!==1/0&&(jt.current=new Date().getTime(),Ie=setTimeout(()=>{var it;(it=h.onAutoClose)==null||it.call(h,h),gi()},dt)),()=>clearTimeout(Ie)},[_,g,B,h,Pe,gi,h.promise,D,W,Cl]),O.useEffect(()=>{let Ie=Dn.current;if(Ie){let dt=Ie.getBoundingClientRect().height;return Kt(dt),m(it=>[{toastId:h.id,height:dt,position:h.position},...it]),()=>m(it=>it.filter(Zr=>Zr.toastId!==h.id))}},[m,h.id]),O.useEffect(()=>{h.delete&&gi()},[gi,h.delete]);function p4(){return M!=null&&M.loading?O.createElement("div",{className:"sonner-loader","data-visible":D==="loading"},M.loading):C?O.createElement("div",{className:"sonner-loader","data-visible":D==="loading"},C):O.createElement(YD,{visible:D==="loading"})}return O.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Dn,className:ee(R,re,k?.toast,(e=h?.classNames)==null?void 0:e.toast,k?.default,k?.[D],(n=h?.classNames)==null?void 0:n[D]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:S,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":fe,"data-promise":!!h.promise,"data-removed":Le,"data-visible":P,"data-y-position":ka,"data-x-position":Nl,"data-index":w,"data-front":Ca,"data-swiping":ae,"data-dismissible":z,"data-type":D,"data-invert":_g,"data-swipe-out":Ke,"data-expanded":!!(_||B&&fe),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${Le?Ye:ut.current}px`,"--initial-height":B?"auto":`${pt}px`,...j,...h.style},onPointerDown:Ie=>{Ta||!z||(Yr.current=new Date,Fe(ut.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(Ve(!0),pi.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,dt,it,Zr;if(Ke||!z)return;pi.current=null;let Xr=Number(((Ie=Dn.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Xd=new Date().getTime()-((dt=Yr.current)==null?void 0:dt.getTime()),g4=Math.abs(Xr)/Xd;if(Math.abs(Xr)>=hL||g4>.11){Fe(ut.current),(it=h.onDismiss)==null||it.call(h,h),gi(),Oe(!0);return}(Zr=Dn.current)==null||Zr.style.setProperty("--swipe-amount","0px"),Ve(!1)},onPointerMove:Ie=>{var dt;if(!pi.current||!z)return;let it=Ie.clientY-pi.current.y,Zr=Ie.clientX-pi.current.x,Xr=(ka==="top"?Math.min:Math.max)(0,it),Xd=Ie.pointerType==="touch"?10:2;Math.abs(Xr)>Xd?(dt=Dn.current)==null||dt.style.setProperty("--swipe-amount",`${it}px`):Math.abs(Zr)>Xd&&(pi.current=null)}},ge&&!h.jsx?O.createElement("button",{"aria-label":$,"data-disabled":Ta,"data-close-button":!0,onClick:Ta||!z?()=>{}:()=>{var Ie;gi(),(Ie=h.onDismiss)==null||Ie.call(h,h)},className:ee(k?.closeButton,(s=h?.classNames)==null?void 0:s.closeButton)},O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||O.isValidElement(h.title)?h.jsx||h.title:O.createElement(O.Fragment,null,D||h.icon||h.promise?O.createElement("div",{"data-icon":"",className:ee(k?.icon,(i=h?.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||p4():null,h.type!=="loading"?h.icon||M?.[D]||QD(D):null):null,O.createElement("div",{"data-content":"",className:ee(k?.content,(a=h?.classNames)==null?void 0:a.content)},O.createElement("div",{"data-title":"",className:ee(k?.title,(c=h?.classNames)==null?void 0:c.title)},h.title),h.description?O.createElement("div",{"data-description":"",className:ee(I,te,k?.description,(l=h?.classNames)==null?void 0:l.description)},h.description):null),O.isValidElement(h.cancel)?h.cancel:h.cancel&&wf(h.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||L,onClick:Ie=>{var dt,it;wf(h.cancel)&&z&&((it=(dt=h.cancel).onClick)==null||it.call(dt,Ie),gi())},className:ee(k?.cancelButton,(u=h?.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,O.isValidElement(h.action)?h.action:h.action&&wf(h.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:Ie=>{var dt,it;wf(h.action)&&(Ie.defaultPrevented||((it=(dt=h.action).onClick)==null||it.call(dt,Ie),gi()))},className:ee(k?.actionButton,(d=h?.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function N_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var yL=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:c,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=cL,toastOptions:p,dir:g=N_(),gap:m=fL,loadingIcon:y,icons:v,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:_=pL}=t,[E,S]=O.useState([]),N=O.useMemo(()=>Array.from(new Set([n].concat(E.filter(W=>W.position).map(W=>W.position)))),[E,n]),[j,L]=O.useState([]),[T,R]=O.useState(!1),[I,H]=O.useState(!1),[F,A]=O.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C=O.useRef(null),B=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=O.useRef(null),M=O.useRef(!1),$=O.useCallback(W=>{var ee;(ee=E.find(fe=>fe.id===W.id))!=null&&ee.delete||nr.dismiss(W.id),S(fe=>fe.filter(({id:le})=>le!==W.id))},[E]);return O.useEffect(()=>nr.subscribe(W=>{if(W.dismiss){S(ee=>ee.map(fe=>fe.id===W.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{fN.flushSync(()=>{S(ee=>{let fe=ee.findIndex(le=>le.id===W.id);return fe!==-1?[...ee.slice(0,fe),{...ee[fe],...W},...ee.slice(fe+1)]:[W,...ee]})})})}),[]),O.useEffect(()=>{if(l!=="system"){A(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{A(W?"dark":"light")})},[l]),O.useEffect(()=>{E.length<=1&&R(!1)},[E]),O.useEffect(()=>{let W=ee=>{var fe,le;r.every(Le=>ee[Le]||ee.code===Le)&&(R(!0),(fe=C.current)==null||fe.focus()),ee.code==="Escape"&&(document.activeElement===C.current||(le=C.current)!=null&&le.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),O.useEffect(()=>{if(C.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,M.current=!1)}},[C.current]),E.length?O.createElement("section",{"aria-label":`${w} ${B}`,tabIndex:-1},N.map((W,ee)=>{var fe;let[le,Le]=W.split("-");return O.createElement("ol",{key:W,dir:g==="auto"?N_():g,tabIndex:-1,ref:C,className:a,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":le,"data-x-position":Le,style:{"--front-toast-height":`${((fe=j[0])==null?void 0:fe.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||lL,"--width":`${dL}px`,"--gap":`${m}px`,...f},onBlur:Ne=>{M.current&&!Ne.currentTarget.contains(Ne.relatedTarget)&&(M.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||M.current||(M.current=!0,k.current=Ne.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{I||R(!1)},onPointerDown:Ne=>{Ne.target instanceof HTMLElement&&Ne.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},E.filter(Ne=>!Ne.position&&ee===0||Ne.position===W).map((Ne,ae)=>{var Ve,Ke;return O.createElement(gL,{key:Ne.id,icons:v,index:ae,toast:Ne,defaultRichColors:u,duration:(Ve=p?.duration)!=null?Ve:d,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Ke=p?.closeButton)!=null?Ke:i,interacting:I,position:W,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:$,toasts:E.filter(Oe=>Oe.position==Ne.position),heights:j.filter(Oe=>Oe.position==Ne.position),setHeights:L,expandByDefault:s,gap:m,loadingIcon:y,expanded:T,pauseWhenPageIsHidden:b,cn:_})}))})):null};const vL=({...t})=>{const{theme:e="system"}=qD();return o.jsx(yL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var xL=lS.useId||(()=>{}),wL=0;function qi(t){const[e,n]=x.useState(xL());return xn(()=>{n(r=>r??String(wL++))},[t]),e?`radix-${e}`:""}const bL=["top","right","bottom","left"],io=Math.min,sr=Math.max,Dh=Math.round,bf=Math.floor,oo=t=>({x:t,y:t}),_L={left:"right",right:"left",bottom:"top",top:"bottom"},EL={start:"end",end:"start"};function G0(t,e,n){return sr(t,io(e,n))}function ni(t,e){return typeof t=="function"?t(e):t}function ri(t){return t.split("-")[0]}function fl(t){return t.split("-")[1]}function uw(t){return t==="x"?"y":"x"}function dw(t){return t==="y"?"height":"width"}function ao(t){return["top","bottom"].includes(ri(t))?"y":"x"}function fw(t){return uw(ao(t))}function AL(t,e,n){n===void 0&&(n=!1);const r=fl(t),s=fw(t),i=dw(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Lh(a)),[a,Lh(a)]}function SL(t){const e=Lh(t);return[W0(t),e,W0(e)]}function W0(t){return t.replace(/start|end/g,e=>EL[e])}function jL(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function NL(t,e,n,r){const s=fl(t);let i=jL(ri(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(W0)))),i}function Lh(t){return t.replace(/left|right|bottom|top/g,e=>_L[e])}function CL(t){return{top:0,right:0,bottom:0,left:0,...t}}function oC(t){return typeof t!="number"?CL(t):{top:t,right:t,bottom:t,left:t}}function Fh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function C_(t,e,n){let{reference:r,floating:s}=t;const i=ao(e),a=fw(e),c=dw(a),l=ri(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[c]/2-s[c]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(fl(e)){case"start":p[a]-=h*(n&&u?-1:1);break;case"end":p[a]+=h*(n&&u?-1:1);break}return p}const kL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=C_(u,r,l),h=r,p={},g=0;for(let m=0;m<c.length;m++){const{name:y,fn:v}=c[m],{x:w,y:b,data:_,reset:E}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=w??d,f=b??f,p={...p,[y]:{...p[y],..._}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:f}=C_(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function qu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ni(e,t),g=oC(p),y=c[h?f==="floating"?"reference":"floating":f],v=Fh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),_=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Fh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:b,strategy:l}):w);return{top:(v.top-E.top+g.top)/_.y,bottom:(E.bottom-v.bottom+g.bottom)/_.y,left:(v.left-E.left+g.left)/_.x,right:(E.right-v.right+g.right)/_.x}}const TL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:l}=e,{element:u,padding:d=0}=ni(t,e)||{};if(u==null)return{};const f=oC(d),h={x:n,y:r},p=fw(s),g=dw(p),m=await a.getDimensions(u),y=p==="y",v=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[p]-h[p]-i.floating[g],E=h[p]-i.reference[p],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=S?S[b]:0;(!N||!await(a.isElement==null?void 0:a.isElement(S)))&&(N=c.floating[b]||i.floating[g]);const j=_/2-E/2,L=N/2-m[g]/2-1,T=io(f[v],L),R=io(f[w],L),I=T,H=N-m[g]-R,F=N/2-m[g]/2+j,A=G0(I,F,H),C=!l.arrow&&fl(s)!=null&&F!==A&&i.reference[g]/2-(F<I?T:R)-m[g]/2<0,B=C?F<I?F-I:F-H:0;return{[p]:h[p]+B,data:{[p]:A,centerOffset:F-A-B,...C&&{alignmentOffset:B}},reset:C}}}),PL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...y}=ni(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=ri(s),w=ao(c),b=ri(c)===c,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(b||!m?[Lh(c)]:SL(c)),S=g!=="none";!h&&S&&E.push(...NL(c,m,g,_));const N=[c,...E],j=await qu(e,y),L=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&L.push(j[v]),f){const F=AL(s,a,_);L.push(j[F[0]],j[F[1]])}if(T=[...T,{placement:s,overflows:L}],!L.every(F=>F<=0)){var R,I;const F=(((R=i.flip)==null?void 0:R.index)||0)+1,A=N[F];if(A)return{data:{index:F,overflows:T},reset:{placement:A}};let C=(I=T.filter(B=>B.overflows[0]<=0).sort((B,k)=>B.overflows[1]-k.overflows[1])[0])==null?void 0:I.placement;if(!C)switch(p){case"bestFit":{var H;const B=(H=T.filter(k=>{if(S){const M=ao(k.placement);return M===w||M==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((k,M)=>k[1]-M[1])[0])==null?void 0:H[0];B&&(C=B);break}case"initialPlacement":C=c;break}if(s!==C)return{reset:{placement:C}}}return{}}}};function k_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function T_(t){return bL.some(e=>t[e]>=0)}const IL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ni(t,e);switch(r){case"referenceHidden":{const i=await qu(e,{...s,elementContext:"reference"}),a=k_(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:T_(a)}}}case"escaped":{const i=await qu(e,{...s,altBoundary:!0}),a=k_(i,n.floating);return{data:{escapedOffsets:a,escaped:T_(a)}}}default:return{}}}}};async function RL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ri(n),c=fl(n),l=ao(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,f=ni(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof g=="number"&&(p=c==="end"?g*-1:g),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const OL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,l=await RL(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},ML=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...l}=ni(t,e),u={x:n,y:r},d=await qu(e,l),f=ao(ri(s)),h=uw(f);let p=u[h],g=u[f];if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+d[y],b=p-d[v];p=G0(w,p,b)}if(a){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=g+d[y],b=g-d[v];g=G0(w,g,b)}const m=c.fn({...e,[h]:p,[f]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:i,[f]:a}}}}}},BL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=ni(t,e),d={x:n,y:r},f=ao(s),h=uw(f);let p=d[h],g=d[f];const m=ni(c,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=h==="y"?"height":"width",_=i.reference[h]-i.floating[b]+y.mainAxis,E=i.reference[h]+i.reference[b]-y.mainAxis;p<_?p=_:p>E&&(p=E)}if(u){var v,w;const b=h==="y"?"width":"height",_=["top","left"].includes(ri(s)),E=i.reference[f]-i.floating[b]+(_&&((v=a.offset)==null?void 0:v[f])||0)+(_?0:y.crossAxis),S=i.reference[f]+i.reference[b]+(_?0:((w=a.offset)==null?void 0:w[f])||0)-(_?y.crossAxis:0);g<E?g=E:g>S&&(g=S)}return{[h]:p,[f]:g}}}},DL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:l=()=>{},...u}=ni(t,e),d=await qu(e,u),f=ri(s),h=fl(s),p=ao(s)==="y",{width:g,height:m}=i.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=h===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(v=f,y=h==="end"?"top":"bottom");const w=m-d.top-d.bottom,b=g-d.left-d.right,_=io(m-d[y],w),E=io(g-d[v],b),S=!e.middlewareData.shift;let N=_,j=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=w),S&&!h){const T=sr(d.left,0),R=sr(d.right,0),I=sr(d.top,0),H=sr(d.bottom,0);p?j=g-2*(T!==0||R!==0?T+R:sr(d.left,d.right)):N=m-2*(I!==0||H!==0?I+H:sr(d.top,d.bottom))}await l({...e,availableWidth:j,availableHeight:N});const L=await a.getDimensions(c.floating);return g!==L.width||m!==L.height?{reset:{rects:!0}}:{}}}};function vp(){return typeof window<"u"}function hl(t){return aC(t)?(t.nodeName||"").toLowerCase():"#document"}function cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Es(t){var e;return(e=(aC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function aC(t){return vp()?t instanceof Node||t instanceof cr(t).Node:!1}function Gr(t){return vp()?t instanceof Element||t instanceof cr(t).Element:!1}function vs(t){return vp()?t instanceof HTMLElement||t instanceof cr(t).HTMLElement:!1}function P_(t){return!vp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cr(t).ShadowRoot}function Bd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function LL(t){return["table","td","th"].includes(hl(t))}function xp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function hw(t){const e=mw(),n=Gr(t)?Wr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function FL(t){let e=co(t);for(;vs(e)&&!Dc(e);){if(hw(e))return e;if(xp(e))return null;e=co(e)}return null}function mw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dc(t){return["html","body","#document"].includes(hl(t))}function Wr(t){return cr(t).getComputedStyle(t)}function wp(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function co(t){if(hl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||P_(t)&&t.host||Es(t);return P_(e)?e.host:e}function cC(t){const e=co(t);return Dc(e)?t.ownerDocument?t.ownerDocument.body:t.body:vs(e)&&Bd(e)?e:cC(e)}function Qu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=cC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=cr(s);if(i){const c=q0(a);return e.concat(a,a.visualViewport||[],Bd(s)?s:[],c&&n?Qu(c):[])}return e.concat(s,Qu(s,[],n))}function q0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lC(t){const e=Wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=vs(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=Dh(n)!==i||Dh(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function pw(t){return Gr(t)?t:t.contextElement}function wc(t){const e=pw(t);if(!vs(e))return oo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=lC(e);let a=(i?Dh(n.width):n.width)/r,c=(i?Dh(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const UL=oo(0);function uC(t){const e=cr(t);return!mw()||!e.visualViewport?UL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $L(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cr(t)?!1:e}function aa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=pw(t);let a=oo(1);e&&(r?Gr(r)&&(a=wc(r)):a=wc(t));const c=$L(i,n,r)?uC(i):oo(0);let l=(s.left+c.x)/a.x,u=(s.top+c.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const h=cr(i),p=r&&Gr(r)?cr(r):r;let g=h,m=q0(g);for(;m&&r&&p!==g;){const y=wc(m),v=m.getBoundingClientRect(),w=Wr(m),b=v.left+(m.clientLeft+parseFloat(w.paddingLeft))*y.x,_=v.top+(m.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,f*=y.y,l+=b,u+=_,g=cr(m),m=q0(g)}}return Fh({width:d,height:f,x:l,y:u})}function HL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Es(r),c=e?xp(e.floating):!1;if(r===a||c&&i)return n;let l={scrollLeft:0,scrollTop:0},u=oo(1);const d=oo(0),f=vs(r);if((f||!f&&!i)&&((hl(r)!=="body"||Bd(a))&&(l=wp(r)),vs(r))){const h=aa(r);u=wc(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function zL(t){return Array.from(t.getClientRects())}function Q0(t,e){const n=wp(t).scrollLeft;return e?e.left+n:aa(Es(t)).left+n}function VL(t){const e=Es(t),n=wp(t),r=t.ownerDocument.body,s=sr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=sr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Q0(t);const c=-n.scrollTop;return Wr(r).direction==="rtl"&&(a+=sr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}function GL(t,e){const n=cr(t),r=Es(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,l=0;if(s){i=s.width,a=s.height;const u=mw();(!u||u&&e==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:c,y:l}}function WL(t,e){const n=aa(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=vs(t)?wc(t):oo(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:a,height:c,x:l,y:u}}function I_(t,e,n){let r;if(e==="viewport")r=GL(t,n);else if(e==="document")r=VL(Es(t));else if(Gr(e))r=WL(e,n);else{const s=uC(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Fh(r)}function dC(t,e){const n=co(t);return n===e||!Gr(n)||Dc(n)?!1:Wr(n).position==="fixed"||dC(n,e)}function qL(t,e){const n=e.get(t);if(n)return n;let r=Qu(t,[],!1).filter(c=>Gr(c)&&hl(c)!=="body"),s=null;const i=Wr(t).position==="fixed";let a=i?co(t):t;for(;Gr(a)&&!Dc(a);){const c=Wr(a),l=hw(a);!l&&c.position==="fixed"&&(s=null),(i?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Bd(a)&&!l&&dC(t,a))?r=r.filter(d=>d!==a):s=c,a=co(a)}return e.set(t,r),r}function QL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?xp(e)?[]:qL(e,this._c):[].concat(n),r],c=a[0],l=a.reduce((u,d)=>{const f=I_(e,d,s);return u.top=sr(f.top,u.top),u.right=io(f.right,u.right),u.bottom=io(f.bottom,u.bottom),u.left=sr(f.left,u.left),u},I_(e,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function KL(t){const{width:e,height:n}=lC(t);return{width:e,height:n}}function YL(t,e,n){const r=vs(e),s=Es(e),i=n==="fixed",a=aa(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const l=oo(0);if(r||!r&&!i)if((hl(e)!=="body"||Bd(s))&&(c=wp(e)),r){const p=aa(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&(l.x=Q0(s));let u=0,d=0;if(s&&!r&&!i){const p=s.getBoundingClientRect();d=p.top+c.scrollTop,u=p.left+c.scrollLeft-Q0(s,p)}const f=a.left+c.scrollLeft-l.x-u,h=a.top+c.scrollTop-l.y-d;return{x:f,y:h,width:a.width,height:a.height}}function Xg(t){return Wr(t).position==="static"}function R_(t,e){if(!vs(t)||Wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Es(t)===n&&(n=n.ownerDocument.body),n}function fC(t,e){const n=cr(t);if(xp(t))return n;if(!vs(t)){let s=co(t);for(;s&&!Dc(s);){if(Gr(s)&&!Xg(s))return s;s=co(s)}return n}let r=R_(t,e);for(;r&&LL(r)&&Xg(r);)r=R_(r,e);return r&&Dc(r)&&Xg(r)&&!hw(r)?n:r||FL(t)||n}const JL=async function(t){const e=this.getOffsetParent||fC,n=this.getDimensions,r=await n(t.floating);return{reference:YL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZL(t){return Wr(t).direction==="rtl"}const XL={convertOffsetParentRelativeRectToViewportRelativeRect:HL,getDocumentElement:Es,getClippingRect:QL,getOffsetParent:fC,getElementRects:JL,getClientRects:zL,getDimensions:KL,getScale:wc,isElement:Gr,isRTL:ZL};function e5(t,e){let n=null,r;const s=Es(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(c||e(),!f||!h)return;const p=bf(d),g=bf(s.clientWidth-(u+f)),m=bf(s.clientHeight-(d+h)),y=bf(u),w={rootMargin:-p+"px "+-g+"px "+-m+"px "+-y+"px",threshold:sr(0,io(1,l))||1};let b=!0;function _(E){const S=E[0].intersectionRatio;if(S!==l){if(!b)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(_,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,w)}n.observe(t)}return a(!0),i}function t5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=pw(t),d=s||i?[...u?Qu(u):[],...Qu(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=u&&c?e5(u,n):null;let h=-1,p=null;a&&(p=new ResizeObserver(v=>{let[w]=v;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let g,m=l?aa(t):null;l&&y();function y(){const v=aa(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(y)}return n(),()=>{var v;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f?.(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const n5=OL,r5=ML,s5=PL,i5=DL,o5=IL,O_=TL,a5=BL,c5=(t,e,n)=>{const r=new Map,s={platform:XL,...n},i={...s.platform,_c:r};return kL(t,e,{...s,platform:i})};var Zf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Uh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Uh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function hC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function M_(t,e){const n=hC(t);return Math.round(e*n)/n}function ey(t){const e=x.useRef(t);return Zf(()=>{e.current=t}),e}function l5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:l,open:u}=t,[d,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(r);Uh(h,r)||p(r);const[g,m]=x.useState(null),[y,v]=x.useState(null),w=x.useCallback(k=>{k!==S.current&&(S.current=k,m(k))},[]),b=x.useCallback(k=>{k!==N.current&&(N.current=k,v(k))},[]),_=i||g,E=a||y,S=x.useRef(null),N=x.useRef(null),j=x.useRef(d),L=l!=null,T=ey(l),R=ey(s),I=ey(u),H=x.useCallback(()=>{if(!S.current||!N.current)return;const k={placement:e,strategy:n,middleware:h};R.current&&(k.platform=R.current),c5(S.current,N.current,k).then(M=>{const $={...M,isPositioned:I.current!==!1};F.current&&!Uh(j.current,$)&&(j.current=$,_a.flushSync(()=>{f($)}))})},[h,e,n,R,I]);Zf(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const F=x.useRef(!1);Zf(()=>(F.current=!0,()=>{F.current=!1}),[]),Zf(()=>{if(_&&(S.current=_),E&&(N.current=E),_&&E){if(T.current)return T.current(_,E,H);H()}},[_,E,H,T,L]);const A=x.useMemo(()=>({reference:S,floating:N,setReference:w,setFloating:b}),[w,b]),C=x.useMemo(()=>({reference:_,floating:E}),[_,E]),B=x.useMemo(()=>{const k={position:n,left:0,top:0};if(!C.floating)return k;const M=M_(C.floating,d.x),$=M_(C.floating,d.y);return c?{...k,transform:"translate("+M+"px, "+$+"px)",...hC(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:$}},[n,c,C.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:H,refs:A,elements:C,floatingStyles:B}),[d,H,A,C,B])}const u5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?O_({element:r.current,padding:s}).fn(n):{}:r?O_({element:r,padding:s}).fn(n):{}}}},d5=(t,e)=>({...n5(t),options:[t,e]}),f5=(t,e)=>({...r5(t),options:[t,e]}),h5=(t,e)=>({...a5(t),options:[t,e]}),m5=(t,e)=>({...s5(t),options:[t,e]}),p5=(t,e)=>({...i5(t),options:[t,e]}),g5=(t,e)=>({...o5(t),options:[t,e]}),y5=(t,e)=>({...u5(t),options:[t,e]});var v5="Arrow",mC=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});mC.displayName=v5;var x5=mC;function w5(t,e=[]){let n=[];function r(i,a){const c=x.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=h?.[t][l]||c,y=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:p})}function d(f,h){const p=h?.[t][l]||c,g=x.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>x.createContext(a));return function(c){const l=c?.[t]||i;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,b5(s,...e)]}function b5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function bp(t){const[e,n]=x.useState(void 0);return xn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,c=u.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var gw="Popper",[pC,_p]=w5(gw),[_5,gC]=pC(gw),yC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=x.useState(null);return o.jsx(_5,{scope:e,anchor:r,onAnchorChange:s,children:n})};yC.displayName=gw;var vC="PopperAnchor",xC=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=gC(vC,n),a=x.useRef(null),c=Ze(e,a);return x.useEffect(()=>{i.onAnchorChange(r?.current||a.current)}),r?null:o.jsx(je.div,{...s,ref:c})});xC.displayName=vC;var yw="PopperContent",[E5,A5]=pC(yw),wC=x.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,y=gC(yw,n),[v,w]=x.useState(null),b=Ze(e,ae=>w(ae)),[_,E]=x.useState(null),S=bp(_),N=S?.width??0,j=S?.height??0,L=r+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],I=R.length>0,H={padding:T,boundary:R.filter(j5),altBoundary:I},{refs:F,floatingStyles:A,placement:C,isPositioned:B,middlewareData:k}=l5({strategy:"fixed",placement:L,whileElementsMounted:(...ae)=>t5(...ae,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[d5({mainAxis:s+j,alignmentAxis:a}),l&&f5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?h5():void 0,...H}),l&&m5({...H}),p5({...H,apply:({elements:ae,rects:Ve,availableWidth:Ke,availableHeight:Oe})=>{const{width:Ye,height:Fe}=Ve.reference,pt=ae.floating.style;pt.setProperty("--radix-popper-available-width",`${Ke}px`),pt.setProperty("--radix-popper-available-height",`${Oe}px`),pt.setProperty("--radix-popper-anchor-width",`${Ye}px`),pt.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),_&&y5({element:_,padding:c}),N5({arrowWidth:N,arrowHeight:j}),h&&g5({strategy:"referenceHidden",...H})]}),[M,$]=EC(C),W=Zn(g);xn(()=>{B&&W?.()},[B,W]);const ee=k.arrow?.x,fe=k.arrow?.y,le=k.arrow?.centerOffset!==0,[Le,Ne]=x.useState();return xn(()=>{v&&Ne(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:B?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[k.transformOrigin?.x,k.transformOrigin?.y].join(" "),...k.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(E5,{scope:n,placedSide:M,onArrowChange:E,arrowX:ee,arrowY:fe,shouldHideArrow:le,children:o.jsx(je.div,{"data-side":M,"data-align":$,...m,ref:b,style:{...m.style,animation:B?void 0:"none"}})})})});wC.displayName=yw;var bC="PopperArrow",S5={top:"bottom",right:"left",bottom:"top",left:"right"},_C=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=A5(bC,r),a=S5[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(x5,{...s,ref:n,style:{...s.style,display:"block"}})})});_C.displayName=bC;function j5(t){return t!==null}var N5=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=EC(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(s.arrow?.x??0)+c/2,p=(s.arrow?.y??0)+l/2;let g="",m="";return u==="bottom"?(g=a?f:`${h}px`,m=`${-l}px`):u==="top"?(g=a?f:`${h}px`,m=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=a?f:`${p}px`):u==="left"&&(g=`${r.floating.width+l}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function EC(t){const[e,n="center"]=t.split("-");return[e,n]}var C5=yC,AC=xC,SC=wC,jC=_C,[Ep,sre]=_s("Tooltip",[_p]),vw=_p(),NC="TooltipProvider",k5=700,B_="tooltip.open",[T5,CC]=Ep(NC),kC=t=>{const{__scopeTooltip:e,delayDuration:n=k5,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[a,c]=x.useState(!0),l=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(T5,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),c(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};kC.displayName=NC;var TC="Tooltip",[ire,Ap]=Ep(TC),K0="TooltipTrigger",P5=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ap(K0,n),i=CC(K0,n),a=vw(n),c=x.useRef(null),l=Ze(e,c,s.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(AC,{asChild:!0,...a,children:o.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:pe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:pe(t.onBlur,s.onClose),onClick:pe(t.onClick,s.onClose)})})});P5.displayName=K0;var I5="TooltipPortal",[ore,R5]=Ep(I5,{forceMount:void 0}),Lc="TooltipContent",PC=x.forwardRef((t,e)=>{const n=R5(Lc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Ap(Lc,t.__scopeTooltip);return o.jsx(li,{present:r||a.open,children:a.disableHoverableContent?o.jsx(IC,{side:s,...i,ref:e}):o.jsx(O5,{side:s,...i,ref:e})})}),O5=x.forwardRef((t,e)=>{const n=Ap(Lc,t.__scopeTooltip),r=CC(Lc,t.__scopeTooltip),s=x.useRef(null),i=Ze(e,s),[a,c]=x.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=x.useCallback(()=>{c(null),f(!1)},[f]),p=x.useCallback((g,m)=>{const y=g.currentTarget,v={x:g.clientX,y:g.clientY},w=L5(v,y.getBoundingClientRect()),b=F5(v,w),_=U5(m.getBoundingClientRect()),E=H5([...b,..._]);c(E),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(l&&d){const g=y=>p(y,d),m=y=>p(y,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),x.useEffect(()=>{if(a){const g=m=>{const y=m.target,v={x:m.clientX,y:m.clientY},w=l?.contains(y)||d?.contains(y),b=!$5(v,a);w?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,a,u,h]),o.jsx(IC,{...t,ref:i})}),[M5,B5]=Ep(TC,{isInside:!1}),IC=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=t,l=Ap(Lc,n),u=vw(n),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(B_,d),()=>document.removeEventListener(B_,d)),[d]),x.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),o.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(SC,{"data-state":l.stateAttribute,...u,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(nw,{children:r}),o.jsx(M5,{scope:n,isInside:!0,children:o.jsx(w3,{id:l.contentId,role:"tooltip",children:s||r})})]})})});PC.displayName=Lc;var RC="TooltipArrow",D5=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=vw(n);return B5(RC,n).isInside?null:o.jsx(jC,{...s,...r,ref:e})});D5.displayName=RC;function L5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function F5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function U5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function $5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i].x,l=e[i].y,u=e[a].x,d=e[a].y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(s=!s)}return s}function H5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),z5(e)}function z5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var V5=kC,OC=PC;const G5=V5,W5=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(OC,{ref:r,sideOffset:e,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));W5.displayName=OC.displayName;var Sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jp=typeof window>"u"||"Deno"in globalThis;function Or(){}function q5(t,e){return typeof t=="function"?t(e):t}function Q5(t){return typeof t=="number"&&t>=0&&t!==1/0}function K5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function D_(t,e){return typeof t=="function"?t(e):t}function Y5(t,e){return typeof t=="function"?t(e):t}function L_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==xw(a,e.options))return!1}else if(!Yu(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function F_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ku(e.options.mutationKey)!==Ku(i))return!1}else if(!Yu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xw(t,e){return(e?.queryKeyHashFn||Ku)(t)}function Ku(t){return JSON.stringify(t,(e,n)=>Y0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Yu(t[n],e[n])):!1}function MC(t,e){if(t===e)return t;const n=U_(t)&&U_(e);if(n||Y0(t)&&Y0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,c=n?[]:{};let l=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(c[d]=void 0,l++):(c[d]=MC(t[d],e[d]),c[d]===t[d]&&t[d]!==void 0&&l++)}return s===a&&l===s?t:c}return e}function U_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Y0(t){if(!$_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!$_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $_(t){return Object.prototype.toString.call(t)==="[object Object]"}function J5(t){return new Promise(e=>{setTimeout(e,t)})}function Z5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MC(t,e):e}function X5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function eF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ww=Symbol();function BC(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ww?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var tF=class extends Sp{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!jp&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},DC=new tF,nF=class extends Sp{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!jp&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},$h=new nF;function rF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function sF(t){return Math.min(1e3*2**t,3e4)}function LC(t){return(t??"online")==="online"?$h.isOnline():!0}var FC=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ty(t){return t instanceof FC}function UC(t){let e=!1,n=0,r=!1,s;const i=rF(),a=m=>{r||(h(new FC(m)),t.abort?.())},c=()=>{e=!0},l=()=>{e=!1},u=()=>DC.isFocused()&&(t.networkMode==="always"||$h.isOnline())&&t.canRun(),d=()=>LC(t.networkMode)&&t.canRun(),f=m=>{r||(r=!0,t.onSuccess?.(m),s?.(),i.resolve(m))},h=m=>{r||(r=!0,t.onError?.(m),s?.(),i.reject(m))},p=()=>new Promise(m=>{s=y=>{(r||u())&&m(y)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),g=()=>{if(r)return;let m;const y=n===0?t.initialPromise:void 0;try{m=y??t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{if(r)return;const w=t.retry??(jp?0:3),b=t.retryDelay??sF,_=typeof b=="function"?b(n,v):b,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!E){h(v);return}n++,t.onFail?.(n,v),J5(_).then(()=>u()?void 0:p()).then(()=>{e?h(v):g()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?g():p().then(g),i)}}function iF(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=c=>setTimeout(c,0);const i=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(l=>{n(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||a()}return l},batchCalls:c=>(...l)=>{i(()=>{c(...l)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var jn=iF(),$C=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Q5(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jp?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},oF=class extends $C{#e;#t;#n;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=cF(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Z5(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Or).catch(Or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Y5(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ww||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!K5(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},s=()=>{const c=BC(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return r(l),this.#i=!1,this.options.persister?this.options.persister(c,l,this):c(l)},i={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const a=c=>{ty(c)&&c.silent||this.#s({type:"error",error:c}),ty(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=UC({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(l){a(l);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:a,onFail:(c,l)=>{this.#s({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...aF(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return ty(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),jn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function aF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function cF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lF=class extends Sp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??xw(r,e);let i=this.get(s);return i||(i=new oF({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>L_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>L_(t,n)):e}notify(t){jn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},uF=class extends $C{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||dF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=UC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#r({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),jn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function dF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fF=class extends Sp{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new uF({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=_f(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=_f(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(_f(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(_f(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>F_(e,n))}findAll(t={}){return this.getAll().filter(e=>F_(t,e))}notify(t){jn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return jn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Or))))}};function _f(t){return t.options.scope?.id??String(t.mutationId)}function H_(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},l=0;const u=async()=>{let d=!1;const f=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},h=BC(e.options,e.fetchOptions),p=async(g,m,y)=>{if(d)return Promise.reject();if(m==null&&g.pages.length)return Promise.resolve(g);const v={queryKey:e.queryKey,pageParam:m,direction:y?"backward":"forward",meta:e.options.meta};f(v);const w=await h(v),{maxPages:b}=e.options,_=y?eF:X5;return{pages:_(g.pages,w,b),pageParams:_(g.pageParams,m,b)}};if(s&&i.length){const g=s==="backward",m=g?hF:z_,y={pages:i,pageParams:a},v=m(r,y);c=await p(y,v,g)}else{const g=t??i.length;do{const m=l===0?a[0]??r.initialPageParam:z_(r,c);if(l>0&&m==null)break;c=await p(c,m),l++}while(l<g)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function z_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function hF(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var mF=class{#e;#t;#n;#r;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new lF,this.#t=t.mutationCache||new fF,this.#n=t.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=DC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=$h.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(D_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=q5(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return jn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;jn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return jn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=jn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Or).catch(Or)}invalidateQueries(t={},e={}){return jn.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=jn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Or)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(D_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Or).catch(Or)}fetchInfiniteQuery(t){return t.behavior=H_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Or).catch(Or)}ensureInfiniteQueryData(t){return t.behavior=H_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $h.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ku(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let n={};return e.forEach(r=>{Yu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(Ku(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Yu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ww&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},pF=x.createContext(void 0),gF=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(pF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const V_="popstate";function yF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return J0("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hh(s)}return xF(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vF(){return Math.random().toString(36).substr(2,8)}function G_(t,e){return{usr:t.state,key:t.key,idx:e}}function J0(t,e,n,r){return n===void 0&&(n=null),Ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ml(e):e,{state:n,key:e&&e.key||r||vF()})}function Hh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xF(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=Bi.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Ju({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){c=Bi.Pop;let y=d(),v=y==null?null:y-u;u=y,l&&l({action:c,location:m.location,delta:v})}function h(y,v){c=Bi.Push;let w=J0(m.location,y,v);u=d()+1;let b=G_(w,u),_=m.createHref(w);try{a.pushState(b,"",_)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(_)}i&&l&&l({action:c,location:m.location,delta:1})}function p(y,v){c=Bi.Replace;let w=J0(m.location,y,v);u=d();let b=G_(w,u),_=m.createHref(w);a.replaceState(b,"",_),i&&l&&l({action:c,location:m.location,delta:0})}function g(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Hh(y);return w=w.replace(/ $/,"%20"),$t(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let m={get action(){return c},get location(){return t(s,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(V_,f),l=y,()=>{s.removeEventListener(V_,f),l=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return a.go(y)}};return m}var W_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W_||(W_={}));function wF(t,e,n){return n===void 0&&(n="/"),bF(t,e,n,!1)}function bF(t,e,n,r){let s=typeof e=="string"?ml(e):e,i=bw(s.pathname||"/",n);if(i==null)return null;let a=zC(t);_F(a);let c=null;for(let l=0;c==null&&l<a.length;++l){let u=RF(i);c=PF(a[l],u,r)}return c}function zC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&($t(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zC(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:kF(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let l of VC(i.path))s(i,a,l)}),e}function VC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=VC(r.join("/")),c=[];return c.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&c.push(...a),c.map(l=>t.startsWith("/")&&l===""?"/":l)}function _F(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EF=/^:[\w-]+$/,AF=3,SF=2,jF=1,NF=10,CF=-2,q_=t=>t==="*";function kF(t,e){let n=t.split("/"),r=n.length;return n.some(q_)&&(r+=CF),e&&(r+=SF),n.filter(s=>!q_(s)).reduce((s,i)=>s+(EF.test(i)?AF:i===""?jF:NF),r)}function TF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function PF(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let l=r[c],u=c===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Qi([i,f.pathname]),pathnameBase:DF(Qi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Qi([i,f.pathnameBase]))}return a}function Q_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=c[f]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=c[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function IF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),HC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function RF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ml(t):t;return{pathname:n?n.startsWith("/")?n:MF(n,e):e,search:LF(r),hash:FF(s)}}function MF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GC(t,e){let n=BF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function WC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ml(t):(s=Ju({},t),$t(!s.pathname||!s.pathname.includes("?"),ny("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),ny("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),ny("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}c=f>=0?e[f]:"/"}let l=OF(s,c),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),DF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qC=["post","put","patch","delete"];new Set(qC);const $F=["get",...qC];new Set($F);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}const _w=x.createContext(null),HF=x.createContext(null),Ea=x.createContext(null),Np=x.createContext(null),vo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),QC=x.createContext(null);function zF(t,e){let{relative:n}=e===void 0?{}:e;Dd()||$t(!1);let{basename:r,navigator:s}=x.useContext(Ea),{hash:i,pathname:a,search:c}=YC(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Qi([r,a])),s.createHref({pathname:l,search:c,hash:i})}function Dd(){return x.useContext(Np)!=null}function pl(){return Dd()||$t(!1),x.useContext(Np).location}function KC(t){x.useContext(Ea).static||x.useLayoutEffect(t)}function bn(){let{isDataRoute:t}=x.useContext(vo);return t?r6():VF()}function VF(){Dd()||$t(!1);let t=x.useContext(_w),{basename:e,future:n,navigator:r}=x.useContext(Ea),{matches:s}=x.useContext(vo),{pathname:i}=pl(),a=JSON.stringify(GC(s,n.v7_relativeSplatPath)),c=x.useRef(!1);return KC(()=>{c.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let f=WC(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}function GF(){let{matches:t}=x.useContext(vo),e=t[t.length-1];return e?e.params:{}}function YC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Ea),{matches:s}=x.useContext(vo),{pathname:i}=pl(),a=JSON.stringify(GC(s,r.v7_relativeSplatPath));return x.useMemo(()=>WC(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function WF(t,e){return qF(t,e)}function qF(t,e,n,r){Dd()||$t(!1);let{navigator:s}=x.useContext(Ea),{matches:i}=x.useContext(vo),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=pl(),d;if(e){var f;let y=typeof e=="string"?ml(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||$t(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=wF(t,{pathname:p}),m=ZF(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Qi([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Qi([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&m?x.createElement(Np.Provider,{value:{location:Zu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bi.Pop}},m):m}function QF(){let t=n6(),e=UF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const KF=x.createElement(QF,null);class YF extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(vo.Provider,{value:this.props.routeContext},x.createElement(QC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JF(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(_w);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(vo.Provider,{value:e},r)}function ZF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let d=a.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);d>=0||$t(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,y=null;n&&(p=c&&f.route.id?c[f.route.id]:void 0,m=f.route.errorElement||KF,l&&(u<0&&h===0?(g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),w=()=>{let b;return p?b=m:g?b=y:f.route.Component?b=x.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,x.createElement(JF,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(YF,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var JC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JC||{}),zh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zh||{});function XF(t){let e=x.useContext(_w);return e||$t(!1),e}function e6(t){let e=x.useContext(HF);return e||$t(!1),e}function t6(t){let e=x.useContext(vo);return e||$t(!1),e}function ZC(t){let e=t6(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function n6(){var t;let e=x.useContext(QC),n=e6(zh.UseRouteError),r=ZC(zh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function r6(){let{router:t}=XF(JC.UseNavigateStable),e=ZC(zh.UseNavigateStable),n=x.useRef(!1);return KC(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zu({fromRouteId:e},i)))},[t,e])}function Xf(t){$t(!1)}function s6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Bi.Pop,navigator:i,static:a=!1,future:c}=t;Dd()&&$t(!1);let l=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:a,future:Zu({v7_relativeSplatPath:!1},c)}),[l,c,i,a]);typeof r=="string"&&(r=ml(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,m=x.useMemo(()=>{let y=bw(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:g},navigationType:s}},[l,d,f,h,p,g,s]);return m==null?null:x.createElement(Ea.Provider,{value:u},x.createElement(Np.Provider,{children:n,value:m}))}function i6(t){let{children:e,location:n}=t;return WF(Z0(e),n)}new Promise(()=>{});function Z0(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Z0(r.props.children,i));return}r.type!==Xf&&$t(!1),!r.props.index||!r.props.children||$t(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Z0(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}function o6(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function a6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c6(t,e){return t.button===0&&(!e||e==="_self")&&!a6(t)}function ev(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function l6(t,e){let n=ev(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const u6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d6="6";try{window.__reactRouterVersion=d6}catch{}const f6="startTransition",K_=lS[f6];function h6(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=yF({window:s,v5Compat:!0}));let a=i.current,[c,l]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=x.useCallback(f=>{u&&K_?K_(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.createElement(s6,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const m6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:c,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=o6(e,u6),{basename:p}=x.useContext(Ea),g,m=!1;if(typeof u=="string"&&p6.test(u)&&(g=u,m6))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),E=bw(_.pathname,p);_.origin===b.origin&&E!=null?u=E+_.search+_.hash:m=!0}catch{}let y=zF(u,{relative:s}),v=g6(u,{replace:a,state:c,target:l,preventScrollReset:d,relative:s,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||v(b)}return x.createElement("a",X0({},h,{href:g||y,onClick:m||i?r:w,ref:n,target:l}))});var Y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var J_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function g6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:c}=e===void 0?{}:e,l=bn(),u=pl(),d=YC(t,{relative:a});return x.useCallback(f=>{if(c6(f,n)){f.preventDefault();let h=r!==void 0?r:Hh(u)===Hh(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:c})}},[u,l,d,r,s,n,t,i,a,c])}function y6(t){let e=x.useRef(ev(t)),n=x.useRef(!1),r=pl(),s=x.useMemo(()=>l6(r.search,n.current?null:e.current),[r.search]),i=bn(),a=x.useCallback((c,l)=>{const u=ev(typeof c=="function"?c(s):c);n.current=!0,i("?"+u,l)},[i,s]);return[s,a]}const v6=()=>o.jsx("header",{className:"bg-white shadow-md",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsx(Dt,{to:"/",className:"text-2xl font-bold text-blue-700",children:"EarnFlow"}),o.jsx("nav",{children:o.jsxs("ul",{className:"flex space-x-6",children:[o.jsx("li",{children:o.jsxs(Dt,{to:"/payment",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(on,{className:"h-4 w-4"}),"Make Payment"]})}),o.jsx("li",{children:o.jsxs(Dt,{to:"/auth",className:"flex items-center gap-2 text-blue-500 hover:text-blue-700",children:[o.jsx(Z3,{className:"h-4 w-4"}),"Sign In"]})}),o.jsx("li",{children:o.jsx(Dt,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700",children:"Dashboard"})}),o.jsx("li",{children:o.jsx(Dt,{to:"/production-test",className:"text-blue-500 hover:text-blue-700",children:"Production Test"})}),o.jsx("li",{children:o.jsx(Dt,{to:"/affiliate-revenue",className:"text-blue-500 hover:text-blue-700",children:"Affiliate Partners"})}),o.jsx("li",{children:o.jsx(Dt,{to:"/about",className:"text-blue-500 hover:text-blue-700",children:"About"})}),o.jsx("li",{children:o.jsx(Dt,{to:"/contact",className:"text-blue-500 hover:text-blue-700",children:"Contact"})})]})})]})}),x6=()=>o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Real Affiliate Partnerships That Pay"}),o.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Shop with our verified partners and help us earn real commissions through CJ Affiliate and direct partnerships"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Dt,{to:"/payment",className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-600 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all text-lg",children:[o.jsx(on,{className:"h-5 w-5"}),"Make a Payment"]}),o.jsxs(Dt,{to:"/affiliate-revenue",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all",children:[o.jsx(kr,{className:"h-5 w-5"}),"View All Partners"]})]})]}),w6=()=>o.jsx("div",{className:"mb-12 bg-white rounded-xl p-8 shadow-lg border",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:" Secure Payments Made Easy"}),o.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Make payments quickly and securely with our Stripe-powered payment system"}),o.jsxs(Dt,{to:"/payment",className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-600 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all text-lg",children:[o.jsx(on,{className:"h-6 w-6"}),"Start Payment Process"]})]})}),Ew=[{id:"max-streaming",name:"Max (HBO Max)",product:"Premium Streaming Service",price:15.99,originalPrice:19.99,affiliateUrl:"https://www.max.com/bg/en/affiliate",commissionRate:.08,category:"Entertainment",description:"Premium streaming with HBO originals, blockbuster movies, and exclusive content",features:["HBO Original Series","Same-day movie releases","4K streaming","Ad-free experience"],rating:4.7,billingPeriod:"monthly",popularBadge:!0,partnerType:"streaming"},{id:"shopify-partners",name:"Shopify",product:"E-commerce Platform",price:29,affiliateUrl:"https://www.shopify.com/partners",commissionRate:.2,category:"E-commerce",description:"Complete e-commerce solution for building and scaling online stores",features:["Professional themes","Payment processing","Inventory management","Mobile optimization"],rating:4.8,billingPeriod:"monthly",partnerType:"software"},{id:"bluehost-affiliate",name:"Bluehost",product:"Web Hosting Service",price:3.95,originalPrice:9.99,affiliateUrl:"https://www.bluehost.com/track/your-affiliate-id",commissionRate:.15,category:"Web Hosting",description:"Reliable web hosting with WordPress optimization and 24/7 support",features:["WordPress hosting","Free domain","SSL certificate","24/7 support"],rating:4.5,billingPeriod:"monthly",partnerType:"hosting"},{id:"canva-pro-affiliate",name:"Canva Pro",product:"Design Platform",price:14.99,originalPrice:19.99,affiliateUrl:"https://www.canva.com/affiliates",commissionRate:.1,category:"Design",description:"Professional design tools with premium templates and brand management",features:["Premium templates","Brand kit","Background remover","Team collaboration"],rating:4.9,billingPeriod:"monthly",partnerType:"design"},{id:"wise-affiliate",name:"Wise",product:"International Money Transfer",price:0,affiliateUrl:"https://wise.com/invite/u/wise-affiliate",commissionRate:.15,category:"Financial Services",description:"Fast, cheap international money transfers with real exchange rates",features:["Real exchange rates","Low fees","Fast transfers","Multi-currency account"],rating:4.6,billingPeriod:"one-time",partnerType:"financial"}],b6="modulepreload",_6=function(t){return"/"+t},Z_={},Ld=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(n.map(l=>{if(l=_6(l),l in Z_)return;Z_[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":b6,u||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},E6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ld(async()=>{const{default:r}=await Promise.resolve().then(()=>gl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Aw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class A6 extends Aw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class S6 extends Aw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class j6 extends Aw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tv;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(tv||(tv={}));var N6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class C6{constructor(e,{headers:n={},customFetch:r,region:s=tv.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=E6(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return N6(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let c={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(c["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(c["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(g=>{throw new A6(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new S6(d);if(!d.ok)throw new j6(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var zn={},Sw={},Cp={},Fd={},kp={},Tp={},k6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fc=k6();const T6=Fc.fetch,XC=Fc.fetch.bind(Fc),ek=Fc.Headers,P6=Fc.Request,I6=Fc.Response,gl=Object.freeze(Object.defineProperty({__proto__:null,Headers:ek,Request:P6,Response:I6,default:XC,fetch:T6},Symbol.toStringTag,{value:"Module"})),R6=x4(gl);var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});let O6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Pp.default=O6;var tk=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tp,"__esModule",{value:!0});const M6=tk(R6),B6=tk(Pp);let D6=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=M6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,c,l;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await i.text();try{u=JSON.parse(m),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new B6.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,c,l;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(c=i?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Tp.default=D6;var L6=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kp,"__esModule",{value:!0});const F6=L6(Tp);let U6=class extends F6.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",c=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var c;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};kp.default=U6;var $6=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fd,"__esModule",{value:!0});const H6=$6(kp);let z6=class extends H6.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Fd.default=z6;var V6=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cp,"__esModule",{value:!0});const Fl=V6(Fd);let G6=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){const c=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Fl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Fl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Cp.default=G6;var Ip={},Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.version=void 0;Rp.version="0.0.0-automated";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.DEFAULT_HEADERS=void 0;const W6=Rp;Ip.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${W6.version}`};var nk=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sw,"__esModule",{value:!0});const q6=nk(Cp),Q6=nk(Fd),K6=Ip;let Y6=class rk{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},K6.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new q6.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new rk(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const c=new URL(`${this.url}/rpc/${e}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(a="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Q6.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Sw.default=Y6;var yl=Wt&&Wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zn,"__esModule",{value:!0});zn.PostgrestError=zn.PostgrestBuilder=zn.PostgrestTransformBuilder=zn.PostgrestFilterBuilder=zn.PostgrestQueryBuilder=zn.PostgrestClient=void 0;const sk=yl(Sw);zn.PostgrestClient=sk.default;const ik=yl(Cp);zn.PostgrestQueryBuilder=ik.default;const ok=yl(Fd);zn.PostgrestFilterBuilder=ok.default;const ak=yl(kp);zn.PostgrestTransformBuilder=ak.default;const ck=yl(Tp);zn.PostgrestBuilder=ck.default;const lk=yl(Pp);zn.PostgrestError=lk.default;var J6=zn.default={PostgrestClient:sk.default,PostgrestQueryBuilder:ik.default,PostgrestFilterBuilder:ok.default,PostgrestTransformBuilder:ak.default,PostgrestBuilder:ck.default,PostgrestError:lk.default};const{PostgrestClient:Z6,PostgrestQueryBuilder:fre,PostgrestFilterBuilder:hre,PostgrestTransformBuilder:mre,PostgrestBuilder:pre,PostgrestError:gre}=J6;let nv;typeof window>"u"?nv=require("ws"):nv=window.WebSocket;const X6=nv,e8="2.11.10",t8={"X-Client-Info":`realtime-js/${e8}`},n8="1.0.0",uk=1e4,r8=1e3;var bc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(bc||(bc={}));var _n;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_n||(_n={}));var Dr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dr||(Dr={}));var rv;(function(t){t.websocket="websocket"})(rv||(rv={}));var Oo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Oo||(Oo={}));class s8{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const c=r.decode(e.slice(a,a+s));a=a+s;const l=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}class dk{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ot;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ot||(ot={}));const X_=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=i8(a,t,e,s),i),{})},i8=(t,e,n,r)=>{const s=e.find(c=>c.name===t),i=s?.type,a=n[t];return i&&!r.includes(i)?fk(i,a):sv(a)},fk=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return l8(e,n)}switch(t){case ot.bool:return o8(e);case ot.float4:case ot.float8:case ot.int2:case ot.int4:case ot.int8:case ot.numeric:case ot.oid:return a8(e);case ot.json:case ot.jsonb:return c8(e);case ot.timestamp:return u8(e);case ot.abstime:case ot.date:case ot.daterange:case ot.int4range:case ot.int8range:case ot.money:case ot.reltime:case ot.text:case ot.time:case ot.timestamptz:case ot.timetz:case ot.tsrange:case ot.tstzrange:return sv(e);default:return sv(e)}},sv=t=>t,o8=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},a8=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},c8=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},l8=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(c=>fk(e,c))}return t},u8=t=>typeof t=="string"?t.replace(" ","T"):t,hk=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ry{constructor(e,n,r={},s=uk){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eE||(eE={}));class vu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=vu.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=vu.syncDiff(this.state,s,i,a),c())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),c={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),m=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(c[u]=g),m.length>0&&(l[u]=m)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,l)=>{var u;const d=(u=e[c])!==null&&u!==void 0?u:[];if(e[c]=this.cloneDeep(l),d.length>0){const f=e[c].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[c].unshift(...h)}r(c,d,l)}),this.map(a,(c,l)=>{let u=e[c];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[c]=u,s(c,u,l),u.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tE||(tE={}));var nE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(nE||(nE={}));var Bs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bs||(Bs={}));class jw{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=_n.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ry(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new dk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_n.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_n.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_n.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new vu(this),this.broadcastEndpointURL=hk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:c}}=this.params;this._onError(d=>e?.(Bs.CHANNEL_ERROR,d)),this._onClose(()=>e?.(Bs.CLOSED));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e?.(Bs.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h?.length)!==null&&f!==void 0?f:0,g=[];for(let m=0;m<p;m++){const y=h[m],{filter:{event:v,schema:w,table:b,filter:_}}=y,E=d&&d[m];if(E&&E.event===v&&E.schema===w&&E.table===b&&E.filter===_)g.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=_n.errored,e?.(Bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Bs.SUBSCRIBED);return}}).receive("error",d=>{this.state=_n.errored,e?.(Bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(Bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_n.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new ry(this,Dr.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ry(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=Dr;if(r&&[c,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,m,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(p=>p.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var g,m,y,v,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,E=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=n.ids)===null||m===void 0?void 0:m.includes(_))&&(E==="*"||E?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(w=(v=p?.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:y,commit_timestamp:v,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:v,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(h,r)})}_isClosed(){return this.state===_n.closed}_isJoined(){return this.state===_n.joined}_isJoining(){return this.state===_n.joining}_isLeaving(){return this.state===_n.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&jw.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dr.close,{},e)}_onError(e){this._on(Dr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_n.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=X_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=X_(e.columns,e.old_record)),n}}const rE=()=>{},d8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f8{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=t8,this.params={},this.timeout=uk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rE,this.ref=0,this.logger=rE,this.conn=null,this.sendBuffer=[],this.serializer=new s8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...c)=>Ld(async()=>{const{default:l}=await Promise.resolve().then(()=>gl);return{default:l}},void 0).then(({default:l})=>l(...c)):a=fetch,(...c)=>a(...c)},this.endPoint=`${e}/${rv.websocket}`,this.httpEndpoint=hk(e),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=X6),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new h8(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n8}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bc.connecting:return Oo.Connecting;case bc.open:return Oo.Open;case bc.closing:return Oo.Closing;default:return Oo.Closed}}isConnected(){return this.connectionState()===Oo.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new jw(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Dr.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(r8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([d8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class h8{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bc.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Nw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class m8 extends Nw{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class iv extends Nw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var p8=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const mk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ld(async()=>{const{default:r}=await Promise.resolve().then(()=>gl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},g8=()=>p8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ld(()=>Promise.resolve().then(()=>gl),void 0)).Response:Response}),ov=t=>{if(Array.isArray(t))return t.map(n=>ov(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ov(r)}),e};var Aa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const sy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y8=(t,e,n)=>Aa(void 0,void 0,void 0,function*(){const r=yield g8();t instanceof r&&!n?.noResolveJson?t.json().then(s=>{e(new m8(sy(s),t.status||500))}).catch(s=>{e(new iv(sy(s),s))}):e(new iv(sy(t),t))}),v8=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ud(t,e,n,r,s,i){return Aa(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(n,v8(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>y8(l,c,r))})})}function Vh(t,e,n,r){return Aa(this,void 0,void 0,function*(){return Ud(t,"GET",e,n,r)})}function Ci(t,e,n,r,s){return Aa(this,void 0,void 0,function*(){return Ud(t,"POST",e,r,s,n)})}function x8(t,e,n,r,s){return Aa(this,void 0,void 0,function*(){return Ud(t,"PUT",e,r,s,n)})}function w8(t,e,n,r){return Aa(this,void 0,void 0,function*(){return Ud(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pk(t,e,n,r,s){return Aa(this,void 0,void 0,function*(){return Ud(t,"DELETE",e,r,s,n)})}var Ln=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const b8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _8{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=mk(s)}uploadOrUpdate(e,n,r,s){return Ln(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},sE),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:c},a?.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ln(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:sE.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Jt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ln(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield Ci(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),c=a.searchParams.get("token");if(!c)throw new Nw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:c},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Ci(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ln(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ci(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=yield Ci(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}})}download(e,n){return Ln(this,void 0,void 0,function*(){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),a=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Vh(this.fetch,`${this.url}/${s}/${c}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Jt(c))return{data:null,error:c};throw c}})}info(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Vh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ov(r),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}exists(e){return Ln(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield w8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Jt(r)&&r instanceof iv){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${u}`)}}}remove(e){return Ln(this,void 0,void 0,function*(){try{return{data:yield pk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ln(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},b8),n),{prefix:e||""});return{data:yield Ci(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const E8="2.7.1",A8={"X-Client-Info":`storage-js/${E8}`};var Ia=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class S8{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},A8),n),this.fetch=mk(r)}listBuckets(){return Ia(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Jt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ia(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ia(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ia(this,void 0,void 0,function*(){try{return{data:yield x8(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ia(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ia(this,void 0,void 0,function*(){try{return{data:yield pk(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}}class j8 extends S8{constructor(e,n={},r){super(e,n,r)}from(e){return new _8(this.url,this.headers,e,this.fetch)}}const N8="2.50.0";let eu="";typeof Deno<"u"?eu="deno":typeof document<"u"?eu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eu="react-native":eu="node";const C8={"X-Client-Info":`supabase-js-${eu}/${N8}`},k8={headers:C8},T8={schema:"public"},P8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I8={};var R8=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const O8=t=>{let e;return t?e=t:typeof fetch>"u"?e=XC:e=fetch,(...n)=>e(...n)},M8=()=>typeof Headers>"u"?ek:Headers,B8=(t,e,n)=>{const r=O8(n),s=M8();return(i,a)=>R8(void 0,void 0,void 0,function*(){var c;const l=(c=yield e())!==null&&c!==void 0?c:t;let u=new s(a?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var D8=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function L8(t){return t.endsWith("/")?t:t+"/"}function F8(t,e){var n,r;const{db:s,auth:i,realtime:a,global:c}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>D8(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const gk="2.70.0",Ga=30*1e3,av=3,iy=av*Ga,U8="http://localhost:9999",$8="supabase.auth.token",H8={"X-Client-Info":`gotrue-js/${gk}`},cv="X-Supabase-Api-Version",yk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V8=6e5;class Cw extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class G8 extends Cw{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function W8(t){return ke(t)&&t.name==="AuthApiError"}class vk extends Cw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xo extends Cw{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ai extends xo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q8(t){return ke(t)&&t.name==="AuthSessionMissingError"}class Ef extends xo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Af extends xo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sf extends xo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q8(t){return ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class iE extends xo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lv extends xo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function oy(t){return ke(t)&&t.name==="AuthRetryableFetchError"}class oE extends xo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xu extends xo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aE=` 	
\r=`.split(""),K8=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<aE.length;e+=1)t[aE[e].charCodeAt(0)]=-2;for(let e=0;e<Gh.length;e+=1)t[Gh[e].charCodeAt(0)]=e;return t})();function cE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gh[r]),e.queuedBits-=6}}function xk(t,e,n){const r=K8[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lE(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Z8(a,r,n)};for(let a=0;a<t.length;a+=1)xk(t.charCodeAt(a),s,i);return e.join("")}function Y8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function J8(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Y8(r,e)}}function Z8(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function X8(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)xk(t.charCodeAt(s),n,r);return new Uint8Array(e)}function eU(t){const e=[];return J8(t,n=>e.push(n)),new Uint8Array(e)}function tU(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>cE(s,n,r)),cE(null,n,r),e.join("")}function nU(t){return Math.round(Date.now()/1e3)+t}function rU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pr=()=>typeof window<"u"&&typeof document<"u",So={tested:!1,writable:!1},wu=()=>{if(!Pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(So.tested)return So.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),So.tested=!0,So.writable=!0}catch{So.tested=!0,So.writable=!1}return So.writable};function sU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const wk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ld(async()=>{const{default:r}=await Promise.resolve().then(()=>gl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},iU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bk=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},jf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nf=async(t,e)=>{await t.removeItem(e)};class Op{constructor(){this.promise=new Op.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Op.promiseConstructor=Promise;function ay(t){const e=t.split(".");if(e.length!==3)throw new xu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!z8.test(e[r]))throw new xu("JWT not in base64url format");return{header:JSON.parse(lE(e[0])),payload:JSON.parse(lE(e[1])),signature:X8(e[2]),raw:{header:e[0],payload:e[1]}}}async function oU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function aU(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function cU(t){return("0"+t.toString(16)).substr(-2)}function lU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,cU).join("")}async function uU(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function dU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uU(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ra(t,e,n=!1){const r=lU();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await bk(t,`${e}-code-verifier`,s);const i=await dU(r);return[i,r===i?"plain":"s256"]}const fU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hU(t){const e=t.headers.get(cv);if(!e||!e.match(fU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oa(t){if(!gU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var yU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const To=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vU=[502,503,504];async function uE(t){var e;if(!iU(t))throw new lv(To(t),0);if(vU.includes(t.status))throw new lv(To(t),t.status);let n;try{n=await t.json()}catch(i){throw new vk(To(i),i)}let r;const s=hU(t);if(s&&s.getTime()>=yk["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new oE(To(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new oE(To(n),t.status,n.weak_password.reasons);throw new G8(To(n),t.status||500,r)}const xU=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $e(t,e,n,r){var s;const i=Object.assign({},r?.headers);i[cv]||(i[cv]=yk["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await wU(t,e,n+c,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function wU(t,e,n,r,s,i){const a=xU(e,r,s,i);let c;try{c=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new lv(To(l),0)}if(c.ok||await uE(c),r?.noResolveJson)return c;try{return await c.json()}catch(l){await uE(l)}}function Rs(t){var e;let n=null;AU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function dE(t){const e=Rs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bU(t){return{data:t,error:null}}function _U(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=yU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:c,user:l},error:null}}function EU(t){return t}function AU(t){return t.access_token&&t.refresh_token&&t.expires_in}const cy=["global","local","others"];var SU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class jU{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=wk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=cy[0]){if(cy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cy.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=SU(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_U,redirectTo:n?.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:EU});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Oa(e);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pi})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Oa(e);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Pi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Oa(e);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pi})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Oa(e.userId);try{const{data:n,error:r}=await $e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Oa(e.userId),Oa(e.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}const NU={getItem:t=>wu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{wu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{wu()&&globalThis.localStorage.removeItem(t)}};function fE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function CU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ma={debug:!!(globalThis&&wu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _k extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kU extends _k{}async function TU(t,e,n){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ma.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}CU();const PU={url:U8,storageKey:$8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:H8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hE(t,e,n){return await n()}class Xu{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xu.nextInstanceID,Xu.nextInstanceID+=1,this.instanceID>0&&Pr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},PU),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jU({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wk(s.fetch),this.lock=s.lock||hE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Pr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=TU:this.lock=hE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:wu()?this.storage=NU:(this.memoryStorage={},this.storage=fE(this.memoryStorage)):(this.memoryStorage={},this.storage=fE(this.memoryStorage)),Pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gk}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=sU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Pr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Q8(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new vk("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rs}),{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ra(this.storage,this.storageKey)),i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Rs})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},channel:(s=h?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Rs})}else throw new Af("You must provide either an email or phone number and a password");const{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:c}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:dE})}else if("phone"in e){const{phone:i,password:a,options:c}=e;n=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:dE})}else throw new Af("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ef}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,c,l,u,d,f,h,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:y,wallet:v,statement:w,options:b}=e;let _;if(Pr())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const E=new URL((n=b?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),w?{statement:w}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=b?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:y,error:v}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:tU(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Rs});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ef}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(ke(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await jf(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rs});if(await Nf(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ef}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,c=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Rs}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ef}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:c,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ra(this.storage,this.storageKey));const{error:f}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:c,options:l}=e,{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new Af("You must provide either an email or phone number.")}catch(c){if(ke(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rs});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Ra(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:bU})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ai;const{error:s}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:c}=await $e(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Af("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await jf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<iy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pi}):await this._useSession(async n=>{var r,s,i;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ai}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Pi})})}catch(n){if(ke(n))return q8(n)&&(await this._removeSession(),await Nf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ai;const a=s.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await Ra(this.storage,this.storageKey));const{data:u,error:d}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:Pi});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ai;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=ay(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:c}=n;if(c)throw c;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Ai;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Pr())throw new Sf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new iE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new iE("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!i||!c||!a||!u)throw new Sf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=Ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await jf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(W8(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Nf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ra(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,c,l,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Pr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await aU(async s=>(s>0&&await oU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rs})),(s,i)=>{const a=200*Math.pow(2,s);return i&&oy(i)&&Date.now()+a-r<Ga})}catch(r){if(this._debug(n,"error",r),ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Pr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await jf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<iy;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${iy}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),oy(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Op;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ai;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),ke(i)){const a={session:null,error:i};return oy(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bk(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Nf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ga);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ga}ms, refresh threshold is ${av} ticks`),s<=av&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _k)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ra(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:c}=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=e?.factors||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ay(s.access_token);let c=null;a.aal&&(c=a.aal);let l=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+V8>Date.now()))return r;const{data:s,error:i}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new xu("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===e),!r)throw new xu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:c,payload:l}}=ay(r);if(mU(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const u=pU(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,eU(`${c}.${l}`)))throw new xu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}Xu.nextInstanceID=0;const IU=Xu;class RU extends IU{constructor(e){super(e)}}var OU=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class MU{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=L8(e),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:T8,realtime:I8,auth:Object.assign(Object.assign({},P8),{storageKey:u}),global:k8},f=F8(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=B8(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Z6(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new C6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j8(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return OU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:c,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new f8(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ek=(t,e,n)=>new MU(t,e,n),BU="https://laoltiyaaagiiutahypb.supabase.co",DU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxhb2x0aXlhYWFnaWl1dGFoeXBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzNTg5MDgsImV4cCI6MjA2NDkzNDkwOH0.vApyUFl0mLM_vkL0pRSvvsvcFcnvU5Y7VBEWbCcAWdk";let ly=null;const LU=()=>(ly||(ly=Ek(BU,DU,{auth:{persistSession:!0,autoRefreshToken:!0}})),ly),ue=LU(),Ak=()=>{const{toast:t}=ze();return{handlePurchase:async n=>{console.log("Processing affiliate purchase for:",n.name);try{const r={serviceId:n.id,serviceName:n.name,partnerType:n.partnerType,price:n.price,commissionRate:n.commissionRate,billingPeriod:n.billingPeriod,category:n.category,userAgent:navigator.userAgent,referrer:document.referrer||"direct",timestamp:new Date().toISOString(),sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,affiliateUrl:n.affiliateUrl,cjAffiliateId:n.cjAffiliateId,epc:n.epc,affiliateNetwork:n.cjAffiliateId?"commission_junction":"direct",cjPublisherId:"7602933"},{data:s,error:i}=await ue.functions.invoke("affiliate-tracking",{body:{affiliateId:"7602933",action:"track_click",data:r}});i?console.error("Error tracking affiliate click:",i):console.log("Affiliate click tracked successfully with YOUR CJ ID:",s);const a=new URL(n.affiliateUrl);n.cjAffiliateId?(a.searchParams.append("sid",`marketplace_referral_${Date.now()}`),a.searchParams.append("cjpublisher","7602933")):(a.searchParams.append("ref","7602933"),a.searchParams.append("utm_source","affiliate"),a.searchParams.append("utm_medium","partner_marketplace"),a.searchParams.append("utm_campaign",n.id),a.searchParams.append("publisher_id","7602933")),window.open(a.toString(),"_blank","noopener,noreferrer"),t({title:`Redirecting to ${n.name}`,description:`Opening ${n.partnerType} service with YOUR CJ Publisher ID 7602933. Complete your ${n.billingPeriod==="one-time"?"purchase":"subscription"} to earn commission!`})}catch(r){console.error("Error processing affiliate purchase:",r),window.open(n.affiliateUrl,"_blank","noopener,noreferrer"),t({title:"Redirecting...",description:`Opening ${n.name} purchase page`})}}}},FU=(t,e)=>(t*e).toFixed(2),Sk=t=>{const e=t.billingPeriod==="monthly"?"/mo":t.billingPeriod==="yearly"?"/year":"";return`$${t.price}${e}`},jk=t=>({Entertainment:"bg-purple-100 text-purple-800","E-commerce":"bg-green-100 text-green-800","Web Hosting":"bg-blue-100 text-blue-800",Education:"bg-orange-100 text-orange-800",Design:"bg-pink-100 text-pink-800","Health & Fitness":"bg-red-100 text-red-800",Shopping:"bg-yellow-100 text-yellow-800",Productivity:"bg-indigo-100 text-indigo-800","Flowers & Gifts":"bg-rose-100 text-rose-800"})[t]||"bg-gray-100 text-gray-800",UU=()=>{const{handlePurchase:t}=Ak(),e=Ew.filter(n=>n.billingPeriod==="one-time").slice(0,4);return o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Featured Real Affiliate Partners (One-time Purchases)"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(n=>o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow border",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"font-bold text-lg",children:n.name}),n.cjAffiliateId&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"CJ Affiliate"})]}),o.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.product}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${jk(n.category)} mb-3 inline-block`,children:n.category}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"text-xl font-bold text-green-600",children:Sk(n)}),o.jsxs("div",{className:"text-xs text-orange-600",children:[(n.commissionRate*100).toFixed(0),"% commission"]})]}),o.jsxs("button",{onClick:()=>t(n),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-all",children:[o.jsx(ro,{className:"h-4 w-4"}),"Shop Now"]})]},n.id))})]})},$U=()=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:[o.jsxs(Dt,{to:"/dashboard",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 text-blue-600 group-hover:scale-110 transition-transform duration-300",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),o.jsx(cc,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blue-800 transition-colors",children:"Task Dashboard"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Manage tasks, track earnings, and optimize your workflow for maximum efficiency."}),o.jsx("div",{className:"mt-4 text-sm text-blue-600 font-medium",children:" Access Dashboard"})]}),o.jsxs(Dt,{to:"/ad-revenue",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 text-purple-600 group-hover:scale-110 transition-transform duration-300",children:o.jsx("path",{d:"M12 5v14M5 12H19"})}),o.jsx(cc,{className:"h-6 w-6 text-gray-400 group-hover:text-purple-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-purple-800 transition-colors",children:"Ad Revenue Collection"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Collect ad revenue from multiple partners and manage your earnings efficiently."}),o.jsx("div",{className:"mt-4 text-sm text-purple-600 font-medium",children:" Collect Revenue"})]}),o.jsxs(Dt,{to:"/secure-bank-transfer",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(cn,{className:"h-12 w-12 text-green-600 group-hover:scale-110 transition-transform duration-300"}),o.jsx(cc,{className:"h-6 w-6 text-gray-400 group-hover:text-green-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-green-800 transition-colors",children:"Secure Bank Transfer Dashboard"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Comprehensive bank account management with secure transfers, verification, and audit trails"}),o.jsx("div",{className:"mt-4 text-sm text-green-600 font-medium",children:" Access Dashboard"})]}),o.jsxs(Dt,{to:"/affiliate-revenue",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(kr,{className:"h-12 w-12 text-orange-600 group-hover:scale-110 transition-transform duration-300"}),o.jsx(cc,{className:"h-6 w-6 text-gray-400 group-hover:text-orange-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-orange-800 transition-colors",children:"Affiliate Revenue Center"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Earn commissions by recommending partner services to your users with full tracking"}),o.jsx("div",{className:"mt-4 text-sm text-orange-600 font-medium",children:" Start Earning"})]})]}),Mo=({adSlot:t,adFormat:e="auto",adLayout:n,style:r={display:"block"},className:s="",onImpression:i,onAdClick:a})=>{const c=x.useRef(null),l=x.useRef(!1);x.useEffect(()=>{if(!l.current&&c.current)try{window.adsbygoogle=window.adsbygoogle||[],window.adsbygoogle.push({}),i&&i(),l.current=!0}catch(h){console.error("AdSense error:",h)}},[i]);const u=()=>{a&&a()},f=e==="fluid"&&!n?"-fb-x-2-bu+wu":void 0;return o.jsx("div",{ref:c,className:s,onClick:u,children:o.jsx("ins",{className:"adsbygoogle",style:r,"data-ad-client":"ca-pub-9370068622982104","data-ad-slot":t,"data-ad-format":e,"data-full-width-responsive":"true",...n&&{"data-ad-layout":n},...f&&{"data-ad-layout-key":f}})})},kw=()=>{const[t,e]=x.useState(!1);return{trackImpression:async s=>{try{e(!0);const{data:i,error:a}=await ue.functions.invoke("ad-revenue",{body:{action:"track_impression",data:{adId:`ad_${s.adSlot}`,placementId:s.placementId,userId:"anonymous",viewDuration:0,visible:!0,deviceType:window.innerWidth>768?"desktop":"mobile"}}});return a?(console.error("Error tracking impression:",a),null):(console.log("Ad impression tracked:",i),i)}catch(i){return console.error("Error tracking impression:",i),null}finally{e(!1)}},trackClick:async s=>{try{e(!0);const{data:i,error:a}=await ue.functions.invoke("ad-revenue",{body:{action:"track_click",data:{adId:`ad_${s.adSlot}`,placementId:s.placementId,userId:"anonymous",cpc:.35,adType:s.adType||"display",targetUrl:window.location.href}}});return a?(console.error("Error tracking click:",a),null):(console.log("Ad click tracked:",i),i)}catch(i){return console.error("Error tracking click:",i),null}finally{e(!1)}},isTracking:t}},Tw=Md("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?no:"button";return o.jsx(a,{className:he(Tw({variant:e,size:n,className:t})),ref:i,...s})});q.displayName="Button";const Nk=()=>{const{trackImpression:t,trackClick:e}=kw(),n=()=>{t({adSlot:"4133257448",placementId:"homepage_hero",adType:"display"})},r=()=>{e({adSlot:"4133257448",placementId:"homepage_hero",adType:"display"})},s=()=>{t({adSlot:"1879193848",placementId:"homepage_middle",adType:"display"})},i=()=>{e({adSlot:"1879193848",placementId:"homepage_middle",adType:"display"})},a=()=>{t({adSlot:"6567849095",placementId:"homepage_native",adType:"native"})},c=()=>{e({adSlot:"6567849095",placementId:"homepage_native",adType:"native"})},l=()=>{t({adSlot:"9487572195",placementId:"homepage_in_article",adType:"in-article"})},u=()=>{e({adSlot:"9487572195",placementId:"homepage_in_article",adType:"in-article"})},d=()=>{t({adSlot:"3941685758",placementId:"homepage_multiplex",adType:"multiplex"})},f=()=>{e({adSlot:"3941685758",placementId:"homepage_multiplex",adType:"multiplex"})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[o.jsx(v6,{}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsx(x6,{}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Dt,{to:"/payment-intent",children:o.jsxs(q,{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-4 w-4"}),"Try Stripe Payment Intent Demo"]})})}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Mo,{adSlot:"4133257448",className:"max-w-4xl mx-auto",onImpression:n,onAdClick:r})}),o.jsx(w6,{}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Mo,{adSlot:"9487572195",adFormat:"fluid",adLayout:"in-article",style:{display:"block",textAlign:"center"},className:"max-w-4xl mx-auto",onImpression:l,onAdClick:u})}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Mo,{adSlot:"6567849095",adFormat:"fluid",style:{display:"block"},className:"max-w-4xl mx-auto",onImpression:a,onAdClick:c})}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Mo,{adSlot:"3941685758",adFormat:"autorelaxed",style:{display:"block"},className:"max-w-4xl mx-auto",onImpression:d,onAdClick:f})}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Mo,{adSlot:"1879193848",className:"max-w-4xl mx-auto",onImpression:s,onAdClick:i})}),o.jsx(UU,{}),o.jsx($U,{})]})]})},vl=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(null),[s,i]=x.useState(null),[a,c]=x.useState(null),[l,u]=x.useState(!0),d=async g=>{try{const{data:m,error:y}=await ue.from("profiles").select("*").eq("id",g).single();if(y){console.error("Error fetching profile:",y);return}i(m)}catch(m){console.error("Error fetching profile:",m)}},f=async g=>{try{const{data:m,error:y}=await ue.from("subscriptions").select("*").eq("user_id",g).eq("status","active").gte("expiry_date",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1);if(y){console.error("Error fetching subscription:",y);return}c(m&&m.length>0?m[0]:null)}catch(m){console.error("Error fetching subscription:",m)}};return x.useEffect(()=>{const{data:{subscription:g}}=ue.auth.onAuthStateChange(async(m,y)=>{r(y),e(y?.user??null),y?.user?setTimeout(()=>{d(y.user.id),f(y.user.id)},0):(i(null),c(null)),u(!1)});return ue.auth.getSession().then(({data:{session:m}})=>{r(m),e(m?.user??null),m?.user&&setTimeout(()=>{d(m.user.id),f(m.user.id)},0),u(!1)}),()=>g.unsubscribe()},[]),{user:t,session:n,profile:s,subscription:a,loading:l,signOut:async()=>{try{const{error:g}=await ue.auth.signOut();if(g)throw g}catch(g){console.error("Error signing out:",g)}},createSubscription:async()=>{if(t)try{const g=new Date;g.setMonth(g.getMonth()+1);const{data:m,error:y}=await ue.from("subscriptions").insert([{user_id:t.id,plan:"operator-license",status:"active",amount:9.99,currency:"USD",expiry_date:g.toISOString()}]).select().single();if(y)throw y;return c(m),m}catch(g){throw console.error("Error creating subscription:",g),g}},hasActiveSubscription:!!a}},HU=(t,e,n,r)=>{const{toast:s}=ze();return{resetTasks:()=>{if(t<e){s({title:"Cannot reset tasks",description:`Complete all ${e} tasks before resetting.`,variant:"destructive"});return}n(),s({title:"Tasks Reset Successfully",description:`You can now complete ${e} more optimization tasks!`})},resetAccount:()=>{r(),s({title:"Account Reset",description:"Ready for a new day of earning!"})}}},zU=t=>{const[e,n]=x.useState([]),[r,s]=x.useState({total_unpaid_cents:0,total_paid_cents:0,unpaid_count:0,paid_count:0}),[i,a]=x.useState(!1),[c,l]=x.useState(!1),{toast:u}=ze(),d=x.useCallback(async()=>{if(t){a(!0);try{const{data:p,error:g}=await ue.from("commissions").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(g)throw g;n(p||[]);const m=(p||[]).filter(v=>!v.paid_out),y=(p||[]).filter(v=>v.paid_out);s({total_unpaid_cents:m.reduce((v,w)=>v+w.amount_earned_cents,0),total_paid_cents:y.reduce((v,w)=>v+w.amount_earned_cents,0),unpaid_count:m.length,paid_count:y.length})}catch(p){console.error("Error fetching commissions:",p),u({title:"Error",description:"Failed to load commission data",variant:"destructive"})}finally{a(!1)}}},[t,u]),f=x.useCallback(async(p,g,m="task_completion")=>{if(t)try{const{data:y,error:v}=await ue.from("commissions").insert({user_id:t,amount_earned_cents:p,description:g,source:m}).select().single();if(v)throw v;return console.log("Commission added:",y),await d(),y}catch(y){console.error("Error adding commission:",y),u({title:"Error",description:"Failed to record commission",variant:"destructive"})}},[t,d,u]),h=x.useCallback(async()=>{l(!0);try{console.log("Processing commission payouts...");const{data:p,error:g}=await ue.functions.invoke("payout-commissions",{body:{}});if(g)throw g;if(p?.success)u({title:"Payout Processed",description:`Successfully paid out $${p.amount} for ${p.commissions_count} commissions`}),await d();else throw new Error(p?.error||"Payout failed")}catch(p){console.error("Payout error:",p),u({title:"Payout Failed",description:p instanceof Error?p.message:"Failed to process payout",variant:"destructive"})}finally{l(!1)}},[d,u]);return x.useEffect(()=>{d()},[d]),{commissions:e,summary:r,loading:i,payoutLoading:c,addCommission:f,processPayouts:h,refreshCommissions:d}},V=x.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));V.displayName="Card";const Z=x.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",t),...e}));Z.displayName="CardHeader";const X=x.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:he("text-2xl font-semibold leading-none tracking-tight",t),...e}));X.displayName="CardTitle";const VU=x.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",t),...e}));VU.displayName="CardDescription";const G=x.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:he("p-6 pt-0",t),...e}));G.displayName="CardContent";const GU=x.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",t),...e}));GU.displayName="CardFooter";const Ck=({onBack:t})=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:t,variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Privacy Policy"})]}),o.jsxs(V,{children:[o.jsxs(Z,{children:[o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-5 w-5 text-primary"}),"EarnFlow Privacy Policy"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsxs(G,{className:"space-y-6",children:[o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(oD,{className:"h-5 w-5"}),"Information We Collect"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:o.jsx("strong",{children:"Personal Information:"})}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Phone number (for account identification)"}),o.jsx("li",{children:"Username (for platform identification)"}),o.jsx("li",{children:"Bitcoin wallet address (for payment processing)"})]}),o.jsx("p",{children:o.jsx("strong",{children:"Usage Data:"})}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Task completion statistics"}),o.jsx("li",{children:"Earnings and withdrawal history"}),o.jsx("li",{children:"Platform interaction metrics"})]})]})]}),o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(WN,{className:"h-5 w-5"}),"Third-Party Advertising Partners"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"EarnFlow partners with third-party advertisers to provide optimization tasks. Our current advertising partners include but are not limited to:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"StreamMax Pro"}),o.jsx("li",{children:"FitTracker Elite"}),o.jsx("li",{children:"CloudSync Business"}),o.jsx("li",{children:"GameVault Premium"}),o.jsx("li",{children:"DesignSuite Pro"}),o.jsx("li",{children:"LearnHub Academy"}),o.jsx("li",{children:"SecureVPN Ultra"}),o.jsx("li",{children:"PhotoEdit Master"}),o.jsx("li",{children:"MusicStream Plus"}),o.jsx("li",{children:"TaskManager Pro"})]}),o.jsxs("p",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[o.jsx("strong",{children:"Important:"})," When you interact with third-party advertisements during optimization tasks, these partners may collect additional data according to their own privacy policies. We encourage you to review each partner's privacy policy before engaging with their content."]})]})]}),o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(q3,{className:"h-5 w-5"}),"How We Use Your Information"]}),o.jsx("div",{className:"space-y-3 text-sm",children:o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"To provide and maintain the EarnFlow service"}),o.jsx("li",{children:"To process payments and track earnings"}),o.jsx("li",{children:"To communicate with you about your account"}),o.jsx("li",{children:"To improve our platform and user experience"}),o.jsx("li",{children:"To comply with legal obligations"})]})})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Data Sharing and Third Parties"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"We share limited information with our advertising partners for the following purposes:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Task completion verification"}),o.jsx("li",{children:"Commission calculation and payment processing"}),o.jsx("li",{children:"Fraud prevention and security"})]}),o.jsxs("p",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[o.jsx("strong",{children:"We never sell your personal data."})," Information is only shared with partners as necessary to provide the advertising optimization service and process your earnings."]})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Data Security"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"We implement appropriate security measures to protect your personal information:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Encrypted data transmission and storage"}),o.jsx("li",{children:"Secure authentication systems"}),o.jsx("li",{children:"Regular security audits and updates"}),o.jsx("li",{children:"Limited access to personal data on a need-to-know basis"})]})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your Rights"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"You have the right to:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Access your personal data"}),o.jsx("li",{children:"Correct inaccurate information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Withdraw consent for data processing"}),o.jsx("li",{children:"Port your data to another service"})]})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Contact Information"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"For privacy-related questions or concerns, please contact us:"}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," privacy@earnflow.com"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," +1 (555) 123-EARN"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Address:"})," 123 Privacy Lane, Security City, SC 12345"]})]})]})]}),o.jsxs("section",{className:"bg-green-50 p-4 rounded border border-green-200",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-800",children:"Our Privacy Commitment"}),o.jsx("p",{className:"text-sm text-green-700",children:"EarnFlow is committed to protecting your privacy. We collect only the minimum information necessary to provide our service and never use your data for unauthorized purposes. Your trust is our top priority."})]})]})]})]})}),WU=({userEmail:t,onShowPrivacyPolicy:e})=>{const{signOut:n}=vl();return o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:" Commission Payout Dashboard"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{to:"/bitcoin-wallet",children:o.jsxs(q,{variant:"outline",size:"sm",children:[o.jsx(ia,{className:"h-4 w-4 mr-2"}),"Full Bitcoin Wallet"]})}),o.jsxs(q,{variant:"outline",size:"sm",onClick:e,children:[o.jsx(cn,{className:"h-4 w-4 mr-2"}),"Privacy Policy"]}),o.jsxs(q,{variant:"outline",size:"sm",onClick:n,children:[o.jsx(X3,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})}),o.jsx(G,{children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Signed in as: ",o.jsx("span",{className:"font-medium",children:t})]})})]})},qU=()=>{const[t,e]=x.useState(new Date);return x.useEffect(()=>{const n=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(n)},[]),o.jsx(V,{children:o.jsx(G,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(ti,{className:"h-5 w-5 text-primary"}),o.jsxs("span",{className:"text-xl font-mono",children:[t.toLocaleString("en-US",{timeZone:"America/New_York",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})," ET"]})]})})})},QU=({earnings:t,tasksCompleted:e,maxTasks:n,onResetTasks:r})=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Today's Earnings"}),o.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(G,{children:o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.toFixed(2)]})})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Tasks Completed"}),o.jsx(gp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(G,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[e,"/",n]}),e>=n&&o.jsxs(q,{onClick:r,size:"sm",variant:"outline",className:"mt-2 w-full",children:[o.jsx(aw,{className:"h-4 w-4 mr-2"}),"Reset Tasks"]})]})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Bitcoin Wallet"}),o.jsx(so,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(G,{children:o.jsx("div",{className:"text-xs text-muted-foreground break-all",children:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"})})]})]}),KU=({earnings:t,tasksCompleted:e,maxTasks:n,onResetTasks:r})=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(qU,{}),o.jsx(QU,{earnings:t,tasksCompleted:e,maxTasks:n,onResetTasks:r})]}),ve=x.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ve.displayName="Input";var YU=Object.defineProperty,Wh=Object.getOwnPropertySymbols,kk=Object.prototype.hasOwnProperty,Tk=Object.prototype.propertyIsEnumerable,mE=(t,e,n)=>e in t?YU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uv=(t,e)=>{for(var n in e||(e={}))kk.call(e,n)&&mE(t,n,e[n]);if(Wh)for(var n of Wh(e))Tk.call(e,n)&&mE(t,n,e[n]);return t},dv=(t,e)=>{var n={};for(var r in t)kk.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wh)for(var r of Wh(t))e.indexOf(r)<0&&Tk.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ca;(t=>{const e=class Ue{constructor(l,u,d,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<Ue.MIN_VERSION||l>Ue.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),f==-1){let g=1e9;for(let m=0;m<8;m++){this.applyMask(m),this.drawFormatBits(m);const y=this.getPenaltyScore();y<g&&(f=m,g=y),this.applyMask(m)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const d=t.QrSegment.makeSegments(l);return Ue.encodeSegments(d,u)}static encodeBinary(l,u){const d=t.QrSegment.makeBytes(l);return Ue.encodeSegments([d],u)}static encodeSegments(l,u,d=1,f=40,h=-1,p=!0){if(!(Ue.MIN_VERSION<=d&&d<=f&&f<=Ue.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,m;for(g=d;;g++){const b=Ue.getNumDataCodewords(g,u)*8,_=a.getTotalBits(l,g);if(_<=b){m=_;break}if(g>=f)throw new RangeError("Data too long")}for(const b of[Ue.Ecc.MEDIUM,Ue.Ecc.QUARTILE,Ue.Ecc.HIGH])p&&m<=Ue.getNumDataCodewords(g,b)*8&&(u=b);let y=[];for(const b of l){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(g),y);for(const _ of b.getData())y.push(_)}s(y.length==m);const v=Ue.getNumDataCodewords(g,u)*8;s(y.length<=v),n(0,Math.min(4,v-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let b=236;y.length<v;b^=253)n(b,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((b,_)=>w[_>>>3]|=b<<7-(_&7)),new Ue(g,u,w,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(l[d],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(h,p,f),this.setFunctionModule(p,h,f)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),p=l+f,g=u+d;0<=p&&p<this.size&&0<=g&&g<this.size&&this.setFunctionModule(p,g,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=Ue.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Ue.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=Ue.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(Ue.getNumRawDataModules(u)/8),g=f-p%f,m=Math.floor(p/f);let y=[];const v=Ue.reedSolomonComputeDivisor(h);for(let b=0,_=0;b<f;b++){let E=l.slice(_,_+m-h+(b<g?0:1));_+=E.length;const S=Ue.reedSolomonComputeRemainder(E,v);b<g&&E.push(0),y.push(E.concat(S))}let w=[];for(let b=0;b<y[0].length;b++)y.forEach((_,E)=>{(b!=m-h||E>=g)&&w.push(_[b])});return s(w.length==p),w}drawCodewords(l){if(l.length!=Math.floor(Ue.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const p=d-h,m=(d+1&2)==0?this.size-1-f:f;!this.isFunction[m][p]&&u<l.length*8&&(this.modules[m][p]=r(l[u>>>3],7-(u&7)),u++)}}s(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(l){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==p?(g++,g==5?l+=Ue.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*Ue.PENALTY_N3),p=this.modules[h][y],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*Ue.PENALTY_N3}for(let h=0;h<this.size;h++){let p=!1,g=0,m=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==p?(g++,g==5?l+=Ue.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,m),p||(l+=this.finderPenaltyCountPatterns(m)*Ue.PENALTY_N3),p=this.modules[y][h],g=1);l+=this.finderPenaltyTerminateAndCount(p,g,m)*Ue.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let p=0;p<this.size-1;p++){const g=this.modules[h][p];g==this.modules[h][p+1]&&g==this.modules[h+1][p]&&g==this.modules[h+1][p+1]&&(l+=Ue.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((p,g)=>p+(g?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),l+=f*Ue.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let f=this.size-7;d.length<l;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(l){if(l<Ue.MIN_VERSION||l>Ue.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(Ue.getNumRawDataModules(l)/8)-Ue.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*Ue.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<l;f++){for(let h=0;h<u.length;h++)u[h]=Ue.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=Ue.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(f=>0);for(const f of l){const h=f^d.shift();d.push(0),u.forEach((p,g)=>d[g]^=Ue.reedSolomonMultiply(p,h))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];s(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(c,l,u){if(l<0||l>31||c>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(c>>>d&1)}function r(c,l){return(c>>>l&1)!=0}function s(c){if(!c)throw new Error("Assertion error")}const i=class Nt{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new Nt(Nt.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!Nt.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const f=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+f),10),f*3+1,u),d+=f}return new Nt(Nt.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!Nt.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let f=Nt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;f+=Nt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(f,11,u)}return d<l.length&&n(Nt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new Nt(Nt.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:Nt.isNumeric(l)?[Nt.makeNumeric(l)]:Nt.isAlphanumeric(l)?[Nt.makeAlphanumeric(l)]:[Nt.makeBytes(Nt.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new Nt(Nt.Mode.ECI,0,u)}static isNumeric(l){return Nt.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Nt.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const f of l){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(ca||(ca={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(ca||(ca={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(ca||(ca={}));var uc=ca;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var JU={L:uc.QrCode.Ecc.LOW,M:uc.QrCode.Ecc.MEDIUM,Q:uc.QrCode.Ecc.QUARTILE,H:uc.QrCode.Ecc.HIGH},Pk=128,Ik="L",Rk="#FFFFFF",Ok="#000000",Mk=!1,Bk=1,ZU=4,XU=0,e$=.1;function Dk(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(a,c){if(!a&&i!==null){n.push(`M${i+e} ${s+e}h${c-i}v1H${i+e}z`),i=null;return}if(c===r.length-1){if(!a)return;i===null?n.push(`M${c+e},${s+e} h1v1H${c+e}z`):n.push(`M${i+e},${s+e} h${c+1-i}v1H${i+e}z`);return}a&&i===null&&(i=c)})}),n.join("")}function Lk(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function t$(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*e$),a=s/e,c=(r.width||i)*a,l=(r.height||i)*a,u=r.x==null?t.length/2-c/2:r.x*a,d=r.y==null?t.length/2-l/2:r.y*a,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let g=Math.floor(u),m=Math.floor(d),y=Math.ceil(c+u-g),v=Math.ceil(l+d-m);h={x:g,y:m,w:y,h:v}}const p=r.crossOrigin;return{x:u,y:d,h:l,w:c,excavation:h,opacity:f,crossOrigin:p}}function n$(t,e){return e!=null?Math.max(Math.floor(e),0):t?ZU:XU}function Fk({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:a,boostLevel:c}){let l=O.useMemo(()=>{const g=(Array.isArray(t)?t:[t]).reduce((m,y)=>(m.push(...uc.QrSegment.makeSegments(y)),m),[]);return uc.QrCode.encodeSegments(g,JU[e],n,void 0,void 0,c)},[t,e,n,c]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=O.useMemo(()=>{let p=l.getModules();const g=n$(r,s),m=p.length+g*2,y=t$(p,a,g,i);return{cells:p,margin:g,numCells:m,calculatedImageSettings:y}},[l,a,i,r,s]);return{qrcode:l,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var r$=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),s$=O.forwardRef(function(e,n){const r=e,{value:s,size:i=Pk,level:a=Ik,bgColor:c=Rk,fgColor:l=Ok,includeMargin:u=Mk,minVersion:d=Bk,boostLevel:f,marginSize:h,imageSettings:p}=r,m=dv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=m,v=dv(m,["style"]),w=p?.src,b=O.useRef(null),_=O.useRef(null),E=O.useCallback(F=>{b.current=F,typeof n=="function"?n(F):n&&(n.current=F)},[n]),[S,N]=O.useState(!1),{margin:j,cells:L,numCells:T,calculatedImageSettings:R}=Fk({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:p,size:i});O.useEffect(()=>{if(b.current!=null){const F=b.current,A=F.getContext("2d");if(!A)return;let C=L;const B=_.current,k=R!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;k&&R.excavation!=null&&(C=Lk(L,R.excavation));const M=window.devicePixelRatio||1;F.height=F.width=i*M;const $=i/T*M;A.scale($,$),A.fillStyle=c,A.fillRect(0,0,T,T),A.fillStyle=l,r$?A.fill(new Path2D(Dk(C,j))):L.forEach(function(W,ee){W.forEach(function(fe,le){fe&&A.fillRect(le+j,ee+j,1,1)})}),R&&(A.globalAlpha=R.opacity),k&&A.drawImage(B,R.x+j,R.y+j,R.w,R.h)}}),O.useEffect(()=>{N(!1)},[w]);const I=uv({height:i,width:i},y);let H=null;return w!=null&&(H=O.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{N(!0)},ref:_,crossOrigin:R?.crossOrigin})),O.createElement(O.Fragment,null,O.createElement("canvas",uv({style:I,height:i,width:i,ref:E,role:"img"},v)),H)});s$.displayName="QRCodeCanvas";var Pw=O.forwardRef(function(e,n){const r=e,{value:s,size:i=Pk,level:a=Ik,bgColor:c=Rk,fgColor:l=Ok,includeMargin:u=Mk,minVersion:d=Bk,boostLevel:f,title:h,marginSize:p,imageSettings:g}=r,m=dv(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:v,numCells:w,calculatedImageSettings:b}=Fk({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:u,marginSize:p,imageSettings:g,size:i});let _=v,E=null;g!=null&&b!=null&&(b.excavation!=null&&(_=Lk(v,b.excavation)),E=O.createElement("image",{href:g.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const S=Dk(_,y);return O.createElement("svg",uv({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},m),!!h&&O.createElement("title",null,h),O.createElement("path",{fill:c,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),O.createElement("path",{fill:l,d:S,shapeRendering:"crispEdges"}),E)});Pw.displayName="QRCodeSVG";const i$=({wallet:t,onWalletGenerated:e})=>{const[n,r]=x.useState(!1),{toast:s}=ze(),i=async()=>{r(!0);try{const{data:c,error:l}=await ue.functions.invoke("generate-wallet");if(l)throw l;console.log("Generated wallet:",c),e(c),s({title:"Bitcoin Wallet Generated!",description:"Your new Bitcoin wallet has been created."})}catch(c){console.error("Error generating wallet:",c),s({title:"Error",description:`Failed to generate wallet: ${c.message}`,variant:"destructive"})}finally{r(!1)}},a=c=>{navigator.clipboard.writeText(c),s({title:"Copied!",description:"Address copied to clipboard"})};return o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(ia,{className:"h-5 w-5 text-orange-500"}),"Bitcoin Mainnet Wallet"]})}),o.jsxs(G,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate a Bitcoin wallet to receive cryptocurrency payouts and manage your Bitcoin earnings directly from your dashboard."}),t?o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Bitcoin Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{value:t.address,readOnly:!0,className:"font-mono text-xs"}),o.jsx(q,{variant:"outline",size:"sm",onClick:()=>a(t.address),children:o.jsx(GN,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Pw,{value:t.address,size:100})})]})}):o.jsxs(q,{onClick:i,disabled:n,className:"w-full",children:[o.jsx(so,{className:"h-4 w-4 mr-2"}),n?"Generating...":"Generate Bitcoin Wallet"]})]})]})},o$=({wallet:t,balance:e,onBalanceUpdated:n})=>{const[r,s]=x.useState(!1),{toast:i}=ze(),a=async()=>{if(t){s(!0);try{const{data:c,error:l}=await ue.functions.invoke("get-balance",{body:{address:t.address}});if(l)throw l;console.log("Balance data:",c),n(c),i({title:"Balance Updated",description:`Balance: ${c.balanceBTC} BTC (${c.balanceSats} sats)`})}catch(c){console.error("Error getting balance:",c),i({title:"Error",description:`Failed to get balance: ${c.message}`,variant:"destructive"})}finally{s(!1)}}};return t?o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Bitcoin Balance"}),o.jsx(q,{variant:"outline",size:"sm",onClick:a,disabled:r,children:o.jsx(ul,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})}),o.jsx(G,{children:e?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-2xl font-bold",children:[e.balanceBTC," BTC"]}),o.jsxs("p",{className:"text-muted-foreground",children:[e.balanceSats," satoshis"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transactions: ",e.transactions]})]}):o.jsx("p",{className:"text-muted-foreground",children:"Click refresh to get balance"})})]}):null},a$=({wallet:t})=>{const[e,n]=x.useState(null),[r,s]=x.useState(!1),{toast:i}=ze(),a=async()=>{s(!0);try{const{data:l,error:u}=await ue.from("commissions").select("amount_earned_cents").eq("paid_out",!1);if(u)throw u;const f=(l?.reduce((y,v)=>y+v.amount_earned_cents,0)||0)/100,{data:h,error:p}=await ue.functions.invoke("get-btc-price");if(p)throw p;const g=h.price,m=f/g;n({totalEarnings:f,btcEquivalent:m,btcPrice:g}),i({title:"Earnings Converted",description:`$${f.toFixed(2)} = ${m.toFixed(8)} BTC`})}catch(l){console.error("Error getting earnings:",l),i({title:"Error",description:`Failed to convert earnings: ${l.message}`,variant:"destructive"})}finally{s(!1)}},c=async()=>{if(!e||e.totalEarnings===0){i({title:"No Earnings",description:"You don't have any USD earnings to convert",variant:"destructive"});return}s(!0);try{const{error:l}=await ue.from("commissions").update({paid_out:!0,paid_at:new Date().toISOString()}).eq("paid_out",!1);if(l)throw l;i({title:"Converted to BTC!",description:`Converted $${e.totalEarnings.toFixed(2)} to ${e.btcEquivalent.toFixed(8)} BTC`}),n(null)}catch(l){console.error("Error converting earnings:",l),i({title:"Error",description:`Failed to convert earnings: ${l.message}`,variant:"destructive"})}finally{s(!1)}};return t?o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Convert USD Earnings to BTC"}),o.jsx(q,{variant:"outline",size:"sm",onClick:a,disabled:r,children:o.jsx(ul,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})}),o.jsx(G,{children:e?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-lg font-semibold",children:["USD Earnings: $",e.totalEarnings.toFixed(2)]}),o.jsxs("p",{className:"text-xl font-bold text-orange-600",children:[e.btcEquivalent.toFixed(8)," BTC"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["BTC Price: $",e.btcPrice.toLocaleString()]})]}),e.totalEarnings>0&&o.jsxs(q,{onClick:c,disabled:r,className:"w-full",children:["Convert $",e.totalEarnings.toFixed(2)," to BTC"]})]}):o.jsx("p",{className:"text-muted-foreground",children:"Click refresh to check your USD earnings"})})]}):null};function pE(t,[e,n]){return Math.min(n,Math.max(e,t))}var c$=x.createContext(void 0);function Mp(t){const e=x.useContext(c$);return t||e||"ltr"}var uy=0;function Uk(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??gE()),document.body.insertAdjacentElement("beforeend",t[1]??gE()),uy++,()=>{uy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uy--}},[])}function gE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dy="focusScope.autoFocusOnMount",fy="focusScope.autoFocusOnUnmount",yE={bubbles:!1,cancelable:!0},l$="FocusScope",Iw=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,l]=x.useState(null),u=Zn(s),d=Zn(i),f=x.useRef(null),h=Ze(e,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(b){if(p.paused||!c)return;const _=b.target;c.contains(_)?f.current=_:Si(f.current,{select:!0})},y=function(b){if(p.paused||!c)return;const _=b.relatedTarget;_!==null&&(c.contains(_)||Si(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&Si(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const w=new MutationObserver(v);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),w.disconnect()}}},[r,c,p.paused]),x.useEffect(()=>{if(c){xE.add(p);const m=document.activeElement;if(!c.contains(m)){const v=new CustomEvent(dy,yE);c.addEventListener(dy,u),c.dispatchEvent(v),v.defaultPrevented||(u$(p$($k(c)),{select:!0}),document.activeElement===m&&Si(c))}return()=>{c.removeEventListener(dy,u),setTimeout(()=>{const v=new CustomEvent(fy,yE);c.addEventListener(fy,d),c.dispatchEvent(v),v.defaultPrevented||Si(m??document.body,{select:!0}),c.removeEventListener(fy,d),xE.remove(p)},0)}}},[c,u,d,p]);const g=x.useCallback(m=>{if(!n&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const w=m.currentTarget,[b,_]=d$(w);b&&_?!m.shiftKey&&v===_?(m.preventDefault(),n&&Si(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&Si(_,{select:!0})):v===w&&m.preventDefault()}},[n,r,p.paused]);return o.jsx(je.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Iw.displayName=l$;function u$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Si(r,{select:e}),document.activeElement!==n)return}function d$(t){const e=$k(t),n=vE(e,t),r=vE(e.reverse(),t);return[n,r]}function $k(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vE(t,e){for(const n of t)if(!f$(n,{upTo:e}))return n}function f$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function h$(t){return t instanceof HTMLInputElement&&"select"in t}function Si(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&h$(t)&&e&&t.select()}}var xE=m$();function m$(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=wE(t,e),t.unshift(e)},remove(e){t=wE(t,e),t[0]?.resume()}}}function wE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function p$(t){return t.filter(e=>e.tagName!=="A")}function Bp(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var g$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ba=new WeakMap,Cf=new WeakMap,kf={},hy=0,Hk=function(t){return t&&(t.host||Hk(t.parentNode))},y$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Hk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},v$=function(t,e,n,r){var s=y$(e,Array.isArray(t)?t:[t]);kf[n]||(kf[n]=new WeakMap);var i=kf[n],a=[],c=new Set,l=new Set(s),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var p=h.getAttribute(r),g=p!==null&&p!=="false",m=(Ba.get(h)||0)+1,y=(i.get(h)||0)+1;Ba.set(h,m),i.set(h,y),a.push(h),m===1&&g&&Cf.set(h,!0),y===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(e),c.clear(),hy++,function(){a.forEach(function(f){var h=Ba.get(f)-1,p=i.get(f)-1;Ba.set(f,h),i.set(f,p),h||(Cf.has(f)||f.removeAttribute(r),Cf.delete(f)),p||f.removeAttribute(n)}),hy--,hy||(Ba=new WeakMap,Ba=new WeakMap,Cf=new WeakMap,kf={})}},zk=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=g$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),v$(r,s,n,"aria-hidden")):function(){return null}},cs=function(){return cs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cs.apply(this,arguments)};function Vk(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function x$(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var eh="right-scroll-bar-position",th="width-before-scroll-bar",w$="with-scroll-bars-hidden",b$="--removed-body-scroll-bar-size";function my(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _$(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var E$=typeof window<"u"?x.useLayoutEffect:x.useEffect,bE=new WeakMap;function A$(t,e){var n=_$(null,function(r){return t.forEach(function(s){return my(s,r)})});return E$(function(){var r=bE.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||my(c,null)}),i.forEach(function(c){s.has(c)||my(c,a)})}bE.set(n,t)},[t]),n}function S$(t){return t}function j$(t,e){e===void 0&&(e=S$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function N$(t){t===void 0&&(t={});var e=j$(null);return e.options=cs({async:!0,ssr:!1},t),e}var Gk=function(t){var e=t.sideCar,n=Vk(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,cs({},n))};Gk.isSideCarExport=!0;function C$(t,e){return t.useMedium(e),Gk}var Wk=N$(),py=function(){},Dp=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:py,onWheelCapture:py,onTouchMoveCapture:py}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noIsolation,g=t.inert,m=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,w=t.gapMode,b=Vk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,E=A$([n,e]),S=cs(cs({},b),s);return x.createElement(x.Fragment,null,d&&x.createElement(_,{sideCar:Wk,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:n,gapMode:w}),a?x.cloneElement(x.Children.only(c),cs(cs({},S),{ref:E})):x.createElement(v,cs({},S,{className:l,ref:E}),c))});Dp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dp.classNames={fullWidth:th,zeroRight:eh};var k$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=k$();return e&&t.setAttribute("nonce",e),t}function P$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function I$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var R$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=T$())&&(P$(e,n),I$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O$=function(){var t=R$();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qk=function(){var t=O$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},M$={left:0,top:0,right:0,gap:0},gy=function(t){return parseInt(t||"",10)||0},B$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[gy(n),gy(r),gy(s)]},D$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M$;var e=B$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},L$=qk(),_c="data-scroll-locked",F$=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(w$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(_c,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eh,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(th,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(th," .").concat(th,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_c,`] {
    `).concat(b$,": ").concat(c,`px;
  }
`)},_E=function(){var t=parseInt(document.body.getAttribute(_c)||"0",10);return isFinite(t)?t:0},U$=function(){x.useEffect(function(){return document.body.setAttribute(_c,(_E()+1).toString()),function(){var t=_E()-1;t<=0?document.body.removeAttribute(_c):document.body.setAttribute(_c,t.toString())}},[])},$$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;U$();var i=x.useMemo(function(){return D$(s)},[s]);return x.createElement(L$,{styles:F$(i,!e,s,n?"":"!important")})},fv=!1;if(typeof window<"u")try{var Tf=Object.defineProperty({},"passive",{get:function(){return fv=!0,!0}});window.addEventListener("test",Tf,Tf),window.removeEventListener("test",Tf,Tf)}catch{fv=!1}var Da=fv?{passive:!1}:!1,H$=function(t){return t.tagName==="TEXTAREA"},Qk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!H$(t)&&n[e]==="visible")},z$=function(t){return Qk(t,"overflowY")},V$=function(t){return Qk(t,"overflowX")},EE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Kk(t,r);if(s){var i=Yk(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},G$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},W$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Kk=function(t,e){return t==="v"?z$(e):V$(e)},Yk=function(t,e){return t==="v"?G$(e):W$(e)},q$=function(t,e){return t==="h"&&e==="rtl"?-1:1},Q$=function(t,e,n,r,s){var i=q$(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,l=e.contains(c),u=!1,d=a>0,f=0,h=0;do{var p=Yk(t,c),g=p[0],m=p[1],y=p[2],v=m-y-i*g;(g||v)&&Kk(t,c)&&(f+=v,h+=g),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(e.contains(c)||e===c));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Pf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AE=function(t){return[t.deltaX,t.deltaY]},SE=function(t){return t&&"current"in t?t.current:t},K$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Y$=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J$=0,La=[];function Z$(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(J$++)[0],i=x.useState(qk)[0],a=x.useRef(t);x.useEffect(function(){a.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=x$([t.lockRef.current],(t.shards||[]).map(SE),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=x.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var v=Pf(m),w=n.current,b="deltaX"in m?m.deltaX:w[0]-v[0],_="deltaY"in m?m.deltaY:w[1]-v[1],E,S=m.target,N=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&N==="h"&&S.type==="range")return!1;var j=EE(N,S);if(!j)return!0;if(j?E=N:(E=N==="v"?"h":"v",j=EE(N,S)),!j)return!1;if(!r.current&&"changedTouches"in m&&(b||_)&&(r.current=E),!E)return!0;var L=r.current||E;return Q$(L,y,m,L==="h"?b:_,!0)},[]),l=x.useCallback(function(m){var y=m;if(!(!La.length||La[La.length-1]!==i)){var v="deltaY"in y?AE(y):Pf(y),w=e.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&K$(E.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(SE).filter(Boolean).filter(function(E){return E.contains(y.target)}),_=b.length>0?c(y,b[0]):!a.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(m,y,v,w){var b={name:m,delta:y,target:v,should:w,shadowParent:X$(v)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(_){return _!==b})},1)},[]),d=x.useCallback(function(m){n.current=Pf(m),r.current=void 0},[]),f=x.useCallback(function(m){u(m.type,AE(m),m.target,c(m,t.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,Pf(m),m.target,c(m,t.lockRef.current))},[]);x.useEffect(function(){return La.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Da),document.addEventListener("touchmove",l,Da),document.addEventListener("touchstart",d,Da),function(){La=La.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,Da),document.removeEventListener("touchmove",l,Da),document.removeEventListener("touchstart",d,Da)}},[]);var p=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:Y$(s)}):null,p?x.createElement($$,{gapMode:t.gapMode}):null)}function X$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eH=C$(Wk,Z$);var Rw=x.forwardRef(function(t,e){return x.createElement(Dp,cs({},t,{ref:e,sideCar:eH}))});Rw.classNames=Dp.classNames;var tH=[" ","Enter","ArrowUp","ArrowDown"],nH=[" ","Enter"],$d="Select",[Lp,Fp,rH]=rw($d),[xl,xre]=_s($d,[rH,_p]),Up=_p(),[sH,wo]=xl($d),[iH,oH]=xl($d),Jk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=t,m=Up(e),[y,v]=x.useState(null),[w,b]=x.useState(null),[_,E]=x.useState(!1),S=Mp(u),[N=!1,j]=ei({prop:r,defaultProp:s,onChange:i}),[L,T]=ei({prop:a,defaultProp:c,onChange:l}),R=x.useRef(null),I=y?g||!!y.closest("form"):!0,[H,F]=x.useState(new Set),A=Array.from(H).map(C=>C.props.value).join(";");return o.jsx(C5,{...m,children:o.jsxs(sH,{required:p,scope:e,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:E,contentId:qi(),value:L,onValueChange:T,open:N,onOpenChange:j,dir:S,triggerPointerDownPosRef:R,disabled:h,children:[o.jsx(Lp.Provider,{scope:e,children:o.jsx(iH,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(C=>{F(B=>new Set(B).add(C))},[]),onNativeOptionRemove:x.useCallback(C=>{F(B=>{const k=new Set(B);return k.delete(C),k})},[]),children:n})}),I?o.jsxs(_2,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:C=>T(C.target.value),disabled:h,form:g,children:[L===void 0?o.jsx("option",{value:""}):null,Array.from(H)]},A):null]})})};Jk.displayName=$d;var Zk="SelectTrigger",Xk=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Up(n),a=wo(Zk,n),c=a.disabled||r,l=Ze(e,a.onTriggerChange),u=Fp(n),d=x.useRef("touch"),[f,h,p]=E2(m=>{const y=u().filter(b=>!b.disabled),v=y.find(b=>b.value===a.value),w=A2(y,m,v);w!==void 0&&a.onValueChange(w.value)}),g=m=>{c||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(AC,{asChild:!0,...i,children:o.jsx(je.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":b2(a.value)?"":void 0,...s,ref:l,onClick:pe(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:pe(s.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:pe(s.onKeyDown,m=>{const y=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(y&&m.key===" ")&&tH.includes(m.key)&&(g(),m.preventDefault())})})})});Xk.displayName=Zk;var e2="SelectValue",t2=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...c}=t,l=wo(e2,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Ze(e,l.onValueNodeChange);return xn(()=>{u(d)},[u,d]),o.jsx(je.span,{...c,ref:f,style:{pointerEvents:"none"},children:b2(l.value)?o.jsx(o.Fragment,{children:a}):i})});t2.displayName=e2;var aH="SelectIcon",n2=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(je.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});n2.displayName=aH;var cH="SelectPortal",r2=t=>o.jsx(dp,{asChild:!0,...t});r2.displayName=cH;var la="SelectContent",s2=x.forwardRef((t,e)=>{const n=wo(la,t.__scopeSelect),[r,s]=x.useState();if(xn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?_a.createPortal(o.jsx(i2,{scope:t.__scopeSelect,children:o.jsx(Lp.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(o2,{...t,ref:e})});s2.displayName=la;var Ir=10,[i2,bo]=xl(la),lH="SelectContentImpl",o2=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y,...v}=t,w=wo(la,n),[b,_]=x.useState(null),[E,S]=x.useState(null),N=Ze(e,ae=>_(ae)),[j,L]=x.useState(null),[T,R]=x.useState(null),I=Fp(n),[H,F]=x.useState(!1),A=x.useRef(!1);x.useEffect(()=>{if(b)return zk(b)},[b]),Uk();const C=x.useCallback(ae=>{const[Ve,...Ke]=I().map(Fe=>Fe.ref.current),[Oe]=Ke.slice(-1),Ye=document.activeElement;for(const Fe of ae)if(Fe===Ye||(Fe?.scrollIntoView({block:"nearest"}),Fe===Ve&&E&&(E.scrollTop=0),Fe===Oe&&E&&(E.scrollTop=E.scrollHeight),Fe?.focus(),document.activeElement!==Ye))return},[I,E]),B=x.useCallback(()=>C([j,b]),[C,j,b]);x.useEffect(()=>{H&&B()},[H,B]);const{onOpenChange:k,triggerPointerDownPosRef:M}=w;x.useEffect(()=>{if(b){let ae={x:0,y:0};const Ve=Oe=>{ae={x:Math.abs(Math.round(Oe.pageX)-(M.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(M.current?.y??0))}},Ke=Oe=>{ae.x<=10&&ae.y<=10?Oe.preventDefault():b.contains(Oe.target)||k(!1),document.removeEventListener("pointermove",Ve),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[b,k,M]),x.useEffect(()=>{const ae=()=>k(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[k]);const[$,W]=E2(ae=>{const Ve=I().filter(Ye=>!Ye.disabled),Ke=Ve.find(Ye=>Ye.ref.current===document.activeElement),Oe=A2(Ve,ae,Ke);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ee=x.useCallback((ae,Ve,Ke)=>{const Oe=!A.current&&!Ke;(w.value!==void 0&&w.value===Ve||Oe)&&(L(ae),Oe&&(A.current=!0))},[w.value]),fe=x.useCallback(()=>b?.focus(),[b]),le=x.useCallback((ae,Ve,Ke)=>{const Oe=!A.current&&!Ke;(w.value!==void 0&&w.value===Ve||Oe)&&R(ae)},[w.value]),Le=r==="popper"?hv:a2,Ne=Le===hv?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:y}:{};return o.jsx(i2,{scope:n,content:b,viewport:E,onViewportChange:S,itemRefCallback:ee,selectedItem:j,onItemLeave:fe,itemTextRefCallback:le,focusSelectedItem:B,selectedItemText:T,position:r,isPositioned:H,searchRef:$,children:o.jsx(Rw,{as:no,allowPinchZoom:!0,children:o.jsx(Iw,{asChild:!0,trapped:w.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:pe(s,ae=>{w.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:o.jsx(Rd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Le,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ae=>ae.preventDefault(),...v,...Ne,onPlaced:()=>F(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,ae=>{const Ve=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ve&&ae.key.length===1&&W(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Oe=I().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Ye=ae.target,Fe=Oe.indexOf(Ye);Oe=Oe.slice(Fe+1)}setTimeout(()=>C(Oe)),ae.preventDefault()}})})})})})})});o2.displayName=lH;var uH="SelectItemAlignedPosition",a2=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wo(la,n),a=bo(la,n),[c,l]=x.useState(null),[u,d]=x.useState(null),f=Ze(e,N=>d(N)),h=Fp(n),p=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=a,b=x.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&m&&y&&v){const N=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(i.dir!=="rtl"){const Ye=T.left-j.left,Fe=L.left-Ye,pt=N.left-Fe,Kt=N.width+pt,Yr=Math.max(Kt,j.width),Dn=window.innerWidth-Ir,Ca=pE(Fe,[Ir,Math.max(Ir,Dn-Yr)]);c.style.minWidth=Kt+"px",c.style.left=Ca+"px"}else{const Ye=j.right-T.right,Fe=window.innerWidth-L.right-Ye,pt=window.innerWidth-N.right-Fe,Kt=N.width+pt,Yr=Math.max(Kt,j.width),Dn=window.innerWidth-Ir,Ca=pE(Fe,[Ir,Math.max(Ir,Dn-Yr)]);c.style.minWidth=Kt+"px",c.style.right=Ca+"px"}const R=h(),I=window.innerHeight-Ir*2,H=m.scrollHeight,F=window.getComputedStyle(u),A=parseInt(F.borderTopWidth,10),C=parseInt(F.paddingTop,10),B=parseInt(F.borderBottomWidth,10),k=parseInt(F.paddingBottom,10),M=A+C+H+k+B,$=Math.min(y.offsetHeight*5,M),W=window.getComputedStyle(m),ee=parseInt(W.paddingTop,10),fe=parseInt(W.paddingBottom,10),le=N.top+N.height/2-Ir,Le=I-le,Ne=y.offsetHeight/2,ae=y.offsetTop+Ne,Ve=A+C+ae,Ke=M-Ve;if(Ve<=le){const Ye=R.length>0&&y===R[R.length-1].ref.current;c.style.bottom="0px";const Fe=u.clientHeight-m.offsetTop-m.offsetHeight,pt=Math.max(Le,Ne+(Ye?fe:0)+Fe+B),Kt=Ve+pt;c.style.height=Kt+"px"}else{const Ye=R.length>0&&y===R[0].ref.current;c.style.top="0px";const pt=Math.max(le,A+m.offsetTop+(Ye?ee:0)+Ne)+Ke;c.style.height=pt+"px",m.scrollTop=Ve-le+m.offsetTop}c.style.margin=`${Ir}px 0`,c.style.minHeight=$+"px",c.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,c,u,m,y,v,i.dir,r]);xn(()=>b(),[b]);const[_,E]=x.useState();xn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(N=>{N&&g.current===!0&&(b(),w?.(),g.current=!1)},[b,w]);return o.jsx(fH,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:o.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(je.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});a2.displayName=uH;var dH="SelectPopperPosition",hv=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ir,...i}=t,a=Up(n);return o.jsx(SC,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hv.displayName=dH;var[fH,Ow]=xl(la,{}),mv="SelectViewport",c2=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=bo(mv,n),a=Ow(mv,n),c=Ze(e,i.onViewportChange),l=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Lp.Slot,{scope:n,children:o.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:pe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h?.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-Ir*2,m=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(m,y);if(v<g){const w=v+p,b=Math.min(g,w),_=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});c2.displayName=mv;var l2="SelectGroup",[hH,mH]=xl(l2),pH=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qi();return o.jsx(hH,{scope:n,id:s,children:o.jsx(je.div,{role:"group","aria-labelledby":s,...r,ref:e})})});pH.displayName=l2;var u2="SelectLabel",d2=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mH(u2,n);return o.jsx(je.div,{id:s.id,...r,ref:e})});d2.displayName=u2;var qh="SelectItem",[gH,f2]=xl(qh),h2=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,c=wo(qh,n),l=bo(qh,n),u=c.value===r,[d,f]=x.useState(i??""),[h,p]=x.useState(!1),g=Ze(e,w=>l.itemRefCallback?.(w,r,s)),m=qi(),y=x.useRef("touch"),v=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(gH,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:x.useCallback(w=>{f(b=>b||(w?.textContent??"").trim())},[]),children:o.jsx(Lp.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(je.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:pe(a.onFocus,()=>p(!0)),onBlur:pe(a.onBlur,()=>p(!1)),onClick:pe(a.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:pe(a.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:pe(a.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:pe(a.onPointerMove,w=>{y.current=w.pointerType,s?l.onItemLeave?.():y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(a.onPointerLeave,w=>{w.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:pe(a.onKeyDown,w=>{l.searchRef?.current!==""&&w.key===" "||(nH.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});h2.displayName=qh;var tu="SelectItemText",m2=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=wo(tu,n),c=bo(tu,n),l=f2(tu,n),u=oH(tu,n),[d,f]=x.useState(null),h=Ze(e,v=>f(v),l.onItemTextChange,v=>c.itemTextRefCallback?.(v,l.value,l.disabled)),p=d?.textContent,g=x.useMemo(()=>o.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return xn(()=>(m(g),()=>y(g)),[m,y,g]),o.jsxs(o.Fragment,{children:[o.jsx(je.span,{id:l.textId,...i,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?_a.createPortal(i.children,a.valueNode):null]})});m2.displayName=tu;var p2="SelectItemIndicator",g2=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f2(p2,n).isSelected?o.jsx(je.span,{"aria-hidden":!0,...r,ref:e}):null});g2.displayName=p2;var pv="SelectScrollUpButton",y2=x.forwardRef((t,e)=>{const n=bo(pv,t.__scopeSelect),r=Ow(pv,t.__scopeSelect),[s,i]=x.useState(!1),a=Ze(e,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(x2,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});y2.displayName=pv;var gv="SelectScrollDownButton",v2=x.forwardRef((t,e)=>{const n=bo(gv,t.__scopeSelect),r=Ow(gv,t.__scopeSelect),[s,i]=x.useState(!1),a=Ze(e,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(x2,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});v2.displayName=gv;var x2=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=bo("SelectScrollButton",n),a=x.useRef(null),c=Fp(n),l=x.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),xn(()=>{c().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),o.jsx(je.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:pe(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:pe(s.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:pe(s.onPointerLeave,()=>{l()})})}),yH="SelectSeparator",w2=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(je.div,{"aria-hidden":!0,...r,ref:e})});w2.displayName=yH;var yv="SelectArrow",vH=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Up(n),i=wo(yv,n),a=bo(yv,n);return i.open&&a.position==="popper"?o.jsx(jC,{...s,...r,ref:e}):null});vH.displayName=yv;function b2(t){return t===""||t===void 0}var _2=x.forwardRef((t,e)=>{const{value:n,...r}=t,s=x.useRef(null),i=Ze(e,s),a=Bp(n);return x.useEffect(()=>{const c=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(c,n),c.dispatchEvent(f)}},[a,n]),o.jsx(Od,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});_2.displayName="BubbleSelect";function E2(t){const e=Zn(t),n=x.useRef(""),r=x.useRef(0),s=x.useCallback(a=>{const c=n.current+a;e(c),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(c)},[e]),i=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function A2(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=xH(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function xH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wH=Jk,S2=Xk,bH=t2,_H=n2,EH=r2,j2=s2,AH=c2,N2=d2,C2=h2,SH=m2,jH=g2,k2=y2,T2=v2,P2=w2;const Ki=wH,Yi=bH,qs=x.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(S2,{ref:r,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(_H,{asChild:!0,children:o.jsx(zN,{className:"h-4 w-4 opacity-50"})})]}));qs.displayName=S2.displayName;const I2=x.forwardRef(({className:t,...e},n)=>o.jsx(k2,{ref:n,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(W3,{className:"h-4 w-4"})}));I2.displayName=k2.displayName;const R2=x.forwardRef(({className:t,...e},n)=>o.jsx(T2,{ref:n,className:he("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(zN,{className:"h-4 w-4"})}));R2.displayName=T2.displayName;const Qs=x.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(EH,{children:o.jsxs(j2,{ref:s,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(I2,{}),o.jsx(AH,{className:he("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(R2,{})]})}));Qs.displayName=j2.displayName;const NH=x.forwardRef(({className:t,...e},n)=>o.jsx(N2,{ref:n,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));NH.displayName=N2.displayName;const Pt=x.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(C2,{ref:r,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(jH,{children:o.jsx(HN,{className:"h-4 w-4"})})}),o.jsx(SH,{children:e})]}));Pt.displayName=C2.displayName;const CH=x.forwardRef(({className:t,...e},n)=>o.jsx(P2,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",t),...e}));CH.displayName=P2.displayName;const kH=({wallet:t,balance:e,onBalanceUpdate:n})=>{const[r,s]=x.useState(""),[i,a]=x.useState(""),[c,l]=x.useState(!1),[u,d]=x.useState(""),{toast:f}=ze(),h=[{name:"Coinbase",address:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{name:"Binance",address:"1NDyJtNTjmwk5xPNhjgAMu4HDHigtobu1s"},{name:"Kraken",address:"1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2"},{name:"Custom Exchange",value:"custom"}],p=m=>{if(d(m),m!=="custom"){const y=h.find(v=>v.address===m);y&&s(y.address)}else s("")},g=async()=>{if(!t||!r||!i){f({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}l(!0);try{const{data:m,error:y}=await ue.functions.invoke("send-btc",{body:{privateKeyWIF:t.privateKey,recipientAddress:r,amountSats:parseInt(i)}});if(y)throw y;console.log("Transaction result:",m),f({title:"Bitcoin Sent!",description:`TXID: ${m.txid}`}),s(""),a(""),d(""),n()}catch(m){console.error("Error sending BTC:",m),f({title:"Transaction Failed",description:`${m.message}`,variant:"destructive"})}finally{l(!1)}};return t?o.jsx("div",{className:"space-y-6",children:e&&e.balanceSats>0&&o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(ll,{className:"h-5 w-5"}),"Quick Withdrawal to Exchange"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Select Exchange"}),o.jsxs(Ki,{value:u,onValueChange:p,children:[o.jsx(qs,{children:o.jsx(Yi,{placeholder:"Choose exchange"})}),o.jsx(Qs,{children:h.map(m=>o.jsx(Pt,{value:m.address||m.value,children:m.name},m.address||m.value))})]})]}),u==="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Custom Address"}),o.jsx(ve,{value:r,onChange:m=>s(m.target.value),placeholder:"Enter Bitcoin address",className:"font-mono"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Amount (satoshis)"}),o.jsx(ve,{type:"number",value:i,onChange:m=>a(m.target.value),placeholder:`Max: ${e.balanceSats-1e3} sats`,min:"1",max:e.balanceSats-1e3})]}),o.jsxs(q,{onClick:g,disabled:c||!r||!i,className:"w-full",children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Bitcoin"]})]})]})}):null},TH=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(null),s=c=>{e(c),r(null)},i=c=>{r(c)},a=()=>{r(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx(i$,{wallet:t,onWalletGenerated:s}),o.jsx(a$,{wallet:t}),o.jsx(o$,{wallet:t,balance:n,onBalanceUpdated:i}),o.jsx(kH,{wallet:t,balance:n,onBalanceUpdate:a})]})},PH=({userId:t})=>o.jsx("div",{className:"space-y-6",children:o.jsx(TH,{})}),IH=({tasksCompleted:t,maxTasks:e,hasWithdrawn:n,onTaskComplete:r,onResetAccount:s,userEmail:i="",userId:a=""})=>{const[c,l]=x.useState(0),[u,d]=x.useState(!1),{toast:f}=ze(),h=Ew.filter(b=>b.billingPeriod==="one-time").map(b=>({name:b.name,product:b.product,price:b.price,description:b.description,commissionRate:b.commissionRate,isRealAffiliate:!0,affiliateUrl:b.affiliateUrl,cjAffiliateId:b.cjAffiliateId})),p=[{name:"StreamMax Pro",product:"Premium Streaming Service",price:29.99,description:"Unlimited 4K streaming with exclusive content",commissionRate:.05,isRealAffiliate:!1},{name:"FitTracker Elite",product:"Advanced Fitness Tracker",price:199.99,description:"Monitor your health with precision sensors",commissionRate:.05,isRealAffiliate:!1},{name:"CloudSync Business",product:"Enterprise Cloud Storage",price:49.99,description:"Secure your data with 1TB cloud storage",commissionRate:.05,isRealAffiliate:!1}],g=()=>{if(Math.random()<.9&&h.length>0){const _=Math.floor(Math.random()*h.length);return h[_]}else{const _=Math.floor(Math.random()*p.length);return p[_]}},m=()=>{if(u||t>=e)return;const b=g(),E=[...h,...p].findIndex(N=>N.name===b.name&&N.isRealAffiliate===b.isRealAffiliate);l(E>=0?E:0),d(!0);const S=b.isRealAffiliate?Math.random()*15+10:Math.random()*8+5;setTimeout(()=>{r(S),d(!1),b.isRealAffiliate?f({title:" Ad Revenue Earned!",description:`You earned $${S.toFixed(2)} in ad revenue from ${b.name} optimization! (Your CJ Affiliate Partner)`}):f({title:"Ad Revenue Earned!",description:`You earned $${S.toFixed(2)} in ad revenue from ${b.name} optimization!`})},3e3),f({title:"Optimization Started!",description:`Running ${b.name} optimization task. Advertisers are paying for this exposure!`})},y=[...h,...p],v=y[c]||y[0],w=t<e&&!u&&!n;return o.jsxs(o.Fragment,{children:[u&&o.jsxs(V,{className:`border-2 animate-pulse ${v?.isRealAffiliate?"border-green-500 bg-green-50":"border-primary"}`,children:[o.jsx(Z,{children:o.jsxs(X,{className:"text-center text-xl flex items-center justify-center gap-2",children:[v?.name,v?.isRealAffiliate&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500 text-white font-bold animate-pulse",children:" YOUR CJ PARTNER"}),v?.cjAffiliateId&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-500 text-white",children:"CJ ID: 7602933"})]})}),o.jsxs(G,{className:"text-center space-y-4",children:[o.jsxs("div",{className:`${v?.isRealAffiliate?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-blue-500 to-purple-500"} text-white p-6 rounded-lg`,children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:v?.product}),o.jsx("p",{className:"text-lg mb-4",children:v?.description}),o.jsxs("div",{className:"text-3xl font-bold",children:["$",v?.price]}),o.jsxs("div",{className:"text-sm mt-2 opacity-90",children:["Product Value: $",v?.price]}),o.jsxs("div",{className:"text-sm mt-2 opacity-75",children:["Ad Revenue Rate: $",v?.isRealAffiliate?"$10-25":"$5-13"," per optimization"]}),v?.isRealAffiliate&&o.jsx("div",{className:"text-sm mt-3 bg-white/20 rounded p-2 font-semibold",children:" Generating ad revenue from your CJ partnership..."})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:v?.isRealAffiliate?"Optimizing your CJ affiliate partner site...":"Processing optimization task..."})]})]}),o.jsx(V,{children:o.jsx(G,{className:"p-8 text-center space-y-6",children:n?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-lg text-green-600 font-semibold",children:" Daily earnings completed!"}),o.jsx(q,{onClick:s,size:"lg",variant:"outline",children:"Reset Account for Tomorrow"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-800",children:[o.jsx(Ut,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Ad-Sponsored Optimization Tasks"})]}),o.jsx("p",{className:"text-sm text-green-700 mt-2",children:"Advertisers pay you $5-25 per optimization task. Run optimizations to earn ad revenue from your affiliate partnerships."})]}),o.jsx(q,{onClick:m,disabled:!w,size:"lg",className:"w-full md:w-auto px-12 py-6 text-xl bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:u?"Processing...":t>=e?"Complete 20/20 - Reset to Continue":`Run Ad-Sponsored Optimization (${t}/${e})`}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:t>=e?"You've completed all daily tasks. Reset to continue earning!":"Advertisers pay you to run optimization tasks that showcase your affiliate partners"}),o.jsx("p",{className:"text-xs text-green-600 font-medium",children:" 90% chance of YOUR CJ affiliate partners (ID: 7602933) - Higher ad revenue rates!"})]})]})})})]})},RH=({service:t,onPurchase:e})=>o.jsxs("div",{className:"relative p-6 border rounded-lg hover:shadow-lg transition-all duration-200 bg-white",children:[t.popularBadge&&o.jsx("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs px-3 py-1 rounded-full font-semibold",children:"Popular Choice"}),o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h4",{className:"font-bold text-lg",children:t.name}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${jk(t.category)}`,children:t.category}),t.cjAffiliateId&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"CJ Affiliate"})]})]}),o.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:t.product}),o.jsx("p",{className:"text-xs text-gray-600 mb-4 line-clamp-2",children:t.description}),o.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[o.jsx(gp,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm font-medium",children:t.rating}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Real reviews)"}),t.epc&&o.jsxs("span",{className:"text-xs text-blue-600 ml-2",children:["EPC: ",t.epc]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Key Features:"}),o.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:t.features.slice(0,3).map((n,r)=>o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full"}),n]},r))})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[t.originalPrice&&o.jsxs("p",{className:"text-xs text-gray-500 line-through",children:["$",t.originalPrice]}),o.jsx("p",{className:"text-xl font-bold text-green-600",children:Sk(t)})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-orange-600",children:[o.jsx(kr,{className:"h-3 w-3"}),o.jsxs("span",{children:["We earn $",FU(t.price,t.commissionRate)]})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[(t.commissionRate*100).toFixed(0),"% commission"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(ti,{className:"h-3 w-3 text-blue-500"}),o.jsx("span",{className:"text-xs text-blue-600 capitalize",children:t.billingPeriod==="one-time"?"One-time purchase":`${t.billingPeriod} billing`})]}),o.jsxs(q,{onClick:()=>e(t),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"sm",children:[o.jsx(ro,{className:"h-4 w-4 mr-2"}),t.billingPeriod==="one-time"?"Buy Now":"Start Subscription"]}),o.jsxs("div",{className:"mt-3 flex items-center justify-center gap-1 text-xs text-gray-500",children:[o.jsx(cn,{className:"h-3 w-3"}),o.jsxs("span",{children:["Secure checkout via ",t.name]})]})]}),OH=()=>o.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[o.jsxs("h5",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[o.jsx(kr,{className:"h-5 w-5"}),"Real Affiliate Partnership Program"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h6",{className:"font-semibold text-blue-800 mb-2",children:"For You:"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Access real premium services at competitive prices"}),o.jsx("li",{children:" Verified partnerships with trusted brands"}),o.jsx("li",{children:" Exclusive deals through our affiliate network"}),o.jsx("li",{children:" Support our platform at no additional cost"})]})]}),o.jsxs("div",{children:[o.jsx("h6",{className:"font-semibold text-blue-800 mb-2",children:"Our Partnership Model:"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Real commission earnings (4-25%)"}),o.jsx("li",{children:" Commission Junction (CJ Affiliate) integration"}),o.jsx("li",{children:" Direct partnerships with service providers"}),o.jsx("li",{children:" Monthly payout processing"})]})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-white rounded border-l-4 border-green-500",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" ACTIVE INTEGRATION:"})," Your CJ Affiliate Publisher ID ",o.jsx("strong",{children:"7602933"})," is now integrated! All 1-800-FLORALS affiliate links and optimization tasks are using YOUR actual CJ Publisher ID to ensure you earn real commissions."]})}),o.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded border border-green-200",children:o.jsxs("p",{className:"text-xs text-green-700",children:[o.jsx("strong",{children:"Publisher ID 7602933"})," | All affiliate tracking and commission earning is now configured with your actual CJ Affiliate account."]})})]}),O2=()=>{const{handlePurchase:t}=Ak();return o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(oa,{className:"h-5 w-5"}),"Partner Affiliate Services",o.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:"(Real affiliate partnerships - including CJ Affiliate network!)"})]})}),o.jsxs(G,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ew.map(e=>o.jsx(RH,{service:e,onPurchase:t},e.id))}),o.jsx(OH,{})]})]})},MH=({tasksCompleted:t,maxTasks:e,hasWithdrawn:n,earnings:r,userEmail:s,userId:i,onTaskComplete:a,onResetAccount:c})=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(IH,{tasksCompleted:t,maxTasks:e,hasWithdrawn:n,onTaskComplete:a,onResetAccount:c,userEmail:s,userId:i}),o.jsx(O2,{})]}),M2=x.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:he("w-full caption-bottom text-sm",t),...e})}));M2.displayName="Table";const B2=x.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:he("[&_tr]:border-b",t),...e}));B2.displayName="TableHeader";const D2=x.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:he("[&_tr:last-child]:border-0",t),...e}));D2.displayName="TableBody";const BH=x.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));BH.displayName="TableFooter";const Mw=x.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Mw.displayName="TableRow";const Po=x.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:he("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Po.displayName="TableHead";const Io=x.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:he("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Io.displayName="TableCell";const DH=x.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:he("mt-4 text-sm text-muted-foreground",t),...e}));DH.displayName="TableCaption";const LH=Md("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function et({className:t,variant:e,...n}){return o.jsx("div",{className:he(LH({variant:e}),t),...n})}const FH=t=>{switch(t){case"pending":return ti;case"confirmed":return Ft;case"failed":return Bc;default:return ti}},UH=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$H=(t,e="mainnet")=>e==="mainnet"?`https://mempool.space/tx/${t}`:`https://mempool.space/testnet/tx/${t}`,HH=(t,e="mainnet")=>{window.open($H(t,e),"_blank")},Ul=t=>t.type==="withdrawal"&&t.address==="Bank Account Transfer",zH=({transaction:t})=>{const e=FH(t.status);return o.jsxs(Mw,{children:[o.jsx(Io,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[Ul(t)?o.jsx($N,{className:"h-4 w-4 text-blue-500"}):t.type==="withdrawal"?o.jsx(ia,{className:"h-4 w-4 text-orange-500"}):o.jsx("div",{className:"h-4 w-4 bg-green-500 rounded-full"}),o.jsx("span",{className:"capitalize",children:Ul(t)?"Bank Deposit":t.type})]})}),o.jsx(Io,{children:o.jsxs("span",{className:t.type==="withdrawal"?"text-red-600":"text-green-600",children:[t.type==="withdrawal"?"-":"+","$",t.amount.toFixed(2)]})}),o.jsx(Io,{children:t.address?o.jsx("div",{className:`text-xs ${Ul(t)?"text-blue-600 font-medium":"font-mono break-all max-w-[200px]"}`,children:t.address}):o.jsx("span",{className:"text-muted-foreground",children:"Task completion"})}),o.jsx(Io,{children:o.jsx(et,{className:UH(t.status),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(e,{className:"h-4 w-4"}),o.jsx("span",{className:"capitalize",children:t.status})]})})}),o.jsx(Io,{children:o.jsxs("div",{className:"text-sm",children:[t.timestamp.toLocaleDateString(),o.jsx("div",{className:"text-xs text-muted-foreground",children:t.timestamp.toLocaleTimeString()})]})}),o.jsx(Io,{children:t.txHash&&!Ul(t)?o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>HH(t.txHash,t.network||"mainnet"),className:"flex items-center gap-1",children:[o.jsx(ro,{className:"h-3 w-3"}),"View"]}):Ul(t)?o.jsx("span",{className:"text-blue-600 text-sm",children:"Bank Transfer"}):o.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})})]})},VH=()=>o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(ia,{className:"h-5 w-5"}),"Transaction History"]})}),o.jsx(G,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ia,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No transactions yet"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your withdrawals and earnings will appear here"})]})})]}),GH=({transactions:t})=>{const e=t.some(n=>n.status==="pending");return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Pending Transactions:"})," Bitcoin mainnet transactions typically take 10-60 minutes to confirm. Bank deposits take 1-2 business days to process. You can track Bitcoin transactions in real-time on mempool.space."]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("strong",{children:"Block Explorer:"})," Bitcoin transactions can be viewed on"," ",o.jsx("a",{href:"https://mempool.space",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"mempool.space"})," ","for detailed blockchain information. Bank deposits are processed through Stripe and will appear in your bank account within 1-2 business days."]})})]})},WH=({transactions:t})=>t.length===0?o.jsx(VH,{}):o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(ia,{className:"h-5 w-5"}),"Transaction History",o.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-auto",children:"Powered by mempool.space"})]})}),o.jsxs(G,{children:[o.jsxs(M2,{children:[o.jsx(B2,{children:o.jsxs(Mw,{children:[o.jsx(Po,{children:"Type"}),o.jsx(Po,{children:"Amount"}),o.jsx(Po,{children:"Address/Details"}),o.jsx(Po,{children:"Status"}),o.jsx(Po,{children:"Date"}),o.jsx(Po,{children:"Explorer"})]})}),o.jsx(D2,{children:t.map(e=>o.jsx(zH,{transaction:e},e.id))})]}),o.jsx(GH,{transactions:t})]})]}),qH=({transactions:t})=>o.jsx(WH,{transactions:t}),QH=()=>{const{user:t}=vl(),[e,n]=x.useState(0),[r,s]=x.useState(0),[i,a]=x.useState(!1),[c,l]=x.useState([]),[u,d]=x.useState(!1),{toast:f}=ze(),h=20,p=t?.email||"",g=t?.id||"",{addCommission:m}=zU(g),{resetTasks:y,resetAccount:v}=HU(r,h,()=>{s(0)},()=>{n(0),s(0),a(!1),l([])}),w=N=>{const j={...N,id:Math.random().toString(36).substr(2,9),timestamp:new Date};return l(L=>[j,...L]),j.id},b=(N,j)=>{l(L=>L.map(T=>T.id===N?{...T,...j}:T))},_=async N=>{n(j=>j+N),s(j=>j+1),w({type:"earning",amount:N,status:"confirmed"}),g&&await m(Math.round(N*100),`Task completion earnings: $${N.toFixed(2)}`,"task_completion")},E=()=>{const N=w({type:"withdrawal",amount:e,status:"pending"});n(0),a(!0),setTimeout(()=>{b(N,{status:"confirmed"})},1e3)},S=N=>{const j=w({type:"withdrawal",amount:N,status:"pending",address:"Verified Bank Account Transfer"});n(L=>L-N),f({title:"Secure Deposit Initiated",description:`$${N.toFixed(2)} securely transferred to your verified bank account.`}),setTimeout(()=>{b(j,{status:"confirmed"})},2e3)};return t?u?o.jsx(Ck,{onBack:()=>d(!1)}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(WU,{userEmail:p,onShowPrivacyPolicy:()=>d(!0)}),o.jsx(KU,{earnings:e,tasksCompleted:r,maxTasks:h,onResetTasks:y,userEmail:p,userId:g}),o.jsx(PH,{userId:g}),o.jsx(MH,{tasksCompleted:r,maxTasks:h,hasWithdrawn:i,earnings:e,userEmail:p,userId:g,onTaskComplete:_,onResetAccount:v,onWithdraw:E,onSecureBankDeposit:S}),o.jsx(qH,{transactions:c})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"max-w-md w-full space-y-6",children:o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Please sign in to access your dashboard"})]})})})},KH=()=>{const{trackImpression:t,trackClick:e}=kw(),n=()=>{t({adSlot:"3941685758",placementId:"dashboard_multiplex",adType:"multiplex"})},r=()=>{e({adSlot:"3941685758",placementId:"dashboard_multiplex",adType:"multiplex"})};return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx(QH,{}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Mo,{adSlot:"3941685758",adFormat:"autorelaxed",style:{display:"block"},className:"max-w-4xl mx-auto",onImpression:n,onAdClick:r})})]})})};function YH(t,e=[]){let n=[];function r(i,a){const c=x.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:p,...g}=f,m=h?.[t][l]||c,y=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:y,children:p})}function d(f,h){const p=h?.[t][l]||c,g=x.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>x.createContext(a));return function(c){const l=c?.[t]||i;return x.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,JH(s,...e)]}function JH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var yy="rovingFocusGroup.onEntryFocus",ZH={bubbles:!1,cancelable:!0},$p="RovingFocusGroup",[vv,L2,XH]=rw($p),[e9,Hp]=YH($p,[XH]),[t9,n9]=e9($p),F2=x.forwardRef((t,e)=>o.jsx(vv.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(vv.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(r9,{...t,ref:e})})}));F2.displayName=$p;var r9=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=x.useRef(null),p=Ze(e,h),g=Mp(i),[m=null,y]=ei({prop:a,defaultProp:c,onChange:l}),[v,w]=x.useState(!1),b=Zn(u),_=L2(n),E=x.useRef(!1),[S,N]=x.useState(0);return x.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(yy,b),()=>j.removeEventListener(yy,b)},[b]),o.jsx(t9,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:m,onItemFocus:x.useCallback(j=>y(j),[y]),onItemShiftTab:x.useCallback(()=>w(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(j=>j+1),[]),onFocusableItemRemove:x.useCallback(()=>N(j=>j-1),[]),children:o.jsx(je.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{E.current=!0}),onFocus:pe(t.onFocus,j=>{const L=!E.current;if(j.target===j.currentTarget&&L&&!v){const T=new CustomEvent(yy,ZH);if(j.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=_().filter(C=>C.focusable),I=R.find(C=>C.active),H=R.find(C=>C.id===m),A=[I,H,...R].filter(Boolean).map(C=>C.ref.current);H2(A,d)}}E.current=!1}),onBlur:pe(t.onBlur,()=>w(!1))})})}),U2="RovingFocusGroupItem",$2=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,c=qi(),l=i||c,u=n9(U2,n),d=u.currentTabStopId===l,f=L2(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return x.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),o.jsx(vv.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:o.jsx(je.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:pe(t.onMouseDown,g=>{r?u.onItemFocus(l):g.preventDefault()}),onFocus:pe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:pe(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=o9(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(w=>w.focusable).map(w=>w.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const w=v.indexOf(g.currentTarget);v=u.loop?a9(v,w+1):v.slice(w+1)}setTimeout(()=>H2(v))}})})})});$2.displayName=U2;var s9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function o9(t,e,n){const r=i9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return s9[r]}function H2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function a9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var z2=F2,V2=$2,Bw="Tabs",[c9,wre]=_s(Bw,[Hp]),G2=Hp(),[l9,Dw]=c9(Bw),W2=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:l="automatic",...u}=t,d=Mp(c),[f,h]=ei({prop:r,onChange:s,defaultProp:i});return o.jsx(l9,{scope:n,baseId:qi(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:o.jsx(je.div,{dir:d,"data-orientation":a,...u,ref:e})})});W2.displayName=Bw;var q2="TabsList",Q2=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Dw(q2,n),a=G2(n);return o.jsx(z2,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Q2.displayName=q2;var K2="TabsTrigger",Y2=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Dw(K2,n),c=G2(n),l=X2(a.baseId,r),u=eT(a.baseId,r),d=r===a.value;return o.jsx(V2,{asChild:!0,...c,focusable:!s,active:d,children:o.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:pe(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:pe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});Y2.displayName=K2;var J2="TabsContent",Z2=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,c=Dw(J2,n),l=X2(c.baseId,r),u=eT(c.baseId,r),d=r===c.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(li,{present:s||d,children:({present:h})=>o.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});Z2.displayName=J2;function X2(t,e){return`${t}-trigger-${e}`}function eT(t,e){return`${t}-content-${e}`}var u9=W2,tT=Q2,nT=Y2,rT=Z2;const wl=u9,Sa=x.forwardRef(({className:t,...e},n)=>o.jsx(tT,{ref:n,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Sa.displayName=tT.displayName;const _t=x.forwardRef(({className:t,...e},n)=>o.jsx(nT,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));_t.displayName=nT.displayName;const Et=x.forwardRef(({className:t,...e},n)=>o.jsx(rT,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Et.displayName=rT.displayName;const d9=({connectAccountId:t})=>{const e={totalRevenue:12543.5,monthlyRevenue:3240.75,activePartners:8,pendingPayouts:1250};return o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(G,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",e.totalRevenue.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"This Month"}),o.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(G,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",e.monthlyRevenue.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% from last month"})]})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Active Partners"}),o.jsx(oa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(G,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.activePartners}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 new this month"})]})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Pending Payouts"}),o.jsx(Wu,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(G,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",e.pendingPayouts.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Next payout in 3 days"})]})]})]})},f9=({connectAccountId:t})=>{const e=[{id:"1",partner:"Google AdSense",amount:1250,date:"2024-01-15",status:"completed",campaign:"Banner Ads Q1"},{id:"2",partner:"Facebook Audience Network",amount:875.5,date:"2024-01-14",status:"completed",campaign:"Video Ads"},{id:"3",partner:"Amazon Associates",amount:432.25,date:"2024-01-13",status:"pending",campaign:"Product Recommendations"}];return o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Ut,{className:"h-5 w-5"}),"Payment History"]})}),o.jsx(G,{children:o.jsx("div",{className:"space-y-4",children:e.map(n=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Gu,{className:"h-8 w-8 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:n.partner}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.campaign}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Wu,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:n.date})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-lg",children:["$",n.amount.toFixed(2)]}),o.jsx(et,{variant:n.status==="completed"?"default":"secondary",children:n.status})]})]},n.id))})})]})};var h9="Label",sT=x.forwardRef((t,e)=>o.jsx(je.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sT.displayName=h9;var iT=sT;const m9=Md("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ae=x.forwardRef(({className:t,...e},n)=>o.jsx(iT,{ref:n,className:he(m9(),t),...e}));Ae.displayName=iT.displayName;const p9=({connectAccountId:t})=>{const[e,n]=x.useState(!1),[r,s]=x.useState(""),[i,a]=x.useState(""),{toast:c}=ze(),l=[{id:"1",name:"Google AdSense",email:"partner@google.com",totalRevenue:8450.75,status:"active",apiKey:"pk_partner_google_..."},{id:"2",name:"Facebook Audience Network",email:"partner@facebook.com",totalRevenue:3240.5,status:"active",apiKey:"pk_partner_facebook_..."}],u=()=>{if(!r||!i){c({title:"Missing Information",description:"Please provide both partner name and email.",variant:"destructive"});return}c({title:"Partner Added",description:`${r} has been added as an advertising partner.`}),s(""),a(""),n(!1)},d=()=>{const f=`${window.location.origin}/api/ad-revenue/payment`;navigator.clipboard.writeText(f),c({title:"Copied!",description:"API endpoint copied to clipboard."})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Gu,{className:"h-5 w-5"}),"Advertising Partners"]}),o.jsxs(q,{onClick:()=>n(!0),size:"sm",children:[o.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Add Partner"]})]})}),o.jsx(G,{children:o.jsx("div",{className:"space-y-4",children:l.map(f=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Gu,{className:"h-8 w-8 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:f.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:f.email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Ut,{className:"h-3 w-3"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Total: $",f.totalRevenue.toFixed(2)]})]})]})]}),o.jsxs("div",{className:"text-right space-y-2",children:[o.jsx(et,{variant:f.status==="active"?"default":"secondary",children:f.status}),o.jsx("div",{children:o.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:f.apiKey})})]})]},f.id))})})]}),e&&o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Add New Partner"})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"partnerName",children:"Partner Name"}),o.jsx(ve,{id:"partnerName",placeholder:"e.g., Google AdSense",value:r,onChange:f=>s(f.target.value)})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"partnerEmail",children:"Contact Email"}),o.jsx(ve,{id:"partnerEmail",type:"email",placeholder:"partner@company.com",value:i,onChange:f=>a(f.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(q,{onClick:u,children:"Add Partner"}),o.jsx(q,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(VN,{className:"h-5 w-5"}),"API Integration"]})}),o.jsx(G,{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(Ae,{children:"Payment API Endpoint"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx(ve,{value:`${window.location.origin}/api/ad-revenue/payment`,readOnly:!0,className:"font-mono text-sm"}),o.jsx(q,{variant:"outline",size:"sm",onClick:d,children:"Copy"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Partners can send POST requests to this endpoint to submit payments."})]})})]})]})};class g9{async createExpressAccount(e){try{console.log("Creating Express account for ad revenue:",e);const{data:n,error:r}=await ue.functions.invoke("create-ad-revenue-account",{body:e});if(r)throw new Error(r.message||"Express account creation failed");return n}catch(n){return console.error("Ad Revenue Account Creation Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async receivePayment(e){try{console.log("Processing ad revenue payment:",e);const{data:n,error:r}=await ue.functions.invoke("receive-ad-payment",{body:e});if(r)throw new Error(r.message||"Payment processing failed");return n}catch(n){return console.error("Ad Revenue Payment Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getAccountBalance(e){try{const{data:n,error:r}=await ue.functions.invoke("get-ad-revenue-balance",{body:{accountId:e}});if(r)throw new Error(r.message||"Failed to get balance");return n}catch(n){throw console.error("Balance fetch error:",n),n}}async requestPayout(e,n){try{const{data:r,error:s}=await ue.functions.invoke("request-ad-revenue-payout",{body:{accountId:e,amount:n}});if(s)throw new Error(s.message||"Payout request failed");return r}catch(r){throw console.error("Payout request error:",r),r}}}const oT=new g9,y9=({connectAccountId:t})=>{const[e,n]=x.useState(""),[r,s]=x.useState(!1),{toast:i}=ze(),a={available:1250,pending:875.5},c=[{id:"1",amount:1200,date:"2024-01-20",status:"scheduled",method:"ACH Transfer"},{id:"2",amount:800,date:"2024-01-15",status:"completed",method:"Wire Transfer"}],l=async()=>{const u=parseFloat(e);if(!u||u<=0){i({title:"Invalid Amount",description:"Please enter a valid payout amount.",variant:"destructive"});return}if(u>a.available){i({title:"Insufficient Balance",description:"Requested amount exceeds available balance.",variant:"destructive"});return}s(!0);try{await oT.requestPayout(t,u*100),i({title:"Payout Requested",description:`Payout of $${u.toFixed(2)} has been requested.`}),n("")}catch(d){console.error("Payout request error:",d),i({title:"Payout Failed",description:"Failed to request payout. Please try again.",variant:"destructive"})}finally{s(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Ut,{className:"h-5 w-5"}),"Available Balance"]})}),o.jsxs(G,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",a.available.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready for withdrawal"})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(ti,{className:"h-5 w-5"}),"Pending Balance"]})}),o.jsxs(G,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",a.pending.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing, available soon"})]})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Request Payout"})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"payoutAmount",children:"Amount ($)"}),o.jsx(ve,{id:"payoutAmount",type:"number",placeholder:"0.00",value:e,onChange:u=>n(u.target.value),min:"0",max:a.available,step:"0.01"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: $",a.available.toFixed(2)]})]}),o.jsxs(q,{onClick:l,disabled:r||!e,className:"w-full",children:[r?"Processing...":"Request Payout",o.jsx(cc,{className:"h-4 w-4 ml-2"})]})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Wu,{className:"h-5 w-5"}),"Payout History"]})}),o.jsx(G,{children:o.jsx("div",{className:"space-y-4",children:c.map(u=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ut,{className:"h-8 w-8 text-muted-foreground"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["$",u.amount.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:u.method}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Wu,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:u.date})]})]})]}),o.jsx(et,{variant:u.status==="completed"?"default":"secondary",children:u.status})]},u.id))})})]})]})},v9=({onAccountCreated:t})=>{const[e,n]=x.useState(!1),[r,s]=x.useState(""),[i,a]=x.useState(""),{toast:c}=ze(),l=async()=>{if(!r||!i){c({title:"Missing Information",description:"Please provide both business email and name.",variant:"destructive"});return}n(!0);try{const u=await oT.createExpressAccount({email:r,businessName:i,businessType:"company",country:"US"});if(u.success&&u.data)t(u.data.accountId),u.data.onboardingUrl&&window.open(u.data.onboardingUrl,"_blank"),c({title:"Account Created Successfully",description:"Your ad revenue collection account has been set up. Complete the onboarding process in the new tab."});else throw new Error(u.error||"Failed to create account")}catch(u){console.error("Account creation error:",u),c({title:"Setup Failed",description:u instanceof Error?u.message:"Failed to set up account",variant:"destructive"})}finally{n(!1)}};return o.jsxs(V,{className:"max-w-2xl mx-auto",children:[o.jsx(Z,{className:"text-center",children:o.jsxs(X,{className:"flex items-center justify-center gap-2",children:[o.jsx(Gu,{className:"h-6 w-6"}),"Set Up Ad Revenue Collection"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground text-center",children:"Create a Stripe Connect Express account to start receiving payments from advertising partners."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"businessEmail",children:"Business Email"}),o.jsx(ve,{id:"businessEmail",type:"email",placeholder:"your-business@example.com",value:r,onChange:u=>s(u.target.value),disabled:e})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"businessName",children:"Business Name"}),o.jsx(ve,{id:"businessName",placeholder:"Your Business Name",value:i,onChange:u=>a(u.target.value),disabled:e})]}),o.jsx(q,{onClick:l,disabled:e,className:"w-full",size:"lg",children:e?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating account..."]}):o.jsxs(o.Fragment,{children:[o.jsx(on,{className:"h-4 w-4 mr-2"}),"Create Ad Revenue Account"]})})]}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"What happens next:"})," We'll create a Stripe Connect Express account for your business. This allows you to receive payments from advertising partners and manage payouts to your bank account. You'll be redirected to complete the onboarding process."]})})]})]})},x9=()=>{const[t,e]=x.useState(null);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-7xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Ad Revenue Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage payments from advertising partners and track your revenue"})]}),t?o.jsxs(wl,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(Sa,{className:"grid w-full grid-cols-4",children:[o.jsx(_t,{value:"overview",children:"Overview"}),o.jsx(_t,{value:"payments",children:"Payment History"}),o.jsx(_t,{value:"partners",children:"Partners"}),o.jsx(_t,{value:"payouts",children:"Payouts"})]}),o.jsx(Et,{value:"overview",children:o.jsx(d9,{connectAccountId:t})}),o.jsx(Et,{value:"payments",children:o.jsx(f9,{connectAccountId:t})}),o.jsx(Et,{value:"partners",children:o.jsx(p9,{connectAccountId:t})}),o.jsx(Et,{value:"payouts",children:o.jsx(y9,{connectAccountId:t})})]}):o.jsx(v9,{onAccountCreated:e})]})})},w9=()=>o.jsx(x9,{}),b9=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(null),[s,i]=x.useState(!0),{toast:a}=ze();x.useEffect(()=>{c()},[]);const c=async()=>{i(!0);try{const{data:u,error:d}=await ue.functions.invoke("affiliate-tracking",{body:{affiliateId:"YOUR_AFFILIATE_ID",action:"get_stats"}});d?console.error("Error loading affiliate stats:",d):e(u);const{data:f,error:h}=await ue.functions.invoke("income-affiliate",{body:{action:"calculate_earnings",data:{affiliateId:"YOUR_AFFILIATE_ID",timeframe:"monthly"}}});h?console.error("Error loading earnings:",h):r(f)}catch(u){console.error("Error loading affiliate data:",u),a({title:"Loading Error",description:"Failed to load affiliate dashboard data",variant:"destructive"})}finally{i(!1)}},l=async()=>{try{const{data:u,error:d}=await ue.functions.invoke("income-affiliate",{body:{action:"process_payout",data:{affiliateId:"YOUR_AFFILIATE_ID",amount:n?.earnings?.total||0,paymentMethod:"bitcoin"}}});if(d)throw d;a({title:"Payout Requested",description:`Payout of $${n?.earnings?.total||0} has been requested and is being processed.`})}catch(u){console.error("Error requesting payout:",u),a({title:"Payout Error",description:"Failed to process payout request",variant:"destructive"})}};return s?o.jsx(V,{children:o.jsx(G,{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading affiliate dashboard..."})]})})}):o.jsx("div",{className:"space-y-6",children:o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(kr,{className:"h-6 w-6 text-green-500"}),"Affiliate Revenue Dashboard"]})}),o.jsx(G,{children:o.jsxs(wl,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Sa,{className:"grid w-full grid-cols-3",children:[o.jsx(_t,{value:"overview",children:"Overview"}),o.jsx(_t,{value:"performance",children:"Performance"}),o.jsx(_t,{value:"payouts",children:"Payouts"})]}),o.jsxs(Et,{value:"overview",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Clicks"}),o.jsx("p",{className:"text-2xl font-bold",children:t?.totalClicks||0})]}),o.jsx(nD,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversions"}),o.jsx("p",{className:"text-2xl font-bold",children:t?.totalConversions||0})]}),o.jsx(H0,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Commission"}),o.jsxs("p",{className:"text-2xl font-bold",children:["$",t?.totalCommission||"0.00"]})]}),o.jsx(Ut,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),o.jsx("p",{className:"text-2xl font-bold",children:t?.conversionRate||"0%"})]}),o.jsx(kr,{className:"h-8 w-8 text-purple-500"})]})})})]}),n&&o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Monthly Earnings Breakdown"})}),o.jsx(G,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-green-700",children:"Base Earnings"}),o.jsxs("p",{className:"text-xl font-bold text-green-900",children:["$",n.earnings?.base||"0.00"]})]}),o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-blue-700",children:"Bonus Earnings"}),o.jsxs("p",{className:"text-xl font-bold text-blue-900",children:["$",n.earnings?.bonus||"0.00"]})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-purple-700",children:"Total Earnings"}),o.jsxs("p",{className:"text-xl font-bold text-purple-900",children:["$",n.earnings?.total||"0.00"]})]})]})})]})]}),o.jsx(Et,{value:"performance",className:"space-y-4",children:o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Top Performing Services"})}),o.jsx(G,{children:t?.topPerformingServices?o.jsx("div",{className:"space-y-3",children:t.topPerformingServices.map((u,d)=>o.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:u.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.conversions," conversions"]})]}),o.jsxs("p",{className:"font-bold text-green-600",children:["$",u.commission]})]},d))}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No performance data available yet"})})]})}),o.jsx(Et,{value:"payouts",className:"space-y-4",children:o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Payout Management"})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Available for Payout:"}),o.jsxs("span",{className:"text-lg font-bold",children:["$",n?.earnings?.total||"0.00"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Minimum Payout:"}),o.jsx("span",{className:"text-sm",children:"$50.00"})]})]}),o.jsx(q,{onClick:l,className:"w-full",disabled:!n?.earnings?.total||n.earnings.total<50,children:"Request Payout via Bitcoin"}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Payouts are processed within 24 hours via Bitcoin to your registered wallet address."})]})]})})]})})]})})},_9=()=>{const t=[{title:"Total Revenue",value:"$24,567.89",change:"+12.5%",icon:Ut,color:"text-green-600"},{title:"Active Partners",value:"48",change:"+8.3%",icon:oa,color:"text-blue-600"},{title:"Monthly Growth",value:"15.2%",change:"+2.1%",icon:kr,color:"text-purple-600"},{title:"Daily Payouts",value:"24/7",change:"Processing",icon:ti,color:"text-orange-600"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((e,n)=>{const r=e.icon;return o.jsx(V,{children:o.jsx(G,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e.title}),o.jsx("p",{className:"text-2xl font-bold",children:e.value}),o.jsx("p",{className:`text-xs ${e.color}`,children:e.change})]}),o.jsx(r,{className:`h-8 w-8 ${e.color}`})]})})},n)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Ut,{className:"h-5 w-5"}),"Our Payout Model"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx(Ft,{className:"h-5 w-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800",children:"Daily Payout Processing"}),o.jsx("p",{className:"text-sm text-green-700",children:"Automated daily transfers to your account"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Processing Schedule:"}),o.jsx(et,{className:"bg-blue-100 text-blue-800",children:"Every 24 Hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Minimum Payout:"}),o.jsx("span",{className:"text-sm font-semibold",children:"$10.00"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Payment Method:"}),o.jsx("span",{className:"text-sm",children:"Stripe Transfer"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Processing Time:"}),o.jsx("span",{className:"text-sm",children:"1-3 Business Days"})]})]}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Daily Processing:"})," Earnings are automatically processed and transferred to your connected Stripe account every day at 6 PM EST, provided you've reached the minimum payout threshold."]})})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Wu,{className:"h-5 w-5"}),"Recent Payout Activity"]})}),o.jsx(G,{children:o.jsx("div",{className:"space-y-4",children:[{date:"Today",amount:"$245.67",status:"Processing",color:"bg-yellow-100 text-yellow-800"},{date:"Yesterday",amount:"$189.34",status:"Completed",color:"bg-green-100 text-green-800"},{date:"Jan 23",amount:"$298.12",status:"Completed",color:"bg-green-100 text-green-800"},{date:"Jan 22",amount:"$156.89",status:"Completed",color:"bg-green-100 text-green-800"}].map((e,n)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ut,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:e.amount}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.date})]})]}),o.jsx(et,{className:e.color,children:e.status})]},n))})})]})]})]})},E9=()=>o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[o.jsx("header",{className:"bg-white shadow-md",children:o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-purple-800",children:"Affiliate Revenue Center"}),o.jsx("p",{className:"text-purple-600 mt-1",children:"Real partner integrations with detailed analytics and commission tracking"})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsx(O2,{}),o.jsx(_9,{}),o.jsx(b9,{})]})]}),A9=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(null),[s,i]=x.useState(!1),[a,c]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(!1),[h,p]=x.useState(""),{toast:g}=ze(),m=[{name:"Coinbase",address:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{name:"Binance",address:"1NDyJtNTjmwk5xPNhjgAMu4HDHigtobu1s"},{name:"Kraken",address:"1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2"},{name:"Custom Exchange",value:"custom"}],y=async()=>{i(!0);try{const{data:S,error:N}=await ue.functions.invoke("generate-wallet");if(N)throw N;console.log("Generated wallet:",S),e(S),r(null),g({title:"Wallet Generated!",description:"Your new Bitcoin mainnet wallet has been created."})}catch(S){console.error("Error generating wallet:",S),g({title:"Error",description:`Failed to generate wallet: ${S.message}`,variant:"destructive"})}finally{i(!1)}},v=async()=>{if(t){i(!0);try{const{data:S,error:N}=await ue.functions.invoke("get-balance",{body:{address:t.address}});if(N)throw N;console.log("Balance data:",S),r(S),g({title:"Balance Updated",description:`Balance: ${S.balanceBTC} BTC (${S.balanceSats} sats)`})}catch(S){console.error("Error getting balance:",S),g({title:"Error",description:`Failed to get balance: ${S.message}`,variant:"destructive"})}finally{i(!1)}}},w=async()=>{if(!t||!a||!l){g({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}f(!0);try{const{data:S,error:N}=await ue.functions.invoke("send-btc",{body:{privateKeyWIF:t.privateKey,recipientAddress:a,amountSats:parseInt(l)}});if(N)throw N;console.log("Transaction result:",S),g({title:"Transaction Sent!",description:`TXID: ${S.txid}`}),c(""),u(""),p(""),await v()}catch(S){console.error("Error sending BTC:",S),g({title:"Transaction Failed",description:`${S.message}`,variant:"destructive"})}finally{f(!1)}},b=S=>{if(p(S),S!=="custom"){const N=m.find(j=>j.address===S);N&&c(N.address)}else c("")},_=async()=>{if(!t||!n||!a){g({title:"Error",description:"Please select an exchange and ensure you have a balance",variant:"destructive"});return}const N=Math.max(0,n.balanceSats-1e3);if(N<=0){g({title:"Insufficient Balance",description:"Not enough balance to cover transaction fees",variant:"destructive"});return}f(!0);try{const{data:j,error:L}=await ue.functions.invoke("send-btc",{body:{privateKeyWIF:t.privateKey,recipientAddress:a,amountSats:N}});if(L)throw L;g({title:"Withdrawal Successful!",description:`Sent ${N} sats to exchange. TXID: ${j.txid}`}),await v()}catch(j){console.error("Error withdrawing to exchange:",j),g({title:"Withdrawal Failed",description:`${j.message}`,variant:"destructive"})}finally{f(!1)}},E=S=>{navigator.clipboard.writeText(S),g({title:"Copied!",description:"Address copied to clipboard"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(so,{className:"h-5 w-5"}),"Bitcoin Mainnet Wallet"]})}),o.jsx(G,{className:"space-y-4",children:t?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Public Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{value:t.address,readOnly:!0,className:"font-mono text-xs"}),o.jsx(q,{variant:"outline",size:"sm",onClick:()=>E(t.address),children:o.jsx(GN,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Pw,{value:t.address,size:120})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Private Key (WIF)"}),o.jsx(ve,{value:t.privateKey,readOnly:!0,className:"font-mono text-xs",type:"password"})]})]}):o.jsx(q,{onClick:y,disabled:s,className:"w-full",children:s?"Generating...":"Generate New Wallet"})})]}),t&&o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Wallet Balance"}),o.jsx(q,{variant:"outline",size:"sm",onClick:v,disabled:s,children:o.jsx(ul,{className:`h-4 w-4 ${s?"animate-spin":""}`})})]})}),o.jsx(G,{children:n?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-2xl font-bold",children:[n.balanceBTC," BTC"]}),o.jsxs("p",{className:"text-muted-foreground",children:[n.balanceSats," satoshis"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transactions: ",n.transactions]})]}):o.jsx("p",{className:"text-muted-foreground",children:"Click refresh to get balance"})})]}),t&&n&&n.balanceSats>0&&o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(ll,{className:"h-5 w-5"}),"Withdraw to Exchange"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Select Exchange"}),o.jsxs(Ki,{value:h,onValueChange:b,children:[o.jsx(qs,{children:o.jsx(Yi,{placeholder:"Choose an exchange or enter custom address"})}),o.jsx(Qs,{children:m.map(S=>o.jsx(Pt,{value:S.address||S.value,children:S.name},S.address||S.value))})]})]}),(h==="custom"||h==="")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Exchange Wallet Address"}),o.jsx(ve,{value:a,onChange:S=>c(S.target.value),placeholder:"Enter exchange mainnet address",className:"font-mono"})]}),h&&h!=="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Selected Exchange Address"}),o.jsx("div",{className:"p-2 bg-muted rounded-md",children:o.jsx("p",{className:"font-mono text-xs break-all",children:a})})]}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-md",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Withdrawal Amount:"})," ",n.balanceSats-1e3," sats",o.jsx("br",{}),o.jsx("span",{className:"text-xs",children:"(1000 sats reserved for transaction fees)"})]})}),o.jsx(q,{onClick:_,disabled:d||!a||n.balanceSats<=1e3,className:"w-full",children:d?"Processing Withdrawal...":"Withdraw All to Exchange"})]})]}),t&&o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(cw,{className:"h-5 w-5"}),"Send Bitcoin (Manual)"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Recipient Address"}),o.jsx(ve,{value:a,onChange:S=>c(S.target.value),placeholder:"Enter mainnet address (starts with 1, 3, or bc1)",className:"font-mono"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Amount (satoshis)"}),o.jsx(ve,{type:"number",value:l,onChange:S=>u(S.target.value),placeholder:"Enter amount in satoshis",min:"1"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"1 BTC = 100,000,000 satoshis"})]}),o.jsx(q,{onClick:w,disabled:d||!a||!l,className:"w-full",children:d?"Sending...":"Send Bitcoin"})]})]})]})},S9=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Bitcoin Mainnet Wallet"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Generate wallets, check balances, and send Bitcoin on mainnet"})]}),o.jsx(A9,{})]})});var Sr;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(Sr||(Sr={}));var si;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(si||(si={}));const Tn={number:Sr.BIGINT,bytes:si.HEX},Se={number:Sr.HEX,bytes:si.HEX};var Us;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(Us||(Us={}));var bu;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(bu||(bu={}));const Lw=Object.getPrototypeOf(Uint8Array);var jE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const NE=Symbol.for("web3/base-provider");class Hd{static isWeb3Provider(e){return e instanceof Hd||!!(e&&e[NE])}get[NE](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return jE(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(s){return jE(this,void 0,void 0,function*(){return(yield n(s)).result})},e.asEIP1193Provider=void 0,e}}class j9 extends Array{constructor(e){super(),this._accountProvider=e}}const N9=100,C9=101,k9=201,T9=202,P9=203,I9=204,R9=205,O9=206,M9=207,B9=208,D9=300,L9=301,F9=310,U9=311,$9=400,H9=402,z9=405,V9=407,G9=408,W9=410,q9=411,Q9=412,K9=413,Y9=414,J9=415,Z9=416,X9=417,e7=418,t7=419,n7=420,r7=421,s7=422,i7=423,o7=424,a7=425,c7=426,l7=427,u7=428,d7=429,f7=430,h7=431,m7=432,p7=433,g7=434,y7=435,v7=436,x7=437,w7=438,b7=439,_7=440,E7=441,A7=500,S7=503,j7=505,N7=506,C7=507,k7=600,T7=602,P7=603,I7=604,R7=701,O7=702,M7=703,B7=704,D7=705,L7=706,F7=707,U7=709,$7=801,H7=802,z7=4001,V7=4100,G7=4200,W7=4900,q7=4901,Q7=902,K7=903,Y7=1001,J7=1002,Z7=1003,X7=1004,ez=1005,tz=1006,nz=1008,rz=1009,sz=1010,iz=1011,oz=1012,az=1014,cz=1015,lz=1100,aT=1101,uz=1200,Qh=-32700,Kh=-32600,Yh=-32601,Jh=-32602,Zh=-32603,Xh=-32e3,em=-32001,tm=-32002,nm=-32003,rm=-32004,sm=-32005,im=-32006;class _e extends Error{get innerError(){return this.cause instanceof _u?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new _u(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new _u(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(s,i)=>typeof i=="bigint"?i.toString():i);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class _u extends _e{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=B9,this.errors=e}}class Be extends _e{constructor(e,n){super(`Invalid value given "${_e.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class CE extends _e{constructor(){super("Private key must be 32 bytes."),this.code=R7}}class dz extends _e{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=O7}}class fz extends _e{constructor(e){super(`"${e}"`),this.code=H7}}class cT extends _e{constructor(){super("Invalid key derivation function"),this.code=M7}}class hz extends _e{constructor(){super("Key derivation failed - possibly wrong password"),this.code=B7}}class mz extends _e{constructor(){super("Unsupported key store version"),this.code=D7}}class pz extends _e{constructor(){super("Password cannot be empty"),this.code=L7}}class gz extends _e{constructor(){super("Initialization vector must be 16 bytes"),this.code=F7}}class yz extends _e{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=U7}}class zd extends _e{constructor(e,n){super(e),this.code=A7,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class xv extends zd{constructor(e){super("Connection not open",e),this.code=S7}}class vz extends zd{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=j7}}class xz extends zd{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=N7}}class wz extends zd{constructor(e){super(`Request already sent with following id: ${e}`),this.code=C7}}class Pn extends _e{constructor(e,n){super(e),this.code=D9,this.receipt=n}}class kE extends _e{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=L9}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class zp extends Pn{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new zp(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class Qo extends Pn{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=F9,this.cause=new zp(e)}}class bz extends Be{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=U9}}class _z extends _e{constructor(e){super(`ENS is not supported on network ${e}`),this.code=Q7}}class Ez extends _e{constructor(){super("Network not synced"),this.code=K7}}class TE extends _e{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=M9}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class wv extends _e{constructor(){super(...arguments),this.code=k9}}class js extends _e{constructor(){super("The method you're trying to call is not implemented."),this.code=T9}}class lT extends _e{constructor(){super(...arguments),this.code=P9}}class Az extends _e{constructor(){super(...arguments),this.code=I9}}class Ge extends _e{constructor(e,n){super(e),this.code=R9,this.props=n??{}}}class Sz extends _e{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=O9}}class nh extends _e{constructor(){super(...arguments),this.code=k7}}class bv extends _e{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=T7}}class Ds extends _e{constructor(){super(...arguments),this.code=P7}}class jz extends _e{constructor(){super(...arguments),this.code=I7}}class Nz extends Be{constructor(){super(...arguments),this.code=$7}}class Fw extends _e{constructor(e,n){super(e),this.receipt=n,this.code=$9}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class om extends _e{constructor(e,n,r,s){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${_e.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=s,this.code=H9}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class uT extends om{constructor(e,n,r,s,i,a,c){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=s,this.signature=i,this.receipt=a,this.data=c,this.code=w7}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class dT extends Fw{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${_e.convertToString(e)}`}`,e),this.code=z9}}class Cz extends Fw{constructor(){super("Raw transaction undefined"),this.code=V9}}class PE extends Fw{constructor(){super("Transaction not found"),this.code=f7}}class kz extends Be{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=G9}}class Tz extends Be{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=x7}}class Pz extends Be{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=W9}}class Iz extends Be{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=q9}}class Rz extends Be{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=Q9}}class Oz extends Be{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=y7}}class Mz extends Be{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=v7}}class Bz extends Be{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=K9}}class Dz extends Be{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=Y9}}class Lz extends _e{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=_7}}class Fz extends Be{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,'"gas" is missing'),this.code=J9,this.cause=new Lz}}class Uz extends _e{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=E7}}class $z extends Be{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=g7,this.cause=new Uz}}class Hz extends Be{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=Z9}}class zz extends Be{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=X9}}class Vz extends Be{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=e7}}class fT extends Be{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=t7}}class Gz extends Be{constructor(e){super(e,"invalid transaction object"),this.code=n7}}class Wz extends Be{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=r7}}class qz extends Be{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=s7}}class Qz extends Be{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=i7}}class IE extends Be{constructor(e){super(e,"unsupported transaction type"),this.code=o7}}class hT extends Be{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=a7}}class Kz extends _e{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=h7}}function mT(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class pT extends _e{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${mT(e.transactionHash)}`),this.code=c7}}class gT extends _e{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${mT(e.transactionHash)}`),this.code=m7}}class Yz extends Be{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=l7}}class Jz extends Be{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=u7}}class _v extends _e{constructor(e){super(`Invalid signature. "${e}"`),this.code=p7}}class RE extends Be{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=d7}}class Zz extends _e{constructor(e,n){const r=[];e.forEach(s=>r.push(s.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=b7}}class Ec extends Be{constructor(e){super(e,"can not parse as byte data"),this.code=J7}}class Uw extends Be{constructor(e){super(e,"can not parse as number data"),this.code=Z7}}class $w extends Be{constructor(e){super(e,"invalid ethereum address"),this.code=ez}}class Xz extends Be{constructor(e){super(e,"not a valid string"),this.code=Y7}}class yT extends Be{constructor(e){super(e,"invalid unit"),this.code=X7}}class vT extends Be{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=cz}}class eV extends Be{constructor(e){super(e,"can not be converted to hex"),this.code=tz}}class xT extends Be{constructor(e){super(e,"value greater than the nibble width"),this.code=az}}class Hw extends Be{constructor(e){super(e,"not a valid boolean."),this.code=nz}}class tV extends Be{constructor(e){super(e,"not a valid unsigned integer."),this.code=rz}}class OE extends Be{constructor(e){super(e,"invalid size given."),this.code=sz}}class ME extends Be{constructor(e){super(e,"value is larger than size."),this.code=iz}}class nV extends Be{constructor(e){super(e,"invalid string given"),this.code=oz}}const rV=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),BE=t=>rV(t)?t.error.message:"";class ls extends _e{constructor(e,n,r,s){var i;super(n??`Returned error: ${Array.isArray(e)?e.map(c=>BE(c)).join(","):BE(e)}`),this.code=N9,n||(this.data=Array.isArray(e)?e.map(c=>{var l;return(l=c.error)===null||l===void 0?void 0:l.data}):(i=e?.error)===null||i===void 0?void 0:i.data),this.statusCode=s,this.request=r;let a;"error"in e?a=e.error:e instanceof Array&&(a=e.filter(c=>c.error).map(c=>c.error)),Array.isArray(a)&&a.length>0?this.cause=new _u(a):this.cause=a}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class Vp extends ls{constructor(e,n){super(e,void 0,n),this.code=C9;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(s=>s.error)),Array.isArray(r)?this.cause=new _u(r):this.cause=r}}class DE extends _e{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=aT}}class LE extends _e{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=aT}}const wT="An Rpc error has occured with a code of *code*",yn={[Qh]:{message:"Parse error",description:"Invalid JSON"},[Kh]:{message:"Invalid request",description:"JSON is not a valid request object	"},[Yh]:{message:"Method not found",description:"Method does not exist	"},[Jh]:{message:"Invalid params",description:"Invalid method parameters"},[Zh]:{message:"Internal error",description:"Internal JSON-RPC error"},[Xh]:{message:"Invalid input",description:"Missing or invalid parameters"},[em]:{message:"Resource not found",description:"Requested resource not found"},[tm]:{message:"Resource unavailable",description:"Requested resource not available"},[nm]:{message:"Transaction rejected",description:"Transaction creation failed"},[rm]:{message:"Method not supported",description:"Method is not implemented"},[sm]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[im]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[z7]:{name:"User Rejected Request",message:"The user rejected the request."},[V7]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[G7]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[W7]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[q7]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class pr extends _e{constructor(e,n){super(n??wT.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class sV extends _e{constructor(e,n){var r,s,i,a;if(!e)super();else if(!((r=yn[e])===null||r===void 0)&&r.message)super(yn[e].message);else{const c=Object.keys(yn).find(l=>typeof l=="string"&&e>=parseInt(l.split("-")[0],10)&&e<=parseInt(l.split("-")[1],10));super((i=(s=yn[c??""])===null||s===void 0?void 0:s.message)!==null&&i!==void 0?i:wT.replace("*code*",(a=e?.toString())!==null&&a!==void 0?a:'""'))}this.code=e,this.data=n}}class iV extends pr{constructor(e){super(e,yn[Qh].message),this.code=Qh}}class oV extends pr{constructor(e){super(e,yn[Kh].message),this.code=Kh}}class aV extends pr{constructor(e){super(e,yn[Yh].message),this.code=Yh}}class cV extends pr{constructor(e){super(e,yn[Jh].message),this.code=Jh}}class lV extends pr{constructor(e){super(e,yn[Zh].message),this.code=Zh}}class uV extends pr{constructor(e){super(e,yn[Xh].message),this.code=Xh}}class dV extends pr{constructor(e){super(e,yn[rm].message),this.code=rm}}class fV extends pr{constructor(e){super(e,yn[tm].message),this.code=tm}}class hV extends pr{constructor(e){super(e,yn[em].message),this.code=em}}class mV extends pr{constructor(e){super(e,yn[im].message),this.code=im}}class pV extends pr{constructor(e){super(e,yn[nm].message),this.code=nm}}class gV extends pr{constructor(e){super(e,yn[sm].message),this.code=sm}}const In=new Map;In.set(Qh,{error:iV});In.set(Kh,{error:oV});In.set(Yh,{error:aV});In.set(Jh,{error:cV});In.set(Zh,{error:lV});In.set(Xh,{error:uV});In.set(rm,{error:dV});In.set(tm,{error:fV});In.set(nm,{error:pV});In.set(em,{error:hV});In.set(im,{error:mV});In.set(sm,{error:gV});class yV extends _e{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=uz}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function Vn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function vV(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function xV(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function bl(t,...e){if(!xV(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function zw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vn(t.outputLen),Vn(t.blockLen)}function ua(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Vw(t,e){bl(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const bT={number:Vn,bool:vV,bytes:bl,hash:zw,exists:ua,output:Vw},If=BigInt(2**32-1),FE=BigInt(32);function wV(t,e=!1){return e?{h:Number(t&If),l:Number(t>>FE&If)}:{h:Number(t>>FE&If)|0,l:Number(t&If)|0}}function bV(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=wV(t[s],e);[n[s],r[s]]=[i,a]}return[n,r]}const _V=(t,e,n)=>t<<n|e>>>32-n,EV=(t,e,n)=>e<<n|t>>>32-n,AV=(t,e,n)=>e<<n-32|t>>>64-n,SV=(t,e,n)=>t<<n-32|e>>>64-n,rh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sh=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ih=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ts=(t,e)=>t<<32-e|t>>>e,Je=(t,e)=>t<<e|t>>>32-e>>>0,am=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,jV=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function cm(t){for(let e=0;e<t.length;e++)t[e]=jV(t[e])}function Uc(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function $c(t){return typeof t=="string"&&(t=Uc(t)),bl(t),t}function Ev(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];bl(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Gw=class{clone(){return this._cloneInto()}};const NV={}.toString;function _T(t,e){if(e!==void 0&&NV.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function ET(t){const e=r=>t().update($c(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function CV(t=32){if(rh&&typeof rh.getRandomValues=="function")return rh.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const AT=[],ST=[],jT=[],kV=BigInt(0),$l=BigInt(1),TV=BigInt(2),PV=BigInt(7),IV=BigInt(256),RV=BigInt(113);for(let t=0,e=$l,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],AT.push(2*(5*r+n)),ST.push((t+1)*(t+2)/2%64);let s=kV;for(let i=0;i<7;i++)e=(e<<$l^(e>>PV)*RV)%IV,e&TV&&(s^=$l<<($l<<BigInt(i))-$l);jT.push(s)}const[OV,MV]=bV(jT,!0),UE=(t,e,n)=>n>32?AV(t,e,n):_V(t,e,n),$E=(t,e,n)=>n>32?SV(t,e,n):EV(t,e,n);function BV(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,l=(a+2)%10,u=n[l],d=n[l+1],f=UE(u,d,1)^n[c],h=$E(u,d,1)^n[c+1];for(let p=0;p<50;p+=10)t[a+p]^=f,t[a+p+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const c=ST[a],l=UE(s,i,c),u=$E(s,i,c),d=AT[a];s=t[d],i=t[d+1],t[d]=l,t[d+1]=u}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=OV[r],t[1]^=MV[r]}n.fill(0)}class Ww extends Gw{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Vn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sh(this.state)}keccak(){am||cm(this.state32),BV(this.state32,this.rounds),am||cm(this.state32),this.posOut=0,this.pos=0}update(e){ua(this);const{blockLen:n,state:r}=this;e=$c(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let c=0;c<a;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ua(this,!1),bl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Vn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Vw(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new Ww(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const DV=(t,e,n)=>ET(()=>new Ww(e,t,n)),HE=DV(1,136,256/8),lm=bT.bytes;function NT(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function LV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function FV(t){return e=>(bT.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof ou<"u"&&typeof ou.require=="function"&&ou.require.bind(ou);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Cn=(()=>{const t=FV(HE);return t.create=HE.create,t})();var qe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(const c of i)a[c]=s[c];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(qe||(qe={}));var Av;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Av||(Av={}));const oe=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ii=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},K=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),UV=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class lr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(n(a))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof lr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}lr.create=t=>new lr(t);const Hc=(t,e)=>{let n;switch(t.code){case K.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case K.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,qe.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:n=`Unrecognized key(s) in object: ${qe.joinValues(t.keys,", ")}`;break;case K.invalid_union:n="Invalid input";break;case K.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${qe.joinValues(t.options)}`;break;case K.invalid_enum_value:n=`Invalid enum value. Expected ${qe.joinValues(t.options)}, received '${t.received}'`;break;case K.invalid_arguments:n="Invalid function arguments";break;case K.invalid_return_type:n="Invalid function return type";break;case K.invalid_date:n="Invalid date";break;case K.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:qe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case K.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case K.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case K.custom:n="Invalid input";break;case K.invalid_intersection_types:n="Intersection results could not be merged";break;case K.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case K.not_finite:n="Number must be finite";break;default:n=e.defaultError,qe.assertNever(t)}return{message:n}};let CT=Hc;function $V(t){CT=t}function um(){return CT}const dm=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)c=u(a,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},HV=[];function se(t,e){const n=um(),r=dm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Hc?void 0:Hc].filter(s=>!!s)});t.common.issues.push(r)}class wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return be;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return wn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return be;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const be=Object.freeze({status:"aborted"}),dc=t=>({status:"dirty",value:t}),Rn=t=>({status:"valid",value:t}),Sv=t=>t.status==="aborted",jv=t=>t.status==="dirty",ed=t=>t.status==="valid",td=t=>typeof Promise<"u"&&t instanceof Promise;function fm(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function kT(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var me;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(me||(me={}));var nu,ru;class xs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zE=(t,e)=>{if(ed(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new lr(t.common.issues);return this._error=n,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,c)=>{var l,u;const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:c.defaultError}},description:s}}class Me{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ii(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ii(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wn,ctx:{common:e.parent.common,data:e.data,parsedType:Ii(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(td(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ii(e)},i=this._parseSync({data:e,path:s.path,parent:s});return zE(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ii(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(td(s)?s:Promise.resolve(s));return zE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),c=()=>i.addIssue({code:K.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new qr({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ys.create(this,this._def)}nullable(){return ho.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zr.create(this,this._def)}promise(){return Vc.create(this,this._def)}or(e){return id.create([this,e],this._def)}and(e){return od.create(this,e,this._def)}transform(e){return new qr({...Te(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new dd({...Te(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new qw({typeName:we.ZodBranded,type:this,...Te(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new fd({...Te(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Vd.create(this,e)}readonly(){return hd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zV=/^c[^\s-]{8,}$/i,VV=/^[0-9a-z]+$/,GV=/^[0-9A-HJKMNP-TV-Z]{26}$/,WV=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qV=/^[a-z0-9_-]{21}$/i,QV=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,KV=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YV="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vy;const JV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ZV=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,XV=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eG=new RegExp(`^${TT}$`);function PT(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function tG(t){return new RegExp(`^${PT(t)}$`)}function IT(t){let e=`${TT}T${PT(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function nG(t,e){return!!((e==="v4"||!e)&&JV.test(t)||(e==="v6"||!e)&&ZV.test(t))}class Ur extends Me{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return se(i,{code:K.invalid_type,expected:oe.string,received:i.parsedType}),be}const r=new wn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,c=e.data.length<i.value;(a||c)&&(s=this._getOrReturnCtx(e,s),a?se(s,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&se(s,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")KV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"email",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")vy||(vy=new RegExp(YV,"u")),vy.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"emoji",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")WV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"uuid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")qV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"nanoid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")zV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")VV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"cuid2",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")GV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ulid",code:K.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),se(s,{validation:"url",code:K.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"regex",code:K.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),se(s,{code:K.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:K.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),se(s,{code:K.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?IT(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:K.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?eG.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:K.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?tG(i).test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{code:K.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?QV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"duration",code:K.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?nG(e.data,i.version)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"ip",code:K.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?XV.test(e.data)||(s=this._getOrReturnCtx(e,s),se(s,{validation:"base64",code:K.invalid_string,message:i.message}),r.dirty()):qe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:K.invalid_string,...me.errToObj(r)})}_addCheck(e){return new Ur({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...me.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...me.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...me.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...me.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...me.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...me.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...me.errToObj(n)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ur({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ur.create=t=>{var e;return new Ur({checks:[],typeName:we.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};function rG(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class lo extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return se(i,{code:K.invalid_type,expected:oe.number,received:i.parsedType}),be}let r;const s=new wn;for(const i of this._def.checks)i.kind==="int"?qe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:K.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:K.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:K.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?rG(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),se(r,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),se(r,{code:K.not_finite,message:i.message}),s.dirty()):qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,s){return new lo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new lo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}lo.create=t=>new lo({checks:[],typeName:we.ZodNumber,coerce:t?.coerce||!1,...Te(t)});class uo extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==oe.bigint){const i=this._getOrReturnCtx(e);return se(i,{code:K.invalid_type,expected:oe.bigint,received:i.parsedType}),be}let r;const s=new wn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:K.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),se(r,{code:K.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),se(r,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):qe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,me.toString(n))}gt(e,n){return this.setLimit("min",e,!1,me.toString(n))}lte(e,n){return this.setLimit("max",e,!0,me.toString(n))}lt(e,n){return this.setLimit("max",e,!1,me.toString(n))}setLimit(e,n,r,s){return new uo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:me.toString(s)}]})}_addCheck(e){return new uo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}uo.create=t=>{var e;return new uo({checks:[],typeName:we.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};class nd extends Me{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return se(r,{code:K.invalid_type,expected:oe.boolean,received:r.parsedType}),be}return Rn(e.data)}}nd.create=t=>new nd({typeName:we.ZodBoolean,coerce:t?.coerce||!1,...Te(t)});class da extends Me{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return se(i,{code:K.invalid_type,expected:oe.date,received:i.parsedType}),be}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return se(i,{code:K.invalid_date}),be}const r=new wn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:K.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),se(s,{code:K.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):qe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new da({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}da.create=t=>new da({checks:[],coerce:t?.coerce||!1,typeName:we.ZodDate,...Te(t)});class hm extends Me{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return se(r,{code:K.invalid_type,expected:oe.symbol,received:r.parsedType}),be}return Rn(e.data)}}hm.create=t=>new hm({typeName:we.ZodSymbol,...Te(t)});class rd extends Me{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:K.invalid_type,expected:oe.undefined,received:r.parsedType}),be}return Rn(e.data)}}rd.create=t=>new rd({typeName:we.ZodUndefined,...Te(t)});class sd extends Me{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return se(r,{code:K.invalid_type,expected:oe.null,received:r.parsedType}),be}return Rn(e.data)}}sd.create=t=>new sd({typeName:we.ZodNull,...Te(t)});class zc extends Me{constructor(){super(...arguments),this._any=!0}_parse(e){return Rn(e.data)}}zc.create=t=>new zc({typeName:we.ZodAny,...Te(t)});class Ko extends Me{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rn(e.data)}}Ko.create=t=>new Ko({typeName:we.ZodUnknown,...Te(t)});class ii extends Me{_parse(e){const n=this._getOrReturnCtx(e);return se(n,{code:K.invalid_type,expected:oe.never,received:n.parsedType}),be}}ii.create=t=>new ii({typeName:we.ZodNever,...Te(t)});class mm extends Me{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return se(r,{code:K.invalid_type,expected:oe.void,received:r.parsedType}),be}return Rn(e.data)}}mm.create=t=>new mm({typeName:we.ZodVoid,...Te(t)});class zr extends Me{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return se(n,{code:K.invalid_type,expected:oe.array,received:n.parsedType}),be;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(se(n,{code:a?K.too_big:K.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(se(n,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(se(n,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new xs(n,a,n.path,c)))).then(a=>wn.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new xs(n,a,n.path,c)));return wn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new zr({...this._def,minLength:{value:e,message:me.toString(n)}})}max(e,n){return new zr({...this._def,maxLength:{value:e,message:me.toString(n)}})}length(e,n){return new zr({...this._def,exactLength:{value:e,message:me.toString(n)}})}nonempty(e){return this.min(1,e)}}zr.create=(t,e)=>new zr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Te(e)});function Wa(t){if(t instanceof wt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ys.create(Wa(r))}return new wt({...t._def,shape:()=>e})}else return t instanceof zr?new zr({...t._def,type:Wa(t.element)}):t instanceof ys?ys.create(Wa(t.unwrap())):t instanceof ho?ho.create(Wa(t.unwrap())):t instanceof ws?ws.create(t.items.map(e=>Wa(e))):t}class wt extends Me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=qe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==oe.object){const u=this._getOrReturnCtx(e);return se(u,{code:K.invalid_type,expected:oe.object,received:u.parsedType}),be}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof ii&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||c.push(u);const l=[];for(const u of a){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new xs(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ii){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")c.length>0&&(se(s,{code:K.unrecognized_keys,keys:c}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new xs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>wn.mergeObjectSync(r,u)):wn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new wt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,c;const l=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=me.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new wt({...this._def,unknownKeys:"strip"})}passthrough(){return new wt({...this._def,unknownKeys:"passthrough"})}extend(e){return new wt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new wt({...this._def,catchall:e})}pick(e){const n={};return qe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new wt({...this._def,shape:()=>n})}omit(e){const n={};return qe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new wt({...this._def,shape:()=>n})}deepPartial(){return Wa(this)}partial(e){const n={};return qe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new wt({...this._def,shape:()=>n})}required(e){const n={};return qe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ys;)i=i._def.innerType;n[r]=i}}),new wt({...this._def,shape:()=>n})}keyof(){return RT(qe.objectKeys(this.shape))}}wt.create=(t,e)=>new wt({shape:()=>t,unknownKeys:"strip",catchall:ii.create(),typeName:we.ZodObject,...Te(e)});wt.strictCreate=(t,e)=>new wt({shape:()=>t,unknownKeys:"strict",catchall:ii.create(),typeName:we.ZodObject,...Te(e)});wt.lazycreate=(t,e)=>new wt({shape:t,unknownKeys:"strip",catchall:ii.create(),typeName:we.ZodObject,...Te(e)});class id extends Me{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=i.map(c=>new lr(c.ctx.common.issues));return se(n,{code:K.invalid_union,unionErrors:a}),be}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=a.map(l=>new lr(l));return se(n,{code:K.invalid_union,unionErrors:c}),be}}get options(){return this._def.options}}id.create=(t,e)=>new id({options:t,typeName:we.ZodUnion,...Te(e)});const Os=t=>t instanceof cd?Os(t.schema):t instanceof qr?Os(t.innerType()):t instanceof ld?[t.value]:t instanceof fo?t.options:t instanceof ud?qe.objectValues(t.enum):t instanceof dd?Os(t._def.innerType):t instanceof rd?[void 0]:t instanceof sd?[null]:t instanceof ys?[void 0,...Os(t.unwrap())]:t instanceof ho?[null,...Os(t.unwrap())]:t instanceof qw||t instanceof hd?Os(t.unwrap()):t instanceof fd?Os(t._def.innerType):[];class Gp extends Me{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return se(n,{code:K.invalid_type,expected:oe.object,received:n.parsedType}),be;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=Os(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Gp({typeName:we.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Te(r)})}}function Nv(t,e){const n=Ii(t),r=Ii(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=qe.objectKeys(e),i=qe.objectKeys(t).filter(c=>s.indexOf(c)!==-1),a={...t,...e};for(const c of i){const l=Nv(t[c],e[c]);if(!l.valid)return{valid:!1};a[c]=l.data}return{valid:!0,data:a}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],c=e[i],l=Nv(a,c);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class od extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Sv(i)||Sv(a))return be;const c=Nv(i.value,a.value);return c.valid?((jv(i)||jv(a))&&n.dirty(),{status:n.value,value:c.data}):(se(r,{code:K.invalid_intersection_types}),be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}od.create=(t,e,n)=>new od({left:t,right:e,typeName:we.ZodIntersection,...Te(n)});class ws extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return se(r,{code:K.invalid_type,expected:oe.array,received:r.parsedType}),be;if(r.data.length<this._def.items.length)return se(r,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new xs(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>wn.mergeArray(n,a)):wn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ws({...this._def,rest:e})}}ws.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ws({items:t,typeName:we.ZodTuple,rest:null,...Te(e)})};class ad extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return se(r,{code:K.invalid_type,expected:oe.object,received:r.parsedType}),be;const s=[],i=this._def.keyType,a=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new xs(r,c,r.path,c)),value:a._parse(new xs(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?wn.mergeObjectAsync(n,s):wn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Me?new ad({keyType:e,valueType:n,typeName:we.ZodRecord,...Te(r)}):new ad({keyType:Ur.create(),valueType:e,typeName:we.ZodRecord,...Te(n)})}}class pm extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return se(r,{code:K.invalid_type,expected:oe.map,received:r.parsedType}),be;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,l],u)=>({key:s._parse(new xs(r,c,r.path,[u,"key"])),value:i._parse(new xs(r,l,r.path,[u,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const l of a){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return be;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}}}}pm.create=(t,e,n)=>new pm({valueType:e,keyType:t,typeName:we.ZodMap,...Te(n)});class fa extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return se(r,{code:K.invalid_type,expected:oe.set,received:r.parsedType}),be;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(se(r,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(se(r,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(l){const u=new Set;for(const d of l){if(d.status==="aborted")return be;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const c=[...r.data.values()].map((l,u)=>i._parse(new xs(r,l,r.path,u)));return r.common.async?Promise.all(c).then(l=>a(l)):a(c)}min(e,n){return new fa({...this._def,minSize:{value:e,message:me.toString(n)}})}max(e,n){return new fa({...this._def,maxSize:{value:e,message:me.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}fa.create=(t,e)=>new fa({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...Te(e)});class Ac extends Me{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return se(n,{code:K.invalid_type,expected:oe.function,received:n.parsedType}),be;function r(c,l){return dm({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,um(),Hc].filter(u=>!!u),issueData:{code:K.invalid_arguments,argumentsError:l}})}function s(c,l){return dm({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,um(),Hc].filter(u=>!!u),issueData:{code:K.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Vc){const c=this;return Rn(async function(...l){const u=new lr([]),d=await c._def.args.parseAsync(l,i).catch(p=>{throw u.addIssue(r(l,p)),u}),f=await Reflect.apply(a,this,d);return await c._def.returns._def.type.parseAsync(f,i).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const c=this;return Rn(function(...l){const u=c._def.args.safeParse(l,i);if(!u.success)throw new lr([r(l,u.error)]);const d=Reflect.apply(a,this,u.data),f=c._def.returns.safeParse(d,i);if(!f.success)throw new lr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ac({...this._def,args:ws.create(e).rest(Ko.create())})}returns(e){return new Ac({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ac({args:e||ws.create([]).rest(Ko.create()),returns:n||Ko.create(),typeName:we.ZodFunction,...Te(r)})}}class cd extends Me{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}cd.create=(t,e)=>new cd({getter:t,typeName:we.ZodLazy,...Te(e)});class ld extends Me{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return se(n,{received:n.data,code:K.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:e.data}}get value(){return this._def.value}}ld.create=(t,e)=>new ld({value:t,typeName:we.ZodLiteral,...Te(e)});function RT(t,e){return new fo({values:t,typeName:we.ZodEnum,...Te(e)})}class fo extends Me{constructor(){super(...arguments),nu.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{expected:qe.joinValues(r),received:n.parsedType,code:K.invalid_type}),be}if(fm(this,nu)||kT(this,nu,new Set(this._def.values)),!fm(this,nu).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return se(n,{received:n.data,code:K.invalid_enum_value,options:r}),be}return Rn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return fo.create(e,{...this._def,...n})}exclude(e,n=this._def){return fo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}nu=new WeakMap;fo.create=RT;class ud extends Me{constructor(){super(...arguments),ru.set(this,void 0)}_parse(e){const n=qe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=qe.objectValues(n);return se(r,{expected:qe.joinValues(s),received:r.parsedType,code:K.invalid_type}),be}if(fm(this,ru)||kT(this,ru,new Set(qe.getValidEnumValues(this._def.values))),!fm(this,ru).has(e.data)){const s=qe.objectValues(n);return se(r,{received:r.data,code:K.invalid_enum_value,options:s}),be}return Rn(e.data)}get enum(){return this._def.values}}ru=new WeakMap;ud.create=(t,e)=>new ud({values:t,typeName:we.ZodNativeEnum,...Te(e)});class Vc extends Me{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return se(n,{code:K.invalid_type,expected:oe.promise,received:n.parsedType}),be;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return Rn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Vc.create=(t,e)=>new Vc({type:t,typeName:we.ZodPromise,...Te(e)});class qr extends Me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{se(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return be;const l=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return l.status==="aborted"?be:l.status==="dirty"||n.value==="dirty"?dc(l.value):l});{if(n.value==="aborted")return be;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?be:c.status==="dirty"||n.value==="dirty"?dc(c.value):c}}if(s.type==="refinement"){const a=c=>{const l=s.refinement(c,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?be:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?be:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ed(a))return a;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ed(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):a);qe.assertNever(s)}}qr.create=(t,e,n)=>new qr({schema:t,typeName:we.ZodEffects,effect:e,...Te(n)});qr.createWithPreprocess=(t,e,n)=>new qr({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...Te(n)});class ys extends Me{_parse(e){return this._getType(e)===oe.undefined?Rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ys.create=(t,e)=>new ys({innerType:t,typeName:we.ZodOptional,...Te(e)});class ho extends Me{_parse(e){return this._getType(e)===oe.null?Rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ho.create=(t,e)=>new ho({innerType:t,typeName:we.ZodNullable,...Te(e)});class dd extends Me{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}dd.create=(t,e)=>new dd({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class fd extends Me{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return td(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new lr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new lr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fd.create=(t,e)=>new fd({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class gm extends Me{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return se(r,{code:K.invalid_type,expected:oe.nan,received:r.parsedType}),be}return{status:"valid",value:e.data}}}gm.create=t=>new gm({typeName:we.ZodNaN,...Te(t)});const sG=Symbol("zod_brand");class qw extends Me{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Vd extends Me{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?be:i.status==="dirty"?(n.dirty(),dc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?be:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Vd({in:e,out:n,typeName:we.ZodPipeline})}}class hd extends Me{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ed(s)&&(s.value=Object.freeze(s.value)),s);return td(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}hd.create=(t,e)=>new hd({innerType:t,typeName:we.ZodReadonly,...Te(e)});function OT(t,e={},n){return t?zc.create().superRefine((r,s)=>{var i,a;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,u=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...u,fatal:l})}}):zc.create()}const iG={object:wt.lazycreate};var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const oG=(t,e={message:`Input not instance of ${t.name}`})=>OT(n=>n instanceof t,e),MT=Ur.create,BT=lo.create,aG=gm.create,cG=uo.create,DT=nd.create,lG=da.create,uG=hm.create,dG=rd.create,fG=sd.create,hG=zc.create,mG=Ko.create,pG=ii.create,gG=mm.create,yG=zr.create,vG=wt.create,xG=wt.strictCreate,wG=id.create,bG=Gp.create,_G=od.create,EG=ws.create,AG=ad.create,SG=pm.create,jG=fa.create,NG=Ac.create,CG=cd.create,kG=ld.create,TG=fo.create,PG=ud.create,IG=Vc.create,VE=qr.create,RG=ys.create,OG=ho.create,MG=qr.createWithPreprocess,BG=Vd.create,DG=()=>MT().optional(),LG=()=>BT().optional(),FG=()=>DT().optional(),UG={string:t=>Ur.create({...t,coerce:!0}),number:t=>lo.create({...t,coerce:!0}),boolean:t=>nd.create({...t,coerce:!0}),bigint:t=>uo.create({...t,coerce:!0}),date:t=>da.create({...t,coerce:!0})},$G=be;var ns=Object.freeze({__proto__:null,defaultErrorMap:Hc,setErrorMap:$V,getErrorMap:um,makeIssue:dm,EMPTY_PATH:HV,addIssueToContext:se,ParseStatus:wn,INVALID:be,DIRTY:dc,OK:Rn,isAborted:Sv,isDirty:jv,isValid:ed,isAsync:td,get util(){return qe},get objectUtil(){return Av},ZodParsedType:oe,getParsedType:Ii,ZodType:Me,datetimeRegex:IT,ZodString:Ur,ZodNumber:lo,ZodBigInt:uo,ZodBoolean:nd,ZodDate:da,ZodSymbol:hm,ZodUndefined:rd,ZodNull:sd,ZodAny:zc,ZodUnknown:Ko,ZodNever:ii,ZodVoid:mm,ZodArray:zr,ZodObject:wt,ZodUnion:id,ZodDiscriminatedUnion:Gp,ZodIntersection:od,ZodTuple:ws,ZodRecord:ad,ZodMap:pm,ZodSet:fa,ZodFunction:Ac,ZodLazy:cd,ZodLiteral:ld,ZodEnum:fo,ZodNativeEnum:ud,ZodPromise:Vc,ZodEffects:qr,ZodTransformer:qr,ZodOptional:ys,ZodNullable:ho,ZodDefault:dd,ZodCatch:fd,ZodNaN:gm,BRAND:sG,ZodBranded:qw,ZodPipeline:Vd,ZodReadonly:hd,custom:OT,Schema:Me,ZodSchema:Me,late:iG,get ZodFirstPartyTypeKind(){return we},coerce:UG,any:hG,array:yG,bigint:cG,boolean:DT,date:lG,discriminatedUnion:bG,effect:VE,enum:TG,function:NG,instanceof:oG,intersection:_G,lazy:CG,literal:kG,map:SG,nan:aG,nativeEnum:PG,never:pG,null:fG,nullable:OG,number:BT,object:vG,oboolean:FG,onumber:LG,optional:RG,ostring:DG,pipeline:BG,preprocess:MG,promise:IG,record:AG,set:jG,strictObject:xG,string:MT,symbol:uG,transformer:VE,tuple:EG,undefined:dG,union:wG,unknown:mG,void:gG,NEVER:$G,ZodIssueCode:K,quotelessJson:UV,ZodError:lr});const HG=t=>t.message?t.message:"unspecified error";class Gc extends _e{constructor(e){super(),this.code=lz,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(HG)}}const zG=["bool","int","uint","bytes","string","address","tuple"],LT=t=>typeof t=="object"&&"type"in t&&"name"in t,Qw=t=>typeof t=="string",Xe=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function FT(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const ym=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function Kw(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const Yw=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},VG=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],ja=t=>{let e=t.replace(/ /,""),n,r=!1,s=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),s=[...t.matchAll(/(?:\[(\d*)\])/g)].map(i=>parseInt(i[1],10)).map(i=>Number.isNaN(i)?-1:i),r=s.length>0),zG.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:s};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s}},xy=(t,e={})=>{if(Object.keys(e).includes("type"))throw new Gc([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:s}=ja(t);if(!r&&!VG.includes(t))throw new Gc([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${s??""}`,required:!0}}return t?{format:t,required:!0}:{}},vm=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,s]of t.entries()){let i,a,c=[];LT(s)?(i=s.type,a=s.name||`${e}/${r}`,c=s.components):typeof s=="string"?(i=s,a=`${e}/${r}`):Array.isArray(s)&&(s[0]&&typeof s[0]=="string"&&s[0].startsWith("tuple")&&!Array.isArray(s[0])&&s[1]&&Array.isArray(s[1])?(i=s[0],a=`${e}/${r}`,c=s[1]):(i="tuple",a=`${e}/${r}`,c=s));const{baseType:l,isArray:u,arraySizes:d}=ja(i);let f,h=n;for(let p=d.length-1;p>0;p-=1)f={type:"array",$id:a,items:[],maxItems:d[p],minItems:d[p]},d[p]<0&&(delete f.maxItems,delete f.minItems),Array.isArray(h.items)?h.items.length===0?h.items=[f]:h.items.push(f):h.items=[h.items,f],h=f;if(l==="tuple"&&!u){const p=vm(c,a);p.$id=a,h.items.push(p)}else if(l==="tuple"&&u){const p=d[0],g=Object.assign({type:"array",$id:a,items:vm(c,a)},p>=0&&{minItems:p,maxItems:p});h.items.push(g)}else if(u){const p=d[0],g=Object.assign({type:"array",$id:a,items:xy(i)},p>=0&&{minItems:p,maxItems:p});h.items.push(g)}else Array.isArray(h.items)?h.items.push(Object.assign({$id:a},xy(i))):h.items.push(Object.assign({$id:a},xy(i)));h=n}return n},Jw=t=>vm(t),Zw=(t,e)=>e===1?t:Zw(t[0],e-1),Eu=(t,e,n)=>{const r=[];for(const[s,i]of t.entries()){let a,c,l=[];LT(i)?(a=i.type,c=i.name,l=i.components):typeof i=="string"?a=i:Array.isArray(i)&&(i[1]&&Array.isArray(i[1])?(a=i[0],l=i[1]):(a="tuple",l=i));const{baseType:u,isArray:d,arraySizes:f}=ja(a),h=Array.isArray(e)?e[s]:e[c];if(u==="tuple"&&!d)r.push(Eu(l,h,n));else if(u==="tuple"&&d){const p=[];for(const g of h)if(f.length>1){const m=Zw(g,f.length-1),y=[];for(const v of m)y.push(Eu(l,v,n));p.push(y)}else p.push(Eu(l,g,n));r.push(p)}else r.push(h)}return n=n??[],n.push(...r),n},UT=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},Wp=t=>{if(!Xe(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},qp=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&Xe(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!Xe(t))return qp(BigInt(t));throw new Uw(t)},xm=(t,e,n="0")=>{if(typeof t=="string"&&!Xe(t))return t.padStart(e,n);const r=typeof t=="string"&&Xe(t)?t:qp(t),[s,i]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${s}${i.padStart(e,n)}`};function ui(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const Ns={zero:48,nine:57,A:65,F:70,a:97,f:102};function GE(t){if(t>=Ns.zero&&t<=Ns.nine)return t-Ns.zero;if(t>=Ns.A&&t<=Ns.F)return t-(Ns.A-10);if(t>=Ns.a&&t<=Ns.f)return t-(Ns.a-10)}function Na(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new Ec(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let s=0,i=e;s<n;s+=1){const a=GE(t.charCodeAt(i++)),c=GE(t.charCodeAt(i++));if(a===void 0||c===void 0)throw new Ec(`Invalid byte sequence ("${t[i-2]}${t[i-1]}" in "${t}").`);r[s]=a*16+c}return r}function Qp(t){var e;return!(t instanceof Uint8Array)&&((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const $T=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:vm,codePointToInt:UT,ensureIfUint8Array:Qp,ethAbiToJsonSchema:Jw,fetchArrayElement:Zw,hexToNumber:Wp,hexToUint8Array:Na,numberToHex:qp,padLeft:xm,parseBaseType:ja,transformJsonDataToAbiFormat:Eu,uint8ArrayToHexString:ui},Symbol.toStringTag,{value:"Module"})),Cv=t=>{var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},_o=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!Cv(t)||typeof t=="string"&&Xe(t)&&t.startsWith("-")||typeof t=="string"&&!Xe(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=Na(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e?.abiType){const{baseTypeSize:r}=ja(e.abiType);return r?n.length===r:!0}return e?.size?n.length===e?.size:!0},HT=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=Uc(e.toLowerCase()),r=ui(Cn(Qp(n))).slice(2);for(let s=0;s<40;s+=1)if(parseInt(r[s],16)>7&&e[s].toUpperCase()!==e[s]||parseInt(r[s],16)<=7&&e[s].toLowerCase()!==e[s])return!1;return!0},dr=(t,e=!0)=>{if(typeof t!="string"&&!Cv(t))return!1;let n;return Cv(t)?n=ui(t):typeof t=="string"&&!Xe(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?HT(n):!0:!1},ha=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},oi=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e?.abiType){const{baseTypeSize:s}=ja(e.abiType);s&&(n=s)}else e.bitSize&&(n=e.bitSize);const r=ha(BigInt(2),BigInt(n??256))-BigInt(1);try{const s=typeof t=="string"&&Xe(t)?BigInt(Wp(t)):BigInt(t);return s>=0&&s<=r}catch{return!1}},md=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e?.abiType){const{baseTypeSize:i,baseType:a}=ja(e.abiType);if(a!=="int")return!1;i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=ha(BigInt(2),BigInt((n??256)-1)),s=BigInt(-1)*ha(BigInt(2),BigInt((n??256)-1));try{const i=typeof t=="string"&&Xe(t)?BigInt(Wp(t)):BigInt(t);return i>=s&&i<=r}catch{return!1}},zT=t=>!!(md(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),VT=t=>oi(t),rn=t=>Object.values(Us).includes(t),kv=t=>rn(t)||VT(t),_l=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),Kp=(t,e)=>{if(typeof e=="string"&&!Xe(e)||!_l(t))return!1;const n=typeof e=="string"?Na(e):e,r=ui(Cn(n)).slice(2);for(let s=0;s<12;s+=4){const i=(parseInt(r.slice(s,s+2),16)<<8)+parseInt(r.slice(s+2,s+4),16)&2047,a=UT(t.charCodeAt(t.length-1-Math.floor(i/4))),c=1<<i%4;if((a&c)!==c)return!1}return!0},GG=(t,e)=>{if(!_l(t)||!dr(e))return!1;const n=xm(e,64);return Kp(t,n)},WG=(t,e)=>!_l(t)||!dr(e)?!1:Kp(t,e),qG=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!Xe(t)?t==="1"||t==="0":typeof t=="string"&&Xe(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,U=t=>t==null,Wc=t=>typeof t=="object"&&!U(t)&&!Array.isArray(t)&&!(t instanceof Lw),wm=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),QG=(t,e)=>!_l(t)||!wm(e)?!1:Kp(t,e),KG=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(U(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!U(t.fromBlock)&&!kv(t.fromBlock)||!U(t.toBlock)&&!kv(t.toBlock))return!1;if(!U(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>dr(n)))return!1}else if(!dr(t.address))return!1}return!(!U(t.topics)&&!t.topics.every(n=>U(n)?!0:Array.isArray(n)?n.every(r=>wm(r)):!!wm(n)))},ma={address:t=>dr(t),bloom:t=>_l(t),blockNumber:t=>VT(t),blockTag:t=>rn(t),blockNumberOrTag:t=>kv(t),bool:t=>qG(t),bytes:t=>_o(t),filter:t=>KG(t),hex:t=>Xe(t),uint:t=>oi(t),int:t=>md(t),number:t=>zT(t),string:t=>Qw(t)};for(let t=8;t<=256;t+=8)ma[`int${t}`]=e=>md(e,{bitSize:t}),ma[`uint${t}`]=e=>oi(e,{bitSize:t});for(let t=1;t<=32;t+=1)ma[`bytes${t}`]=e=>_o(e,{size:t});ma.bytes256=ma.bytes;const su=t=>{if((!t?.type||t?.type==="object")&&t?.properties){const e={};for(const n of Object.keys(t.properties)){const r=su(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?ns.object(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):ns.object(e).partial()}if(t?.type==="array"&&t?.items){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const s of t.items){const i=su(s);i&&r.push(i)}return ns.tuple(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=ns.array(su(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return ns.union(t.oneOf.map(e=>su(e)));if(t?.format){if(!ma[t.format])throw new yV(t.format);return ns.any().refine(ma[t.format],e=>({params:{value:e,format:t.format}}))}return t?.type&&t?.type!=="object"&&typeof ns[String(t.type)]=="function"?ns[String(t.type)]():ns.object({data:ns.any()}).partial()};class fc{static factory(){return fc.validatorInstance||(fc.validatorInstance=new fc),fc.validatorInstance}validate(e,n,r){var s,i;const c=su(e).safeParse(n);if(!c.success){const l=this.convertErrors((i=(s=c.error)===null||s===void 0?void 0:s.issues)!==null&&i!==void 0?i:[]);if(l){if(r?.silent)return l;throw new Gc(l)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let s,i,a,c;c=n.path.join("/");const l=String(n.path[n.path.length-1]),u=n.path.join("/");if(n.code===K.too_big)i="maxItems",c=`${u}/maxItems`,a={limit:n.maximum},s=`must NOT have more than ${n.maximum} items`;else if(n.code===K.too_small)i="minItems",c=`${u}/minItems`,a={limit:n.minimum},s=`must NOT have fewer than ${n.minimum} items`;else if(n.code===K.custom){const{value:d,format:f}=(r=n.params)!==null&&r!==void 0?r:{};typeof d>"u"?s=`value at "/${c}" is required`:s=`value "${typeof d=="object"?JSON.stringify(d):d}" at "/${c}" must pass "${f}" validation`,a={value:d}}return{keyword:i??l,instancePath:u?`/${u}`:"",schemaPath:c?`#${c}`:"#",params:a??{value:n.message},message:s??n.message}})}}class YG{constructor(){this._validator=fc.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var s,i;const a=Jw(e);if(!(Array.isArray(a.items)&&((s=a.items)===null||s===void 0?void 0:s.length)===0&&n.length===0)){if(Array.isArray(a.items)&&((i=a.items)===null||i===void 0?void 0:i.length)===0&&n.length!==0)throw new Gc([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(a,n,r)}}}const ye=new YG;function Eo(t){var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function On(...t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Yp(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const Jp={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},Tv="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",bs=t=>{if(ye.validate(["bytes"],[t]),Eo(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return Na(t);throw new Ec(t)},{uint8ArrayToHexString:JG}=$T,De=t=>JG(bs(t)),ct=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?bs(`0x${t}`):bs(t),Gd=t=>(ye.validate(["hex"],[t]),Wp(t)),ZG=Gd,Qt=(t,e)=>{typeof t!="bigint"&&ye.validate(["int"],[t]);let n=qp(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},XG=Qt,eW=t=>Gd(t).toString(),Qr=t=>{ye.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),De(new TextEncoder().encode(e))},GT=Qr,tW=Qr,Zp=t=>NT(ct(t)),nW=t=>typeof t=="string"?Zp(t):(ye.validate(["bytes"],[t]),NT(t)),Xw=Uc,rW=Zp,WT=t=>{ye.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},sW=WT,qT=t=>new TextDecoder("ascii").decode(ct(t)),iW=qT,ai=(t,e)=>{if(typeof t=="string"&&dr(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":Qt(t);if(typeof t=="bigint")return e?"bigint":Qt(t);if(Eo(t))return e?"bytes":De(t);if(typeof t=="object"&&t)return e?"string":Qr(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":Qt(t);if(Xe(t))return e?"bytes":t;if(ym(t)&&!md(t)&&!oi(t))return e?"bytes":`0x${t}`;if(ym(t)&&!md(t)&&oi(t))return e?"uint":Qt(t);if(!Number.isFinite(t))return e?"string":Qr(t)}throw new eV(t)},qn=t=>{if(typeof t=="number")return t>1e20?(console.warn(Tv),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&Xe(t))return Gd(t);try{return qn(BigInt(t))}catch{throw new Uw(t)}},Uo=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&ym(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Uw(t)},oW=(t,e)=>{let n;if(typeof e=="string"){if(n=Jp[e],!n)throw new yT(e)}else{if(e<0||!Number.isInteger(e))throw new vT(e);n=ha(BigInt(10),BigInt(e))}const r=String(qn(t)),s=n.toString().length-1;if(s<=0)return r.toString();const i=r.padStart(s,"0"),a=i.slice(0,-s),c=i.slice(-s).replace(/\.?0+$/,"");return a===""?c?`0.${c}`:"0":c===""?a:`${a}.${c}`.slice(0,a.length+s+1)},aW=(t,e)=>{ye.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=Jp[e],!n)throw new yT(e)}else{if(e<0||!Number.isInteger(e))throw new vT(e);n=ha(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(Tv),r>1e20?(console.warn(Tv),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[s,i]=String(typeof r=="string"&&!Xe(r)?r:qn(r)).split(".").concat(""),c=BigInt(`${s}${i}`)*n,l=i.length;return l===0?c.toString():c.toString().slice(0,-l)},As=t=>{if(!dr(t,!1))throw new $w(t);const e=t.toLowerCase().replace(/^0x/i,""),n=ui(Cn(Qp(Xw(e))));if(U(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const s=n.replace(/^0x/i,"");for(let i=0;i<e.length;i+=1)parseInt(s[i],16)>7?r+=e[i].toUpperCase():r+=e[i];return r},QT=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!Xe(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&Xe(t)&&(t==="0x1"||t==="0x0"))return!!qn(t);throw new Hw(t)};var KT={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},c.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,p,g){var m=n?n+u:u;if(!this._events[m])return!1;var y=this._events[m],v=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,g),!0}for(b=1,w=new Array(v-1);b<v;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var _=y.length,E;for(b=0;b<_;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(v-1);E<v;E++)w[E-1]=arguments[E];y[b].fn.apply(y[b].context,w)}}return!0},c.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var m=0,y=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&y.push(g[m]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(KT);var cW=KT.exports;const YT=il(cW);class eb extends YT{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const lW=Xe,uW=ym,dW=HT,fW=dr,hW=_l,mW=Kp,pW=GG,gW=WG,yW=wm,vW=QG,xW=(t,e)=>{const n=typeof t=="string"&&rn(t),r=typeof e=="string"&&rn(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const a={[Us.EARLIEST]:1,[Us.FINALIZED]:2,[Us.SAFE]:3,[Us.LATEST]:4,[Us.PENDING]:5};return a[t]<a[e]?-1:1}if(n&&!r||!n&&r)throw new nV("Cannot compare blocktag with provided non-blocktag input.");const s=BigInt(t),i=BigInt(e);return s<i?-1:s===i?0:1},Di=t=>typeof t=="object"&&!U(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),xe=U,WE=t=>typeof t=="object"&&!U(t)&&!Array.isArray(t)&&!(t instanceof Lw),Ao=(t,...e)=>{if(!WE(t))return t;const n=Object.assign({},t);for(const r of e)for(const s in r)WE(r[s])?(n[s]||(n[s]={}),n[s]=Ao(n[s],r[s])):!U(r[s])&&Object.hasOwnProperty.call(r,s)&&(Array.isArray(r[s])||r[s]instanceof Lw?n[s]=r[s].slice(0):n[s]=r[s]);return n},qc=(t,e,n="0")=>typeof t=="string"?Xe(t)?xm(t,e,n):t.padStart(e,n):(ye.validate(["int"],[t]),xm(t,e,n)),JT=(t,e,n="0")=>{if(typeof t=="string"&&!Xe(t))return t.padEnd(e,n);const r=typeof t=="string"&&Xe(t)?t:Qt(t),s=r.startsWith("-")?3:2;return ye.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+s,n)},ZT=JT,pd=qc,XT=(t,e=64)=>{ye.validate(["int"],[t]);const n=qn(t);if(n>=0)return qc(ai(n),e);const r=ha(BigInt(2),BigInt(e*4));if(-n>=r)throw new xT(`value: ${t}, nibbleWidth: ${e}`);const i=BigInt(n)+r;return qc(Qt(i),e)},wW=(t,e=64)=>{ye.validate(["int"],[t]);const n=qn(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new xT(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const s=ha(BigInt(2),BigInt(e)*BigInt(4));return qn(BigInt(n)-s)},{parseBaseType:bW}=$T,Fs=t=>typeof t=="object"&&!U(t)&&"number"in t&&"bytes"in t,_W=(t,e,n=[])=>{let r=Object.assign({},t),s;for(const i of e){if(r.oneOf&&s){const a=s,c=n.find(([l])=>l===a);c&&c[0]===s&&(r=r.oneOf[c[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[i]:r.items&&r.items.properties?r=r.items.properties[i]:r.items&&Wc(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(i,10)]),r&&i&&(s=i)}return r},gd=(t,e,n)=>{try{const{baseType:r,baseTypeSize:s}=bW(e);if(r==="int"||r==="uint")switch(n.number){case Sr.NUMBER:return Number(Uo(t));case Sr.HEX:return Qt(Uo(t));case Sr.STR:return Uo(t).toString();case Sr.BIGINT:return Uo(t);default:throw new wv(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let i;switch(s?typeof t=="string"?i=qc(t,s*2):Eo(t)&&(i=On(new Uint8Array(s-t.length),t)):i=t,n.bytes){case si.HEX:return De(bs(i));case si.UINT8ARRAY:return bs(i);default:throw new wv(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},qE=({value:t,schemaProp:e,schema:n,object:r,key:s,dataPath:i,format:a,oneOfPath:c=[]})=>{var l,u;if(Array.isArray(t)){let d=e;if(e?.oneOf!==void 0&&e.oneOf.forEach((f,h)=>{var p,g;!Array.isArray(e?.items)&&(typeof t[0]=="object"&&((p=f?.items)===null||p===void 0?void 0:p.type)==="object"||typeof t[0]=="string"&&((g=f?.items)===null||g===void 0?void 0:g.type)!=="object")&&(d=f,c.push([s,h]))}),U(d?.items))return delete r[s],i.pop(),!0;if(Wc(d.items)&&!U(d.items.format)){for(let f=0;f<t.length;f+=1)r[s][f]=gd(t[f],(l=d?.items)===null||l===void 0?void 0:l.format,a);return i.pop(),!0}if(!Array.isArray(d?.items)&&((u=d?.items)===null||u===void 0?void 0:u.type)==="object"){for(const f of t)Xp(f,n,i,a,c);return i.pop(),!0}if(Array.isArray(d?.items)){for(let f=0;f<t.length;f+=1)r[s][f]=gd(t[f],d.items[f].format,a);return i.pop(),!0}}return!1},Xp=(t,e,n,r,s=[])=>{var i;if(!Wc(t)&&!Array.isArray(t))return gd(t,e?.format,r);const a=t;if(Array.isArray(a)&&e?.type==="array"&&((i=e?.items)===null||i===void 0?void 0:i.type)==="object")qE({value:a,schemaProp:e,schema:e,object:a,key:"",dataPath:n,format:r,oneOfPath:s});else for(const[c,l]of Object.entries(a)){n.push(c);let u=_W(e,n,s);if(U(u)){delete a[c],n.pop();continue}if(Wc(l)){Xp(l,e,n,r,s),n.pop();continue}if(!qE({value:l,schemaProp:u,schema:e,object:a,key:c,dataPath:n,format:r,oneOfPath:s})){if(u?.format===void 0&&u?.oneOf!==void 0){for(const[d,f]of u.oneOf.entries())if(f?.format!==void 0){u=f;break}}a[c]=gd(l,u.format,r),n.pop()}}return a},Q=(t,e,n=Tn)=>{let r;Wc(e)?r=Ao({},e):Array.isArray(e)?r=[...e]:r=e;const s=Wc(t)?t:Jw(t);if(!s.properties&&!s.items&&!s.format)throw new wv("Invalid json schema for formatting");return Xp(r,s,[],n)},eP="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",Qc=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=Uc(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!Xe(t)?e=Uc(t):e=bs(t),De(Cn(Qp(e)))},Wd=t=>{let e;typeof t=="string"?t.startsWith("0x")&&Xe(t)?e=ct(t):e=Uc(t):e=t;const n=Qc(e);return n===eP?void 0:n},fr=t=>{const e=Wd(t);return U(e)?eP:e},EW=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=ai(t,!0),n=ai(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=Uo(n)),[e,n]},AW=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,wy=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},QE=t=>t.toString(2).length,KE=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return Qr(e);throw new Xz(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new Hw(e)}if(t==="address"){if(!dr(n))throw new $w(n);return n}const r=AW(t);if(t.startsWith("uint")){const s=wy(r,4);if(s%8||s<8||s>256)throw new OE(n);const i=qn(n);if(QE(i)>s)throw new ME(n);if(i<BigInt(0))throw new tV(n);return s?pd(i.toString(16),s/8*2):i.toString(16)}if(t.startsWith("int")){const s=wy(r,3);if(s%8||s<8||s>256)throw new OE(t);const i=qn(n);if(QE(i)>s)throw new ME(n);return i<BigInt(0)?XT(i.toString(),s/8*2):s?pd(i.toString(16),s/4):i.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new Ec(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new Ec(n);const s=wy(t,5);if(!s||s<1||s>64||s<n.replace(/^0x/i,"").length/2)throw new Ec(n);return ZT(n,s*2)}return""},tP=t=>{const[e,n]=EW(t);return Array.isArray(n)?n.map(i=>KE(e,i).replace("0x","")).join(""):KE(e,n).replace("0x","")},tb=(...t)=>`0x${t.map(tP).join("").toLowerCase()}`,SW=(...t)=>Wd(tb(...t)),jW=(...t)=>fr(tb(...t)),NW=t=>Wd(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function CW(t){return CV(t)}const yd=t=>CW(t),kW=t=>De(yd(t));var eg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function nP(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function rP(t,e,n){return eg(this,void 0,void 0,function*(){let r;const s=yield Promise.race([t instanceof Promise?t:t(),new Promise((i,a)=>{r=setTimeout(()=>n?a(n):i(void 0),e)})]);if(r&&clearTimeout(r),s instanceof Error)throw s;return s})}function nb(t,e){let n;return[new Promise((s,i)=>{n=setInterval(function a(){return eg(this,void 0,void 0,function*(){try{const c=yield rP(t,e);U(c)||(clearInterval(n),s(c))}catch(c){clearInterval(n),i(c)}}),a}(),e)}),n]}function TW(t,e){return eg(this,void 0,void 0,function*(){return nb(t,e)[0]})}function rb(t,e){let n;const r=new Promise((s,i)=>{n=setTimeout(()=>{i(e)},t)});return[n,r]}function sP(t,e){let n;const r=new Promise((s,i)=>{n=setInterval(()=>{eg(this,void 0,void 0,function*(){const a=yield t();a&&(clearInterval(n),i(a))})},e)});return[n,r]}const sb=()=>{const t=yd(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=De(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},ib=t=>{const e=t.error.code;return In.has(e)||e>=-32099&&e<=-32e3},Ji=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&U(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),Zi=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&U(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),tg=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!U(t.params)&&!U(t.method),iP=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,bm=t=>Ji(t)||Zi(t),ob=t=>Array.isArray(t)?t.every(bm):bm(t),vd=t=>Array.isArray(t)&&t.length>0&&ob(t);let oh;const oP=t=>{oh=t},pa=t=>{var e,n,r,s;return typeof oh<"u"&&(oh+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:oh)!==null&&r!==void 0?r:sb(),method:t.method,params:(s=t.params)!==null&&s!==void 0?s:void 0}},ab=t=>t.map(e=>pa(e)),is=t=>Array.isArray(t)&&t.length>0,PW=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:is,isBatchResponse:vd,isResponseRpcError:ib,isResponseWithError:Zi,isResponseWithNotification:tg,isResponseWithResult:Ji,isSubscriptionResult:iP,isValidResponse:ob,setRequestIdStart:oP,toBatchPayload:ab,toPayload:pa,validateResponse:bm},Symbol.toStringTag,{value:"Module"}));var by=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},aP;class _m{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[aP]="Promise",this._state="pending",this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return by(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return by(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return by(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new lT(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}aP=Symbol.toStringTag;class cP{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(s=>{let i=s;this.lastChunk&&(i=this.lastChunk+i);let a;try{a=JSON.parse(i)}catch{this.lastChunk=i,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new Vp({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,a&&n.push(a)}),n}}var YE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class cb extends Hd{constructor(){super(...arguments),this._eventEmitter=new YT,this._chainId="",this._accounts=[]}_getChainId(){return YE(this,void 0,void 0,function*(){var e;const n=yield this.request(pa({method:"eth_chainId",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:""})}_getAccounts(){return YE(this,void 0,void 0,function*(){var e;const n=yield this.request(pa({method:"eth_accounts",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new sV(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var _y=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const IW={autoReconnect:!0,delay:5e3,maxAttempts:5},RW=1e3;class lP extends cb{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new bv(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},IW),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new cP(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new zd(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new bv(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??RW;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return _y(this,arguments,void 0,function*(r,s,i=!1,a=1e3){let c=0;yield _y(this,void 0,void 0,function*(){return new Promise(u=>{const d=setInterval(()=>{i&&c>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(d),u(!0)),c+=1},a)})}),this.disconnect(r,s)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new xz),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new vz(this._reconnectOptions.maxAttempts))))}request(e){return _y(this,void 0,void 0,function*(){if(xe(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=is(e)?e[0].id:e.id;if(!n)throw new jz("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new wz(n);const r=new _m;r.catch(i=>{this._eventEmitter.emit("error",i)});const s={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,s),s.deferredPromise;this._sentRequestsQueue.set(n,s);try{this._sendToSocket(s.payload)}catch(i){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",i)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(xe(n)||n.length===0))for(const r of n){if(tg(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const s=vd(r)?r[0].id:r.id,i=this._sentRequestsQueue.get(s);if(!i)return;(vd(r)||Ji(r)||Zi(r))&&(this._eventEmitter.emit("message",r),i.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(s)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new xv(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new xv(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}const uP=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:cP,Eip1193Provider:cb,EventEmitter:eb,SocketProvider:lP,Web3DeferredPromise:_m,asciiToHex:WT,bytesToHex:De,bytesToUint8Array:bs,checkAddressCheckSum:dW,compareBlockNumbers:xW,convert:Xp,convertScalarValue:gd,encodePacked:tb,ethUnitMap:Jp,format:Q,fromAscii:sW,fromDecimal:XG,fromTwosComplement:wW,fromUtf8:GT,fromWei:oW,getStorageSlotNumForLongString:NW,hexToAscii:qT,hexToBytes:ct,hexToNumber:Gd,hexToNumberString:eW,hexToString:rW,hexToUtf8:Zp,isAddress:fW,isBatchRequest:is,isBatchResponse:vd,isBloom:hW,isContractAddressInBloom:gW,isContractInitOptions:Di,isDataFormat:Fs,isHex:uW,isHexStrict:lW,isInBloom:mW,isNullish:xe,isPromise:nP,isResponseRpcError:ib,isResponseWithError:Zi,isResponseWithNotification:tg,isResponseWithResult:Ji,isSubscriptionResult:iP,isTopic:yW,isTopicInBloom:vW,isUint8Array:Eo,isUserEthereumAddressInBloom:pW,isValidResponse:ob,jsonRpc:PW,keccak256:Qc,keccak256Wrapper:Qc,leftPad:pd,mergeDeep:Ao,numberToHex:Qt,padLeft:qc,padRight:JT,pollTillDefined:TW,pollTillDefinedAndReturnIntervalId:nb,processSolidityEncodePackedArgs:tP,randomBytes:yd,randomHex:kW,rejectIfConditionAtInterval:sP,rejectIfTimeout:rb,rightPad:ZT,setRequestIdStart:oP,sha3:Wd,sha3Raw:fr,soliditySha3:SW,soliditySha3Raw:jW,stringToHex:tW,toAscii:iW,toBatchPayload:ab,toBigInt:Uo,toBool:QT,toChecksumAddress:As,toDecimal:ZG,toHex:ai,toNumber:qn,toPayload:pa,toTwosComplement:XT,toUtf8:nW,toWei:aW,uint8ArrayConcat:On,uint8ArrayEquals:Yp,utf8ToBytes:Xw,utf8ToHex:Qr,uuidV4:sb,validateResponse:bm,waitWithTimeout:rP},Symbol.toStringTag,{value:"Module"}));class ng{constructor(){this._emitter=new eb}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var ga;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(ga||(ga={}));class OW extends ng{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:ai(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Tn,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!xe(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!xe(this.config.defaultCommon)&&!xe(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new LE(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!xe(this.config.defaultCommon)&&!xe(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new DE(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!xe(this.config.defaultHardfork)&&!xe(e)&&!xe(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new DE(this.config.defaultHardfork,e.hardfork);if(!xe(this.config.defaultChain)&&!xe(e)&&!xe(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new LE(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(ga.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var Pv={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Wt<"u"&&Wt,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(a){var c=typeof i<"u"&&i||typeof self<"u"&&self||typeof Wt<"u"&&Wt||{},l={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function u(A){return A&&DataView.prototype.isPrototypeOf(A)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(A){return A&&d.indexOf(Object.prototype.toString.call(A))>-1};function h(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function p(A){return typeof A!="string"&&(A=String(A)),A}function g(A){var C={next:function(){var B=A.shift();return{done:B===void 0,value:B}}};return l.iterable&&(C[Symbol.iterator]=function(){return C}),C}function m(A){this.map={},A instanceof m?A.forEach(function(C,B){this.append(B,C)},this):Array.isArray(A)?A.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(C){this.append(C,A[C])},this)}m.prototype.append=function(A,C){A=h(A),C=p(C);var B=this.map[A];this.map[A]=B?B+", "+C:C},m.prototype.delete=function(A){delete this.map[h(A)]},m.prototype.get=function(A){return A=h(A),this.has(A)?this.map[A]:null},m.prototype.has=function(A){return this.map.hasOwnProperty(h(A))},m.prototype.set=function(A,C){this.map[h(A)]=p(C)},m.prototype.forEach=function(A,C){for(var B in this.map)this.map.hasOwnProperty(B)&&A.call(C,this.map[B],B,this)},m.prototype.keys=function(){var A=[];return this.forEach(function(C,B){A.push(B)}),g(A)},m.prototype.values=function(){var A=[];return this.forEach(function(C){A.push(C)}),g(A)},m.prototype.entries=function(){var A=[];return this.forEach(function(C,B){A.push([B,C])}),g(A)},l.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function v(A){return new Promise(function(C,B){A.onload=function(){C(A.result)},A.onerror=function(){B(A.error)}})}function w(A){var C=new FileReader,B=v(C);return C.readAsArrayBuffer(A),B}function b(A){var C=new FileReader,B=v(C),k=/charset=([A-Za-z0-9_-]+)/.exec(A.type),M=k?k[1]:"utf-8";return C.readAsText(A,M),B}function _(A){for(var C=new Uint8Array(A),B=new Array(C.length),k=0;k<C.length;k++)B[k]=String.fromCharCode(C[k]);return B.join("")}function E(A){if(A.slice)return A.slice(0);var C=new Uint8Array(A.byteLength);return C.set(new Uint8Array(A)),C.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:l.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:l.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():l.arrayBuffer&&l.blob&&u(A)?(this._bodyArrayBuffer=E(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||f(A))?this._bodyArrayBuffer=E(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=y(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function j(A){var C=A.toUpperCase();return N.indexOf(C)>-1?C:A}function L(A,C){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var B=C.body;if(A instanceof L){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,C.headers||(this.headers=new m(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!B&&A._bodyInit!=null&&(B=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new m(C.headers)),this.method=j(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in c){var $=new AbortController;return $.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(B),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var M=/\?/;this.url+=(M.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function T(A){var C=new FormData;return A.trim().split("&").forEach(function(B){if(B){var k=B.split("="),M=k.shift().replace(/\+/g," "),$=k.join("=").replace(/\+/g," ");C.append(decodeURIComponent(M),decodeURIComponent($))}}),C}function R(A){var C=new m,B=A.replace(/\r?\n[\t ]+/g," ");return B.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var M=k.split(":"),$=M.shift().trim();if($){var W=M.join(":").trim();try{C.append($,W)}catch(ee){console.warn("Response "+ee.message)}}}),C}S.call(L.prototype);function I(A,C){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new m(C.headers),this.url=C.url||"",this._initBody(A)}S.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},I.error=function(){var A=new I(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var H=[301,302,303,307,308];I.redirect=function(A,C){if(H.indexOf(C)===-1)throw new RangeError("Invalid status code");return new I(null,{status:C,headers:{location:A}})},a.DOMException=c.DOMException;try{new a.DOMException}catch{a.DOMException=function(C,B){this.message=C,this.name=B;var k=Error(C);this.stack=k.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function F(A,C){return new Promise(function(B,k){var M=new L(A,C);if(M.signal&&M.signal.aborted)return k(new a.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function W(){$.abort()}$.onload=function(){var le={statusText:$.statusText,headers:R($.getAllResponseHeaders()||"")};M.url.indexOf("file://")===0&&($.status<200||$.status>599)?le.status=200:le.status=$.status,le.url="responseURL"in $?$.responseURL:le.headers.get("X-Request-URL");var Le="response"in $?$.response:$.responseText;setTimeout(function(){B(new I(Le,le))},0)},$.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},$.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request timed out"))},0)},$.onabort=function(){setTimeout(function(){k(new a.DOMException("Aborted","AbortError"))},0)};function ee(le){try{return le===""&&c.location.href?c.location.href:le}catch{return le}}if($.open(M.method,ee(M.url),!0),M.credentials==="include"?$.withCredentials=!0:M.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&(l.blob?$.responseType="blob":l.arrayBuffer&&($.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof m||c.Headers&&C.headers instanceof c.Headers)){var fe=[];Object.getOwnPropertyNames(C.headers).forEach(function(le){fe.push(h(le)),$.setRequestHeader(le,p(C.headers[le]))}),M.headers.forEach(function(le,Le){fe.indexOf(Le)===-1&&$.setRequestHeader(Le,le)})}else M.headers.forEach(function(le,Le){$.setRequestHeader(Le,le)});M.signal&&(M.signal.addEventListener("abort",W),$.onreadystatechange=function(){$.readyState===4&&M.signal.removeEventListener("abort",W)}),$.send(typeof M._bodyInit>"u"?null:M._bodyInit)})}return F.polyfill=!0,c.fetch||(c.fetch=F,c.Headers=m,c.Request=L,c.Response=I),a.Headers=m,a.Request=L,a.Response=I,a.fetch=F,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(Pv,Pv.exports);var MW=Pv.exports;const BW=il(MW);var DW=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class rg extends Hd{constructor(e,n){if(super(),!rg.validateClientUrl(e))throw new bv(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new js}supportsSubscriptions(){return!1}request(e,n){var r;return DW(this,void 0,void 0,function*(){const s=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),i=yield BW(this.clientUrl,Object.assign(Object.assign({},s),{method:"POST",headers:Object.assign(Object.assign({},s.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new ls(yield i.json(),void 0,void 0,i.status);return yield i.json()})}on(){throw new js}removeListener(){throw new js}once(){throw new js}removeAllListeners(){throw new js}connect(){throw new js}disconnect(){throw new js}reset(){throw new js}reconnect(){throw new js}}var qa=null;typeof WebSocket<"u"?qa=WebSocket:typeof MozWebSocket<"u"?qa=MozWebSocket:typeof global<"u"?qa=global.WebSocket||global.MozWebSocket:typeof window<"u"?qa=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(qa=self.WebSocket||self.MozWebSocket);const LW=qa;class dP extends lP{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!xe(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new LW(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new xv;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,s;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",i=>this._onCloseHandler(i)),(s=this._socketConnection)===null||s===void 0||s.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const fP=t=>Hd.isWeb3Provider(t),hP=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",mP=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",pP=t=>typeof t!="string"&&"send"in t,gP=t=>typeof t!="string"&&"sendAsync"in t,Em=t=>t&&(fP(t)||mP(t)||hP(t)||gP(t)||pP(t)),FW=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var Ey=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},Kc;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(Kc||(Kc={}));const JE={HttpProvider:rg,WebsocketProvider:dP};class Yo extends ng{constructor(e,n,r){super(),xe(e)||this.setProvider(e),this.useRpcCallSpecification=n,xe(r)||(this.middleware=r)}static get providers(){return JE}get provider(){return this._provider}get providers(){return JE}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new nh(`Can't autodetect provider for "${e}"`);else xe(e)?n=void 0:n=e;return this.emit(Kc.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(Kc.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return Ey(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(xe(this.middleware)||(r=yield this.middleware.processResponse(r)),Ji(r))return r.result;throw new ls(r)})}sendBatch(e){return Ey(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return Ey(this,void 0,void 0,function*(){const{provider:n}=this;if(xe(n))throw new nh("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=is(e)?ab(e):pa(e);if(xe(this.middleware)||(r=yield this.middleware.processRequest(r)),fP(n)){let s;try{s=yield n.request(r)}catch(i){s=i}return this._processJsonRpcResponse(r,s,{legacy:!1,error:!1})}if(mP(n))return n.request(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));if(hP(n))return new Promise((s,i)=>{const a=u=>{i(this._processJsonRpcResponse(r,u,{legacy:!0,error:!0}))},c=u=>s(this._processJsonRpcResponse(r,u,{legacy:!0,error:!1})),l=n.request(r,(u,d)=>u?a(u):c(d));nP(l)&&l.then(c).catch(d=>{try{const f=this._processJsonRpcResponse(r,d,{legacy:!0,error:!0});i(f)}catch(f){i(f)}})});if(pP(n))return new Promise((s,i)=>{n.send(r,(a,c)=>{if(a)return i(this._processJsonRpcResponse(r,a,{legacy:!0,error:!0}));if(xe(c))throw new ls({},'Got a "nullish" response from provider.');return s(this._processJsonRpcResponse(r,c,{legacy:!0,error:!1}))})});if(gP(n))return n.sendAsync(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));throw new nh("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:s}){if(xe(n))return this._buildResponse(e,null,s);if(Zi(n)){if(this.useRpcCallSpecification&&ib(n)){const i=n;if(In.get(i.error.code)){const a=In.get(i.error.code).error;throw new a(i)}else throw new pr(i)}else if(!Yo._isReverted(n))throw new Vp(n,e)}if(Ji(n))return n;if(n instanceof Error)throw Yo._isReverted(n),n;if(!r&&is(e)&&vd(n)||r&&!s&&is(e))return n;if(r&&s&&is(e))throw n;if(r&&!Zi(n)&&!Ji(n))return this._buildResponse(e,n,s);throw is(e)&&!Array.isArray(n)?new ls(n,"Got normal response for a batch request."):!is(e)&&Array.isArray(n)?new ls(n,"Got batch response for a normal request."):new ls(n,"Invalid response")}static _isReverted(e){let n;if(Zi(e)?n=e.error:e instanceof Error&&(n=e),n?.message.includes("revert"))throw new Qo(n);return!1}_buildResponse(e,n,r){const s={jsonrpc:"2.0",id:is(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},s),{error:n}):Object.assign(Object.assign({},s),{result:n})}}var Hl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class Am{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(Kc.BEFORE_PROVIDER_CHANGE,()=>Hl(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(Kc.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof e?.supportsSubscriptions=="function"&&!e?.supportsSubscriptions()||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,s;if(!e)throw new Ds("Should not call messageListener with no data. Type was");const i=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((s=e.id)===null||s===void 0?void 0:s.toString(16));if(i){const a=this._subscriptions.get(i);a?.processSubscriptionData(e)}}subscribe(e,n){return Hl(this,arguments,void 0,function*(r,s,i=Tn){const a=this.registeredSubscriptions[r];if(!a)throw new Ds("Invalid subscription type");const c=new a(s??void 0,{subscriptionManager:this,returnFormat:i});return yield this.addSubscription(c),c})}get subscriptions(){return this._subscriptions}addSubscription(e){return Hl(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new nh("Provider not available");if(!this.supportsSubscriptions())throw new Ds("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new Ds(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),xe(e.id))throw new Ds("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return Hl(this,void 0,void 0,function*(){const{id:n}=e;if(xe(n))throw new Ds("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new Ds(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return Hl(this,void 0,void 0,function*(){const n=[];for(const[r,s]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:s}))&&n.push(this.removeSubscription(s));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return xe(this.requestManager.provider)?!1:FW(this.requestManager.provider)}}var zl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class qd extends ng{constructor(e,n){var r;super(),this.args=e;const{requestManager:s}=n,{subscriptionManager:i}=n;s?this._subscriptionManager=new Am(s,{},!0):this._subscriptionManager=i,this._returnFormat=(r=n?.returnFormat)!==null&&r!==void 0?r:Tn}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return zl(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e?.data?this._processSubscriptionResult((r=(n=e?.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e?.data):e&&tg(e)&&this._processSubscriptionResult(e?.params.result)}sendSubscriptionRequest(){return zl(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return zl(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return zl(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return zl(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var Fa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class Sm extends j9{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!U(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return U(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return U(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return Fa(this,void 0,void 0,function*(){return Promise.all(this.map(r=>Fa(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return Fa(this,void 0,void 0,function*(){const s=yield Promise.all(e.map(i=>Fa(this,void 0,void 0,function*(){return this._accountProvider.decrypt(i,n,r)})));for(const i of s)this.add(i);return this})}save(e,n){return Fa(this,void 0,void 0,function*(){const r=Sm.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return Fa(this,void 0,void 0,function*(){const r=Sm.getStorage();if(!r)throw new Error("Local storage not available.");const s=r.getItem(n??this._defaultKeyName);return s&&(yield this.decrypt(JSON.parse(s)||[],e)),this})}}const hs={web:rh};function yP(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function vP(t,e,n){if(!hs.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await hs.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function lb(t,e,n,r="aes-128-ctr",s=!0){if(yP(e,n,r),hs.web){const[i,a]=await vP(r,e,n),c=await hs.web.subtle.encrypt(a,i,t);let l=new Uint8Array(c);return!s&&a.name==="aes-cbc"&&!(t.length%16)&&(l=l.slice(0,-16)),l}else if(hs.node){const i=hs.node.createCipheriv(r,e,n);return i.setAutoPadding(s),Ev(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}async function UW(t,e,n,r){const s=t.slice(-16);for(let a=0;a<16;a++)s[a]^=n[a]^16;return(await lb(s,e,n,r)).slice(0,16)}async function $W(t,e,n,r="aes-128-ctr",s=!0){if(yP(e,n,r),hs.web){const[i,a]=await vP(r,e,n);if(!s&&a.name==="aes-cbc"){const u=await UW(t,e,n,r);t=Ev(t,u)}const c=await hs.web.subtle.decrypt(a,i,t),l=new Uint8Array(c);if(a.name==="aes-cbc"){const u=await lb(l,e,n,r);if(!LV(u,t))throw new Error("AES: wrong padding")}return l}else if(hs.node){const i=hs.node.createDecipheriv(r,e,n);return i.setAutoPadding(s),Ev(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}let xP=class extends Gw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,zw(e);const r=$c(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return ua(this),this.iHash.update(e),this}digestInto(e){ua(this),bl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const wP=(t,e,n)=>new xP(t,e).update(n).digest();wP.create=(t,e)=>new xP(t,e);function HW(t,e,n,r){zw(t);const s=_T({dkLen:32,asyncTick:10},r),{c:i,dkLen:a,asyncTick:c}=s;if(Vn(i),Vn(a),Vn(c),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=$c(e),u=$c(n),d=new Uint8Array(a),f=wP.create(t,l),h=f._cloneInto().update(u);return{c:i,dkLen:a,asyncTick:c,DK:d,PRF:f,PRFSalt:h}}function zW(t,e,n,r,s){return t.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),n}function ub(t,e,n,r){const{c:s,dkLen:i,DK:a,PRF:c,PRFSalt:l}=HW(t,e,n,r);let u;const d=new Uint8Array(4),f=ih(d),h=new Uint8Array(c.outputLen);for(let p=1,g=0;g<i;p++,g+=c.outputLen){const m=a.subarray(g,g+c.outputLen);f.setInt32(0,p,!1),(u=l._cloneInto(u)).update(d).digestInto(h),m.set(h.subarray(0,m.length));for(let y=1;y<s;y++){c._cloneInto(u).update(h).digestInto(h);for(let v=0;v<m.length;v++)m[v]^=h[v]}}return zW(c,l,a,u,h)}function VW(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,c,r)}const GW=(t,e,n)=>t&e^~t&n,WW=(t,e,n)=>t&e^t&n^e&n;let qW=class extends Gw{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ih(this.buffer)}update(e){ua(this);const{view:n,buffer:r,blockLen:s}=this;e=$c(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const l=ih(e);for(;s<=i-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ua(this),Vw(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;VW(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=ih(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}};const QW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bi=new Uint32Array(64);let KW=class extends qW{constructor(){super(64,32,8,!1),this.A=wi[0]|0,this.B=wi[1]|0,this.C=wi[2]|0,this.D=wi[3]|0,this.E=wi[4]|0,this.F=wi[5]|0,this.G=wi[6]|0,this.H=wi[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:c,H:l}=this;return[e,n,r,s,i,a,c,l]}set(e,n,r,s,i,a,c,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)bi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=bi[f-15],p=bi[f-2],g=ts(h,7)^ts(h,18)^h>>>3,m=ts(p,17)^ts(p,19)^p>>>10;bi[f]=m+bi[f-7]+g+bi[f-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const h=ts(c,6)^ts(c,11)^ts(c,25),p=d+h+GW(c,l,u)+QW[f]+bi[f]|0,m=(ts(r,2)^ts(r,13)^ts(r,22))+WW(r,s,i)|0;d=u,u=l,l=c,c=a+p|0,a=i,i=s,s=r,r=p+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,a,c,l,u,d)}roundClean(){bi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const db=ET(()=>new KW);function bP(t,e,n,r,s){if(!["sha256","sha512"].includes(s))throw new Error("Only sha256 and sha512 are supported");return lm(t),lm(e),ub(db,t,e,{c:n,dkLen:r})}function ZE(t,e,n,r,s,i){let a=t[e++]^n[r++],c=t[e++]^n[r++],l=t[e++]^n[r++],u=t[e++]^n[r++],d=t[e++]^n[r++],f=t[e++]^n[r++],h=t[e++]^n[r++],p=t[e++]^n[r++],g=t[e++]^n[r++],m=t[e++]^n[r++],y=t[e++]^n[r++],v=t[e++]^n[r++],w=t[e++]^n[r++],b=t[e++]^n[r++],_=t[e++]^n[r++],E=t[e++]^n[r++],S=a,N=c,j=l,L=u,T=d,R=f,I=h,H=p,F=g,A=m,C=y,B=v,k=w,M=b,$=_,W=E;for(let ee=0;ee<8;ee+=2)T^=Je(S+k|0,7),F^=Je(T+S|0,9),k^=Je(F+T|0,13),S^=Je(k+F|0,18),A^=Je(R+N|0,7),M^=Je(A+R|0,9),N^=Je(M+A|0,13),R^=Je(N+M|0,18),$^=Je(C+I|0,7),j^=Je($+C|0,9),I^=Je(j+$|0,13),C^=Je(I+j|0,18),L^=Je(W+B|0,7),H^=Je(L+W|0,9),B^=Je(H+L|0,13),W^=Je(B+H|0,18),N^=Je(S+L|0,7),j^=Je(N+S|0,9),L^=Je(j+N|0,13),S^=Je(L+j|0,18),I^=Je(R+T|0,7),H^=Je(I+R|0,9),T^=Je(H+I|0,13),R^=Je(T+H|0,18),B^=Je(C+A|0,7),F^=Je(B+C|0,9),A^=Je(F+B|0,13),C^=Je(A+F|0,18),k^=Je(W+$|0,7),M^=Je(k+W|0,9),$^=Je(M+k|0,13),W^=Je($+M|0,18);s[i++]=a+S|0,s[i++]=c+N|0,s[i++]=l+j|0,s[i++]=u+L|0,s[i++]=d+T|0,s[i++]=f+R|0,s[i++]=h+I|0,s[i++]=p+H|0,s[i++]=g+F|0,s[i++]=m+A|0,s[i++]=y+C|0,s[i++]=v+B|0,s[i++]=w+k|0,s[i++]=b+M|0,s[i++]=_+$|0,s[i++]=E+W|0}function Ay(t,e,n,r,s){let i=r+0,a=r+16*s;for(let c=0;c<16;c++)n[a+c]=t[e+(2*s-1)*16+c];for(let c=0;c<s;c++,i+=16,e+=16)ZE(n,a,t,e,n,i),c>0&&(a+=16),ZE(n,i,t,e+=16,n,a)}function YW(t,e,n){const r=_T({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:s,r:i,p:a,dkLen:c,asyncTick:l,maxmem:u,onProgress:d}=r;if(Vn(s),Vn(i),Vn(a),Vn(c),Vn(l),Vn(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const f=128*i,h=f/4;if(s<=1||s&s-1||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=f*(s+a);if(p>u)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${u} (maxmem)`);const g=ub(db,t,e,{c:1,dkLen:f*a}),m=sh(g),y=sh(new Uint8Array(f*s)),v=sh(new Uint8Array(f));let w=()=>{};if(d){const b=2*s*a,_=Math.max(Math.floor(b/1e4),1);let E=0;w=()=>{E++,d&&(!(E%_)||E===b)&&d(E/b)}}return{N:s,r:i,p:a,dkLen:c,blockSize32:h,V:y,B32:m,B:g,tmp:v,blockMixCb:w,asyncTick:l}}function JW(t,e,n,r,s){const i=ub(db,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),s.fill(0),i}function ZW(t,e,n){const{N:r,r:s,p:i,dkLen:a,blockSize32:c,V:l,B32:u,B:d,tmp:f,blockMixCb:h}=YW(t,e,n);am||cm(u);for(let p=0;p<i;p++){const g=c*p;for(let m=0;m<c;m++)l[m]=u[g+m];for(let m=0,y=0;m<r-1;m++)Ay(l,y,l,y+=c,s),h();Ay(l,(r-1)*c,u,g,s),h();for(let m=0;m<r;m++){const y=u[g+c-16]%r;for(let v=0;v<c;v++)f[v]=u[g+v]^l[y*c+v];Ay(f,0,u,g,s),h()}}return am||cm(u),JW(t,a,d,l,f)}function _P(t,e,n,r,s,i,a){return lm(t),lm(e),ZW(t,e,{N:n,r:s,p:r,dkLen:i,onProgress:a})}function XE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function XW(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function sg(t,...e){if(!XW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function eq(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");XE(t.outputLen),XE(t.blockLen)}function jm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tq(t,e){sg(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Sy=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jy=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rs=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function nq(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function fb(t){return typeof t=="string"&&(t=nq(t)),sg(t),t}function rq(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];sg(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class EP{clone(){return this._cloneInto()}}function sq(t){const e=r=>t().update(fb(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function iq(t=32){if(Sy&&typeof Sy.getRandomValues=="function")return Sy.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function oq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,c,r)}const aq=(t,e,n)=>t&e^~t&n,cq=(t,e,n)=>t&e^t&n^e&n;class lq extends EP{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jy(this.buffer)}update(e){jm(this);const{view:n,buffer:r,blockLen:s}=this;e=fb(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const l=jy(e);for(;s<=i-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jm(this),tq(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;oq(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=jy(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}}const uq=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ei=new Uint32Array(64);class dq extends lq{constructor(){super(64,32,8,!1),this.A=_i[0]|0,this.B=_i[1]|0,this.C=_i[2]|0,this.D=_i[3]|0,this.E=_i[4]|0,this.F=_i[5]|0,this.G=_i[6]|0,this.H=_i[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:c,H:l}=this;return[e,n,r,s,i,a,c,l]}set(e,n,r,s,i,a,c,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)Ei[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Ei[f-15],p=Ei[f-2],g=rs(h,7)^rs(h,18)^h>>>3,m=rs(p,17)^rs(p,19)^p>>>10;Ei[f]=m+Ei[f-7]+g+Ei[f-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const h=rs(c,6)^rs(c,11)^rs(c,25),p=d+h+aq(c,l,u)+uq[f]+Ei[f]|0,m=(rs(r,2)^rs(r,13)^rs(r,22))+cq(r,s,i)|0;d=u,u=l,l=c,c=a+p|0,a=i,i=s,s=r,r=p+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,a,c,l,u,d)}roundClean(){Ei.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const fq=sq(()=>new dq);class AP extends EP{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,eq(e);const r=fb(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return jm(this),this.iHash.update(e),this}digestInto(e){jm(this),sg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const SP=(t,e,n)=>new AP(t,e).update(n).digest();SP.create=(t,e)=>new AP(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jP=BigInt(0),ig=BigInt(1),hq=BigInt(2);function ya(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Qd(t){if(!ya(t))throw new Error("Uint8Array expected")}const mq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Yc(t){Qd(t);let e="";for(let n=0;n<t.length;n++)e+=mq[t[n]];return e}function NP(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Cs={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function eA(t){if(t>=Cs._0&&t<=Cs._9)return t-Cs._0;if(t>=Cs._A&&t<=Cs._F)return t-(Cs._A-10);if(t>=Cs._a&&t<=Cs._f)return t-(Cs._a-10)}function Jc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=eA(t.charCodeAt(i)),c=eA(t.charCodeAt(i+1));if(a===void 0||c===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=a*16+c}return r}function Jo(t){return hb(Yc(t))}function mb(t){return Qd(t),hb(Yc(Uint8Array.from(t).reverse()))}function Zc(t,e){return Jc(t.toString(16).padStart(e*2,"0"))}function pb(t,e){return Zc(t,e).reverse()}function pq(t){return Jc(NP(t))}function Mr(t,e,n){let r;if(typeof e=="string")try{r=Jc(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(ya(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function xd(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Qd(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function gq(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function yq(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function vq(t){let e;for(e=0;t>jP;t>>=ig,e+=1);return e}function xq(t,e){return t>>BigInt(e)&ig}function wq(t,e,n){return t|(n?ig:jP)<<BigInt(e)}const gb=t=>(hq<<BigInt(t-1))-ig,Ny=t=>new Uint8Array(t),tA=t=>Uint8Array.from(t);function CP(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ny(t),s=Ny(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},c=(...f)=>n(s,r,...f),l=(f=Ny())=>{s=c(tA([0]),f),r=c(),f.length!==0&&(s=c(tA([1]),f),r=c())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=c();const p=r.slice();h.push(p),f+=r.length}return xd(...h)};return(f,h)=>{a(),l(f);let p;for(;!(p=h(u()));)l();return a(),p}}const bq={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ya(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Kd(t,e,n={}){const r=(s,i,a)=>{const c=bq[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(a&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const _q=Object.freeze(Object.defineProperty({__proto__:null,abytes:Qd,bitGet:xq,bitLen:vq,bitMask:gb,bitSet:wq,bytesToHex:Yc,bytesToNumberBE:Jo,bytesToNumberLE:mb,concatBytes:xd,createHmacDrbg:CP,ensureBytes:Mr,equalBytes:gq,hexToBytes:Jc,hexToNumber:hb,isBytes:ya,numberToBytesBE:Zc,numberToBytesLE:pb,numberToHexUnpadded:NP,numberToVarBytesBE:pq,utf8ToBytes:yq,validateObject:Kd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xt=BigInt(0),Rt=BigInt(1),Bo=BigInt(2),Eq=BigInt(3),Iv=BigInt(4),nA=BigInt(5),rA=BigInt(8);BigInt(9);BigInt(16);function $n(t,e){const n=t%e;return n>=Xt?n:e+n}function Aq(t,e,n){if(n<=Xt||e<Xt)throw new Error("Expected power/modulo > 0");if(n===Rt)return Xt;let r=Rt;for(;e>Xt;)e&Rt&&(r=r*t%n),t=t*t%n,e>>=Rt;return r}function gr(t,e,n){let r=t;for(;e-- >Xt;)r*=r,r%=n;return r}function Rv(t,e){if(t===Xt||e<=Xt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=$n(t,e),r=e,s=Xt,i=Rt;for(;n!==Xt;){const c=r/n,l=r%n,u=s-i*c;r=n,n=l,s=i,i=u}if(r!==Rt)throw new Error("invert: does not exist");return $n(s,e)}function Sq(t){const e=(t-Rt)/Bo;let n,r,s;for(n=t-Rt,r=0;n%Bo===Xt;n/=Bo,r++);for(s=Bo;s<t&&Aq(s,e,t)!==t-Rt;s++);if(r===1){const a=(t+Rt)/Iv;return function(l,u){const d=l.pow(u,a);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(n+Rt)/Bo;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,d=c.pow(c.mul(c.ONE,s),n),f=c.pow(l,i),h=c.pow(l,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let p=1;for(let m=c.sqr(h);p<u&&!c.eql(m,c.ONE);p++)m=c.sqr(m);const g=c.pow(d,Rt<<BigInt(u-p-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),u=p}return f}}function jq(t){if(t%Iv===Eq){const e=(t+Rt)/Iv;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%rA===nA){const e=(t-nA)/rA;return function(r,s){const i=r.mul(s,Bo),a=r.pow(i,e),c=r.mul(s,a),l=r.mul(r.mul(c,Bo),a),u=r.mul(c,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Sq(t)}const Nq=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Cq(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Nq.reduce((r,s)=>(r[s]="function",r),e);return Kd(t,n)}function kq(t,e,n){if(n<Xt)throw new Error("Expected power > 0");if(n===Xt)return t.ONE;if(n===Rt)return e;let r=t.ONE,s=e;for(;n>Xt;)n&Rt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Rt;return r}function Tq(t,e){const n=new Array(e.length),r=e.reduce((i,a,c)=>t.is0(a)?i:(n[c]=i,t.mul(i,a)),t.ONE),s=t.inv(r);return e.reduceRight((i,a,c)=>t.is0(a)?i:(n[c]=t.mul(i,n[c]),t.mul(i,a)),s),n}function kP(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Pq(t,e,n=!1,r={}){if(t<=Xt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=kP(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=jq(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:gb(s),ZERO:Xt,ONE:Rt,create:l=>$n(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Xt<=l&&l<t},is0:l=>l===Xt,isOdd:l=>(l&Rt)===Rt,neg:l=>$n(-l,t),eql:(l,u)=>l===u,sqr:l=>$n(l*l,t),add:(l,u)=>$n(l+u,t),sub:(l,u)=>$n(l-u,t),mul:(l,u)=>$n(l*u,t),pow:(l,u)=>kq(c,l,u),div:(l,u)=>$n(l*Rv(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Rv(l,t),sqrt:r.sqrt||(l=>a(c,l)),invertBatch:l=>Tq(c,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?pb(l,i):Zc(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?mb(l):Jo(l)}});return Object.freeze(c)}function TP(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function PP(t){const e=TP(t);return e+Math.ceil(e/2)}function Iq(t,e,n=!1){const r=t.length,s=TP(e),i=PP(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=n?Jo(t):mb(t),c=$n(a,e-Rt)+Rt;return n?pb(c,s):Zc(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rq=BigInt(0),Cy=BigInt(1);function Oq(t,e){const n=(s,i)=>{const a=i.negate();return s?a:i},r=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(s,i){let a=t.ZERO,c=s;for(;i>Rq;)i&Cy&&(a=a.add(c)),c=c.double(),i>>=Cy;return a},precomputeWindow(s,i){const{windows:a,windowSize:c}=r(i),l=[];let u=s,d=u;for(let f=0;f<a;f++){d=u,l.push(d);for(let h=1;h<c;h++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(s,i,a){const{windows:c,windowSize:l}=r(s);let u=t.ZERO,d=t.BASE;const f=BigInt(2**s-1),h=2**s,p=BigInt(s);for(let g=0;g<c;g++){const m=g*l;let y=Number(a&f);a>>=p,y>l&&(y-=h,a+=Cy);const v=m,w=m+Math.abs(y)-1,b=g%2!==0,_=y<0;y===0?d=d.add(n(b,i[v])):u=u.add(n(_,i[w]))}return{p:u,f:d}},wNAFCached(s,i,a,c){const l=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,l),l!==1&&i.set(s,c(u))),this.wNAF(l,u,a)}}}function IP(t){return Cq(t.Fp),Kd(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kP(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Mq(t){const e=IP(t);Kd(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Bq,hexToBytes:Dq}=_q,$o={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=$o;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Bq(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=$o,n=typeof t=="string"?Dq(t):t;Qd(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=$o._parseInt(n.subarray(2)),{d:a,l:c}=$o._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,a=s.length/2,c=n(i),l=n(a);return`30${n(a+i+4)}02${l}${s}02${c}${r}`}},$s=BigInt(0),xr=BigInt(1);BigInt(2);const sA=BigInt(3);BigInt(4);function Lq(t){const e=Mq(t),{Fp:n}=e,r=e.toBytes||((g,m,y)=>{const v=m.toAffine();return xd(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=e.fromBytes||(g=>{const m=g.subarray(1),y=n.fromBytes(m.subarray(0,n.BYTES)),v=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:y,y:v}});function i(g){const{a:m,b:y}=e,v=n.sqr(g),w=n.mul(v,g);return n.add(n.add(w,n.mul(g,m)),y)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return typeof g=="bigint"&&$s<g&&g<e.n}function c(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(g){const{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:v,n:w}=e;if(m&&typeof g!="bigint"){if(ya(g)&&(g=Yc(g)),typeof g!="string"||!m.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0")}let b;try{b=typeof g=="bigint"?g:Jo(Mr("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return v&&(b=$n(b,w)),c(b),b}const u=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,y,v){if(this.px=m,this.py=y,this.pz=v,m==null||!n.isValid(m))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required")}static fromAffine(m){const{x:y,y:v}=m||{};if(!m||!n.isValid(y)||!n.isValid(v))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");const w=b=>n.eql(b,n.ZERO);return w(y)&&w(v)?f.ZERO:new f(y,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const y=n.invertBatch(m.map(v=>v.pz));return m.map((v,w)=>v.toAffine(y[w])).map(f.fromAffine)}static fromHex(m){const y=f.fromAffine(s(Mr("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return f.BASE.multiply(l(m))}_setWindowSize(m){this._WINDOW_SIZE=m,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:m,y}=this.toAffine();if(!n.isValid(m)||!n.isValid(y))throw new Error("bad point: x or y not FE");const v=n.sqr(y),w=i(m);if(!n.eql(v,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){d(m);const{px:y,py:v,pz:w}=this,{px:b,py:_,pz:E}=m,S=n.eql(n.mul(y,E),n.mul(b,w)),N=n.eql(n.mul(v,E),n.mul(_,w));return S&&N}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:y}=e,v=n.mul(y,sA),{px:w,py:b,pz:_}=this;let E=n.ZERO,S=n.ZERO,N=n.ZERO,j=n.mul(w,w),L=n.mul(b,b),T=n.mul(_,_),R=n.mul(w,b);return R=n.add(R,R),N=n.mul(w,_),N=n.add(N,N),E=n.mul(m,N),S=n.mul(v,T),S=n.add(E,S),E=n.sub(L,S),S=n.add(L,S),S=n.mul(E,S),E=n.mul(R,E),N=n.mul(v,N),T=n.mul(m,T),R=n.sub(j,T),R=n.mul(m,R),R=n.add(R,N),N=n.add(j,j),j=n.add(N,j),j=n.add(j,T),j=n.mul(j,R),S=n.add(S,j),T=n.mul(b,_),T=n.add(T,T),j=n.mul(T,R),E=n.sub(E,j),N=n.mul(T,L),N=n.add(N,N),N=n.add(N,N),new f(E,S,N)}add(m){d(m);const{px:y,py:v,pz:w}=this,{px:b,py:_,pz:E}=m;let S=n.ZERO,N=n.ZERO,j=n.ZERO;const L=e.a,T=n.mul(e.b,sA);let R=n.mul(y,b),I=n.mul(v,_),H=n.mul(w,E),F=n.add(y,v),A=n.add(b,_);F=n.mul(F,A),A=n.add(R,I),F=n.sub(F,A),A=n.add(y,w);let C=n.add(b,E);return A=n.mul(A,C),C=n.add(R,H),A=n.sub(A,C),C=n.add(v,w),S=n.add(_,E),C=n.mul(C,S),S=n.add(I,H),C=n.sub(C,S),j=n.mul(L,A),S=n.mul(T,H),j=n.add(S,j),S=n.sub(I,j),j=n.add(I,j),N=n.mul(S,j),I=n.add(R,R),I=n.add(I,R),H=n.mul(L,H),A=n.mul(T,A),I=n.add(I,H),H=n.sub(R,H),H=n.mul(L,H),A=n.add(A,H),R=n.mul(I,A),N=n.add(N,R),R=n.mul(C,A),S=n.mul(F,S),S=n.sub(S,R),R=n.mul(F,I),j=n.mul(C,j),j=n.add(j,R),new f(S,N,j)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,u,m,y=>{const v=n.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(v[b])).map(f.fromAffine)})}multiplyUnsafe(m){const y=f.ZERO;if(m===$s)return y;if(c(m),m===xr)return this;const{endo:v}=e;if(!v)return p.unsafeLadder(this,m);let{k1neg:w,k1:b,k2neg:_,k2:E}=v.splitScalar(m),S=y,N=y,j=this;for(;b>$s||E>$s;)b&xr&&(S=S.add(j)),E&xr&&(N=N.add(j)),j=j.double(),b>>=xr,E>>=xr;return w&&(S=S.negate()),_&&(N=N.negate()),N=new f(n.mul(N.px,v.beta),N.py,N.pz),S.add(N)}multiply(m){c(m);let y=m,v,w;const{endo:b}=e;if(b){const{k1neg:_,k1:E,k2neg:S,k2:N}=b.splitScalar(y);let{p:j,f:L}=this.wNAF(E),{p:T,f:R}=this.wNAF(N);j=p.constTimeNegate(_,j),T=p.constTimeNegate(S,T),T=new f(n.mul(T.px,b.beta),T.py,T.pz),v=j.add(T),w=L.add(R)}else{const{p:_,f:E}=this.wNAF(y);v=_,w=E}return f.normalizeZ([v,w])[0]}multiplyAndAddUnsafe(m,y,v){const w=f.BASE,b=(E,S)=>S===$s||S===xr||!E.equals(w)?E.multiplyUnsafe(S):E.multiply(S),_=b(this,y).add(b(m,v));return _.is0()?void 0:_}toAffine(m){const{px:y,py:v,pz:w}=this,b=this.is0();m==null&&(m=b?n.ONE:n.inv(w));const _=n.mul(y,m),E=n.mul(v,m),S=n.mul(w,m);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:_,y:E}}isTorsionFree(){const{h:m,isTorsionFree:y}=e;if(m===xr)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:y}=e;return m===xr?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),r(f,this,m)}toHex(m=!0){return Yc(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,p=Oq(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function Fq(t){const e=IP(t);return Kd(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Uq(t){const e=Fq(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function a(A){return $s<A&&A<n.ORDER}function c(A){return $n(A,r)}function l(A){return Rv(A,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=Lq({...e,toBytes(A,C,B){const k=C.toAffine(),M=n.toBytes(k.x),$=xd;return B?$(Uint8Array.from([C.hasEvenY()?2:3]),M):$(Uint8Array.from([4]),M,n.toBytes(k.y))},fromBytes(A){const C=A.length,B=A[0],k=A.subarray(1);if(C===s&&(B===2||B===3)){const M=Jo(k);if(!a(M))throw new Error("Point is not on curve");const $=f(M);let W;try{W=n.sqrt($)}catch(le){const Le=le instanceof Error?": "+le.message:"";throw new Error("Point is not on curve"+Le)}const ee=(W&xr)===xr;return(B&1)===1!==ee&&(W=n.neg(W)),{x:M,y:W}}else if(C===i&&B===4){const M=n.fromBytes(k.subarray(0,n.BYTES)),$=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:M,y:$}}else throw new Error(`Point of length ${C} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=A=>Yc(Zc(A,e.nByteLength));function g(A){const C=r>>xr;return A>C}function m(A){return g(A)?c(-A):A}const y=(A,C,B)=>Jo(A.slice(C,B));class v{constructor(C,B,k){this.r=C,this.s=B,this.recovery=k,this.assertValidity()}static fromCompact(C){const B=e.nByteLength;return C=Mr("compactSignature",C,B*2),new v(y(C,0,B),y(C,B,2*B))}static fromDER(C){const{r:B,s:k}=$o.toSig(Mr("DER",C));return new v(B,k)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new v(this.r,this.s,C)}recoverPublicKey(C){const{r:B,s:k,recovery:M}=this,$=N(Mr("msgHash",C));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const W=M===2||M===3?B+e.n:B;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=M&1?"03":"02",fe=u.fromHex(ee+p(W)),le=l(W),Le=c(-$*le),Ne=c(k*le),ae=u.BASE.multiplyAndAddUnsafe(fe,Le,Ne);if(!ae)throw new Error("point at infinify");return ae.assertValidity(),ae}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Jc(this.toDERHex())}toDERHex(){return $o.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Jc(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const w={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=PP(e.n);return Iq(e.randomBytes(A),e.n)},precompute(A=8,C=u.BASE){return C._setWindowSize(A),C.multiply(BigInt(3)),C}};function b(A,C=!0){return u.fromPrivateKey(A).toRawBytes(C)}function _(A){const C=ya(A),B=typeof A=="string",k=(C||B)&&A.length;return C?k===s||k===i:B?k===2*s||k===2*i:A instanceof u}function E(A,C,B=!0){if(_(A))throw new Error("first arg must be private key");if(!_(C))throw new Error("second arg must be public key");return u.fromHex(C).multiply(d(A)).toRawBytes(B)}const S=e.bits2int||function(A){const C=Jo(A),B=A.length*8-e.nBitLength;return B>0?C>>BigInt(B):C},N=e.bits2int_modN||function(A){return c(S(A))},j=gb(e.nBitLength);function L(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!($s<=A&&A<j))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Zc(A,e.nByteLength)}function T(A,C,B=R){if(["recovered","canonical"].some(Ke=>Ke in B))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:M}=e;let{lowS:$,prehash:W,extraEntropy:ee}=B;$==null&&($=!0),A=Mr("msgHash",A),W&&(A=Mr("prehashed msgHash",k(A)));const fe=N(A),le=d(C),Le=[L(le),L(fe)];if(ee!=null&&ee!==!1){const Ke=ee===!0?M(n.BYTES):ee;Le.push(Mr("extraEntropy",Ke))}const Ne=xd(...Le),ae=fe;function Ve(Ke){const Oe=S(Ke);if(!h(Oe))return;const Ye=l(Oe),Fe=u.BASE.multiply(Oe).toAffine(),pt=c(Fe.x);if(pt===$s)return;const Kt=c(Ye*c(ae+pt*le));if(Kt===$s)return;let Yr=(Fe.x===pt?0:2)|Number(Fe.y&xr),Dn=Kt;return $&&g(Kt)&&(Dn=m(Kt),Yr^=1),new v(pt,Dn,Yr)}return{seed:Ne,k2sig:Ve}}const R={lowS:e.lowS,prehash:!1},I={lowS:e.lowS,prehash:!1};function H(A,C,B=R){const{seed:k,k2sig:M}=T(A,C,B),$=e;return CP($.hash.outputLen,$.nByteLength,$.hmac)(k,M)}u.BASE._setWindowSize(8);function F(A,C,B,k=I){const M=A;if(C=Mr("msgHash",C),B=Mr("publicKey",B),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:W}=k;let ee,fe;try{if(typeof M=="string"||ya(M))try{ee=v.fromDER(M)}catch(Fe){if(!(Fe instanceof $o.Err))throw Fe;ee=v.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:Fe,s:pt}=M;ee=new v(Fe,pt)}else throw new Error("PARSE");fe=u.fromHex(B)}catch(Fe){if(Fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&ee.hasHighS())return!1;W&&(C=e.hash(C));const{r:le,s:Le}=ee,Ne=N(C),ae=l(Le),Ve=c(Ne*ae),Ke=c(le*ae),Oe=u.BASE.multiplyAndAddUnsafe(fe,Ve,Ke)?.toAffine();return Oe?c(Oe.x)===le:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:H,verify:F,ProjectivePoint:u,Signature:v,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $q(t){return{hash:t,hmac:(e,...n)=>SP(t,e,rq(...n)),randomBytes:iq}}function Hq(t,e){const n=r=>Uq({...t,...$q(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),iA=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),zq=BigInt(1),Ov=BigInt(2),oA=(t,e)=>(t+e/Ov)/e;function Vq(t){const e=RP,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=gr(d,n,e)*d%e,h=gr(f,n,e)*d%e,p=gr(h,Ov,e)*u%e,g=gr(p,s,e)*p%e,m=gr(g,i,e)*g%e,y=gr(m,c,e)*m%e,v=gr(y,l,e)*y%e,w=gr(v,c,e)*m%e,b=gr(w,n,e)*d%e,_=gr(b,a,e)*g%e,E=gr(_,r,e)*u%e,S=gr(E,Ov,e);if(!Mv.eql(Mv.sqr(S),t))throw new Error("Cannot find square root");return S}const Mv=Pq(RP,void 0,void 0,{sqrt:Vq}),yb=Hq({a:BigInt(0),b:BigInt(7),Fp:Mv,n:iA,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=iA,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-zq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),c=oA(i*t,e),l=oA(-r*t,e);let u=$n(t-c*n-l*s,e),d=$n(-c*r-l*i,e);const f=u>a,h=d>a;if(f&&(u=e-u),h&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},fq);BigInt(0);yb.ProjectivePoint;const Gq=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:yb},Symbol.toStringTag,{value:"Module"}));var ky;const di=(ky=yb)!==null&&ky!==void 0?ky:Gq,aA=BigInt("0xffffffffffffffff"),wd=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Wq=di.CURVE.n,qq=Wq/BigInt(2),Qq={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var Nm;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(Nm||(Nm={}));var at;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(at||(at={}));var cA;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(cA||(cA={}));var lA;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(lA||(lA={}));var fn;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(fn||(fn={}));var Er;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(Er||(Er={}));const OP=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Kw(t)?t.slice(2):t};function Kq(t){return!t||t==="0x0"?"0x0000000000000000":Kw(t)?`0x${OP(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const MP=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function Yq(t,e=!0){var n,r;const{name:s,config:i,difficulty:a,mixHash:c,gasLimit:l,coinbase:u,baseFeePerGas:d}=t;let{extraData:f,timestamp:h,nonce:p}=t;const g=Number(h),{chainId:m}=i;if(f===""&&(f="0x"),Kw(h)||(h=MP(parseInt(h))),p.length!==18&&(p=Kq(p)),i.eip155Block!==i.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const y={name:s,chainId:m,networkId:m,genesis:{timestamp:h,gasLimit:parseInt(l),difficulty:parseInt(a),nonce:p,extraData:f,mixHash:c,coinbase:u,baseFeePerGas:d},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:i.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=i.clique.period)!==null&&n!==void 0?n:i.clique.blockperiodseconds,epoch:(r=i.clique.epoch)!==null&&r!==void 0?r:i.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},v={[at.Homestead]:{name:"homesteadBlock"},[at.Dao]:{name:"daoForkBlock"},[at.TangerineWhistle]:{name:"eip150Block"},[at.SpuriousDragon]:{name:"eip155Block"},[at.Byzantium]:{name:"byzantiumBlock"},[at.Constantinople]:{name:"constantinopleBlock"},[at.Petersburg]:{name:"petersburgBlock"},[at.Istanbul]:{name:"istanbulBlock"},[at.MuirGlacier]:{name:"muirGlacierBlock"},[at.Berlin]:{name:"berlinBlock"},[at.London]:{name:"londonBlock"},[at.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[at.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[at.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},w=Object.keys(v).reduce((E,S)=>(E[v[S].name]=S,E),{}),b=Object.keys(i).filter(E=>w[E]!==void 0&&i[E]!==void 0&&i[E]!==null);if(y.hardforks=b.map(E=>({name:w[E],block:v[w[E]].isTimestamp===!0||typeof i[E]!="number"?null:i[E],timestamp:v[w[E]].isTimestamp===!0&&typeof i[E]=="number"?i[E]:void 0})).filter(E=>E.block!==null||E.timestamp!==void 0),y.hardforks.sort((E,S)=>{var N,j;return((N=E.block)!==null&&N!==void 0?N:1/0)-((j=S.block)!==null&&j!==void 0?j:1/0)}),y.hardforks.sort((E,S)=>{var N,j;return((N=E.timestamp)!==null&&N!==void 0?N:g)-((j=S.timestamp)!==null&&j!==void 0?j:g)}),i.terminalTotalDifficulty!==void 0){const E={name:at.Merge,ttd:i.terminalTotalDifficulty,block:null},S=y.hardforks.findIndex(N=>{var j;return((j=v[N.name])===null||j===void 0?void 0:j.postMerge)===!0});S!==-1?y.hardforks.splice(S,0,E):y.hardforks.push(E)}const _=y.hardforks.length>0?y.hardforks.slice(-1)[0]:void 0;return y.hardfork=_?.name,y.hardforks.unshift({name:at.Chainstart,block:0}),y}function Jq(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),Yq(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function BP(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const Zq=function(t){const e=MP(t);return ct(`0x${BP(e.slice(2))}`)},gt=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!FT(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return ct(BP(OP(t)))}if(typeof t=="number")return gt(Qt(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),gt(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function st(t){const e=De(t);return BigInt(e==="0x"?0:e)}function Xq(t){return gt(`0x${t.toString(16)}`)}const DP=function(t){return new Uint8Array(t).fill(0)},eQ=function(t,e,n){const r=DP(e);return t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function vb(t){if(!Eo(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const uA=function(t,e){return vb(t),eQ(t,e)};function tQ(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const Cm=function(t){return vb(t),tQ(t)},yt=t=>`0x${t.toString(16)}`;function We(t){return Cm(Xq(t))}function nQ(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function rQ(t){return t===BigInt(0)||t===BigInt(1)}const xb=function(t,e,n,r,s){const i=nQ(e,s);if(!rQ(i))throw new Error("Invalid signature v value");return new di.Signature(st(n),st(r)).addRecoveryBit(Number(i)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function Ua(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!FT(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=gt(t);switch(e){case Er.Uint8Array:return n;case Er.BigInt:return st(n);case Er.Number:{const r=st(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case Er.PrefixedHexString:return De(n);default:throw new Error("unknown outputType")}}var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});var ir=Vs.RLP=Vs.utils=Vs.decode=Vs.encode=void 0;function wb(t){if(Array.isArray(t)){const n=[];let r=0;for(let s=0;s<t.length;s++){const i=wb(t[s]);n.push(i),r+=i.length}return Dv(fA(r,192),...n)}const e=zP(t);return e.length===1&&e[0]<128?e:Dv(fA(e.length,128),e)}Vs.encode=wb;function $a(t,e,n){if(n>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,n)}function dA(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return UP(FP(t))}function fA(t,e){if(t<56)return Uint8Array.from([t+e]);const n=Lv(t),r=n.length/2,s=Lv(e+55+r);return Uint8Array.from(km(s+n))}function LP(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const n=zP(t),r=Bv(n);if(e)return r;if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}Vs.decode=LP;function Bv(t){let e,n,r,s,i;const a=[],c=t[0];if(c<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(c<=183){if(e=c-127,c===128?r=Uint8Array.from([]):r=$a(t,1,e),e===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:t.slice(e)}}else if(c<=191){if(n=c-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(e=dA($a(t,1,n)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=$a(t,n,e+n),{data:r,remainder:t.slice(e+n)}}else if(c<=247){for(e=c-191,s=$a(t,1,e);s.length;)i=Bv(s),a.push(i.data),s=i.remainder;return{data:a,remainder:t.slice(e)}}else{if(n=c-246,e=dA($a(t,1,n)),e<56)throw new Error("invalid RLP: encoded list too short");const l=n+e;if(l>t.length)throw new Error("invalid RLP: total length is larger than the data");for(s=$a(t,n,l);s.length;)i=Bv(s),a.push(i.data),s=i.remainder;return{data:a,remainder:t.slice(l)}}}const sQ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function FP(t){let e="";for(let n=0;n<t.length;n++)e+=sQ[t[n]];return e}function UP(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function km(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2;e[n]=UP(t.slice(r,r+2))}return e}function Dv(...t){if(t.length===1)return t[0];const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function $P(t){return new TextEncoder().encode(t)}function Lv(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function iQ(t){return t.length%2?`0${t}`:t}function HP(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function oQ(t){return typeof t!="string"?t:HP(t)?t.slice(2):t}function zP(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return HP(t)?km(iQ(oQ(t))):$P(t);if(typeof t=="number"||typeof t=="bigint")return t?km(Lv(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}Vs.utils={bytesToHex:FP,concatBytes:Dv,hexToBytes:km,utf8ToBytes:$P};ir=Vs.RLP={encode:wb,decode:LP};var VP={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var j=0,L=new Array(256),T=0;T!=256;++T)j=T,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,L[T]=j;return typeof Int32Array<"u"?new Int32Array(L):L}var r=n();function s(j){var L=0,T=0,R=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)I[R]=j[R];for(R=0;R!=256;++R)for(T=j[R],L=256+R;L<4096;L+=256)T=I[L]=T>>>8^j[T&255];var H=[];for(R=1;R!=16;++R)H[R-1]=typeof Int32Array<"u"?I.subarray(R*256,R*256+256):I.slice(R*256,R*256+256);return H}var i=s(r),a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],f=i[5],h=i[6],p=i[7],g=i[8],m=i[9],y=i[10],v=i[11],w=i[12],b=i[13],_=i[14];function E(j,L){for(var T=L^-1,R=0,I=j.length;R<I;)T=T>>>8^r[(T^j.charCodeAt(R++))&255];return~T}function S(j,L){for(var T=L^-1,R=j.length-15,I=0;I<R;)T=_[j[I++]^T&255]^b[j[I++]^T>>8&255]^w[j[I++]^T>>16&255]^v[j[I++]^T>>>24]^y[j[I++]]^m[j[I++]]^g[j[I++]]^p[j[I++]]^h[j[I++]]^f[j[I++]]^d[j[I++]]^u[j[I++]]^l[j[I++]]^c[j[I++]]^a[j[I++]]^r[j[I++]];for(R+=15;I<R;)T=T>>>8^r[(T^j[I++])&255];return~T}function N(j,L){for(var T=L^-1,R=0,I=j.length,H=0,F=0;R<I;)H=j.charCodeAt(R++),H<128?T=T>>>8^r[(T^H)&255]:H<2048?(T=T>>>8^r[(T^(192|H>>6&31))&255],T=T>>>8^r[(T^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,F=j.charCodeAt(R++)&1023,T=T>>>8^r[(T^(240|H>>8&7))&255],T=T>>>8^r[(T^(128|H>>2&63))&255],T=T>>>8^r[(T^(128|F>>6&15|(H&3)<<4))&255],T=T>>>8^r[(T^(128|F&63))&255]):(T=T>>>8^r[(T^(224|H>>12&15))&255],T=T>>>8^r[(T^(128|H>>6&63))&255],T=T>>>8^r[(T^(128|H&63))&255]);return~T}e.table=r,e.bstr=E,e.buf=S,e.str=N})})(VP);const aQ=il(VP),cQ={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},lQ={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},uQ={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},dQ={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},fQ={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},hQ={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},mQ={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},pQ={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},gQ={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},yQ={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},vQ={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},xQ={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},wQ={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},bQ={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},_Q={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},EQ={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},AQ={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},SQ={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},jQ={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},NQ={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},CQ={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},kQ={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},TQ={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},PQ={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},IQ={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Ha={1153:dQ,1559:fQ,2315:hQ,2537:mQ,2565:pQ,2718:gQ,2929:yQ,2930:vQ,3198:xQ,3529:wQ,3540:bQ,3541:_Q,3554:EQ,3607:AQ,3651:SQ,3670:jQ,3675:NQ,3855:CQ,3860:kQ,4345:TQ,4399:PQ,5133:IQ},RQ={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},OQ={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},MQ={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},BQ={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},DQ={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},LQ={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},FQ={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},UQ={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},$Q={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},HQ={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},zQ={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},VQ={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},GQ={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},WQ={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},qQ={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},QQ={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},KQ={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},YQ={chainstart:RQ,homestead:MQ,dao:OQ,tangerineWhistle:BQ,spuriousDragon:DQ,byzantium:LQ,constantinople:FQ,petersburg:UQ,istanbul:$Q,muirGlacier:HQ,berlin:zQ,london:VQ,shanghai:GQ,arrowGlacier:WQ,grayGlacier:qQ,mergeForkIdTransition:QQ,merge:KQ},{buf:JQ}=aQ;class Vt extends eb{static custom(e,n={}){var r;const s=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",i=Object.assign({},Vt._getChainParams(s));if(i.name="custom-chain",typeof e!="string")return new Vt(Object.assign({chain:Object.assign(Object.assign({},i),e)},n));if(e===fn.PolygonMainnet)return Vt.custom({name:fn.PolygonMainnet,chainId:137,networkId:137},n);if(e===fn.PolygonMumbai)return Vt.custom({name:fn.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===fn.ArbitrumRinkebyTestnet)return Vt.custom({name:fn.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===fn.ArbitrumOne)return Vt.custom({name:fn.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===fn.xDaiChain)return Vt.custom({name:fn.xDaiChain,chainId:100,networkId:100},n);if(e===fn.OptimisticKovan)return Vt.custom({name:fn.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:at.Berlin},n));if(e===fn.OptimisticEthereum)return Vt.custom({name:fn.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:at.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:s,hardfork:i,mergeForkIdPostMerge:a}){var c;const l=Jq(e,n,a),u=new Vt({chain:(c=l.name)!==null&&c!==void 0?c:"custom",customChains:[l],eips:r,hardfork:i??l.hardfork});return s!==void 0&&u.setForkHashes(s),u}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const s=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),s.names[r]){const i=s.names[r];return s[i]}throw new Error(`Chain with ID ${r} not supported`)}if(s[r]!==void 0)return s[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:at.Merge,this.HARDFORK_CHANGES=this.hardforks().map(s=>[s.name,YQ[s.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Vt._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const s=Ua(e,Er.BigInt),i=Ua(n,Er.BigInt),a=Ua(r,Er.Number),c=this.hardforks().filter(p=>p.block!==null||p.ttd!==null&&p.ttd!==void 0||p.timestamp!==void 0),l=c.findIndex(p=>p.ttd!==null&&p.ttd!==void 0);if(c.slice(l+1).findIndex(p=>p.ttd!==null&&p.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let d=c.findIndex(p=>p.block!==null&&p.block>s||a!==void 0&&Number(p.timestamp)>a);if(d===-1)d=c.length;else if(d===0)throw Error("Must have at least one hardfork at block 0");if(a===void 0){const p=c.slice(0,d).reverse().findIndex(g=>g.block!==null||g.ttd!==void 0);d-=p}if(d-=1,c[d].block===null&&c[d].timestamp===void 0)(i==null||BigInt(c[d].ttd)>i)&&(d-=1);else if(l>=0&&i!==void 0&&i!==null){if(d>=l&&BigInt(c[l].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(d<l&&BigInt(c[l].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const f=d;for(;d<c.length-1&&!(c[d].block!==c[d+1].block||c[d].timestamp!==c[d+1].timestamp);d+=1);if(a){if(c.slice(0,f).reduce((m,y)=>{var v;return Math.max(Number((v=y.timestamp)!==null&&v!==void 0?v:"0"),m)},0)>a)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(c.slice(d+1).reduce((m,y)=>{var v;return Math.min(Number((v=y.timestamp)!==null&&v!==void 0?v:a),m)},a)<a)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return c[d].name}setHardforkByBlockNumber(e,n,r){const s=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(s),s}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in Ha))throw new Error(`${n} not supported`);const r=this.gteHardfork(Ha[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(Ha[n].requiredEIPs!==void 0){for(const s of Ha[n].requiredEIPs)if(!(e.includes(s)||this.isActivatedEIP(s)))throw new Error(`${n} requires EIP ${s}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const s of this._eips)if(r=this.paramByEIP(e,n,s),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let s=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const a=i[1].eips;for(const c of a){const l=this.paramByEIP(e,n,c);s=typeof l=="bigint"?l:s}}else{if(i[1][e]===void 0)throw new Error(`Topic ${e} not defined`);i[1][e][n]!==void 0&&(s=i[1][e][n].v)}if(i[0]===r)break}return BigInt(s??0)}paramByEIP(e,n,r){if(!(r in Ha))throw new Error(`${r} not supported`);const s=Ha[r];if(!(e in s))throw new Error(`Topic ${e} not defined`);if(s[e][n]===void 0)return;const i=s[e][n].v;return BigInt(i)}paramByBlock(e,n,r,s,i){const a=this.getHardforkByBlockNumber(r,s,i);return this.paramByHardfork(e,n,a)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=Ua(n,Er.BigInt),s=e??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,s=this.hardforks();let i=-1,a=-1,c=0;for(const l of s)l.name===r&&(i=c),l.name===n&&(a=c),c+=1;return i>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return s==null?null:BigInt(s)}hardforkTimestamp(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return s==null?null:BigInt(s)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return s==null?null:BigInt(s)}isHardforkBlock(e,n){const r=Ua(e,Er.BigInt),s=n??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)?i===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,s;const i=(n=e)!==null&&n!==void 0?n:this._hardfork,a=this.hardforks();let c=a.findIndex(f=>f.name===i);if(i===at.Merge&&(c-=1),c<0)return null;let l=(r=a[c].timestamp)!==null&&r!==void 0?r:a[c].block;l=l!=null?Number(l):null;const u=a.slice(c+1).find(f=>{var h;let p=(h=f.timestamp)!==null&&h!==void 0?h:f.block;return p=p!=null?Number(p):null,f.name!==at.Merge&&p!==null&&p!==void 0&&p!==l});if(u===void 0)return null;const d=(s=u.timestamp)!==null&&s!==void 0?s:u.block;return d==null?null:BigInt(d)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let s=this.hardforkBlock(r);if(s===null&&r===at.Merge){const a=this.hardforks(),c=a.findIndex(l=>l.ttd!==null&&l.ttd!==void 0);if(c<0)throw Error("Merge hardfork should have been found");s=this.hardforkBlock(a[c-1].name)}return s===null?null:this.hardforks().reduce((a,c)=>{const l=BigInt(c.block===null||c.ttd!==void 0&&c.ttd!==null?0:c.block);return l>s&&a===null?l:a},null)}isNextHardforkBlock(e,n){const r=Ua(e,Er.BigInt),s=n??this._hardfork,i=this.nextHardforkBlock(s);return i===null?!1:i===r}_calcForkHash(e,n){let r=new Uint8Array,s=0;for(const c of this.hardforks()){const{block:l,timestamp:u,name:d}=c;let f=u??l;if(f=f!==null?Number(f):null,typeof f=="number"&&f!==0&&f!==s&&d!==at.Merge){const h=ct(f.toString(16).padStart(16,"0"));r=On(r,h),s=f}if(c.name===e)break}const i=On(n,r);return De(Zq(JQ(i)>>>0))}forkHash(e,n){const r=e??this._hardfork,s=this._getHardfork(r);if(s===null||s?.block===null&&s?.timestamp===void 0&&s?.ttd===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if(s?.forkHash!==null&&s?.forkHash!==void 0)return s.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const s=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(s!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const s of this.HARDFORK_CHANGES)if("consensus"in s[1]&&(r=s[1].consensus[s[1].consensus.algorithm]),s[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[s,i]of Object.entries(Nm))n[i]=s.toLowerCase();const r={mainnet:lQ,goerli:cQ,sepolia:uQ};if(e)for(const s of e){const{name:i}=s;n[s.chainId.toString()]=i,r[i]=s}return r.names=n,r}}var us;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(us||(us={}));function ZQ(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function XQ(t){return!ZQ(t)}class Sc{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new Sc(DP(20))}equals(e){return Yp(this.buf,e.buf)}isZero(){return this.equals(Sc.zero())}toString(){return De(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(vb(r),n&&r.length!==64&&(r=di.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return Cn(r).slice(-20)}}const eK=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},GP=t=>{let e,n;if(XQ(t)){e=t;const r=[];for(let s=0;s<t.length;s+=1){const i=t[s],a=gt(i.address),c=[];for(let l=0;l<i.storageKeys.length;l+=1)c.push(gt(i.storageKeys[l]));r.push([a,c])}n=r}else{n=t??[];const r=[];for(let s=0;s<n.length;s+=1){const i=n[s],a=De(i[0]),c=[];for(let u=0;u<i[1].length;u+=1)c.push(De(i[1][u]));const l={address:a,storageKeys:c};r.push(l)}e=r}return{AccessListJSON:e,accessList:n}},WP=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],s=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let i=0;i<s.length;i+=1)if(s[i].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},qP=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],s={address:De(uA(r[0],20)),storageKeys:[]},i=r&&r[1];for(let a=0;a<i.length;a+=1){const c=i[a];s.storageKeys.push(De(uA(c,32)))}e.push(s)}return e},QP=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let s=0;for(let a=0;a<t.length;a+=1){const l=t[a][1];s+=l.length}return t.length*Number(r)+s*Number(n)};class Xc{constructor(e,n){var r,s;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Nm.Mainnet,this.DEFAULT_HARDFORK=at.Merge;const{nonce:i,gasLimit:a,to:c,value:l,data:u,v:d,r:f,s:h,type:p}=e;this._type=Number(st(gt(p))),this.txOptions=n;const g=gt(c===""?"0x":c),m=gt(d===""?"0x":d),y=gt(f===""?"0x":f),v=gt(h===""?"0x":h);this.nonce=st(gt(i===""?"0x":i)),this.gasLimit=st(gt(a===""?"0x":a)),this.to=g.length>0?new Sc(g):void 0,this.value=st(gt(l===""?"0x":l)),this.data=gt(u===""?"0x":u),this.v=m.length>0?st(m):void 0,this.r=y.length>0?st(y):void 0,this.s=v.length>0?st(v):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const w=this.to===void 0||this.to===null,b=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,_=(s=n.common)!==null&&s!==void 0?s:this._getCommon();w&&_.isActivatedEIP(3860)&&!b&&eK(_,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>qq){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let s=0;s<this.data.length;s+=1)this.data[s]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const s=BigInt(Math.ceil(this.data.length/32)),i=this.common.param("gasPrices","initCodeWordCost")*s;r+=i}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return Cm(e).length!==0}catch{return!1}}getSenderAddress(){return new Sc(Sc.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(us.EIP155ReplayProtection)&&(this.activeCapabilities.push(us.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:s,r:i,s:a}=this._ecsign(r,e),c=this._processSignature(s,i,a);if(n){const l=this.activeCapabilities.indexOf(us.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return c}_getCommon(e,n){var r,s,i,a;if(n!==void 0){const c=st(gt(n));if(e){if(e.chainId()!==c){const l=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(l)}return e.copy()}return Vt.isSupportedChainId(c)?new Vt({chain:c,hardfork:this.DEFAULT_HARDFORK}):Vt.custom({name:"custom-chain",networkId:c,chainId:c},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e?.copy&&typeof e?.copy=="function")return e.copy();if(e){const c=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return Vt.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(s=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&s!==void 0?s:void 0,chainId:e.chainId?e.chainId():(a=BigInt((i=e.customChain)===null||i===void 0?void 0:i.chainId))!==null&&a!==void 0?a:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:c||this.DEFAULT_HARDFORK})}return new Vt({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[s,i]of Object.entries(e))switch(n){case 64:if(r){if(i!==void 0&&i>=aA){const a=this._errorMsg(`${s} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>aA){const a=this._errorMsg(`${s} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}break;case 256:if(r){if(i!==void 0&&i>=wd){const a=this._errorMsg(`${s} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>wd){const a=this._errorMsg(`${s} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}break;default:{const a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,s]of Object.entries(e))if(n.includes(r)&&Array.isArray(s))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?De(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let s=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return s+=`signed=${n} hf=${r}`,s}_ecsign(e,n,r){const s=di.sign(e,n),i=s.toCompactRawBytes(),a=i.subarray(0,32),c=i.subarray(32,64),l=r===void 0?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s:c,v:l}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const Fv=2,Ty=ct(Fv.toString(16).padStart(2,"0"));class Ho extends Xc{static fromTxData(e,n={}){return new Ho(e,n)}static fromSerializedTx(e,n={}){if(!Yp(e.subarray(0,1),Ty))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${Fv}, received: ${De(e.subarray(0,1))}`);const r=ir.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Ho.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,s,i,a,c,l,u,d,f,h,p,g]=e;return this._validateNotArray({chainId:r,v:h}),Yw({nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:c,value:u,v:h,r:p,s:g}),new Ho({chainId:st(r),nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:c,to:l,value:u,data:d,accessList:f??[],v:h!==void 0?st(h):void 0,r:p,s:g},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:Fv}),n),this.DEFAULT_HARDFORK="london";const{chainId:s,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:c}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const l=GP(i??[]);if(this.accessList=l.accessList,this.AccessListJSON=l.AccessListJSON,WP(this.accessList),this.maxFeePerGas=st(gt(a===""?"0x":a)),this.maxPriorityFeePerGas=st(gt(c===""?"0x":c)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),Xc._validateNotArray(e),this.gasLimit*this.maxFeePerGas>wd){const d=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(d)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const d=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(d)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(QP(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,i=(n<r?n:r)+e;return this.gasLimit*i+this.value}raw(){return[We(this.chainId),We(this.nonce),We(this.maxPriorityFeePerGas),We(this.maxFeePerGas),We(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),We(this.value),this.data,this.accessList,this.v!==void 0?We(this.v):Uint8Array.from([]),this.r!==void 0?We(this.r):Uint8Array.from([]),this.s!==void 0?We(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return On(Ty,ir.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=On(Ty,ir.encode(n));return e?Cn(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Cn(this.serialize())),this.cache.hash):Cn(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return xb(e,n+BigInt(27),We(r),We(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Ho.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:st(n),s:st(r)},s)}toJSON(){const e=qP(this.accessList);return{chainId:yt(this.chainId),nonce:yt(this.nonce),maxPriorityFeePerGas:yt(this.maxPriorityFeePerGas),maxFeePerGas:yt(this.maxFeePerGas),gasLimit:yt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:yt(this.value),data:De(this.data),accessList:e,v:this.v!==void 0?yt(this.v):void 0,r:this.r!==void 0?yt(this.r):void 0,s:this.s!==void 0?yt(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Uv=1,Py=ct(Uv.toString(16).padStart(2,"0"));class zo extends Xc{static fromTxData(e,n={}){return new zo(e,n)}static fromSerializedTx(e,n={}){if(!Yp(e.subarray(0,1),Py))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${Uv}, received: ${De(e.subarray(0,1))}`);const r=ir.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return zo.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,s,i,a,c,l,u,d,f,h,p]=e;this._validateNotArray({chainId:r,v:f}),Yw({nonce:s,gasPrice:i,gasLimit:a,value:l,v:f,r:h,s:p});const g=[];return new zo({chainId:st(r),nonce:s,gasPrice:i,gasLimit:a,to:c,value:l,data:u,accessList:d??g,v:f!==void 0?st(f):void 0,r:h,s:p},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:Uv}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:s,accessList:i,gasPrice:a}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const c=GP(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,WP(this.accessList),this.gasPrice=st(gt(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Xc._validateNotArray(e),this.gasPrice*this.gasLimit>wd){const u=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(u)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(QP(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[We(this.chainId),We(this.nonce),We(this.gasPrice),We(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),We(this.value),this.data,this.accessList,this.v!==void 0?We(this.v):Uint8Array.from([]),this.r!==void 0?We(this.r):Uint8Array.from([]),this.s!==void 0?We(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return On(Py,ir.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=On(Py,ir.encode(n));return e?Cn(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Cn(this.serialize())),this.cache.hash):Cn(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return xb(e,n+BigInt(27),We(r),We(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return zo.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:st(n),s:st(r)},s)}toJSON(){const e=qP(this.accessList);return{chainId:yt(this.chainId),nonce:yt(this.nonce),gasPrice:yt(this.gasPrice),gasLimit:yt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:yt(this.value),data:De(this.data),accessList:e,v:this.v!==void 0?yt(this.v):void 0,r:this.r!==void 0?yt(this.r):void 0,s:this.s!==void 0?yt(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const tK=0;function hA(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class Li extends Xc{static fromTxData(e,n={}){return new Li(e,n)}static fromSerializedTx(e,n={}){const r=ir.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,s,i,a,c,l,u,d,f]=e;return Yw({nonce:r,gasPrice:s,gasLimit:i,value:c,v:u,r:d,s:f}),new Li({nonce:r,gasPrice:s,gasLimit:i,to:a,value:c,data:l,v:u,r:d,s:f},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:tK}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=st(gt(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>wd){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),Xc._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?hA(this.v,this.common.chainId())&&this.activeCapabilities.push(us.EIP155ReplayProtection):this.activeCapabilities.push(us.EIP155ReplayProtection)),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[We(this.nonce),We(this.gasPrice),We(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),We(this.value),this.data,this.v!==void 0?We(this.v):Uint8Array.from([]),this.r!==void 0?We(this.r):Uint8Array.from([]),this.s!==void 0?We(this.s):Uint8Array.from([])]}serialize(){return ir.encode(this.raw())}_getMessageToSign(){const e=[We(this.nonce),We(this.gasPrice),We(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),We(this.value),this.data];return this.supports(us.EIP155ReplayProtection)&&(e.push(gt(this.common.chainId())),e.push(Cm(gt(0))),e.push(Cm(gt(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?Cn(ir.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Cn(ir.encode(this.raw()))),this.cache.hash):Cn(ir.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return Cn(ir.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return xb(e,n,We(r),We(s),this.supports(us.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){let s=e;this.supports(us.EIP155ReplayProtection)&&(s+=this.common.chainId()*BigInt(2)+BigInt(8));const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Li.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:s,r:st(n),s:st(r)},i)}toJSON(){return{nonce:yt(this.nonce),gasPrice:yt(this.gasPrice),gasLimit:yt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:yt(this.value),data:De(this.data),v:this.v!==void 0?yt(this.v):void 0,r:this.r!==void 0?yt(this.r):void 0,s:this.s!==void 0?yt(this.s):void 0}}_validateTxV(e,n){let r;const s=e!==void 0?Number(e):void 0;if(s!==void 0&&s<37&&s!==27&&s!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${s}`);if(s!==void 0&&s!==0&&(!n||n.gteHardfork("spuriousDragon"))&&s!==27&&s!==28)if(n){if(!hA(BigInt(s),n.chainId()))throw new Error(`Incompatible EIP155-based V ${s} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let i;(s-35)%2===0?i=35:i=36,r=BigInt(s-i)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Iy=new Map;class va{constructor(){}static typeToInt(e){return Number(st(gt(e)))}static registerTransactionType(e,n){const r=va.typeToInt(e);Iy.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return Li.fromTxData(e,n);const r=va.typeToInt(e.type);if(r===0)return Li.fromTxData(e,n);if(r===1)return zo.fromTxData(e,n);if(r===2)return Ho.fromTxData(e,n);const s=Iy.get(r);if(s?.fromTxData)return s.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return zo.fromSerializedTx(e,n);case 2:return Ho.fromSerializedTx(e,n);default:{const r=Iy.get(Number(e[0]));if(r?.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return Li.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(Eo(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return Li.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var og=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const El=(t,e)=>{let n;if(!e&&typeof t=="string"&&Xe(t)&&t.length!==66)throw new CE;try{n=Eo(t)?t:bs(t)}catch{throw new dz}if(!e&&n.byteLength!==32)throw new CE;return n},bb=(t,e=!1)=>{const n=Xe(t)?t:Qr(t),r=ct(n),s=ct(GT(`Ethereum Signed Message:
${r.byteLength}`)),i=e?r:On(s,r);return fr(i)},nK=(t,e)=>{const n=El(e),r=di.sign(t.substring(2),n),s=r.toCompactRawBytes(),i=r.r.toString(16).padStart(64,"0"),a=r.s.toString(16).padStart(64,"0"),c=r.recovery+27;return{messageHash:t,v:Qt(c),r:`0x${i}`,s:`0x${a}`,signature:`${De(s)}${c.toString(16)}`}},KP=(t,e)=>{const n=bb(t),{messageHash:r,v:s,r:i,s:a,signature:c}=nK(n,e);return{message:t,messageHash:r,v:s,r:i,s:a,signature:c}},rK=(t,e)=>og(void 0,void 0,void 0,function*(){const n=t.sign(ct(e));if(U(n.v)||U(n.r)||U(n.s))throw new _v("Signer Error");const r=n.validate(!0);if(r.length>0){let a="Signer Error ";for(const c of r)a+=`${a} ${c}.`;throw new _v(a)}const s=De(n.serialize()),i=fr(s);return{messageHash:De(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:s,transactionHash:De(i)}}),sK=t=>{if(U(t))throw new Cz;const e=va.fromSerializedData(ct(t));return As(e.getSenderAddress().toString())},$v=(t,e,n,r,s)=>{if(typeof t=="object"){const f=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return $v(t.messageHash,f,n)}if(typeof e=="string"&&typeof n=="string"&&!U(r)){const f=`${n}${r.slice(2)}${e.slice(2)}`;return $v(t,f,s)}if(U(e))throw new fz("signature string undefined");const i=130,a=n?t:bb(t);let c=parseInt(e.substring(i),16);c>26&&(c-=27);const l=di.Signature.fromCompact(e.slice(2,i)).addRecoveryBit(c).recoverPublicKey(a.replace("0x","")).toRawBytes(!1),u=fr(l.subarray(1));return As(`0x${u.slice(-40)}`)},ag=t=>{const e=El(t),n=di.getPublicKey(e,!1),s=fr(n.slice(1)).slice(-40);return As(`0x${s}`)},iK=(t,e)=>{const n=El(t);return`0x${De(di.getPublicKey(n,e)).slice(4)}`},YP=(t,e,n)=>og(void 0,void 0,void 0,function*(){var r,s,i,a,c,l,u;const d=El(t);let f;if(n?.salt?f=typeof n.salt=="string"?ct(n.salt):n.salt:f=yd(32),!(Qw(e)||Eo(e)))throw new pz;const h=typeof e=="string"?ct(Qr(e)):e;let p;if(n?.iv){if(p=typeof n.iv=="string"?ct(n.iv):n.iv,p.length!==16)throw new gz}else p=yd(16);const g=(r=n?.kdf)!==null&&r!==void 0?r:"scrypt";let m,y;if(g==="pbkdf2"){if(y={dklen:(s=n?.dklen)!==null&&s!==void 0?s:32,salt:De(f).replace("0x",""),c:(i=n?.c)!==null&&i!==void 0?i:262144,prf:"hmac-sha256"},y.c<1e3)throw new yz;m=bP(h,f,y.c,y.dklen,"sha256")}else if(g==="scrypt")y={n:(a=n?.n)!==null&&a!==void 0?a:8192,r:(c=n?.r)!==null&&c!==void 0?c:8,p:(l=n?.p)!==null&&l!==void 0?l:1,dklen:(u=n?.dklen)!==null&&u!==void 0?u:32,salt:De(f).replace("0x","")},m=_P(h,f,y.n,y.p,y.r,y.dklen);else throw new cT;const v=yield lb(d,m.slice(0,16),p,"aes-128-ctr"),w=De(v).slice(2),b=fr(On(m.slice(16,32),v)).replace("0x","");return{version:3,id:sb(),address:ag(d).toLowerCase().replace("0x",""),crypto:{ciphertext:w,cipherparams:{iv:De(p).replace("0x","")},cipher:"aes-128-ctr",kdf:g,kdfparams:y,mac:b}}}),_b=(t,e)=>{const n=El(t,e);return{address:ag(n),privateKey:De(n),signTransaction:r=>{throw new _v("Do not have network access to sign the transaction")},sign:r=>KP(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,s)=>og(void 0,void 0,void 0,function*(){return YP(n,r,s)})}},oK=()=>{const t=di.utils.randomPrivateKey();return _b(`${De(t)}`)},aK=(t,e,n)=>og(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(ye.validateJSONSchema(Qq,r),r.version!==3)throw new mz;const s=typeof e=="string"?ct(Qr(e)):e;ye.validate(["bytes"],[s]);let i;if(r.crypto.kdf==="scrypt"){const u=r.crypto.kdfparams,d=typeof u.salt=="string"?ct(u.salt):u.salt;i=_P(s,d,u.n,u.p,u.r,u.dklen)}else if(r.crypto.kdf==="pbkdf2"){const u=r.crypto.kdfparams,d=typeof u.salt=="string"?ct(u.salt):u.salt;i=bP(s,d,u.c,u.dklen,"sha256")}else throw new cT;const a=ct(r.crypto.ciphertext);if(fr(On(i.slice(16,32),a)).replace("0x","")!==r.crypto.mac)throw new hz;const l=yield $W(ct(r.crypto.ciphertext),i.slice(0,16),ct(r.crypto.cipherparams.iv));return _b(l)});var mA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const cK=1e3;class lK{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=pa(e),r=new _m;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return mA(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new _m({timeout:(n=e?.timeout)!==null&&n!==void 0?n:cK,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(s=>r.reject(s)),r.catch(s=>{s instanceof lT&&this._abortAllRequests("Batch request timeout"),r.reject(s)}),r})}_processBatchRequest(e){return mA(this,void 0,void 0,function*(){var n,r;const s=yield this._requestManager.sendBatch([...this._requests.values()].map(c=>c.payload));if(s.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new ls(s,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${s.length}`);const i=this.requests.map(c=>c.id).map(Number).sort((c,l)=>c-l),a=s.map(c=>c.id).map(Number).sort((c,l)=>c-l);if(JSON.stringify(i)!==JSON.stringify(a))throw this._abortAllRequests("Invalid batch response"),new ls(s,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${a.join()}]`);for(const c of s)Ji(c)?(n=this._requests.get(c.id))===null||n===void 0||n.promise.resolve(c.result):Zi(c)&&((r=this._requests.get(c.id))===null||r===void 0||r.promise.reject(c.error));e.resolve(s)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new Az(e))}}var uK=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class Qn extends OW{constructor(e){var n;if(super(),this.providers=Yo.providers,xe(e)||typeof e=="string"&&e.trim()!==""||Em(e)){this._requestManager=new Yo(e),this._subscriptionManager=new Am(this._requestManager,{});return}const{config:r,provider:s,requestManager:i,subscriptionManager:a,registeredSubscriptions:c,accountProvider:l,wallet:u,requestManagerMiddleware:d}=e;this.setConfig(r??{}),this._requestManager=i??new Yo(s,(n=r?.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,d),a?this._subscriptionManager=a:this._subscriptionManager=new Am(this.requestManager,c??{}),l&&(this._accountProvider=l),u&&(this._wallet=u)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(ga.CONFIG_CHANGE,s=>{r.setConfig({[s.name]:s.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(ga.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new Sz(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return Qn.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return lK.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const s=(...i)=>uK(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:i})});e.property?this[e.property][r.name]=s:this[r.name]=s}),this}}Qn.providers=Yo.providers;class Bt{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=Bt._parseInt(n,36),s=pd(r,40);return As(s)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},Bt.isIndirect(e)||Bt.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return Bt.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return Bt.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&Bt._mod9710(Bt._iso13616Prepare(e))===1}isValid(){return Bt.isValid(this._iban)}static fromBban(e){const n="XE",s=`0${(98-this._mod9710(this._iso13616Prepare(`${n}00${e}`))).toString()}`.slice(-2);return new Bt(`${n}${s}${e}`)}static createIndirect(e){return Bt.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!dr(e))throw new $w(e);const r=BigInt(Gd(e)).toString(36),s=pd(r,15);return Bt.fromBban(s.toUpperCase())}static toIban(e){return Bt.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Bt._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(i=>{const a=i.charCodeAt(0);return a>=65&&a<=90?a-65+10:i}).join("")};Bt._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0));Bt._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97};Bt.toAddress=t=>new Bt(t).toAddress();var Ry=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},JP;class ZP extends ng{constructor(e){super(),this[JP]="Promise",this._promise=new Promise(e)}then(e,n){return Ry(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Ry(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Ry(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}JP=Symbol.toStringTag;(function(t,e){if(t.setImmediate)return;var n=1,r={},s=!1,i=t.document,a;function c(w){typeof w!="function"&&(w=new Function(""+w));for(var b=new Array(arguments.length-1),_=0;_<b.length;_++)b[_]=arguments[_+1];var E={callback:w,args:b};return r[n]=E,a(n),n++}function l(w){delete r[w]}function u(w){var b=w.callback,_=w.args;switch(_.length){case 0:b();break;case 1:b(_[0]);break;case 2:b(_[0],_[1]);break;case 3:b(_[0],_[1],_[2]);break;default:b.apply(e,_);break}}function d(w){if(s)setTimeout(d,0,w);else{var b=r[w];if(b){s=!0;try{u(b)}finally{l(w),s=!1}}}}function f(){a=function(w){process.nextTick(function(){d(w)})}}function h(){if(t.postMessage&&!t.importScripts){var w=!0,b=t.onmessage;return t.onmessage=function(){w=!1},t.postMessage("","*"),t.onmessage=b,w}}function p(){var w="setImmediate$"+Math.random()+"$",b=function(_){_.source===t&&typeof _.data=="string"&&_.data.indexOf(w)===0&&d(+_.data.slice(w.length))};t.addEventListener?t.addEventListener("message",b,!1):t.attachEvent("onmessage",b),a=function(_){t.postMessage(w+_,"*")}}function g(){var w=new MessageChannel;w.port1.onmessage=function(b){var _=b.data;d(_)},a=function(b){w.port2.postMessage(b)}}function m(){var w=i.documentElement;a=function(b){var _=i.createElement("script");_.onreadystatechange=function(){d(b),_.onreadystatechange=null,w.removeChild(_),_=null},w.appendChild(_)}}function y(){a=function(w){setTimeout(d,0,w)}}var v=Object.getPrototypeOf&&Object.getPrototypeOf(t);v=v&&v.setTimeout?v:t,{}.toString.call(t.process)==="[object process]"?f():h()?p():t.MessageChannel?g():i&&"onreadystatechange"in i.createElement("script")?m():y(),v.setImmediate=c,v.clearImmediate=l})(typeof self>"u"?Wt:self);var Ee=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function dK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function XP(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function fK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function hK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function mK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function pK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function gK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function yK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function vK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function xK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function wK(t,e,n,r){return Ee(this,void 0,void 0,function*(){return ye.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function bK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function _K(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function EK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function AK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function SK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function jK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function NK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function CK(t,e){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function kK(t,e){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function eI(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function TK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function PK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function IK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function tI(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function RK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function OK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function MK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function BK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function DK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function LK(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function FK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function UK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function $K(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function HK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function zK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function VK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function GK(t,e){return Ee(this,void 0,void 0,function*(){return ye.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function WK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function qK(t,e,n,r){return Ee(this,void 0,void 0,function*(){return ye.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function QK(t,e,n,r){return Ee(this,void 0,void 0,function*(){ye.validate(["hex","blockNumberOrTag"],[e,n]);for(const s of r)ye.validate(["number"],[s]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function KK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function YK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function JK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function ZK(t,e,n,r){return Ee(this,void 0,void 0,function*(){return ye.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function XK(t){return Ee(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function eY(t,e,n){return Ee(this,void 0,void 0,function*(){return ye.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function tY(t,e,n,r=!1){return Ee(this,void 0,void 0,function*(){return ye.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var Eb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function nY(t){return Eb(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function rY(t){return Eb(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function sY(t){return Eb(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var fi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const iY=t=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),oY=(t,e)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),aY=(t,e,n,r)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),cY=(t,e)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),lY=(t,e,n)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),uY=(t,e,n)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),dY=(t,e,n)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),fY=(t,e,n,r)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),hY=(t,e,n)=>fi(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),pA={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},gA={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},yA={type:"object",properties:{gasPrice:{type:"null"}}},Rf=(t,e,n)=>{try{ye.validateJSONSchema(t,e)}catch(r){throw r instanceof Gc?new Zz(r.errors,n):r}},mY=t=>{var e,n;const r=t;if(!U(r.type)){let i;switch(r.type){case"0x0":i=pA;break;case"0x1":i=gA;break;case"0x2":i=yA;break;default:return Q({format:"uint"},r.type,Se)}return Rf(i,r,r.type),Q({format:"uint"},r.type,Se)}if(!U(r.maxFeePerGas)||!U(r.maxPriorityFeePerGas))return Rf(yA,r,"0x2"),"0x2";if(!U(r.accessList))return Rf(gA,r,"0x1"),"0x1";const s=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!U(s)){const i=Object.keys(bu).indexOf(s);if(i>=Object.keys(bu).indexOf("london"))return U(r.gasPrice)?"0x2":"0x0";if(i===Object.keys(bu).indexOf("berlin"))return"0x0"}if(!U(r.gasPrice))return Rf(pA,r,"0x0"),"0x0"},pY=(t,e)=>{var n;return((n=e?.transactionTypeParser)!==null&&n!==void 0?n:mY)(t)},gY=t=>t[0]>127?"0x0":ai(t[0]),yY={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},Ab={type:"array",items:Object.assign({},yY)},vY={type:"object",properties:{accessList:Object.assign({},Ab),gasUsed:{type:"string"}}},vA={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},xA={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},xY={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},nI={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Ab),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},vA),hardfork:Object.assign({},xA),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},xY),baseChain:Object.assign({},vA),hardfork:Object.assign({},xA)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},Hv={type:"object",properties:Object.assign(Object.assign({},nI.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Ab),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},rI={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},Tm={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},Hv)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},rI)},withdrawalsRoot:{format:"bytes32"}}},wY={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},rI)},withdrawalsRoot:{format:"bytes32"}}},Al={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},bY={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},Sl={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},Al)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},_Y={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},EY={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},AY={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},SY={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},AY)}}};function Xn(t,e=Tn,n={transactionSchema:Hv,fillInputAndData:!1}){var r,s;let i=Ao({},t);if(U(t?.common)||(i.common=Object.assign({},t.common),U((r=t.common)===null||r===void 0?void 0:r.customChain)||(i.common.customChain=Object.assign({},t.common.customChain))),i=Q((s=n.transactionSchema)!==null&&s!==void 0?s:Hv,i,e),!U(i.data)&&!U(i.input)&&ai(i.data)!==ai(i.input))throw new hT({data:De(i.data),input:De(i.input)});return n.fillInputAndData&&(U(i.data)?U(i.input)||(i.data=i.input):i.input=i.data),U(i.gasLimit)||(i.gas=i.gasLimit,delete i.gasLimit),i}function jY(t,e,n={fillInputAndData:!1}){return{raw:Q({format:"bytes"},t,e),tx:Xn(Object.assign(Object.assign({},va.fromSerializedData(ct(t)).toJSON()),{hash:De(Qc(ct(t))),type:gY(ct(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}var Sb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function jb(t,e){return Sb(this,void 0,void 0,function*(){const n=yield nY(t.requestManager);return Q({format:"uint"},n,e)})}function NY(t,e){return Sb(this,void 0,void 0,function*(){const n=yield rY(t.requestManager);return Q({format:"uint"},n,e)})}const CY=t=>Sb(void 0,void 0,void 0,function*(){return sY(t.requestManager)});var Oy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class sI extends Qn{getId(e=this.defaultReturnFormat){return Oy(this,void 0,void 0,function*(){return jb(this,e)})}getPeerCount(e=this.defaultReturnFormat){return Oy(this,void 0,void 0,function*(){return NY(this,e)})}isListening(){return Oy(this,void 0,void 0,function*(){return CY(this)})}}const el="ALLEVENTS",zv={name:el,signature:"",type:"event",inputs:[]},cg={bytes:si.HEX,number:Sr.NUMBER};var iI=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function kY(t,e,n){return iI(this,void 0,void 0,function*(){var r,s,i,a;const c=yield OI(e,e.defaultBlock,!1,Se);if(U(c.baseFeePerGas))throw new Qz;let l;if(U(t.gasPrice)&&BigInt(c.baseFeePerGas)===BigInt(0)&&(l=yield Mb(e,n)),!U(t.gasPrice)||!U(l)){const u=Q({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:l,n);return{maxPriorityFeePerGas:u,maxFeePerGas:u}}return{maxPriorityFeePerGas:Q({format:"uint"},(s=t.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:Q({format:"uint"},(i=t.maxFeePerGas)!==null&&i!==void 0?i:BigInt(c.baseFeePerGas)*BigInt(2)+BigInt((a=t.maxPriorityFeePerGas)!==null&&a!==void 0?a:e.defaultMaxPriorityFeePerGas),n)}})}function oI(t,e,n){return iI(this,void 0,void 0,function*(){const r=aI(t,e);if(!U(r)){if(r.startsWith("-"))throw new IE(r);if(Number(r)<0||Number(r)>127)throw new IE(r);if(U(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield Mb(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield kY(t,e,n))}})}var Nb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const Vv=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&dr(n[t]))return n[t];if(!Xe(n[t])&&zT(n[t])){if(e.wallet){const s=e.wallet.get(Q({format:"uint"},n[t],cg));if(!U(s))return s.address;throw new RE}throw new RE}else throw t==="from"?new kz(n.from):new Tz(n.to)}if(t==="from"){if(!U(r))return ag(r);if(!U(e.defaultAccount))return e.defaultAccount}},TY=(t,e,...n)=>Nb(void 0,[t,e,...n],void 0,function*(r,s,i=r.defaultReturnFormat){if(U(s))throw new qz;return BI(r,s,r.defaultBlock,i)}),aI=(t,e)=>{const n=pY(t,e);if(!U(n))return n;if(!U(e.defaultTransactionType))return Q({format:"uint"},e.defaultTransactionType,Se)};function PY(t){return Nb(this,void 0,void 0,function*(){var e,n;let r=Q(nI,t.transaction,t.web3Context.defaultReturnFormat);if(U(r.from)&&(r.from=Vv("from",t.web3Context,void 0,t.privateKey)),U(r.nonce)&&(r.nonce=yield TY(t.web3Context,r.from,Se)),U(r.value)&&(r.value="0x0"),U(r.data))U(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!U(r.input)&&r.data!==r.input)throw new hT({data:De(r.data),input:De(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(U(r.common)){if(t.web3Context.defaultCommon){const s=t.web3Context.defaultCommon,i=s.customChain.chainId,a=s.customChain.networkId,c=s.customChain.name;r.common=Object.assign(Object.assign({},s),{customChain:{chainId:i,networkId:a,name:c}})}U(r.chain)&&(r.chain=t.web3Context.defaultChain),U(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(U(r.chainId)&&U((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield LI(t.web3Context,Se)),U(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield jb(t.web3Context,Se)),U(r.gasLimit)&&!U(r.gas)&&(r.gasLimit=r.gas),r.type=aI(r,t.web3Context),U(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield oI(r,t.web3Context,Se))),U(r.gas)&&U(r.gasLimit)&&t.fillGasLimit){const s=yield Lb(t.web3Context,r,"latest",Se);r=Object.assign(Object.assign({},r),{gas:Q({format:"uint"},s,Se)})}return r})}const IY=t=>Nb(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:PY)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var Cb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function Gv(t,e,n){const r=t.transactionPollingInterval,[s,i]=sP(()=>Cb(this,void 0,void 0,function*(){let c;try{c=yield Bb(t,cg)}catch(u){console.warn("An error happen while trying to get the block number",u);return}const l=c-e;if(l>=t.transactionBlockTimeout)return new gT({starterBlockNumber:e,numberOfBlocks:l,transactionHash:n})}),r);return[i,{clean:()=>{clearInterval(s)}}]}function RY(t,e,n){return Cb(this,void 0,void 0,function*(){var r;let s=!0,i,a;function c(u,d){d&&console.warn("error happened at subscription. So revert to polling...",d),a.clean(),s=!1;const[f,h]=Gv(t,e,n);a.clean=h.clean,f.catch(p=>u(p))}try{i=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),a={clean:()=>{var u;i.id&&((u=t.subscriptionManager)===null||u===void 0||u.removeSubscription(i).then(()=>{}).catch(()=>{}))}}}catch{return Gv(t,e,n)}return[new Promise((u,d)=>{try{i.on("data",f=>{if(s=!1,!f?.number)return;const h=Number(BigInt(f.number)-BigInt(e));h>=t.transactionBlockTimeout&&d(new gT({starterBlockNumber:e,numberOfBlocks:h,transactionHash:n}))}),i.on("error",f=>{c(d,f)})}catch(f){c(d,f)}setTimeout(()=>{s&&c(d)},t.blockHeaderTimeout*1e3)}),a]})}function cI(t,e){return Cb(this,void 0,void 0,function*(){var n,r;const{provider:s}=t.requestManager;let i;const a=yield Bb(t,cg);return!((r=(n=s).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?i=yield RY(t,a,e):i=Gv(t,a,e),i})}var OY=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function Wv(t,e,n){return OY(this,void 0,void 0,function*(){const[r,s]=rb(t.transactionSendTimeout,new Kz({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[i,a]=yield cI(t,n);try{return yield Promise.race([e(),s,i])}finally{clearTimeout(r),a.clean()}})}var wA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function lI(t,e,n,r){return wA(this,void 0,void 0,function*(){var s;const i=(s=t.transactionReceiptPollingInterval)!==null&&s!==void 0?s:t.transactionPollingInterval,[a,c]=nb(()=>wA(this,void 0,void 0,function*(){try{return(r??MI)(t,e,n)}catch(h){console.warn("An error happen while trying to get the transaction receipt",h);return}}),i),[l,u]=rb(t.transactionPollingTimeout,new pT({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[d,f]=yield cI(t,e);try{return yield Promise.race([a,u,d])}finally{l&&clearTimeout(l),c&&clearInterval(c),f.clean()}})}var MY=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const ah=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{var i;let a=1;const c=setInterval(()=>{MY(void 0,void 0,void 0,function*(){if(a>=t.transactionConfirmationBlocks){clearInterval(c);return}const l=yield tI(t.requestManager,Qt(BigInt(e.blockNumber)+BigInt(a)),!1);l?.hash&&(a+=1,n.emit("confirmation",{confirmations:Q({format:"uint"},a,s),receipt:Q(r??Sl,e,s),latestBlockHash:Q({format:"bytes32"},l.hash,s)}))})},(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval)};var bA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const BY=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{let i=!0,a;setImmediate(()=>{var c;(c=t.subscriptionManager)===null||c===void 0||c.subscribe("newHeads").then(l=>{l.on("data",u=>bA(void 0,void 0,void 0,function*(){var d;if(i=!1,!u?.number||a===u?.parentHash)return;a=u?.parentHash;const f=BigInt(u.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:Q({format:"uint"},f,s),receipt:Q(r??Sl,e,s),latestBlockHash:Q({format:"bytes32"},u.parentHash,s)}),f>=t.transactionConfirmationBlocks&&(yield(d=t.subscriptionManager)===null||d===void 0?void 0:d.removeSubscription(l))})),l.on("error",()=>bA(void 0,void 0,void 0,function*(){var u;yield(u=t.subscriptionManager)===null||u===void 0?void 0:u.removeSubscription(l),i=!1,ah({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})}))}).catch(()=>{i=!1,ah({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:s})})}),setTimeout(()=>{i&&ah({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:s})},t.blockHeaderTimeout*1e3)};function DY(t,e,n,r,s,i){if(U(n)||U(n.blockHash))throw new Yz({receipt:n,blockHash:Q({format:"bytes32"},n?.blockHash,s),transactionHash:Q({format:"bytes32"},r,s)});if(!n.blockNumber)throw new Jz({receipt:n});e.emit("confirmation",{confirmations:Q({format:"uint"},1,s),receipt:Q(i??Sl,n,s),latestBlockHash:Q({format:"bytes32"},n.blockHash,s)});const a=t.requestManager.provider;a&&"supportsSubscriptions"in a&&a.supportsSubscriptions()?BY({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s}):ah({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s})}const lg=t=>!xe(t)&&typeof t=="object"&&!xe(t.type)&&t.type==="error",kb=t=>!xe(t)&&typeof t=="object"&&!xe(t.type)&&t.type==="event",ug=t=>!xe(t)&&typeof t=="object"&&!xe(t.type)&&t.type==="function",LY=t=>!xe(t)&&typeof t=="object"&&!xe(t.type)&&t.type==="constructor",FY=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",uI=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},dI=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},uI(n)),{components:dI(r)})):e.push({name:n,type:t[n]})}return e},qv=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new Ge(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const s=r.type.indexOf("["),i=s>=0?r.type.substring(s):"",a=qv(t,r.components);Array.isArray(a)&&t?n.push(`tuple(${a.join(",")})${i}`):n.push(`(${a.join(",")})${i}`)}else n.push(r.type)}),n},Ks=t=>{var e,n,r,s;return lg(t)||kb(t)||ug(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${qv(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${qv(!1,(s=t.inputs)!==null&&s!==void 0?s:[]).join(",")})`},UY=t=>{if(typeof t!="string"&&!lg(t))throw new Ge("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Ks(t):e=t,fr(e)},Tb=t=>{if(typeof t!="string"&&!kb(t))throw new Ge("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Ks(t):e=t,fr(e)};function Pb(t,e){return t.exec(e)?.groups}var fI=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hI=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,mI=/^\(.+?\).*?$/,$Y=Object.defineProperty,HY=(t,e,n)=>e in t?$Y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vl=(t,e,n)=>(HY(t,typeof e!="symbol"?e+"":e,n),n),zY="abitype",VY="0.7.1",Gn=class extends Error{constructor(t,e={}){const n=e.cause instanceof Gn?e.cause.details:e.cause?.message?e.cause.message:e.details,r=e.cause instanceof Gn&&e.cause.docsPath||e.docsPath,s=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${zY}@${VY}`].join(`
`);super(s),Vl(this,"details"),Vl(this,"docsPath"),Vl(this,"metaMessages"),Vl(this,"shortMessage"),Vl(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}},pI=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function gI(t){return pI.test(t)}function GY(t){return Pb(pI,t)}var _A=new Set(["memory","indexed","storage","calldata"]),WY=new Set(["calldata","memory","storage"]);function qY(t,e){return e?`${e}:${t}`:t}var My=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),QY=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,KY=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,YY=/^u?int$/;function Pm(t,e){const n=qY(t,e?.type);if(My.has(n))return My.get(n);const r=mI.test(t),s=Pb(r?KY:QY,t);if(!s)throw new Gn("Invalid ABI parameter.",{details:t});if(s.name&&ZY(s.name))throw new Gn("Invalid ABI parameter.",{details:t,metaMessages:[`"${s.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},c=e?.structs??{};let l,u={};if(r){l="tuple";const f=Qa(s.type),h=[],p=f.length;for(let g=0;g<p;g++)h.push(Pm(f[g],{structs:c}));u={components:h}}else if(s.type in c)l="tuple",u={components:c[s.type]};else if(YY.test(s.type))l=`${s.type}256`;else if(l=s.type,e?.type!=="struct"&&!yI(l))throw new Gn("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new Gn("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`]});if(WY.has(s.modifier)&&!XY(l,!!s.array))throw new Gn("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s.modifier}" was given.`]})}const d={type:`${l}${s.array??""}`,...i,...a,...u};return My.set(n,d),d}function Qa(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new Gn("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const s=t.length;for(let i=0;i<s;i++){const a=t[i],c=t.slice(i+1);switch(a){case",":return r===0?Qa(c,[...e,n.trim()]):Qa(c,e,`${n}${a}`,r);case"(":return Qa(c,e,`${n}${a}`,r+1);case")":return Qa(c,e,`${n}${a}`,r-1);default:return Qa(c,e,`${n}${a}`,r)}}return[]}function yI(t){return t==="address"||t==="bool"||t==="function"||t==="string"||fI.test(t)||hI.test(t)}var JY=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function ZY(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||fI.test(t)||hI.test(t)||JY.test(t)}function XY(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function eJ(t){const e={},n=t.length;for(let a=0;a<n;a++){const c=t[a];if(!gI(c))continue;const l=GY(c);if(!l)throw new Gn("Invalid struct signature.",{details:c});const u=l.properties.split(";"),d=[],f=u.length;for(let h=0;h<f;h++){const g=u[h].trim();if(!g)continue;const m=Pm(g,{type:"struct"});d.push(m)}if(!d.length)throw new Gn("Invalid struct signature.",{details:c,metaMessages:["No properties exist."]});e[l.name]=d}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[c,l]=s[a];r[c]=vI(l,e)}return r}var tJ=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function vI(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(mI.test(a.type))r.push(a);else{const l=Pb(tJ,a.type);if(!l?.type)throw new Gn("Invalid ABI parameter.",{details:JSON.stringify(a,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new Gn("Circular reference detected.",{metaMessages:[`Struct "${d}" is a circular reference.`]});r.push({...a,type:`tuple${u??""}`,components:vI(e[d]??[],e,new Set([...n,d]))})}else if(yI(d))r.push(a);else throw new Gn("Unknown type.",{metaMessages:[`Type "${d}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function nJ(t){let e;if(typeof t=="string")e=Pm(t,{modifiers:_A});else{const n=eJ(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!gI(i)){e=Pm(i,{modifiers:_A,structs:n});break}}}if(!e)throw new Gn("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}const Tt=32;function Qv(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function xI(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>xI(r))})}function rJ(t){return!xe(t)&&typeof t=="object"&&!xe(t.type)&&typeof t.type=="string"}function wI(t){return t.map(e=>{var n;if(rJ(e))return e;if(typeof e=="string")return xI(nJ(e.replace(/tuple/,"")));if(FY(e)){const r=Object.keys(e)[0],s=uI(r);return s.name=(n=s.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},s),{components:dI(e[r])})}throw new Ge("Invalid abi")})}function Ib(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let s=-1;if(r!=="[]"&&(s=Number(r.slice(1,-1)),isNaN(s)))throw new Ge("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:s}}function Im(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(Im))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?Im(Ib(t).param):!1}const bI=20,_I=Tt-bI;function sJ(t,e){if(typeof e!="string")throw new Ge("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!dr(n))throw new Ge("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=Na(n),s=Qv(Tt);return s.set(r,_I),{dynamic:!1,encoded:s}}function iJ(t,e){const n=e.subarray(_I,Tt);if(n.length!==bI)throw new Ge("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=ui(n);return{result:As(r),encoded:e.subarray(Tt),consumed:Tt}}const mo=new Map;let Of=BigInt(256);for(let t=8;t<=256;t+=8)mo.set(`uint${t}`,{min:BigInt(0),max:Of-BigInt(1)}),mo.set(`int${t}`,{min:-Of/BigInt(2),max:Of/BigInt(2)-BigInt(1)}),Of*=BigInt(256);mo.set("int",mo.get("int256"));mo.set("uint",mo.get("uint256"));const EI=BigInt(1)<<BigInt(256);function oJ(t,e=Tt){let n;return t<0?n=(EI+t).toString(16):n=t.toString(16),n=qc(n,e*2),Na(n)}function aJ(t,e){const n=ui(t),r=BigInt(n);return r<=e?r:r-EI}function Yd(t,e){let n;try{n=Uo(e)}catch{throw new Ge("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=mo.get(t.type);if(!r)throw new Ge("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new Ge("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new Ge("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:oJ(n)}}function tl(t,e){if(e.length<Tt)throw new Ge("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,Tt),r=mo.get(t.type);if(!r)throw new Ge("provided abi contains invalid number datatype",{type:t.type});const s=aJ(n,r.max);if(s<r.min)throw new Ge("decoded value is less then minimum for given type",{type:t.type,value:s,name:t.name,minimum:r.min.toString()});if(s>r.max)throw new Ge("decoded value is greater then maximum for given type",{type:t.type,value:s,name:t.name,maximum:r.max.toString()});return{result:s,encoded:e.subarray(Tt),consumed:Tt}}function cJ(t,e){let n;try{n=QT(e)}catch(r){if(r instanceof Hw)throw new Ge("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return Yd({type:"uint8",name:""},Number(n))}function lJ(t,e){const n=tl({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new Ge("Invalid boolean value encoded",{boolBytes:e.subarray(0,Tt),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:Tt}}const uJ=32;function AI(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!_o(e))throw new Ge("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=bs(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>uJ||Number(r)<1)throw new Ge("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new Ge("provided input size is different than type size",{type:t.type,value:e,name:t.name});const a=Qv(Tt);return a.set(n),{dynamic:!1,encoded:a}}const s=Math.ceil(n.length/Tt),i=Qv(Tt+s*Tt);return i.set(Yd({type:"uint32",name:""},n.length).encoded),i.set(n,Tt),{dynamic:!0,encoded:i}}function SI(t,e){const[,n]=t.type.split("bytes");let r=Number(n),s=e,i=1,a=0;if(!r){const c=tl({type:"uint32",name:""},s);r=Number(c.result),a+=c.consumed,s=c.encoded,i=Math.ceil(r/Tt)}if(r>e.length)throw new Ge("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:De(s.subarray(0,r)),encoded:s.subarray(i*Tt),consumed:a+i*Tt}}function dJ(t,e){if(typeof e!="string")throw new Ge("invalid input, should be string",{input:e});const n=Xw(e);return AI({type:"bytes",name:""},n)}function fJ(t,e){const n=SI({type:"bytes",name:""},e);return{result:Zp(n.result),encoded:n.encoded,consumed:n.consumed}}function jI(t){let e=0,n=0;const r=[],s=[];for(const i of t)i.dynamic?e+=Tt:e+=i.encoded.length;for(const i of t)i.dynamic?(r.push(Yd({type:"uint256",name:""},e+n)),s.push(i),n+=i.encoded.length):r.push(i);return On(...r.map(i=>i.encoded),...s.map(i=>i.encoded))}function hJ(t,e){if(!Array.isArray(e))throw new Ge("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=Ib(t),s=e.map(c=>Kv(r,c)),i=n===-1,a=s.length>0&&s[0].dynamic;if(!i&&e.length!==n)throw new Ge("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(i||a){const c=jI(s);if(i){const l=Yd({type:"uint256",name:""},s.length).encoded;return{dynamic:!0,encoded:s.length>0?On(l,c):l}}return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:On(...s.map(c=>c.encoded))}}function mJ(t,e){let{size:n,param:r}=Ib(t);const s=n===-1;let i=0;const a=[];let c=e;if(s){const u=tl({type:"uint32",name:""},e);n=Number(u.result),i=u.consumed,c=u.encoded}if(Im(r)){for(let u=0;u<n;u+=1){const d=tl({type:"uint32",name:""},c.subarray(u*Tt));i+=d.consumed;const f=Rm(r,c.subarray(Number(d.result)));i+=f.consumed,a.push(f.result)}return{result:a,encoded:c.subarray(i),consumed:i}}for(let u=0;u<n;u+=1){const d=Rm(r,e.subarray(i));i+=d.consumed,a.push(d.result)}return{result:a,encoded:e.subarray(i),consumed:i}}function Kv(t,e){if(t.type==="string")return dJ(t,e);if(t.type==="bool")return cJ(t,e);if(t.type==="address")return sJ(t,e);if(t.type==="tuple")return Rb(t,e);if(t.type.endsWith("]"))return hJ(t,e);if(t.type.startsWith("bytes"))return AI(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Yd(t,e);throw new Ge("Unsupported",{param:t,value:e})}function Rm(t,e){if(t.type==="string")return fJ(t,e);if(t.type==="bool")return lJ(t,e);if(t.type==="address")return iJ(t,e);if(t.type==="tuple")return NI(t,e);if(t.type.endsWith("]"))return mJ(t,e);if(t.type.startsWith("bytes"))return SI(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return tl(t,e);throw new Ge("Unsupported",{param:t,bytes:e})}function Rb(t,e){var n,r,s;let i=!1;if(!Array.isArray(e)&&typeof e!="object")throw new Ge("param must be either Array or Object",{param:t,input:e});const a=e,c=[];for(let l=0;l<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);l+=1){const u=t.components[l];let d;if(Array.isArray(a)){if(l>=a.length)throw new Ge("input param length missmatch",{param:t,input:e});d=Kv(u,a[l])}else{const f=a[(s=u.name)!==null&&s!==void 0?s:""];if(f==null)throw new Ge("missing input defined in abi",{param:t,input:e,paramName:u.name});d=Kv(u,f)}d.dynamic&&(i=!0),c.push(d)}return i?{dynamic:!0,encoded:jI(c)}:{dynamic:!1,encoded:On(...c.map(l=>l.encoded))}}function NI(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let s=0;for(const[i,a]of t.components.entries()){let c;if(Im(a)){const l=tl({type:"uint32",name:""},e.subarray(r));c=Rm(a,e.subarray(Number(l.result))),r+=l.consumed,s+=c.consumed}else c=Rm(a,e.subarray(r)),r+=c.consumed;n.__length__+=1,n[i]=c.result,a.name&&a.name!==""&&(n[a.name]=c.result)}return{encoded:e.subarray(r+s),result:n,consumed:r+s}}function pJ(t,e,n){const r=wI(t),s=Na(e);return NI({type:"tuple",name:"",components:r},s).result}function CI(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=CI(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:ai(n,!0)})}),e}function dg(t,e){if(t?.length!==e.length)throw new Ge("Invalid number of values received for given ABI",{expected:t?.length,received:e.length});const n=wI(t);return ui(Rb({type:"tuple",name:"",components:n},e).encoded)}function gJ(t){try{const e=CI(t);return ui(Rb({type:"tuple",name:"",components:e},t).encoded)}catch{throw new Ge("Could not infer types from given params",{params:t})}}const Yv=(t,e)=>dg([t],[e]),kI=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new Ge("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return pJ(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new Ge(`Parameter decoding error: ${r.message}`,{internalErr:r})}},Zo=(t,e)=>kI(t,e,!1),TI=(t,e)=>Zo([t],e)[0],bd=t=>{if(typeof t!="string"&&!ug(t))throw new Ge("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Ks(t):e=t,fr(e).slice(0,10)},yJ=(t,e)=>{var n;if(!ug(t))throw new Ge("Invalid parameter value in encodeFunctionCall");return`${bd(t)}${dg((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},Jv=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new Pn("No inputs found in the ABI");const s=Zo([...t.inputs],r);return Object.assign(Object.assign({},s),{__method__:Ks(t)})},vJ=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=Zo([...t.outputs],n);return r.__length__===1?r[0]:r},xJ=["bool","string","int","uint","address","fixed","ufixed"],wJ=(t,e)=>t==="string"?e:TI(t,e),PI=(t,e,n)=>{const r=Array.isArray(n)?n:[n],s={},i={};for(const[h,p]of t.entries())p.indexed?s[h]=p:i[h]=p;const a=e?kI(Object.values(i),e,!0):{__length__:0},c=r.length-Object.keys(s).length,l=Object.values(s).map((h,p)=>xJ.some(g=>h.type.startsWith(g))?wJ(h.type,r[p+c]):r[p+c]),u={__length__:0};let d=0,f=0;for(const[h,p]of t.entries())u[h]=p.type==="string"?"":void 0,s[h]&&(u[h]=l[d],d+=1),i[h]&&(u[h]=a[String(f)],f+=1),p.name&&(u[p.name]=u[h]),u.__length__+=1;return u},ch=(t,e)=>{if(e?.data){let n,r,s;try{const i=e.data.slice(0,10),a=t.find(c=>UY(c).startsWith(i));a?.inputs?(n=a.name,r=Ks(a),s=Zo([...a.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",s=Zo([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",s=Zo([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(i){console.error(i)}n&&e.setDecodedProperties(n,r,s)}};var bJ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const _J=(t,e)=>{var n,r,s,i,a;if(t instanceof Qo&&t.cause instanceof zp){if(e!==void 0){const c=e.filter(l=>lg(l));return ch(c,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(s=t.cause.data)===null||s===void 0?void 0:s.slice(0,10),data:(i=t.cause.data)===null||i===void 0?void 0:i.substring(10)}}if(t instanceof Vp&&!Array.isArray((a=t.cause)===null||a===void 0?void 0:a.errors)&&t.cause!==void 0)return t.cause.message;throw t};function II(t,e,n){return bJ(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){try{yield Db(r,s,r.defaultBlock,a);return}catch(c){return _J(c,i)}})}var EJ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function By(t,e,n,r,s,i){return EJ(this,void 0,void 0,function*(){let a=i;a===void 0&&t.handleRevert&&e!==void 0&&(a=yield II(t,e,s));let c;if(a===void 0)c=new dT(n);else if(typeof a=="string")c=new om(a,void 0,n);else if(a.customErrorName!==void 0&&a.customErrorDecodedSignature!==void 0&&a.customErrorArguments!==void 0){const l=a;c=new uT(l.reason,l.customErrorName,l.customErrorDecodedSignature,l.customErrorArguments,l.signature,n,l.data)}else c=new om(a.reason,a.signature,n,a.data);return c})}const Ob=(t,e,n,r=Tn)=>{var s,i,a,c,l,u;let d=Object.assign({},t);const f=Q(Al,e,r);if([el,"allEvents"].includes(d.name)){const p=n.find(g=>g.signature===e.topics[0]);p?d=p:d={anonymous:!0}}if(d.inputs=(i=(s=d.inputs)!==null&&s!==void 0?s:t.inputs)!==null&&i!==void 0?i:[],!d.anonymous){let p=0;((a=d.inputs)!==null&&a!==void 0?a:[]).forEach(g=>{g.indexed&&(p+=1)}),p>0&&e?.topics&&e?.topics.length!==p+1&&(d=Object.assign(Object.assign({},d),{anonymous:!0,inputs:[]}))}const h=d.anonymous?e.topics:((c=e.topics)!==null&&c!==void 0?c:[]).slice(1);return Object.assign(Object.assign({},f),{returnValues:PI([...(l=d.inputs)!==null&&l!==void 0?l:[]],e.data,h),event:d.name,signature:!d.anonymous&&((u=e.topics)===null||u===void 0?void 0:u.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var jo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class RI{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:s}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=s}getReceiptWithEvents(e){var n,r;const s=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&s.logs&&s.logs.length>0){s.events={};for(const i of s.logs){const a=Ob(zv,i,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);a.event&&(s.events[a.event]=a)}}return s}checkRevertBeforeSending(e){return jo(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;U(e.data)&&U(e.input)&&U(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield II(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield By(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return jo(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var s;let i=n;return!this.web3Context.config.ignoreGasPricing&&!(!((s=this.options)===null||s===void 0)&&s.ignoreGasPricing)&&U(n.gasPrice)&&(U(r.maxPriorityFeePerGas)||U(r.maxFeePerGas))&&(i=Object.assign(Object.assign({},n),yield oI(n,this.web3Context,Se))),i})}signAndSend(e){return jo(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const s=yield n.signTransaction(r);return Wv(this.web3Context,()=>jo(this,void 0,void 0,function*(){return eI(this.web3Context.requestManager,s.rawTransaction)}),s.transactionHash)}return Wv(this.web3Context,()=>jo(this,void 0,void 0,function*(){return kK(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return jo(this,arguments,void 0,function*({error:n,tx:r}){var s;let i=n;return i instanceof Qo&&this.web3Context.handleRevert&&(i=yield By(this.web3Context,r,void 0,void 0,(s=this.options)===null||s===void 0?void 0:s.contractAbi)),(i instanceof Vp||i instanceof Qo||i instanceof uT||i instanceof dT||i instanceof om||i instanceof pT)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",i),i})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&DY(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return jo(this,arguments,void 0,function*({receipt:n,tx:r}){var s,i,a;if(!((s=this.options)===null||s===void 0)&&s.transactionResolver)return(i=this.options)===null||i===void 0?void 0:i.transactionResolver(n);if(n.status===BigInt(0)){const c=yield By(this.web3Context,r,n,void 0,(a=this.options)===null||a===void 0?void 0:a.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",c),c}else return n})}}var tt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},AJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const SJ=t=>tt(void 0,void 0,void 0,function*(){return XP(t.requestManager)});function jJ(t,e){return tt(this,void 0,void 0,function*(){const n=yield mK(t.requestManager);return Q({format:"uint"},n,e??t.defaultReturnFormat)})}function Mb(t,e){return tt(this,void 0,void 0,function*(){const n=yield pK(t.requestManager);return Q({format:"uint"},n,e??t.defaultReturnFormat)})}function NJ(t,e){return tt(this,void 0,void 0,function*(){const n=yield gK(t.requestManager);return Q({format:"uint"},n,e??t.defaultReturnFormat)})}function Bb(t,e){return tt(this,void 0,void 0,function*(){const n=yield vK(t.requestManager);return Q({format:"uint"},n,e??t.defaultReturnFormat)})}function CJ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=rn(s)?s:Q({format:"uint"},s,Se),c=yield xK(n.requestManager,r,a);return Q({format:"uint"},c,i??n.defaultReturnFormat)})}function kJ(t,e,n){return tt(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,c){const l=Q({format:"uint"},i,Se),u=rn(a)?a:Q({format:"uint"},a,Se),d=yield wK(r.requestManager,s,l,u);return Q({format:"bytes"},d,c??r.defaultReturnFormat)})}function TJ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=rn(s)?s:Q({format:"uint"},s,Se),c=yield jK(n.requestManager,r,a);return Q({format:"bytes"},c,i??n.defaultReturnFormat)})}function OI(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,s){var i;let a;if(_o(n)){const l=Q({format:"bytes32"},n,Se);a=yield IK(e.requestManager,l,r)}else{const l=rn(n)?n:Q({format:"uint"},n,Se);a=yield tI(e.requestManager,l,r)}const c=Q(Tm,a,s??e.defaultReturnFormat);return U(c)?c:Object.assign(Object.assign({},c),{transactions:(i=c.transactions)!==null&&i!==void 0?i:[]})})}function PJ(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(_o(n)){const i=Q({format:"bytes32"},n,Se);s=yield _K(e.requestManager,i)}else{const i=rn(n)?n:Q({format:"uint"},n,Se);s=yield EK(e.requestManager,i)}return Q({format:"uint"},s,r??e.defaultReturnFormat)})}function IJ(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(_o(n)){const i=Q({format:"bytes32"},n,Se);s=yield AK(e.requestManager,i)}else{const i=rn(n)?n:Q({format:"uint"},n,Se);s=yield SK(e.requestManager,i)}return Q({format:"uint"},s,r??e.defaultReturnFormat)})}function RJ(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=Q({format:"uint"},r,Se);let a;if(_o(n)){const c=Q({format:"bytes32"},n,Se);a=yield DK(e.requestManager,c,i)}else{const c=rn(n)?n:Q({format:"uint"},n,Se);a=yield LK(e.requestManager,c,i)}return Q(Tm,a,s??e.defaultReturnFormat)})}function OJ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=Q({format:"bytes32"},r,Tn),a=yield RK(n.requestManager,i);return U(a)?a:Xn(a,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function MJ(t,e){return tt(this,void 0,void 0,function*(){return(yield KK(t.requestManager)).map(r=>Xn(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function BJ(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=Q({format:"uint"},r,Se);let a;if(_o(n)){const c=Q({format:"bytes32"},n,Se);a=yield OK(e.requestManager,c,i)}else{const c=rn(n)?n:Q({format:"uint"},n,Se);a=yield MK(e.requestManager,c,i)}return U(a)?a:Xn(a,s??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function MI(t,e,n){return tt(this,void 0,void 0,function*(){const r=Q({format:"bytes32"},e,Tn);let s;try{s=yield BK(t.requestManager,r)}catch(i){if(typeof i=="object"&&!U(i)&&"message"in i&&i.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw i}return U(s)?s:Q(Sl,s,n??t.defaultReturnFormat)})}function BI(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=rn(s)?s:Q({format:"uint"},s,Se),c=yield bK(n.requestManager,r,a);return Q({format:"uint"},c,i??n.defaultReturnFormat)})}function _d(t,e,n,r={checkRevertBeforeSending:!0},s){const i=new ZP((a,c)=>{setImmediate(()=>{tt(this,void 0,void 0,function*(){const l=new RI({web3Context:t,promiEvent:i,options:r,returnFormat:n});let u=Object.assign({},e);U(s)||(u=yield s.processTransaction(u));let d=Xn(Object.assign(Object.assign({},u),{from:Vv("from",t,u),to:Vv("to",t,u)}),Se,{transactionSchema:t.config.customTransactionSchema});try{d=yield l.populateGasPrice({transaction:u,transactionFormatted:d}),yield l.checkRevertBeforeSending(d),l.emitSending(d);let f;t.wallet&&!U(d.from)&&(f=t.wallet.get(d.from));const h=yield l.signAndSend({wallet:f,tx:d}),p=Q({format:"bytes32"},h,n??t.defaultReturnFormat);l.emitSent(d),l.emitTransactionHash(p);const g=yield lI(t,h,n??t.defaultReturnFormat),m=l.getReceiptWithEvents(Q(Sl,g,n??t.defaultReturnFormat));l.emitReceipt(m),a(yield l.handleResolve({receipt:m,tx:d})),l.emitConfirmation({receipt:m,transactionHash:h})}catch(f){c(yield l.handleError({error:f,tx:d}))}})})});return i}function DJ(t,e,n,r={checkRevertBeforeSending:!0}){const s=new ZP((i,a)=>{setImmediate(()=>{tt(this,void 0,void 0,function*(){const c=new RI({web3Context:t,promiEvent:s,options:r,returnFormat:n}),l=Q({format:"bytes"},e,Se),u=va.fromSerializedData(bs(ct(l))),d=Object.assign(Object.assign({},u.toJSON()),{from:u.getSenderAddress().toString()});try{const{v:f,r:h,s:p}=d,g=AJ(d,["v","r","s"]);yield c.checkRevertBeforeSending(g),c.emitSending(l);const m=yield Wv(t,()=>tt(this,void 0,void 0,function*(){return eI(t.requestManager,l)}));c.emitSent(l);const y=Q({format:"bytes32"},m,n??t.defaultReturnFormat);c.emitTransactionHash(y);const v=yield lI(t,m,n??t.defaultReturnFormat),w=c.getReceiptWithEvents(Q(Sl,v,n??t.defaultReturnFormat));c.emitReceipt(w),i(yield c.handleResolve({receipt:w,tx:d})),c.emitConfirmation({receipt:w,transactionHash:m})}catch(f){a(yield c.handleError({error:f,tx:d}))}})})});return s}function LJ(t,e,n){return tt(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){var c;const l=Q({format:"bytes"},s,Tn);if(!((c=r.wallet)===null||c===void 0)&&c.get(i)){const f=r.wallet.get(i).sign(l);return Q(_Y,f,a)}if(typeof i=="number")throw new Nz(s,'RPC method "eth_sign" does not support index signatures');const u=yield NK(r.requestManager,i,l);return Q({format:"bytes"},u,a)})}function FJ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=yield CK(n.requestManager,Xn(r,Se,{transactionSchema:n.config.customTransactionSchema}));return Qw(i)?jY(i,s,{fillInputAndData:!0}):{raw:Q({format:"bytes"},i.raw,s),tx:Xn(i.tx,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function Db(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i=n.defaultReturnFormat){const a=rn(s)?s:Q({format:"uint"},s,Se),c=yield TK(n.requestManager,Xn(r,Se,{transactionSchema:n.config.customTransactionSchema}),a);return Q({format:"bytes"},c,i)})}function Lb(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=Xn(r,Se,{transactionSchema:n.config.customTransactionSchema}),c=rn(s)?s:Q({format:"uint"},s,Se),l=yield PK(n.requestManager,a,c);return Q({format:"uint"},l,i??n.defaultReturnFormat)})}function DI(t,e,n){return tt(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;U(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Qt(r)),U(s)||(typeof s=="number"||typeof s=="bigint")&&(s=Qt(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r});return(yield GK(t.requestManager,i)).map(l=>typeof l=="string"?l:Q(Al,l,n??t.defaultReturnFormat))})}function LI(t,e){return tt(this,void 0,void 0,function*(){const n=yield JK(t.requestManager);return Q({format:"uint"},n,e??t.defaultReturnFormat)})}function UJ(t,e,n){return tt(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,c){const l=i.map(f=>Q({format:"bytes"},f,Se)),u=rn(a)?a:Q({format:"uint"},a,Se),d=yield ZK(r.requestManager,s,l,u);return Q(SY,d,c??r.defaultReturnFormat)})}function $J(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i,a){const c=Q({format:"uint"},r,Se),l=rn(s)?s:Q({format:"uint"},s,Se),u=Q({type:"array",items:{format:"uint"}},i,cg),d=yield QK(n.requestManager,c,l,u);return Q(EY,d,a??n.defaultReturnFormat)})}function FI(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=rn(s)?s:Q({format:"uint"},s,Se),c=yield eY(n.requestManager,Xn(r,Se,{transactionSchema:n.config.customTransactionSchema}),a);return Q(vY,c,i??n.defaultReturnFormat)})}function HJ(t,e,n,r,s){return tt(this,void 0,void 0,function*(){const i=yield tY(t.requestManager,e,n,r);return Q({format:"bytes"},i,s??t.defaultReturnFormat)})}var jl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function zJ(t,e){return jl(this,void 0,void 0,function*(){const n=yield $K(t.requestManager);return Q({format:"uint"},n,e??t.defaultReturnFormat)})}function VJ(t,e,n){return jl(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;U(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Qt(r)),U(s)||(typeof s=="number"||typeof s=="bigint")&&(s=Qt(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r}),a=yield FK(t.requestManager,i);return Q({format:"uint"},a,n??t.defaultReturnFormat)})}function GJ(t,e){return jl(this,void 0,void 0,function*(){const n=yield UK(t.requestManager);return Q({format:"uint"},n,e??t.defaultReturnFormat)})}function WJ(t,e){return jl(this,void 0,void 0,function*(){return yield HK(t.requestManager,Qt(e))})}function qJ(t,e,n){return jl(this,void 0,void 0,function*(){return(yield zK(t.requestManager,Qt(e))).map(i=>typeof i=="string"?i:Q(Al,i,n??t.defaultReturnFormat))})}function QJ(t,e,n){return jl(this,void 0,void 0,function*(){return(yield VK(t.requestManager,Qt(e))).map(i=>typeof i=="string"?i:Q(Al,i,n??t.defaultReturnFormat))})}class UI extends qd{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return Q(Al,e,super.returnFormat)}}class EA extends qd{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return Q({format:"string"},e,super.returnFormat)}}class Om extends qd{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return Q(wY,e,super.returnFormat)}}class $I extends qd{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries(e?.status||e).map(([r,s])=>[r.charAt(0).toLowerCase()+r.substring(1),s]));this.emit("changed",e.syncing),this.emit("data",Q(bY,n,super.returnFormat))}}}var Ce=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const Zv={logs:UI,newPendingTransactions:EA,newHeads:Om,syncing:$I,pendingTransactions:EA,newBlockHeaders:Om};class fg extends Qn{constructor(e){if(typeof e=="string"||Em(e)){super({provider:e,registeredSubscriptions:Zv});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:Zv})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return Ce(this,void 0,void 0,function*(){return dK(this.requestManager)})}isSyncing(){return Ce(this,void 0,void 0,function*(){return XP(this.requestManager)})}getCoinbase(){return Ce(this,void 0,void 0,function*(){return fK(this.requestManager)})}isMining(){return Ce(this,void 0,void 0,function*(){return hK(this.requestManager)})}getHashrate(e){return Ce(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:Tn),this.getHashRate(e)})}getHashRate(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return jJ(this,e)})}getGasPrice(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Mb(this,e)})}getMaxPriorityFeePerGas(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return NJ(this,e)})}calculateFeeData(){return Ce(this,arguments,void 0,function*(e=BigInt(2),n=Jp.Gwei){var r;const s=yield this.getBlock(void 0,!1),i=(r=s?.baseFeePerGas)!==null&&r!==void 0?r:void 0;let a;try{a=yield this.getGasPrice()}catch{}let c;try{c=yield this.getMaxPriorityFeePerGas()}catch{}let l;if(i){c=c??n;let u;typeof e=="number"?u=BigInt(Math.floor(e*1e3))/BigInt(1e3):u=e,l=i*u+c}return{gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,baseFeePerGas:i}})}getAccounts(){return Ce(this,void 0,void 0,function*(){var e;return((e=yield yK(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>As(r))})}getBlockNumber(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Bb(this,e)})}getBalance(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return CJ(this,n,r,s)})}getStorageAt(e,n){return Ce(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return kJ(this,r,s,i,a)})}getCode(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return TJ(this,n,r,s)})}getBlock(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return OI(this,e,n,r)})}getBlockTransactionCount(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return PJ(this,e,n)})}getBlockUncleCount(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return IJ(this,e,n)})}getUncle(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return RJ(this,e,n,r)})}getTransaction(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield OJ(this,n,r);if(!s)throw new PE;return s})}getPendingTransactions(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return MJ(this,e)})}getTransactionFromBlock(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return BJ(this,e,n,r)})}getTransactionReceipt(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield MI(this,n,r);if(!s)throw new PE;return s})}getTransactionCount(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return BI(this,n,r,s)})}sendTransaction(e,n=this.defaultReturnFormat,r){return _d(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return DJ(this,e,n,r)}sign(e,n){return Ce(this,arguments,void 0,function*(r,s,i=this.defaultReturnFormat){return LJ(this,r,s,i)})}signTransaction(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return FJ(this,n,r)})}call(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return Db(this,n,r,s)})}estimateGas(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return Lb(this,n,r,s)})}getPastLogs(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return DI(this,n,r)})}getWork(){return Ce(this,void 0,void 0,function*(){return WK(this.requestManager)})}submitWork(e,n,r){return Ce(this,void 0,void 0,function*(){return qK(this.requestManager,e,n,r)})}requestAccounts(){return Ce(this,void 0,void 0,function*(){return YK(this.requestManager)})}getChainId(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return LI(this,e)})}getNodeInfo(){return Ce(this,void 0,void 0,function*(){return XK(this.requestManager)})}getProof(e,n){return Ce(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return UJ(this,r,s,i,a)})}getFeeHistory(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s,i=this.defaultReturnFormat){return $J(this,n,r,s,i)})}createAccessList(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return FI(this,n,r,s)})}signTypedData(e,n,r,s){return Ce(this,void 0,void 0,function*(){var i;return r===void 0&&(r=!1),s===void 0&&(s=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:Tn),HJ(this,e,n,r,s)})}subscribe(e,n,r){return Ce(this,void 0,void 0,function*(){var s,i;r===void 0&&(r=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:Tn);const a=yield(i=this.subscriptionManager)===null||i===void 0?void 0:i.subscribe(e,n,r);return a instanceof UI&&e==="logs"&&typeof n=="object"&&!xe(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(c=>{for(const l of c)a._processSubscriptionResult(l)}).catch(c=>{a._processSubscriptionError(c)})}),a})}static shouldClearSubscription({sub:e}){return!(e instanceof $I)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?fg.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return zJ(this,e)})}createNewFilter(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return VJ(this,n,r)})}createNewBlockFilter(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return GJ(this,e)})}uninstallFilter(e){return Ce(this,void 0,void 0,function*(){return WJ(this,e)})}getFilterChanges(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return qJ(this,n,r)})}getFilterLogs(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return QJ(this,n,r)})}}const KJ=t=>{if(!U(t.common)){if(U(t.common.customChain))throw new Pz;if(U(t.common.customChain.chainId))throw new Iz;if(!U(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new Rz({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},YJ=t=>{if(!U(t.common)&&!U(t.chain)&&!U(t.hardfork))throw new Bz;if(!U(t.chain)&&U(t.hardfork)||!U(t.hardfork)&&U(t.chain))throw new Dz({chain:t.chain,hardfork:t.hardfork})},JJ=t=>{if(!U(t.common)&&!U(t.common.baseChain)&&!U(t.chain)&&t.chain!==t.common.baseChain)throw new Oz({txChain:t.chain,baseChain:t.common.baseChain})},ZJ=t=>{if(!U(t.common)&&!U(t.common.hardfork)&&!U(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new Mz({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},AA=t=>{if(U(t.gas)||!oi(t.gas)||U(t.gasPrice)||!oi(t.gasPrice))throw new Hz({gas:t.gas,gasPrice:t.gasPrice});if(!U(t.maxFeePerGas)||!U(t.maxPriorityFeePerGas))throw new fT({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},SA=t=>{if(!U(t.gasPrice)&&t.type==="0x2")throw new Vz(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new fT({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(U(t.maxFeePerGas)||!oi(t.maxFeePerGas)||U(t.maxPriorityFeePerGas)||!oi(t.maxPriorityFeePerGas))throw new zz({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},XJ=t=>{const e=!U(t.gas)||!U(t.gasLimit),n=e&&!U(t.gasPrice),r=e&&!U(t.maxPriorityFeePerGas)&&!U(t.maxFeePerGas);if(!n&&!r)throw new Fz({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new $z({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?AA:SA)(t),(!U(t.type)&&t.type>"0x1"?SA:AA)(t)},eZ=(t,e,n={transactionSchema:void 0})=>{if(!U(e)){e(t);return}if(typeof t!="object"||U(t))throw new Gz(t);KJ(t),YJ(t),JJ(t),ZJ(t);const r=Xn(t,Se,{transactionSchema:n.transactionSchema});if(XJ(r),U(r.nonce)||U(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new Wz({nonce:t.nonce,chainId:t.chainId})};var tZ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const nZ=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},rZ=(t,e)=>{var n,r,s,i,a,c,l,u,d,f,h,p,g,m,y,v,w,b;const _=!U(t.chain)&&!U(t.hardfork)||!U(t.common);let E;if(!_)e.defaultCommon?(E=Object.assign({},e.defaultCommon),U(E.hardfork)&&(E.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),U(E.baseChain)&&(E.baseChain=e.defaultChain)):E=Vt.custom({name:"custom-network",chainId:qn(t.chainId),networkId:U(t.networkId)?void 0:qn(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const S=(c=(a=(i=(s=t?.common)===null||s===void 0?void 0:s.customChain)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:t.chain)!==null&&c!==void 0?c:"custom-network",N=qn((d=(u=(l=t?.common)===null||l===void 0?void 0:l.customChain)===null||u===void 0?void 0:u.chainId)!==null&&d!==void 0?d:t?.chainId),j=qn((p=(h=(f=t?.common)===null||f===void 0?void 0:f.customChain)===null||h===void 0?void 0:h.networkId)!==null&&p!==void 0?p:t?.networkId),L=(y=(m=(g=t?.common)===null||g===void 0?void 0:g.hardfork)!==null&&m!==void 0?m:t?.hardfork)!==null&&y!==void 0?y:e.defaultHardfork,T=(b=(w=(v=t.common)===null||v===void 0?void 0:v.baseChain)!==null&&w!==void 0?w:t.chain)!==null&&b!==void 0?b:e.defaultChain;N&&j&&S&&(E=Vt.custom({name:S,chainId:N,networkId:j,defaultHardfork:L},{baseChain:T}))}return{common:E}},sZ=(t,e,n,...r)=>tZ(void 0,[t,e,n,...r],void 0,function*(s,i,a,c=!1,l=!0){const u=yield IY({transaction:s,web3Context:i,privateKey:a,fillGasPrice:c,fillGasLimit:l}),d=Xn(u,Se,{transactionSchema:i.config.customTransactionSchema});return eZ(d,void 0,{transactionSchema:i.config.customTransactionSchema}),va.fromTxData(nZ(d),rZ(d,i))}),jA=({address:t},e,n)=>{var r,s;const i=n?.topics,a=(r=n?.filter)!==null&&r!==void 0?r:{},c={};if(xe(n?.fromBlock)||(c.fromBlock=Q(Tm.properties.number,n?.fromBlock,{number:Sr.HEX,bytes:si.HEX})),xe(n?.toBlock)||(c.toBlock=Q(Tm.properties.number,n?.toBlock,{number:Sr.HEX,bytes:si.HEX})),i&&Array.isArray(i))c.topics=[...i];else if(c.topics=[],e&&!e.anonymous&&![el,"allEvents"].includes(e.name)&&c.topics.push((s=e.signature)!==null&&s!==void 0?s:Tb(Ks(e))),![el,"allEvents"].includes(e.name)&&e.inputs)for(const l of e.inputs){if(!l.indexed)continue;const u=a[l.name];if(!u){c.topics.push(null);continue}Array.isArray(u)?c.topics.push(u.map(d=>Yv(l.type,d))):l.type==="string"?c.topics.push(Qc(u)):c.topics.push(Yv(l.type,u))}return c.topics.length||delete c.topics,t&&(c.address=t.toLowerCase()),c},Au=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new Pn(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let s;if(t.inputs?s=dg(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):s=gJ(e).replace("0x",""),LY(t)){if(!n)throw new Pn("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${s}`:`0x${n}${s}`}return`${bd(t)}${s}`};class HI extends qd{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return Ob(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const hg=(t,e,n,r)=>{var s,i;const a={};return(!xe(t.data)||r==="both")&&(a.data=Au(e,n,(s=t.data)!==null&&s!==void 0?s:t.input)),(!xe(t.input)||r==="both")&&(a.input=Au(e,n,(i=t.input)!==null&&i!==void 0?i:t.data)),xe(a.input)&&xe(a.data)&&(a[r]=Au(e,n)),{data:a.data,input:a.input}},Xv=({abi:t,params:e,options:n,contractOptions:r})=>{var s,i,a;if(!((a=(i=(s=n?.input)!==null&&s!==void 0?s:n?.data)!==null&&i!==void 0?i:r.input)!==null&&a!==void 0?a:r.data)&&!n?.to&&!r.address)throw new Pn("Contract address not specified");if(!n?.from&&!r.from)throw new Pn('Contract "from" address not specified');let l=Ao({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const u=hg(l,t,e,n?.dataInputFill);return l=Object.assign(Object.assign({},l),{data:u.data,input:u.input}),l},iZ=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Pn("Contract address not specified");let s=Ao({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=hg(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},oZ=({abi:t,params:e,options:n,contractOptions:r})=>{let s=Ao({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const i=hg(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},NA=t=>typeof t=="object"&&!xe(t)&&Object.keys(t).length!==0&&!Di(t),aZ=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new Pn("Contract address not specified");if(!n?.from&&!r.from)throw new Pn('Contract "from" address not specified');let s=Ao({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=hg(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s};var cZ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class lZ{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new Pn("code couldn't be stored",r);const s=this.parent.clone();return s.options.address=r.contractAddress,s},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return U(this.parent.getTransactionMiddleware())?_d(this.parent,e,this.parent.defaultReturnFormat,n):_d(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:s,contractOptions:i,deployData:a}=this.calculateDeployParams();this.args=r,this.constructorAbi=s,this.contractOptions=i,this.deployData=a}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const s=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),i=Xv({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:s});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,n,r,s,i,a;let c=this.parent.options.jsonInterface.find(p=>p.type==="constructor");c||(c={type:"constructor",stateMutability:""});const l=Q({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,Tn),u=Q({format:"bytes"},(s=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:this.parent.options.data,Tn);if((!l||l.trim()==="0x")&&(!u||u.trim()==="0x"))throw new Pn("contract creation without any data provided.");const d=(a=(i=this.deployOptions)===null||i===void 0?void 0:i.arguments)!==null&&a!==void 0?a:[],f=Object.assign(Object.assign({},this.parent.options),{input:l,data:u});return{args:d,abi:c,contractOptions:f,deployData:l??u}}estimateGas(e){return cZ(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const s=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:s,contractOptions:this.contractOptions})})}encodeABI(){return Au(this.constructorAbi,this.args,Q({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},Jv(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var uZ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class dZ extends Am{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return uZ(this,arguments,void 0,function*(s,i,a=Tn){return r.subscribe.call(this,s,i??this.parentContract.options,a)})}}var No=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const fZ={logs:HI,newHeads:Om,newBlockHeaders:Om};class Xo extends Qn{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,s,i){var a,c,l;const u=Di(n)?n:Di(r)?r:void 0;let d;NA(n)?d=n:NA(r)?d=r:d=s;let f;if(typeof n=="object"&&"provider"in n?f=n.provider:typeof r=="object"&&"provider"in r?f=r.provider:typeof s=="object"&&"provider"in s?f=s.provider:f=Xo.givenProvider,super(Object.assign(Object.assign({},d),{provider:f,registeredSubscriptions:fZ})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new dZ(super.subscriptionManager,this),d?.wallet&&(this._wallet=d.wallet),d?.accountProvider&&(this._accountProvider=d.accountProvider),!U(u)&&!U(u.data)&&!U(u.input)&&this.config.contractDataInputFill!=="both")throw new bz({data:u.data,input:u.input});this._overloadedMethodAbis=new Map;const h=Fs(s)?s:Fs(r)?r:i??this.defaultReturnFormat,p=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(a=u?.dataInputFill)!==null&&a!==void 0?a:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,h),this.defaultReturnFormat!==h&&(this.defaultReturnFormat=h),U(p)||this._parseAndSetAddress(p,h),this.options={address:p,jsonInterface:this._jsonInterface,gas:(c=u?.gas)!==null&&c!==void 0?c:u?.gasLimit,gasPrice:u?.gasPrice,from:u?.from,input:u?.input,data:u?.data},this.syncWithContext=(l=u?.syncWithContext)!==null&&l!==void 0?l:!1,d instanceof Qn&&this.subscribeToContextEvents(d),Object.defineProperty(this.options,"address",{set:g=>this._parseAndSetAddress(g,h),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:g=>this._parseAndSetJsonInterface(g,h),get:()=>this._jsonInterface}),d instanceof Qn&&d.on(ga.CONFIG_CHANGE,g=>{this.setConfig({[g.name]:g.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new Xo([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new Xo([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new lZ(this,e)}getPastEvents(e,n,r){return No(this,void 0,void 0,function*(){var s;const i=typeof e=="string"?e:el,a=typeof e!="string"&&!Fs(e)?e:Fs(n)?{}:n,c=Fs(e)?e:Fs(n)?n:r??this.defaultReturnFormat,l=i==="allEvents"||i===el?zv:this._jsonInterface.find(v=>"name"in v&&v.name===i);if(!l)throw new Pn(`Event ${String(i)} not found.`);const{fromBlock:u,toBlock:d,topics:f,address:h}=jA(this.options,l,a??{}),p=yield DI(this,{fromBlock:u,toBlock:d,topics:f,address:h},c),g=p?p.map(v=>typeof v=="string"?v:Ob(l,v,this._jsonInterface,c)):[],m=(s=a?.filter)!==null&&s!==void 0?s:{},y=Object.keys(m);return y.length>0?g.filter(v=>typeof v=="string"?!0:y.every(w=>{var b;if(Array.isArray(m[w]))return m[w].some(E=>String(v.returnValues[w]).toUpperCase()===String(E).toUpperCase());const _=(b=l.inputs)===null||b===void 0?void 0:b.filter(E=>E.name===w)[0];return _?.indexed&&_.type==="string"&&Qc(m[w])===String(v.returnValues[w])?!0:String(v.returnValues[w]).toUpperCase()===String(m[w]).toUpperCase()})):g})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&As(Q({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),s=this._jsonInterface.filter(i=>i.type!=="error").find(i=>n===bd(Ks(i)));if(!s)throw new Pn(`The ABI for the provided method signature ${n} was not found.`);return Jv(s,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,s;this._functions={},this._methods={},this._events={};let i=[];const a=e.filter(l=>l.type!=="error"),c=e.filter(l=>lg(l));for(const l of a){const u=Object.assign(Object.assign({},l),{signature:""});if(ug(u)){const d=Ks(u),f=bd(d);u.methodNameWithInputs=d,u.signature=f,u.constant=u.stateMutability==="view"||u.stateMutability==="pure"||u.constant,u.payable=u.stateMutability==="payable"||u.payable,this._overloadedMethodAbis.set(u.name,[...(r=this._overloadedMethodAbis.get(u.name))!==null&&r!==void 0?r:[],u]);const h=(s=this._overloadedMethodAbis.get(u.name))!==null&&s!==void 0?s:[],p=this._createContractMethod(h,c),g=this._createContractMethod(h,c,!0);this._functions[d]={signature:f,method:g},this._methods[u.name]=p,this._methods[d]=g,this._methods[f]=g}else if(kb(u)){const d=Ks(u),f=Tb(d),h=this._createContractEvent(u,n);u.signature=f,(!(d in this._events)||u.name==="bound")&&(this._events[d]=h),this._events[u.name]=h,this._events[f]=h}i=[...i,u]}this._events.allEvents=this._createContractEvent(zv,n),this._jsonInterface=[...i],this._errorsInterface=c}_getAbiParams(e,n){var r;try{return Eu((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(s){throw new Pn(`Invalid parameters for method ${e.name}: ${s.message}`)}}_createContractMethod(e,n,r=!1){const s=e[e.length-1];return(...i)=>{var a,c,l;let u;const d=(c=r?(a=this._overloadedMethodAbis.get(s.name))===null||a===void 0?void 0:a.filter(m=>m.signature===s.signature):this._overloadedMethodAbis.get(s.name))!==null&&c!==void 0?c:[];let f=d[0];const h=n,p=d.filter(m=>{var y;return((y=m.inputs)!==null&&y!==void 0?y:[]).length===i.length});if(d.length===1||p.length===0)u=this._getAbiParams(f,i),ye.validate((l=s.inputs)!==null&&l!==void 0?l:[],u);else{const m=[],y=[];for(const v of p)try{u=this._getAbiParams(v,i),ye.validate(v.inputs,u),y.push(v)}catch(w){m.push(w)}if(y.length===1?[f]=y:y.length>1&&([f]=y,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${y.length} compatible methods: ${JSON.stringify(y.map(v=>`${v.methodNameWithInputs} (signature: ${v.signature})`))} 
	The first one will be used: ${f.methodNameWithInputs}`)),m.length===p.length)throw new Gc(m)}const g={arguments:u,call:(m,y)=>No(this,void 0,void 0,function*(){return this._contractMethodCall(f,u,h,m,y)}),send:m=>this._contractMethodSend(f,u,h,m),populateTransaction:(m,y)=>{var v,w;let b=y??this.options;b=Object.assign(Object.assign({},b),{input:void 0,from:(w=(v=b?.from)!==null&&v!==void 0?v:this.defaultAccount)!==null&&w!==void 0?w:void 0});const _=Xv({abi:s,params:i,options:Object.assign(Object.assign({},m),{dataInputFill:this.config.contractDataInputFill}),contractOptions:b});return _.dataInputFill&&delete _.dataInputFill,_},estimateGas:(m,...y)=>No(this,[m,...y],void 0,function*(v,w=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:f,params:u,returnFormat:w,options:v})}),encodeABI:()=>Au(f,u),decodeData:m=>Jv(f,m),createAccessList:(m,y)=>No(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(f,u,h,m,y)})};return f.stateMutability==="payable",g}}_contractMethodCall(e,n,r,s,i){return No(this,void 0,void 0,function*(){var a;const c=iZ({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{const l=yield Db(this,c,i,this.defaultReturnFormat);return vJ(e,l)}catch(l){throw l instanceof Qo&&ch(r,l.cause),l}})}_contractMethodCreateAccessList(e,n,r,s,i){return No(this,void 0,void 0,function*(){var a;const c=aZ({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{return FI(this,c,i,this.defaultReturnFormat)}catch(l){throw l instanceof Qo&&ch(r,l.cause),l}})}_contractMethodSend(e,n,r,s,i){var a,c;let l=i??this.options;l=Object.assign(Object.assign({},l),{input:void 0,from:(c=(a=l.from)!==null&&a!==void 0?a:this.defaultAccount)!==null&&c!==void 0?c:void 0});const u=Xv({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:l}),d=U(this.transactionMiddleware)?_d(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):_d(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return d.on("error",f=>{f instanceof Qo&&ch(r,f.cause)}),d}contractMethodEstimateGas(e){return No(this,arguments,void 0,function*({abi:n,params:r,returnFormat:s,options:i,contractOptions:a}){const c=oZ({abi:n,params:r,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a??this.options});return Lb(this,c,Us.LATEST,s??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var s;const{topics:i,fromBlock:a}=jA(this.options,e,r[0]),c=new HI({address:this.options.address,topics:i,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return U(a)||this.getPastEvents(e.name,{fromBlock:a,topics:i},n).then(l=>{l&&l.forEach(u=>c.emit("data",u))}).catch(l=>{c.emit("error",new Ds("Failed to get past events.",l))}),(s=this.subscriptionManager)===null||s===void 0||s.addSubscription(c).catch(l=>{c.emit("error",new Ds("Failed to subscribe.",l))}),c}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(ga.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}const CA={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},za={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash",text:"text",name:"name"},Mm={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},hZ={"0x1":"main","0x5":"goerli"},mZ=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],pZ=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var gZ="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const kA=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),TA=4;function yZ(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let E=1;E<r;E++)i.push(s+=n());let a=n(),c=e;e+=a;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,h=2**f,p=h>>>1,g=p>>1,m=h-1;let y=0;for(let E=0;E<f;E++)y=y<<1|d();let v=[],w=0,b=h;for(;;){let E=Math.floor(((y-w+1)*s-1)/b),S=0,N=r;for(;N-S>1;){let T=S+N>>>1;E<i[T]?N=T:S=T}if(S==0)break;v.push(S);let j=w+Math.floor(b*i[S]/s),L=w+Math.floor(b*i[S+1]/s)-1;for(;!((j^L)&p);)y=y<<1&m|d(),j=j<<1&m,L=L<<1&m|1;for(;j&~L&g;)y=y&p|y<<1&m>>>1|d(),j=j<<1^p,L=(L^p)<<1|p|1;w=j,b=1+L-j}let _=r-4;return v.map(E=>{switch(E-_){case 3:return _+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return _+256+(t[c++]<<8|t[c++]);case 1:return _+t[c++];default:return E-1}})}function vZ(t){let e=0;return()=>t[e++]}function zI(t){return vZ(yZ(xZ(t)))}function xZ(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,a=0,c=0;s<n;s++)c=c<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(r[i++]=c>>(a-=8));return r}function wZ(t){return t&1?~t>>1:t>>1}function bZ(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=wZ(e());return n}function Ed(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function VI(t){return Ad(()=>{let e=Ed(t);if(e.length)return e})}function GI(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(_Z(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(EZ(n,t))}return e.flat()}function Ad(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function WI(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)bZ(t,n).forEach((i,a)=>r[a].push(i));return r}function _Z(t,e){let n=1+e(),r=e(),s=Ad(e);return WI(s.length,1+t,e).flatMap((a,c)=>{let[l,...u]=a;return Array(s[c]).fill().map((d,f)=>{let h=f*r;return[l+f*n,u.map(p=>p+h)]})})}function EZ(t,e){let n=1+e();return WI(n,1+t,e).map(s=>[s[0],s.slice(1)])}function AZ(t){let e=[],n=Ed(t);return s(r([]),[]),e;function r(i){let a=t(),c=Ad(()=>{let l=Ed(t).map(u=>n[u]);if(l.length)return r(l)});return{S:a,B:c,Q:i}}function s({S:i,B:a},c,l){if(!(i&4&&l===c[c.length-1])){i&2&&(l=c[c.length-1]),i&1&&e.push(c);for(let u of a)for(let d of u.Q)s(u,[...c,d],l)}}}function SZ(t){return t.toString(16).toUpperCase().padStart(2,"0")}function qI(t){return`{${SZ(t)}}`}function jZ(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function nl(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function NZ(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var CZ="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Sd=44032,Bm=4352,Dm=4449,Lm=4519,QI=19,KI=21,rl=28,Fm=KI*rl,kZ=QI*Fm,TZ=Sd+kZ,PZ=Bm+QI,IZ=Dm+KI,RZ=Lm+rl;function iu(t){return t>>24&255}function YI(t){return t&16777215}let ex,PA,tx,lh;function OZ(){let t=zI(CZ);ex=new Map(VI(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),PA=new Set(Ed(t)),tx=new Map,lh=new Map;for(let[e,n]of GI(t)){if(!PA.has(e)&&n.length==2){let[r,s]=n,i=lh.get(r);i||(i=new Map,lh.set(r,i)),i.set(s,e)}tx.set(e,n.reverse())}}function JI(t){return t>=Sd&&t<TZ}function MZ(t,e){if(t>=Bm&&t<PZ&&e>=Dm&&e<IZ)return Sd+(t-Bm)*Fm+(e-Dm)*rl;if(JI(t)&&e>Lm&&e<RZ&&(t-Sd)%rl==0)return t+(e-Lm);{let n=lh.get(t);return n&&(n=n.get(e),n)?n:-1}}function ZI(t){ex||OZ();let e=[],n=[],r=!1;function s(i){let a=ex.get(i);a&&(r=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(JI(i)){let a=i-Sd,c=a/Fm|0,l=a%Fm/rl|0,u=a%rl;s(Bm+c),s(Dm+l),u>0&&s(Lm+u)}else{let a=tx.get(i);a?n.push(...a):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=iu(e[0]);for(let a=1;a<e.length;a++){let c=iu(e[a]);if(c==0||i<=c){i=c;continue}let l=a-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(i=iu(e[--l]),i<=c))break}i=iu(e[a])}}return e}function BZ(t){let e=[],n=[],r=-1,s=0;for(let i of t){let a=iu(i),c=YI(i);if(r==-1)a==0?r=c:e.push(c);else if(s>0&&s>=a)a==0?(e.push(r,...n),n.length=0,r=c):n.push(c),s=a;else{let l=MZ(r,c);l>=0?r=l:s==0&&a==0?(e.push(r),r=c):(n.push(c),s=a)}}return r>=0&&e.push(r,...n),e}function XI(t){return ZI(t).map(YI)}function DZ(t){return BZ(ZI(t))}const IA=45,eR=".",tR=65039,nR=1,Um=t=>Array.from(t);function jd(t,e){return t.P.has(e)||t.Q.has(e)}class LZ extends Array{get is_emoji(){return!0}}let nx,rR,Vo,rx,sR,jc,Dy,Ka,Ro,RA,sx;function Fb(){if(nx)return;let t=zI(gZ);const e=()=>Ed(t),n=()=>new Set(e()),r=(d,f)=>f.forEach(h=>d.add(h));nx=new Map(GI(t)),rR=n(),Vo=e(),rx=new Set(e().map(d=>Vo[d])),Vo=new Set(Vo),sR=n(),n();let s=VI(t),i=t();const a=()=>{let d=new Set;return e().forEach(f=>r(d,s[f])),r(d,e()),d};jc=Ad(d=>{let f=Ad(t).map(h=>h+96);if(f.length){let h=d>=i;f[0]-=32,f=nl(f),h&&(f=`Restricted[${f}]`);let p=a(),g=a(),m=!t();return{N:f,P:p,Q:g,M:m,R:h}}}),Dy=n(),Ka=new Map;let c=e().concat(Um(Dy)).sort((d,f)=>d-f);c.forEach((d,f)=>{let h=t(),p=c[f]=h?c[f-h]:{V:[],M:new Map};p.V.push(d),Dy.has(d)||Ka.set(d,p)});for(let{V:d,M:f}of new Set(Ka.values())){let h=[];for(let g of d){let m=jc.filter(v=>jd(v,g)),y=h.find(({G:v})=>m.some(w=>v.has(w)));y||(y={G:new Set,V:[]},h.push(y)),y.V.push(g),r(y.G,m)}let p=h.flatMap(g=>Um(g.G));for(let{G:g,V:m}of h){let y=new Set(p.filter(v=>!g.has(v)));for(let v of m)f.set(v,y)}}Ro=new Set;let l=new Set;const u=d=>Ro.has(d)?l.add(d):Ro.add(d);for(let d of jc){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of Ro)!Ka.has(d)&&!l.has(d)&&Ka.set(d,nR);r(Ro,XI(Ro)),RA=AZ(t).map(d=>LZ.from(d)).sort(NZ),sx=new Map;for(let d of RA){let f=[sx];for(let h of d){let p=f.map(g=>{let m=g.get(h);return m||(m=new Map,g.set(h,m)),m});h===tR?f.push(...p):f=p}for(let h of f)h.V=d}}function Ub(t){return(iR(t)?"":`${$b(mg([t]))} `)+qI(t)}function $b(t){return`"${t}"`}function FZ(t){if(t.length>=4&&t[2]==IA&&t[3]==IA)throw new Error(`invalid label extension: "${nl(t.slice(0,4))}"`)}function UZ(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function $Z(t){let e=t[0],n=kA.get(e);if(n)throw Su(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let a=kA.get(e);if(a){if(s==i)throw Su(`${n} + ${a}`);s=i+1,n=a}}if(s==r)throw Su(`trailing ${n}`)}function mg(t,e=1/0,n=qI){let r=[];HZ(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let c=t[a];iR(c)&&(r.push(nl(t.slice(s,a))),r.push(n(c)),s=a+1)}return r.push(nl(t.slice(s,i))),r.join("")}function HZ(t,e){return Fb(),Vo.has(t)}function iR(t){return Fb(),sR.has(t)}function zZ(t){return qZ(VZ(t,DZ,YZ))}function VZ(t,e,n){if(!t)return[];Fb();let r=0;return t.split(eR).map(s=>{let i=jZ(s),a={input:i,offset:r};r+=i.length+1;try{let c=a.tokens=KZ(i,e,n),l=c.length,u;if(!l)throw new Error("empty label");let d=a.output=c.flat();if(UZ(d),!(a.emoji=l>1||c[0].is_emoji)&&d.every(h=>h<128))FZ(d),u="ASCII";else{let h=c.flatMap(p=>p.is_emoji?[]:p);if(!h.length)u="Emoji";else{if(Vo.has(d[0]))throw Su("leading combining mark");for(let m=1;m<l;m++){let y=c[m];if(!y.is_emoji&&Vo.has(y[0]))throw Su(`emoji + combining mark: "${nl(c[m-1])} + ${mg([y[0]])}"`)}$Z(d);let p=Um(new Set(h)),[g]=WZ(p);QZ(g,h),GZ(g,p),u=g.N}}a.type=u}catch(c){a.error=c}return a})}function GZ(t,e){let n,r=[];for(let s of e){let i=Ka.get(s);if(i===nR)return;if(i){let a=i.M.get(s);if(n=n?n.filter(c=>a.has(c)):Um(a),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>jd(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function WZ(t){let e=jc;for(let n of t){let r=e.filter(s=>jd(s,n));if(!r.length)throw jc.some(s=>jd(s,n))?aR(e[0],n):oR(n);if(e=r,r.length==1)break}return e}function qZ(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${$b(mg(e,63))}: ${s}`)}return nl(r)}).join(eR)}function oR(t){return new Error(`disallowed character: ${Ub(t)}`)}function aR(t,e){let n=Ub(e),r=jc.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Su(t){return new Error(`illegal placement: ${t}`)}function QZ(t,e){for(let n of e)if(!jd(t,n))throw aR(t,n);if(t.M){let n=XI(e);for(let r=1,s=n.length;r<s;r++)if(rx.has(n[r])){let i=r+1;for(let a;i<s&&rx.has(a=n[i]);i++)for(let c=r;c<i;c++)if(n[c]==a)throw new Error(`duplicate non-spacing marks: ${Ub(a)}`);if(i-r>TA)throw new Error(`excessive non-spacing marks: ${$b(mg(n.slice(r-1,i)))} (${i-r}/${TA})`);r=i}}}function KZ(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=JZ(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let a=t.pop();if(Ro.has(a))s.push(a);else{let c=nx.get(a);if(c)s.push(...c);else if(!rR.has(a))throw oR(a)}}}return s.length&&r.push(e(s)),r}function YZ(t){return t.filter(e=>e!=tR)}function JZ(t,e){let n=sx,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const ZZ=t=>zZ(t),os=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=ZZ(t).split(".");for(let s=r.length-1;s>=0;s-=1){const i=fr(r[s]).slice(2);e=fr(`0x${e}${i}`).slice(2)}}return`0x${e}`};var Mf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class XZ{constructor(e,n){this.contract=new Xo(mZ,n??Mm.main,e),this.context=e}getOwner(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.owner(os(e)).call()}catch{throw new Error}})}getTTL(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(os(e)).call()}catch{throw new Error}})}recordExists(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(os(e)).call()}catch{throw new Error}})}getResolver(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(os(e)).call().then(n=>{if(typeof n=="string")return new Xo(pZ,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var ks=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class eX{constructor(e){this.registry=e}getResolverContractAdapter(e){return ks(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,s;return ks(this,void 0,void 0,function*(){if(xe(CA[n]))throw new kE((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(CA[n]).call()))throw new kE((s=e.options.address)!==null&&s!==void 0?s:"",n)})}supportsInterface(e,n){var r;return ks(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);let i=n;if(!Xe(i)){if(i=(r=Wd(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");i=i.slice(0,10)}return s.methods.supportsInterface(i).call()})}getAddress(e,n=60){return ks(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,za.addr),r.methods.addr(os(e),n).call()})}getPubkey(e){return ks(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,za.pubkey),n.methods.pubkey(os(e)).call()})}getContenthash(e){return ks(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,za.contenthash),n.methods.contenthash(os(e)).call()})}setAddress(e,n,r){return ks(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(s,za.setAddr),s.methods.setAddr(os(e),n).send(r)})}getText(e,n){return ks(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,za.text),r.methods.text(os(e),n).call()})}getName(e,n=!0){return ks(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,s=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(s,za.name)),s.methods.name(os(r)).call()})}}var yr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class cR extends Qn{constructor(e,n){super(n??""),this.registryAddress=e??Mm.main,this._registry=new XZ(this.getContextObject(),e),this._resolver=new eX(this._registry)}getResolver(e){return yr(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return yr(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return yr(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return yr(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return yr(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return yr(this,void 0,void 0,function*(){return dr(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return yr(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return yr(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return yr(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return yr(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const s=yield SJ(this);if(!(typeof s=="boolean"&&!s))throw new Ez;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield jb(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:Sr.HEX})),r=Mm[hZ[n]];if(typeof r>"u")throw new _z(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return yr(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return yr(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}var hi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const tX=t=>hi(void 0,void 0,void 0,function*(){return(yield iY(t)).map(As)}),nX=(t,e)=>hi(void 0,void 0,void 0,function*(){ye.validate(["string"],[e]);const n=yield oY(t,e);return As(n)}),rX=(t,e,n,r)=>hi(void 0,void 0,void 0,function*(){return ye.validate(["address","string","uint"],[e,n,r]),aY(t,e,n,r)}),sX=(t,e)=>hi(void 0,void 0,void 0,function*(){return ye.validate(["address"],[e]),cY(t,e)}),iX=(t,e,n)=>hi(void 0,void 0,void 0,function*(){return ye.validate(["string","string"],[e,n]),lY(t,e,n)}),oX=(t,e,n,r)=>hi(void 0,void 0,void 0,function*(){const s=Xn(e,Se,{transactionSchema:r?.customTransactionSchema});return uY(t,s,n)}),aX=(t,e,n,r)=>hi(void 0,void 0,void 0,function*(){const s=Xn(e,Se,{transactionSchema:r?.customTransactionSchema});return dY(t,s,n)}),cX=(t,e,n,r)=>hi(void 0,void 0,void 0,function*(){ye.validate(["string","address","string"],[e,n,r]);const s=Xe(e)?e:Qr(e);return fY(t,s,n,r)}),lX=(t,e,n)=>hi(void 0,void 0,void 0,function*(){ye.validate(["string","string"],[e,n]);const r=Xe(e)?e:Qr(e);return hY(t,r,n)});var Ts=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class lR extends Qn{getAccounts(){return Ts(this,void 0,void 0,function*(){return tX(this.requestManager)})}newAccount(e){return Ts(this,void 0,void 0,function*(){return nX(this.requestManager,e)})}unlockAccount(e,n,r){return Ts(this,void 0,void 0,function*(){return rX(this.requestManager,e,n,r)})}lockAccount(e){return Ts(this,void 0,void 0,function*(){return sX(this.requestManager,e)})}importRawKey(e,n){return Ts(this,void 0,void 0,function*(){return iX(this.requestManager,e,n)})}sendTransaction(e,n){return Ts(this,void 0,void 0,function*(){return oX(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Ts(this,void 0,void 0,function*(){return aX(this.requestManager,e,n,this.config)})}sign(e,n,r){return Ts(this,void 0,void 0,function*(){return cX(this.requestManager,e,n,r)})}ecRecover(e,n){return Ts(this,void 0,void 0,function*(){return lX(this.requestManager,e,n)})}}var ds;(function(t){t.HTTPS="https",t.WebSocket="wss"})(ds||(ds={}));var ie;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(ie||(ie={}));const uX=1300;class dX extends _e{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=uX}}const fX=1301;class OA extends _e{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=fX}}var hX=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class uR extends cb{constructor(e,n,r,s,i){if(super(),i!==void 0&&n===ds.HTTPS&&!("providerOptions"in i))throw new OA("HTTP Provider");if(i!==void 0&&n===ds.WebSocket&&!("socketOptions"in i||"reconnectOptions"in i))throw new OA("Websocket Provider");this.transport=n,n===ds.HTTPS?this.provider=new rg(this.getRPCURL(e,n,r,s),i):n===ds.WebSocket&&(this.provider=new dP(this.getRPCURL(e,n,r,s),i?.socketOptions,i?.reconnectOptions))}request(e,n){return hX(this,void 0,void 0,function*(){return this.transport===ds.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var mX=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const Yt=t=>t!==void 0&&t.trim().length>0;class pX extends uR{constructor(e=ie.ETH_MAINNET,n=ds.HTTPS,r="",s="",i){super(e,n,r,s,i)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return mX(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(s){throw s instanceof ls&&s.statusCode===429?new dX(s):s}})}getRPCURL(e,n,r,s){let i="",a="";switch(e){case ie.ETH_MAINNET:i=Yt(s)?s:"powerful-holy-bush.quiknode.pro",a=Yt(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case ie.ETH_SEPOLIA:i=Yt(s)?s:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",a=Yt(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case ie.ETH_HOLESKY:i=Yt(s)?s:"yolo-morning-card.ethereum-holesky.quiknode.pro",a=Yt(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case ie.ARBITRUM_MAINNET:i=Yt(s)?s:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",a=Yt(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case ie.ARBITRUM_SEPOLIA:i=Yt(s)?s:"few-patient-pond.arbitrum-sepolia.quiknode.pro",a=Yt(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case ie.BNB_MAINNET:i=Yt(s)?s:"purple-empty-reel.bsc.quiknode.pro",a=Yt(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case ie.BNB_TESTNET:i=Yt(s)?s:"floral-rough-scion.bsc-testnet.quiknode.pro",a=Yt(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case ie.POLYGON_MAINNET:i=Yt(s)?s:"small-chaotic-moon.matic.quiknode.pro",a=Yt(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case ie.POLYGON_AMOY:i=Yt(s)?s:"prettiest-side-shape.matic-amoy.quiknode.pro",a=Yt(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${i}/${a}`}}const gX=t=>t!==void 0&&t.trim().length>0,yX=[ie.DYMENSION_MAINNET,ie.DYMENSION_TESTNET,ie.KAVA_MAINNET,ie.CRONOS_MAINNET,ie.POLYGON_MAINNET];class $m extends uR{constructor(e=ie.ETH_MAINNET,n=ds.HTTPS,r="",s){super(e,n,"",r,s)}getRPCURL(e,n,r,s){if(!$m.networkHostMap[e])throw new Error("Network info not avalible.");const i=`${$m.networkHostMap[e]}.publicnode.com`,a=gX(s)?s:i;return yX.includes(e)&&n===ds.WebSocket?`${n}://${a}/websocket`:`${n}://${a}`}}$m.networkHostMap={[ie.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[ie.DYMENSION_MAINNET]:"dymension-evm-rpc",[ie.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[ie.BLAST_MAINNET]:"blast-rpc",[ie.GNOSIS_MAINNET]:"gnosis-rpc",[ie.PULSECHAIN_MAINNET]:"pulsechain-rpc",[ie.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[ie.KAVA_MAINNET]:"kava-evm-rpc",[ie.CRONOS_MAINNET]:"cronos-evm-rpc",[ie.MANTLE_MAINNET]:"mantle-rpc",[ie.TAIKO_MAINNET]:"taiko-rpc",[ie.TAIKO_HEKLA]:"taiko-hekla-rpc",[ie.LINEA_MAINNET]:"linea-rpc",[ie.LINEA_SEPOLIA]:"linea-sepolia-rpc",[ie.SCROLL_MAINNET]:"scroll-rpc",[ie.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[ie.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[ie.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[ie.HAQQ_MAINNET]:"haqq-evm-rpc",[ie.EVMOS_MAINNET]:"evmos-evm-rpc",[ie.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[ie.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[ie.ETH_MAINNET]:"ethereum-rpc",[ie.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[ie.ETH_HOLESKY]:"ethereum-holesky-rpc",[ie.BSC_MAINNET]:"bsc-rpc",[ie.BSC_TESTNET]:"bsc-testnet-rpc",[ie.POLYGON_MAINNET]:"polygon-bor-rpc",[ie.BASE_MAINNET]:"base-rpc",[ie.BASE_SEPOLIA]:"base-sepolia-rpc",[ie.ARBITRUM_ONE]:"arbitrum-one-rpc",[ie.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[ie.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[ie.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[ie.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[ie.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[ie.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[ie.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[ie.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[ie.OPTIMISM_MAINNET]:"optimism-rpc",[ie.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[ie.FANTOM_MAINNET]:"fantom-rpc",[ie.FANTOM_TESTNET]:"fantom-testnet-rpc",[ie.OPBNB_MAINNET]:"opbnb-rpc",[ie.OPBNB_TESTNET]:"opbnb-testnet-rpc",[ie.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[ie.CHILIZ_MAINNET]:"chiliz-rpc",[ie.CHILIZ_SPICY]:"chiliz-spicy-rpc",[ie.MOONBEAM_MAINNET]:"moonbeam-rpc",[ie.BAHAMUT_MAINNET]:"bahamut-rpc",[ie.TRON_MAINNET]:"tron-evm-rpc",[ie.MOONRIVER_MAINNET]:"moonriver-rpc"};const vX=new pX,xX={encodeEventSignature:Tb,encodeFunctionCall:yJ,encodeFunctionSignature:bd,encodeParameter:Yv,encodeParameters:dg,decodeParameter:TI,decodeParameters:Zo,decodeLog:PI};var Gl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const wX=t=>{const e=(a,c)=>Gl(void 0,void 0,void 0,function*(){const l=yield sZ(a,t),u=Q({format:"bytes"},c,Se);return rK(l,u)}),n=a=>{const c=_b(a);return Object.assign(Object.assign({},c),{signTransaction:l=>Gl(void 0,void 0,void 0,function*(){return e(l,c.privateKey)})})},r=(a,c,l)=>Gl(void 0,void 0,void 0,function*(){var u;const d=yield aK(a,c,(u=l?.nonStrict)!==null&&u!==void 0?u:!0);return Object.assign(Object.assign({},d),{signTransaction:f=>Gl(void 0,void 0,void 0,function*(){return e(f,d.privateKey)})})}),s=()=>{const a=oK();return Object.assign(Object.assign({},a),{signTransaction:c=>Gl(void 0,void 0,void 0,function*(){return e(c,a.privateKey)})})},i=new Sm({create:s,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:s,privateKeyToAccount:n,decrypt:r,recoverTransaction:sK,hashMessage:bb,sign:KP,recover:$v,encrypt:YP,wallet:i,privateKeyToAddress:ag,parseAndValidatePrivateKey:El,privateKeyToPublicKey:iK}},bX={version:"4.16.0"};var _X=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},Hm;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(Hm||(Hm={}));const Ly=new Map,dR="web3:providersMapUpdated",EX=()=>_X(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(Hm.eip6963announceProvider,n=>{Ly.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(dR,{detail:Ly});window.dispatchEvent(r),t(Ly)}),window.dispatchEvent(new Event(Hm.eip6963requestProvider))})}),AX=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(dR,t)};class fs extends Qn{constructor(e=vX){var n;(xe(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!Em(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||Em(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},Zv),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const s=wX(this);this._wallet=s.wallet,this._accountProvider=s,this.utils=uP;const i=this;class a extends Xo{constructor(u,d,f,h,p){if(Di(d)&&Di(f))throw new TE("Should not provide options at both 2nd and 3rd parameters");let g,m={},y,v;if(!xe(d)&&typeof d!="object"&&typeof d!="string")throw new TE;if(typeof d=="string"&&(g=d),Di(d)?m=d:Di(f)?m=f:m={},d instanceof Qn?y=d:f instanceof Qn?y=f:h instanceof Qn?y=h:y=i.getContextObject(),p?v=p:Fs(f)?v=f:Fs(h)&&(v=h),super(u,g,m,y,v),super.subscribeToContextEvents(i),!xe(c)){const w=c.getTransactionMiddleware();xe(w)||super.setTransactionMiddleware(w)}}}const c=i.use(fg);this.eth=Object.assign(c,{ens:i.use(cR,Mm.main),Iban:Bt,net:i.use(sI),personal:i.use(lR),Contract:a,abi:xX,accounts:s})}}fs.version=bX.version;fs.utils=uP;fs.requestEIP6963Providers=EX;fs.onNewProviderDiscovered=AX;fs.modules={Web3Eth:fg,Iban:Bt,Net:sI,ENS:cR,Personal:lR};class SX{web3=null;contracts=new Map;currentNetwork="mainnet";async initializeWeb3(e){try{if(typeof window<"u"&&window.ethereum)this.web3=new fs(window.ethereum),console.log("Using wallet provider");else if(fs.givenProvider)this.web3=new fs(fs.givenProvider),console.log("Using Web3.givenProvider");else{const n=e?.rpcUrl||"http://localhost:8545";this.web3=new fs(n),console.log("Using custom RPC:",n)}return typeof window<"u"&&window.ethereum&&await window.ethereum.request({method:"eth_requestAccounts"}),this.web3}catch(n){throw console.error("Failed to initialize Web3:",n),new Error("Failed to connect to blockchain network")}}getWeb3(){if(!this.web3)throw new Error("Web3 not initialized. Call initializeWeb3() first.");return this.web3}createContract(e){if(!this.web3)throw new Error("Web3 not initialized");const{address:n,abi:r}=e,s=new this.web3.eth.Contract(r,n),i=`${n}_${this.currentNetwork}`;return this.contracts.set(i,s),console.log("Contract instance created:",{address:n,network:this.currentNetwork}),s}getContract(e){const n=`${e}_${this.currentNetwork}`;return this.contracts.get(n)||null}async getAccounts(){if(!this.web3)throw new Error("Web3 not initialized");return await this.web3.eth.getAccounts()}async getNetworkId(){if(!this.web3)throw new Error("Web3 not initialized");const e=await this.web3.eth.net.getId();return Number(e)}async getBalance(e){if(!this.web3)throw new Error("Web3 not initialized");const n=await this.web3.eth.getBalance(e);return this.web3.utils.fromWei(n,"ether")}async callContractMethod(e,n,r=[]){const s=this.getContract(e);if(!s)throw new Error("Contract not found. Create contract instance first.");return await s.methods[n](...r).call()}async sendContractTransaction(e,n,r=[],s={from:""}){const i=this.getContract(e);if(!i)throw new Error("Contract not found. Create contract instance first.");if(!s.from){const a=await this.getAccounts();if(a.length===0)throw new Error("No accounts available");s.from=a[0]}return await i.methods[n](...r).send(s)}subscribeToEvent(e,n,r,s={}){const i=this.getContract(e);if(!i)throw new Error("Contract not found. Create contract instance first.");const a=i.events[n](s);return a.on("data",r),a.on("error",console.error),a}async switchNetwork(e){if(typeof window<"u"&&window.ethereum)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:this.web3?.utils.toHex(e)}]}),this.currentNetwork=e}catch(n){throw console.error("Failed to switch network:",n),n}}async isWalletConnected(){try{return(await this.getAccounts()).length>0}catch{return!1}}}const Ps=new SX,fR=()=>{const[t,e]=x.useState(null),[n,r]=x.useState([]),[s,i]=x.useState(null),[a,c]=x.useState(!1),[l,u]=x.useState(!1),{toast:d}=ze(),f=x.useCallback(async v=>{u(!0);try{const w=await Ps.initializeWeb3({rpcUrl:v});e(w);const b=await Ps.getAccounts();r(b);const _=await Ps.getNetworkId();i(_);const E=await Ps.isWalletConnected();c(E),d({title:"Wallet Connected",description:`Connected to network ${_} with ${b.length} account(s)`}),console.log("Web3 connected:",{accounts:b,networkId:_})}catch(w){console.error("Web3 connection error:",w),d({title:"Connection Failed",description:w instanceof Error?w.message:"Failed to connect to Web3",variant:"destructive"})}finally{u(!1)}},[d]),h=x.useCallback(v=>{try{return Ps.createContract(v)}catch(w){return console.error("Contract creation error:",w),d({title:"Contract Error",description:w instanceof Error?w.message:"Failed to create contract",variant:"destructive"}),null}},[d]),p=x.useCallback(async v=>{try{return await Ps.getBalance(v)}catch(w){return console.error("Balance fetch error:",w),d({title:"Balance Error",description:w instanceof Error?w.message:"Failed to get balance",variant:"destructive"}),"0"}},[d]),g=x.useCallback(async(v,w,b=[])=>{try{return await Ps.callContractMethod(v,w,b)}catch(_){throw console.error("Contract call error:",_),d({title:"Contract Call Failed",description:_ instanceof Error?_.message:"Failed to call contract method",variant:"destructive"}),_}},[d]),m=x.useCallback(async(v,w,b=[],_={})=>{try{const E={from:_.from||(n.length>0?n[0]:""),value:_.value,gas:_.gas};if(!E.from)throw new Error("No account available for transaction");return await Ps.sendContractTransaction(v,w,b,E)}catch(E){throw console.error("Transaction error:",E),d({title:"Transaction Failed",description:E instanceof Error?E.message:"Failed to send transaction",variant:"destructive"}),E}},[n,d]),y=x.useCallback(async v=>{try{await Ps.switchNetwork(v),d({title:"Network Switched",description:`Switched to network ${v}`})}catch(w){console.error("Network switch error:",w),d({title:"Network Switch Failed",description:w instanceof Error?w.message:"Failed to switch network",variant:"destructive"})}},[d]);return x.useEffect(()=>{if(typeof window<"u"&&window.ethereum){const v=b=>{r(b),c(b.length>0)},w=b=>{i(parseInt(b,16)),window.location.reload()};return window.ethereum.on("accountsChanged",v),window.ethereum.on("chainChanged",w),()=>{window.ethereum.removeListener("accountsChanged",v),window.ethereum.removeListener("chainChanged",w)}}},[]),{web3:t,accounts:n,networkId:s,isConnected:a,isLoading:l,connectWallet:f,createContract:h,getBalance:p,callContractMethod:g,sendContractTransaction:m,switchNetwork:y}},jX=[{id:"metamask",name:"MetaMask",icon:""},{id:"walletconnect",name:"WalletConnect",icon:""},{id:"coinbase",name:"Coinbase Wallet",icon:""},{id:"web3",name:"Web3 Direct",icon:""},{id:"custom",name:"Custom Address",icon:""}],NX=({selectedNetwork:t,onWalletConnect:e})=>{const[n,r]=x.useState(null),[s,i]=x.useState(""),[a,c]=x.useState(""),{toast:l}=ze(),{connectWallet:u,accounts:d,getBalance:f,isConnected:h,isLoading:p}=fR(),g=async m=>{if(m==="custom"){if(!s.trim()){l({title:"Error",description:"Please enter a valid address",variant:"destructive"});return}e({address:s,balance:"0.0000",network:t,connected:!0}),i("");return}if(m==="web3"){r(m);try{if(await u(a||void 0),d.length>0){const y=await f(d[0]),v={address:d[0],balance:y,network:t,connected:!0};e(v),l({title:"Web3 Connected",description:`Connected to ${d[0].slice(0,10)}...`})}}catch(y){console.error("Web3 connection failed:",y)}finally{r(null)}return}r(m),setTimeout(()=>{const y=`0x${Math.random().toString(16).substr(2,40)}`,v=(Math.random()*10).toFixed(4);e({address:y,balance:v,network:t,connected:!0}),r(null)},2e3)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:jX.filter(m=>m.id!=="custom").map(m=>o.jsxs(q,{variant:"outline",className:"h-16 flex flex-col gap-2 hover:bg-gray-50",onClick:()=>g(m.id),disabled:n===m.id||m.id==="web3"&&p,children:[o.jsx("span",{className:"text-2xl",children:m.icon}),o.jsx("span",{className:"text-sm",children:n===m.id||m.id==="web3"&&p?"Connecting...":m.name}),m.id==="web3"&&h&&o.jsx(E_,{className:"h-3 w-3 text-green-500"})]},m.id))}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(E_,{className:"h-4 w-4"}),"Web3 RPC Configuration"]}),o.jsx("div",{className:"flex gap-2 mb-4",children:o.jsx(ve,{placeholder:"RPC URL (optional - defaults to localhost:8545)",value:a,onChange:m=>c(m.target.value),className:"flex-1"})}),o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Leave empty to use wallet provider or default to localhost:8545"})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(pp,{className:"h-4 w-4"}),"Connect Custom Address"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{placeholder:"Enter wallet address (0x...)",value:s,onChange:m=>i(m.target.value),className:"flex-1"}),o.jsxs(q,{onClick:()=>g("custom"),disabled:!s.trim(),children:[o.jsx(so,{className:"h-4 w-4 mr-2"}),"Connect"]})]})]})]})},CX=({wallets:t,onDisconnect:e})=>{const n=s=>({ethereum:"bg-blue-500",bitcoin:"bg-orange-500",polygon:"bg-purple-500",binance:"bg-yellow-500",avalanche:"bg-red-500",solana:"bg-green-500"})[s]||"bg-gray-500",r=s=>`${s.slice(0,6)}...${s.slice(-4)}`;return o.jsxs(V,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-5 w-5"}),"Connected Wallets"]})}),o.jsxs(G,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((s,i)=>o.jsx(V,{className:"border border-gray-200",children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(et,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${n(s.network)}`}),s.network]}),o.jsx(pp,{className:"h-3 w-3 text-green-500 fill-current"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),o.jsx("p",{className:"font-mono text-sm",children:r(s.address)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Balance"}),o.jsx("p",{className:"text-lg font-semibold",children:s.balance})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(s.address)},children:"Copy"}),o.jsx(q,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>e(s.address),children:"Disconnect"})]})]})})},`${s.address}-${i}`))}),t.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(so,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No wallets connected yet"})]})]})]})},Fy=[{id:"ethereum",name:"Ethereum",symbol:"ETH",color:"bg-blue-500"},{id:"bitcoin",name:"Bitcoin",symbol:"BTC",color:"bg-orange-500"},{id:"polygon",name:"Polygon",symbol:"MATIC",color:"bg-purple-500"},{id:"binance",name:"Binance Smart Chain",symbol:"BNB",color:"bg-yellow-500"},{id:"avalanche",name:"Avalanche",symbol:"AVAX",color:"bg-red-500"},{id:"solana",name:"Solana",symbol:"SOL",color:"bg-green-500"}],kX=({selectedNetwork:t,onNetworkChange:e})=>{const n=Fy.find(r=>r.id===t);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Ki,{value:t,onValueChange:e,children:[o.jsx(qs,{className:"w-64",children:o.jsx(Yi,{placeholder:"Select network"})}),o.jsx(Qs,{children:Fy.map(r=>o.jsx(Pt,{value:r.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${r.color}`}),r.name," (",r.symbol,")"]})},r.id))})]}),n&&o.jsxs(et,{variant:"secondary",className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${n.color}`}),n.name]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:Fy.map(r=>o.jsxs("button",{onClick:()=>e(r.id),className:`p-3 rounded-lg border-2 transition-all ${t===r.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:`w-4 h-4 rounded-full ${r.color} mx-auto mb-1`}),o.jsx("p",{className:"text-xs font-medium",children:r.symbol})]},r.id))})]})},pg=x.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));pg.displayName="Textarea";const TX=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState(""),[a,c]=x.useState(""),[l,u]=x.useState(null),[d,f]=x.useState(!1),{createContract:h,callContractMethod:p,sendContractTransaction:g,accounts:m,isConnected:y}=fR(),{toast:v}=ze(),w=()=>{try{const _=JSON.parse(n);h({address:t,abi:_})&&v({title:"Contract Created",description:`Contract instance created for ${t}`})}catch{v({title:"Invalid ABI",description:"Please provide a valid JSON ABI",variant:"destructive"})}},b=async(_=!0)=>{if(!t||!s){v({title:"Missing Information",description:"Please provide contract address and method name",variant:"destructive"});return}f(!0);try{const E=a?JSON.parse(a):[];let S;if(_)S=await p(t,s,E);else{if(!y||m.length===0)throw new Error("Wallet not connected");S=await g(t,s,E)}u(S),v({title:`Method ${_?"Called":"Executed"}`,description:`${s} executed successfully`})}catch(E){console.error("Contract method error:",E),v({title:"Method Failed",description:E instanceof Error?E.message:"Failed to execute method",variant:"destructive"})}finally{f(!1)}};return o.jsxs(V,{className:"w-full",children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(VN,{className:"h-5 w-5"}),"Smart Contract Interaction"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Contract Address"}),o.jsx(ve,{placeholder:"0x...",value:t,onChange:_=>e(_.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Contract ABI (JSON)"}),o.jsx(pg,{placeholder:'[{"inputs":[],"name":"balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]',value:n,onChange:_=>r(_.target.value),rows:4}),o.jsx(q,{onClick:w,variant:"outline",size:"sm",children:"Create Contract Instance"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method Name"}),o.jsx(ve,{placeholder:"balances",value:s,onChange:_=>i(_.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method Parameters (JSON Array)"}),o.jsx(ve,{placeholder:'["0x123..."]',value:a,onChange:_=>c(_.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(q,{onClick:()=>b(!0),disabled:d,variant:"outline",children:[o.jsx(WN,{className:"h-4 w-4 mr-2"}),d?"Calling...":"Call (Read)"]}),o.jsxs(q,{onClick:()=>b(!1),disabled:d||!y,children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Transaction"]})]}),l&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Result"}),o.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:o.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(l,null,2)})})]}),!y&&o.jsx("div",{className:"text-sm text-muted-foreground bg-yellow-50 p-3 rounded-md",children:"Connect your wallet to send transactions"})]})]})},PX=()=>{const[t,e]=x.useState([]),[n,r]=x.useState("ethereum"),{toast:s}=ze(),i=c=>{e(l=>[...l,c]),s({title:"Wallet Connected",description:`Successfully connected to ${c.network}`})},a=c=>{e(l=>l.filter(u=>u.address!==c)),s({title:"Wallet Disconnected",description:"Wallet has been disconnected"})};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(V,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(G,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Connected Wallets"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),o.jsx(so,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(V,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(G,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Active Networks"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:new Set(t.map(c=>c.network)).size})]}),o.jsx(pp,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(V,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(G,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Security Status"}),o.jsx("p",{className:"text-lg font-semibold text-purple-600",children:"Protected"})]}),o.jsx(cn,{className:"h-8 w-8 text-purple-500"})]})})})]}),o.jsxs(V,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(tr,{className:"h-5 w-5"}),"Network Configuration"]})}),o.jsx(G,{children:o.jsx(kX,{selectedNetwork:n,onNetworkChange:r})})]}),o.jsxs(V,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(so,{className:"h-5 w-5"}),"Connect Wallet"]})}),o.jsx(G,{children:o.jsx(NX,{selectedNetwork:n,onWalletConnect:i})})]}),o.jsx(TX,{}),t.length>0&&o.jsx(CX,{wallets:t,onDisconnect:a})]})},IX=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"Decentralized Wallet Hub"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Connect, manage, and interact with multiple blockchain networks through a unified interface"})]}),o.jsx(PX,{})]})}),RX=Md("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hR=x.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:he(RX({variant:e}),t),...n}));hR.displayName="Alert";const OX=x.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:he("mb-1 font-medium leading-none tracking-tight",t),...e}));OX.displayName="AlertTitle";const mR=x.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:he("text-sm [&_p]:leading-relaxed",t),...e}));mR.displayName="AlertDescription";class MX{async createBankAccount(e){try{console.log("Creating bank account via service");const{data:n,error:r}=await ue.functions.invoke("create-bank-account",{body:e});if(r)throw new Error(r.message||"Failed to create bank account");return n}catch(n){throw console.error("Bank Account Creation Error:",n),n}}async updateBankAccount(e){try{console.log("Updating bank account via service");const{data:n,error:r}=await ue.functions.invoke("update-bank-account",{body:e});if(r)throw new Error(r.message||"Failed to update bank account");return n}catch(n){throw console.error("Bank Account Update Error:",n),n}}async verifyBankAccount(e){try{console.log("Verifying bank account:",e.bankAccountId);const{data:n,error:r}=await ue.functions.invoke("verify-bank-account",{body:e});if(r)throw new Error(r.message||"Failed to verify bank account");return n}catch(n){throw console.error("Bank Account Verification Error:",n),n}}async processSecureDeposit(e){try{console.log("Processing secure deposit:",e);const{data:n,error:r}=await ue.functions.invoke("process-secure-deposit",{body:e});if(r)throw new Error(r.message||"Failed to process secure deposit");return n}catch(n){throw console.error("Secure Deposit Error:",n),n}}async getUserBankAccounts(){try{const{data:e,error:n}=await ue.from("user_bank_accounts").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Database error:",n),new Error(n.message);return e||[]}catch(e){throw console.error("Get Bank Accounts Error:",e),e}}async getBankAccountAuditLog(e){try{let n=ue.from("bank_account_audit_log").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("bank_account_id",e));const{data:r,error:s}=await n;if(s)throw console.error("Audit log error:",s),new Error(s.message);return r||[]}catch(n){throw console.error("Get Audit Log Error:",n),n}}}const Nc=new MX;var Jd=t=>t.type==="checkbox",Go=t=>t instanceof Date,An=t=>t==null;const pR=t=>typeof t=="object";var Ot=t=>!An(t)&&!Array.isArray(t)&&pR(t)&&!Go(t),gR=t=>Ot(t)&&t.target?Jd(t.target)?t.target.checked:t.target.value:t,BX=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,yR=(t,e)=>t.has(BX(e)),DX=t=>{const e=t.constructor&&t.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},Hb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Hb&&(t instanceof Blob||t instanceof FileList))&&(n||Ot(t)))if(e=n?[]:{},!n&&!DX(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Fn(t[r]));else return t;return e}var gg=t=>Array.isArray(t)?t.filter(Boolean):[],kt=t=>t===void 0,ne=(t,e,n)=>{if(!e||!Ot(t))return n;const r=gg(e.split(/[,[\].]+?/)).reduce((s,i)=>An(s)?s:s[i],t);return kt(r)||r===t?kt(t[e])?n:t[e]:r},wr=t=>typeof t=="boolean",zb=t=>/^\w*$/.test(t),vR=t=>gg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(t,e,n)=>{let r=-1;const s=zb(e)?[e]:vR(e),i=s.length,a=i-1;for(;++r<i;){const c=s[r];let l=n;if(r!==a){const u=t[c];l=Ot(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(c==="__proto__")return;t[c]=l,t=t[c]}return t};const zm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xR=O.createContext(null),yg=()=>O.useContext(xR),LX=t=>{const{children:e,...n}=t;return O.createElement(xR.Provider,{value:n},e)};var wR=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Fr.all&&(e._proxyFormState[a]=!r||Fr.all),n&&(n[a]=!0),t[a]}});return s},Un=t=>Ot(t)&&!Object.keys(t).length,bR=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Un(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Fr.all))},ju=t=>Array.isArray(t)?t:[t],_R=(t,e,n)=>!t||!e||t===e||ju(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Vb(t){const e=O.useRef(t);e.current=t,O.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function FX(t){const e=yg(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,c]=O.useState(n._formState),l=O.useRef(!0),u=O.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=O.useRef(s);return d.current=s,Vb({disabled:r,next:f=>l.current&&_R(d.current,f.name,i)&&bR(f,u.current,n._updateFormState)&&c({...n._formState,...f}),subject:n._subjects.state}),O.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),wR(a,n,u.current,!1)}var ms=t=>typeof t=="string",ER=(t,e,n,r,s)=>ms(t)?(r&&e.watch.add(t),ne(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ne(n,i))):(r&&(e.watchAll=!0),n);function UX(t){const e=yg(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a}=t||{},c=O.useRef(r);c.current=r,Vb({disabled:i,subject:n._subjects.values,next:d=>{_R(c.current,d.name,a)&&u(Fn(ER(c.current,n._names,d.values||n._formValues,!1,s)))}});const[l,u]=O.useState(n._getWatch(r,s));return O.useEffect(()=>n._removeUnmounted()),l}function $X(t){const e=yg(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,a=yR(s._names.array,n),c=UX({control:s,name:n,defaultValue:ne(s._formValues,n,ne(s._defaultValues,n,t.defaultValue)),exact:!0}),l=FX({control:s,name:n,exact:!0}),u=O.useRef(s.register(n,{...t.rules,value:c,...wr(t.disabled)?{disabled:t.disabled}:{}}));return O.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(h,p)=>{const g=ne(s._fields,h);g&&g._f&&(g._f.mount=p)};if(f(n,!0),d){const h=Fn(ne(s._options.defaultValues,n));rt(s._defaultValues,n,h),kt(ne(s._formValues,n))&&rt(s._formValues,n,h)}return()=>{(a?d&&!s._state.action:d)?s.unregister(n):f(n,!1)}},[n,s,a,i]),O.useEffect(()=>{ne(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:ne(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:c,...wr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:O.useCallback(d=>u.current.onChange({target:{value:gR(d),name:n},type:zm.CHANGE}),[n]),onBlur:O.useCallback(()=>u.current.onBlur({target:{value:ne(s._formValues,n),name:n},type:zm.BLUR}),[n,s]),ref:O.useCallback(d=>{const f=ne(s._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ne(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ne(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ne(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ne(l.validatingFields,n)},error:{enumerable:!0,get:()=>ne(l.errors,n)}})}}const HX=t=>t.render($X(t));var zX=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},MA=t=>({isOnSubmit:!t||t===Fr.onSubmit,isOnBlur:t===Fr.onBlur,isOnChange:t===Fr.onChange,isOnAll:t===Fr.all,isOnTouch:t===Fr.onTouched}),BA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Nu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ne(t,s);if(i){const{_f:a,...c}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Nu(c,e))break}else if(Ot(c)&&Nu(c,e))break}}};var VX=(t,e,n)=>{const r=ju(ne(t,n));return rt(r,"root",e[n]),rt(t,n,r),t},Gb=t=>t.type==="file",Gs=t=>typeof t=="function",Vm=t=>{if(!Hb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},uh=t=>ms(t),Wb=t=>t.type==="radio",Gm=t=>t instanceof RegExp;const DA={value:!1,isValid:!1},LA={value:!0,isValid:!0};var AR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!kt(t[0].attributes.value)?kt(t[0].value)||t[0].value===""?LA:{value:t[0].value,isValid:!0}:LA:DA}return DA};const FA={isValid:!1,value:null};var SR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,FA):FA;function UA(t,e,n="validate"){if(uh(t)||Array.isArray(t)&&t.every(uh)||wr(t)&&!t)return{type:n,message:uh(t)?t:"",ref:e}}var Va=t=>Ot(t)&&!Gm(t)?t:{value:t,message:""},$A=async(t,e,n,r,s)=>{const{ref:i,refs:a,required:c,maxLength:l,minLength:u,min:d,max:f,pattern:h,validate:p,name:g,valueAsNumber:m,mount:y,disabled:v}=t._f,w=ne(e,g);if(!y||v)return{};const b=a?a[0]:i,_=I=>{r&&b.reportValidity&&(b.setCustomValidity(wr(I)?"":I||""),b.reportValidity())},E={},S=Wb(i),N=Jd(i),j=S||N,L=(m||Gb(i))&&kt(i.value)&&kt(w)||Vm(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,T=zX.bind(null,g,n,E),R=(I,H,F,A=Is.maxLength,C=Is.minLength)=>{const B=I?H:F;E[g]={type:I?A:C,message:B,ref:i,...T(I?A:C,B)}};if(s?!Array.isArray(w)||!w.length:c&&(!j&&(L||An(w))||wr(w)&&!w||N&&!AR(a).isValid||S&&!SR(a).isValid)){const{value:I,message:H}=uh(c)?{value:!!c,message:c}:Va(c);if(I&&(E[g]={type:Is.required,message:H,ref:b,...T(Is.required,H)},!n))return _(H),E}if(!L&&(!An(d)||!An(f))){let I,H;const F=Va(f),A=Va(d);if(!An(w)&&!isNaN(w)){const C=i.valueAsNumber||w&&+w;An(F.value)||(I=C>F.value),An(A.value)||(H=C<A.value)}else{const C=i.valueAsDate||new Date(w),B=$=>new Date(new Date().toDateString()+" "+$),k=i.type=="time",M=i.type=="week";ms(F.value)&&w&&(I=k?B(w)>B(F.value):M?w>F.value:C>new Date(F.value)),ms(A.value)&&w&&(H=k?B(w)<B(A.value):M?w<A.value:C<new Date(A.value))}if((I||H)&&(R(!!I,F.message,A.message,Is.max,Is.min),!n))return _(E[g].message),E}if((l||u)&&!L&&(ms(w)||s&&Array.isArray(w))){const I=Va(l),H=Va(u),F=!An(I.value)&&w.length>+I.value,A=!An(H.value)&&w.length<+H.value;if((F||A)&&(R(F,I.message,H.message),!n))return _(E[g].message),E}if(h&&!L&&ms(w)){const{value:I,message:H}=Va(h);if(Gm(I)&&!w.match(I)&&(E[g]={type:Is.pattern,message:H,ref:i,...T(Is.pattern,H)},!n))return _(H),E}if(p){if(Gs(p)){const I=await p(w,e),H=UA(I,b);if(H&&(E[g]={...H,...T(Is.validate,H.message)},!n))return _(H.message),E}else if(Ot(p)){let I={};for(const H in p){if(!Un(I)&&!n)break;const F=UA(await p[H](w,e),b,H);F&&(I={...F,...T(H,F.message)},_(F.message),n&&(E[g]=I))}if(!Un(I)&&(E[g]={ref:b,...I},!n))return E}}return _(!0),E};function GX(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=kt(t)?r++:t[e[r++]];return t}function WX(t){for(const e in t)if(t.hasOwnProperty(e)&&!kt(t[e]))return!1;return!0}function zt(t,e){const n=Array.isArray(e)?e:zb(e)?[e]:vR(e),r=n.length===1?t:GX(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ot(r)&&Un(r)||Array.isArray(r)&&WX(r))&&zt(t,n.slice(0,-1)),t}var Uy=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},ix=t=>An(t)||!pR(t);function Ri(t,e){if(ix(t)||ix(e))return t===e;if(Go(t)&&Go(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Go(i)&&Go(a)||Ot(i)&&Ot(a)||Array.isArray(i)&&Array.isArray(a)?!Ri(i,a):i!==a)return!1}}return!0}var jR=t=>t.type==="select-multiple",qX=t=>Wb(t)||Jd(t),$y=t=>Vm(t)&&t.isConnected,NR=t=>{for(const e in t)if(Gs(t[e]))return!0;return!1};function Wm(t,e={}){const n=Array.isArray(t);if(Ot(t)||n)for(const r in t)Array.isArray(t[r])||Ot(t[r])&&!NR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Wm(t[r],e[r])):An(t[r])||(e[r]=!0);return e}function CR(t,e,n){const r=Array.isArray(t);if(Ot(t)||r)for(const s in t)Array.isArray(t[s])||Ot(t[s])&&!NR(t[s])?kt(e)||ix(n[s])?n[s]=Array.isArray(t[s])?Wm(t[s],[]):{...Wm(t[s])}:CR(t[s],An(e)?{}:e[s],n[s]):n[s]=!Ri(t[s],e[s]);return n}var Wl=(t,e)=>CR(t,e,Wm(e)),kR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>kt(t)?t:e?t===""?NaN:t&&+t:n&&ms(t)?new Date(t):r?r(t):t;function Hy(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Gb(e)?e.files:Wb(e)?SR(t.refs).value:jR(e)?[...e.selectedOptions].map(({value:n})=>n):Jd(e)?AR(t.refs).value:kR(kt(e.value)?t.ref.value:e.value,t)}var QX=(t,e,n,r)=>{const s={};for(const i of t){const a=ne(e,i);a&&rt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},ql=t=>kt(t)?t:Gm(t)?t.source:Ot(t)?Gm(t.value)?t.value.source:t.value:t;const HA="AsyncFunction";var KX=t=>(!t||!t.validate)&&!!(Gs(t.validate)&&t.validate.constructor.name===HA||Ot(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===HA)),YX=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function zA(t,e,n){const r=ne(t,n);if(r||zb(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=ne(e,i),c=ne(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(c&&c.type)return{name:i,error:c};s.pop()}return{name:n}}var JX=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,ZX=(t,e)=>!gg(ne(t,e)).length&&zt(t,e);const XX={mode:Fr.onSubmit,reValidateMode:Fr.onChange,shouldFocusError:!0};function eee(t={}){let e={...XX,...t},n={submitCount:0,isDirty:!1,isLoading:Gs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ot(e.defaultValues)||Ot(e.values)?Fn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Fn(s),a={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Uy(),array:Uy(),state:Uy()},h=MA(e.mode),p=MA(e.reValidateMode),g=e.criteriaMode===Fr.all,m=P=>D=>{clearTimeout(u),u=setTimeout(P,D)},y=async P=>{if(!t.disabled&&(d.isValid||P)){const D=e.resolver?Un((await j()).errors):await T(r,!0);D!==n.isValid&&f.state.next({isValid:D})}},v=(P,D)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((P||Array.from(c.mount)).forEach(z=>{z&&(D?rt(n.validatingFields,z,D):zt(n.validatingFields,z))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Un(n.validatingFields)}))},w=(P,D=[],z,re,te=!0,J=!0)=>{if(re&&z&&!t.disabled){if(a.action=!0,J&&Array.isArray(ne(r,P))){const ge=z(ne(r,P),re.argA,re.argB);te&&rt(r,P,ge)}if(J&&Array.isArray(ne(n.errors,P))){const ge=z(ne(n.errors,P),re.argA,re.argB);te&&rt(n.errors,P,ge),ZX(n.errors,P)}if(d.touchedFields&&J&&Array.isArray(ne(n.touchedFields,P))){const ge=z(ne(n.touchedFields,P),re.argA,re.argB);te&&rt(n.touchedFields,P,ge)}d.dirtyFields&&(n.dirtyFields=Wl(s,i)),f.state.next({name:P,isDirty:I(P,D),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rt(i,P,D)},b=(P,D)=>{rt(n.errors,P,D),f.state.next({errors:n.errors})},_=P=>{n.errors=P,f.state.next({errors:n.errors,isValid:!1})},E=(P,D,z,re)=>{const te=ne(r,P);if(te){const J=ne(i,P,kt(z)?ne(s,P):z);kt(J)||re&&re.defaultChecked||D?rt(i,P,D?J:Hy(te._f)):A(P,J),a.mount&&y()}},S=(P,D,z,re,te)=>{let J=!1,ge=!1;const Pe={name:P};if(!t.disabled){const jt=!!(ne(r,P)&&ne(r,P)._f&&ne(r,P)._f.disabled);if(!z||re){d.isDirty&&(ge=n.isDirty,n.isDirty=Pe.isDirty=I(),J=ge!==Pe.isDirty);const ut=jt||Ri(ne(s,P),D);ge=!!(!jt&&ne(n.dirtyFields,P)),ut||jt?zt(n.dirtyFields,P):rt(n.dirtyFields,P,!0),Pe.dirtyFields=n.dirtyFields,J=J||d.dirtyFields&&ge!==!ut}if(z){const ut=ne(n.touchedFields,P);ut||(rt(n.touchedFields,P,z),Pe.touchedFields=n.touchedFields,J=J||d.touchedFields&&ut!==z)}J&&te&&f.state.next(Pe)}return J?Pe:{}},N=(P,D,z,re)=>{const te=ne(n.errors,P),J=d.isValid&&wr(D)&&n.isValid!==D;if(t.delayError&&z?(l=m(()=>b(P,z)),l(t.delayError)):(clearTimeout(u),l=null,z?rt(n.errors,P,z):zt(n.errors,P)),(z?!Ri(te,z):te)||!Un(re)||J){const ge={...re,...J&&wr(D)?{isValid:D}:{},errors:n.errors,name:P};n={...n,...ge},f.state.next(ge)}},j=async P=>{v(P,!0);const D=await e.resolver(i,e.context,QX(P||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(P),D},L=async P=>{const{errors:D}=await j(P);if(P)for(const z of P){const re=ne(D,z);re?rt(n.errors,z,re):zt(n.errors,z)}else n.errors=D;return D},T=async(P,D,z={valid:!0})=>{for(const re in P){const te=P[re];if(te){const{_f:J,...ge}=te;if(J){const Pe=c.array.has(J.name),jt=te._f&&KX(te._f);jt&&d.validatingFields&&v([re],!0);const ut=await $A(te,i,g,e.shouldUseNativeValidation&&!D,Pe);if(jt&&d.validatingFields&&v([re]),ut[J.name]&&(z.valid=!1,D))break;!D&&(ne(ut,J.name)?Pe?VX(n.errors,ut,J.name):rt(n.errors,J.name,ut[J.name]):zt(n.errors,J.name))}!Un(ge)&&await T(ge,D,z)}}return z.valid},R=()=>{for(const P of c.unMount){const D=ne(r,P);D&&(D._f.refs?D._f.refs.every(z=>!$y(z)):!$y(D._f.ref))&&Ne(P)}c.unMount=new Set},I=(P,D)=>!t.disabled&&(P&&D&&rt(i,P,D),!Ri(W(),s)),H=(P,D,z)=>ER(P,c,{...a.mount?i:kt(D)?s:ms(P)?{[P]:D}:D},z,D),F=P=>gg(ne(a.mount?i:s,P,t.shouldUnregister?ne(s,P,[]):[])),A=(P,D,z={})=>{const re=ne(r,P);let te=D;if(re){const J=re._f;J&&(!J.disabled&&rt(i,P,kR(D,J)),te=Vm(J.ref)&&An(D)?"":D,jR(J.ref)?[...J.ref.options].forEach(ge=>ge.selected=te.includes(ge.value)):J.refs?Jd(J.ref)?J.refs.length>1?J.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(te)?!!te.find(Pe=>Pe===ge.value):te===ge.value)):J.refs[0]&&(J.refs[0].checked=!!te):J.refs.forEach(ge=>ge.checked=ge.value===te):Gb(J.ref)?J.ref.value="":(J.ref.value=te,J.ref.type||f.values.next({name:P,values:{...i}})))}(z.shouldDirty||z.shouldTouch)&&S(P,te,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&$(P)},C=(P,D,z)=>{for(const re in D){const te=D[re],J=`${P}.${re}`,ge=ne(r,J);(c.array.has(P)||Ot(te)||ge&&!ge._f)&&!Go(te)?C(J,te,z):A(J,te,z)}},B=(P,D,z={})=>{const re=ne(r,P),te=c.array.has(P),J=Fn(D);rt(i,P,J),te?(f.array.next({name:P,values:{...i}}),(d.isDirty||d.dirtyFields)&&z.shouldDirty&&f.state.next({name:P,dirtyFields:Wl(s,i),isDirty:I(P,J)})):re&&!re._f&&!An(J)?C(P,J,z):A(P,J,z),BA(P,c)&&f.state.next({...n}),f.values.next({name:a.mount?P:void 0,values:{...i}})},k=async P=>{a.mount=!0;const D=P.target;let z=D.name,re=!0;const te=ne(r,z),J=()=>D.type?Hy(te._f):gR(P),ge=Pe=>{re=Number.isNaN(Pe)||Go(Pe)&&isNaN(Pe.getTime())||Ri(Pe,ne(i,z,Pe))};if(te){let Pe,jt;const ut=J(),Jr=P.type===zm.BLUR||P.type===zm.FOCUS_OUT,pi=!YX(te._f)&&!e.resolver&&!ne(n.errors,z)&&!te._f.deps||JX(Jr,ne(n.touchedFields,z),n.isSubmitted,p,h),ka=BA(z,c,Jr);rt(i,z,ut),Jr?(te._f.onBlur&&te._f.onBlur(P),l&&l(0)):te._f.onChange&&te._f.onChange(P);const Nl=S(z,ut,Jr,!1),Zd=!Un(Nl)||ka;if(!Jr&&f.values.next({name:z,type:P.type,values:{...i}}),pi)return d.isValid&&(t.mode==="onBlur"?Jr&&y():y()),Zd&&f.state.next({name:z,...ka?{}:Nl});if(!Jr&&ka&&f.state.next({...n}),e.resolver){const{errors:Cl}=await j([z]);if(ge(ut),re){const _g=zA(n.errors,r,z),Ta=zA(Cl,r,_g.name||z);Pe=Ta.error,z=Ta.name,jt=Un(Cl)}}else v([z],!0),Pe=(await $A(te,i,g,e.shouldUseNativeValidation))[z],v([z]),ge(ut),re&&(Pe?jt=!1:d.isValid&&(jt=await T(r,!0)));re&&(te._f.deps&&$(te._f.deps),N(z,jt,Pe,Nl))}},M=(P,D)=>{if(ne(n.errors,D)&&P.focus)return P.focus(),1},$=async(P,D={})=>{let z,re;const te=ju(P);if(e.resolver){const J=await L(kt(P)?P:te);z=Un(J),re=P?!te.some(ge=>ne(J,ge)):z}else P?(re=(await Promise.all(te.map(async J=>{const ge=ne(r,J);return await T(ge&&ge._f?{[J]:ge}:ge)}))).every(Boolean),!(!re&&!n.isValid)&&y()):re=z=await T(r);return f.state.next({...!ms(P)||d.isValid&&z!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:z}:{},errors:n.errors}),D.shouldFocus&&!re&&Nu(r,M,P?te:c.mount),re},W=P=>{const D={...a.mount?i:s};return kt(P)?D:ms(P)?ne(D,P):P.map(z=>ne(D,z))},ee=(P,D)=>({invalid:!!ne((D||n).errors,P),isDirty:!!ne((D||n).dirtyFields,P),error:ne((D||n).errors,P),isValidating:!!ne(n.validatingFields,P),isTouched:!!ne((D||n).touchedFields,P)}),fe=P=>{P&&ju(P).forEach(D=>zt(n.errors,D)),f.state.next({errors:P?n.errors:{}})},le=(P,D,z)=>{const re=(ne(r,P,{_f:{}})._f||{}).ref,te=ne(n.errors,P)||{},{ref:J,message:ge,type:Pe,...jt}=te;rt(n.errors,P,{...jt,...D,ref:re}),f.state.next({name:P,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&re&&re.focus&&re.focus()},Le=(P,D)=>Gs(P)?f.values.subscribe({next:z=>P(H(void 0,D),z)}):H(P,D,!0),Ne=(P,D={})=>{for(const z of P?ju(P):c.mount)c.mount.delete(z),c.array.delete(z),D.keepValue||(zt(r,z),zt(i,z)),!D.keepError&&zt(n.errors,z),!D.keepDirty&&zt(n.dirtyFields,z),!D.keepTouched&&zt(n.touchedFields,z),!D.keepIsValidating&&zt(n.validatingFields,z),!e.shouldUnregister&&!D.keepDefaultValue&&zt(s,z);f.values.next({values:{...i}}),f.state.next({...n,...D.keepDirty?{isDirty:I()}:{}}),!D.keepIsValid&&y()},ae=({disabled:P,name:D,field:z,fields:re,value:te})=>{if(wr(P)&&a.mount||P){const J=P?void 0:kt(te)?Hy(z?z._f:ne(re,D)._f):te;rt(i,D,J),S(D,J,!1,!1,!0)}},Ve=(P,D={})=>{let z=ne(r,P);const re=wr(D.disabled)||wr(t.disabled);return rt(r,P,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:P}},name:P,mount:!0,...D}}),c.mount.add(P),z?ae({field:z,disabled:wr(D.disabled)?D.disabled:t.disabled,name:P,value:D.value}):E(P,!0,D.value),{...re?{disabled:D.disabled||t.disabled}:{},...e.progressive?{required:!!D.required,min:ql(D.min),max:ql(D.max),minLength:ql(D.minLength),maxLength:ql(D.maxLength),pattern:ql(D.pattern)}:{},name:P,onChange:k,onBlur:k,ref:te=>{if(te){Ve(P,D),z=ne(r,P);const J=kt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ge=qX(J),Pe=z._f.refs||[];if(ge?Pe.find(jt=>jt===J):J===z._f.ref)return;rt(r,P,{_f:{...z._f,...ge?{refs:[...Pe.filter($y),J,...Array.isArray(ne(s,P))?[{}]:[]],ref:{type:J.type,name:P}}:{ref:J}}}),E(P,!1,void 0,J)}else z=ne(r,P,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(yR(c.array,P)&&a.action)&&c.unMount.add(P)}}},Ke=()=>e.shouldFocusError&&Nu(r,M,c.mount),Oe=P=>{wr(P)&&(f.state.next({disabled:P}),Nu(r,(D,z)=>{const re=ne(r,z);re&&(D.disabled=re._f.disabled||P,Array.isArray(re._f.refs)&&re._f.refs.forEach(te=>{te.disabled=re._f.disabled||P}))},0,!1))},Ye=(P,D)=>async z=>{let re;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let te=Fn(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:ge}=await j();n.errors=J,te=ge}else await T(r);if(zt(n.errors,"root"),Un(n.errors)){f.state.next({errors:{}});try{await P(te,z)}catch(J){re=J}}else D&&await D({...n.errors},z),Ke(),setTimeout(Ke);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},Fe=(P,D={})=>{ne(r,P)&&(kt(D.defaultValue)?B(P,Fn(ne(s,P))):(B(P,D.defaultValue),rt(s,P,Fn(D.defaultValue))),D.keepTouched||zt(n.touchedFields,P),D.keepDirty||(zt(n.dirtyFields,P),n.isDirty=D.defaultValue?I(P,Fn(ne(s,P))):I()),D.keepError||(zt(n.errors,P),d.isValid&&y()),f.state.next({...n}))},pt=(P,D={})=>{const z=P?Fn(P):s,re=Fn(z),te=Un(P),J=te?s:re;if(D.keepDefaultValues||(s=z),!D.keepValues){if(D.keepDirtyValues){const ge=new Set([...c.mount,...Object.keys(Wl(s,i))]);for(const Pe of Array.from(ge))ne(n.dirtyFields,Pe)?rt(J,Pe,ne(i,Pe)):B(Pe,ne(J,Pe))}else{if(Hb&&kt(P))for(const ge of c.mount){const Pe=ne(r,ge);if(Pe&&Pe._f){const jt=Array.isArray(Pe._f.refs)?Pe._f.refs[0]:Pe._f.ref;if(Vm(jt)){const ut=jt.closest("form");if(ut){ut.reset();break}}}}r={}}i=t.shouldUnregister?D.keepDefaultValues?Fn(s):{}:Fn(J),f.array.next({values:{...J}}),f.values.next({values:{...J}})}c={mount:D.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!D.keepIsValid||!!D.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:D.keepSubmitCount?n.submitCount:0,isDirty:te?!1:D.keepDirty?n.isDirty:!!(D.keepDefaultValues&&!Ri(P,s)),isSubmitted:D.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:D.keepDirtyValues?D.keepDefaultValues&&i?Wl(s,i):n.dirtyFields:D.keepDefaultValues&&P?Wl(s,P):D.keepDirty?n.dirtyFields:{},touchedFields:D.keepTouched?n.touchedFields:{},errors:D.keepErrors?n.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Kt=(P,D)=>pt(Gs(P)?P(i):P,D);return{control:{register:Ve,unregister:Ne,getFieldState:ee,handleSubmit:Ye,setError:le,_executeSchema:j,_getWatch:H,_getDirty:I,_updateValid:y,_removeUnmounted:R,_updateFieldArray:w,_updateDisabledField:ae,_getFieldArray:F,_reset:pt,_resetDefaultValues:()=>Gs(e.defaultValues)&&e.defaultValues().then(P=>{Kt(P,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:P=>{n={...n,...P}},_disableForm:Oe,_subjects:f,_proxyFormState:d,_setErrors:_,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(P){a=P},get _defaultValues(){return s},get _names(){return c},set _names(P){c=P},get _formState(){return n},set _formState(P){n=P},get _options(){return e},set _options(P){e={...e,...P}}},trigger:$,register:Ve,handleSubmit:Ye,watch:Le,setValue:B,getValues:W,reset:Kt,resetField:Fe,clearErrors:fe,unregister:Ne,setError:le,setFocus:(P,D={})=>{const z=ne(r,P),re=z&&z._f;if(re){const te=re.refs?re.refs[0]:re.ref;te.focus&&(te.focus(),D.shouldSelect&&te.select())}},getFieldState:ee}}function vg(t={}){const e=O.useRef(),n=O.useRef(),[r,s]=O.useState({isDirty:!1,isValidating:!1,isLoading:Gs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Gs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...eee(t),formState:r});const i=e.current.control;return i._options=t,Vb({subject:i._subjects.state,next:a=>{bR(a,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),O.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),O.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),O.useEffect(()=>{t.values&&!Ri(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),O.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),O.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),O.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),O.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=wR(r,i),e.current}const xg=LX,TR=x.createContext({}),Sn=({...t})=>o.jsx(TR.Provider,{value:{name:t.name},children:o.jsx(HX,{...t})}),wg=()=>{const t=x.useContext(TR),e=x.useContext(PR),{getFieldState:n,formState:r}=yg(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},PR=x.createContext({}),hn=x.forwardRef(({className:t,...e},n)=>{const r=x.useId();return o.jsx(PR.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:he("space-y-2",t),...e})})});hn.displayName="FormItem";const mn=x.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=wg();return o.jsx(Ae,{ref:n,className:he(r&&"text-destructive",t),htmlFor:s,...e})});mn.displayName="FormLabel";const pn=x.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=wg();return o.jsx(no,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});pn.displayName="FormControl";const tee=x.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=wg();return o.jsx("p",{ref:n,id:r,className:he("text-sm text-muted-foreground",t),...e})});tee.displayName="FormDescription";const Nn=x.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=wg(),a=s?String(s?.message):e;return a?o.jsx("p",{ref:r,id:i,className:he("text-sm font-medium text-destructive",t),...n,children:a}):null});Nn.displayName="FormMessage";const IR=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[s,i]=x.useState(!1),{toast:a}=ze(),c=x.useCallback(async d=>{e(!0);try{console.log("Creating secure bank account:",d);const f=await Nc.createBankAccount(d);if(!f.success)throw new Error(f.error||"Failed to create bank account");return a({title:"Bank Account Created",description:"Your bank account has been created. Micro-deposit verification will begin shortly."}),f.data}catch(f){throw console.error("Bank account creation error:",f),a({title:"Account Creation Failed",description:f instanceof Error?f.message:"Failed to create bank account",variant:"destructive"}),f}finally{e(!1)}},[a]),l=x.useCallback(async d=>{r(!0);try{console.log("Verifying bank account micro-deposits");const f=await Nc.verifyBankAccount(d);if(!f.success)throw new Error(f.error||"Failed to verify bank account");const h=f.data.verificationStatus==="verified";return a({title:h?"Account Verified":"Verification Failed",description:f.data.message,variant:h?"default":"destructive"}),f.data}catch(f){throw console.error("Bank account verification error:",f),a({title:"Verification Failed",description:f instanceof Error?f.message:"Failed to verify bank account",variant:"destructive"}),f}finally{r(!1)}},[a]),u=x.useCallback(async d=>{i(!0);try{console.log("Processing secure deposit to verified account");const f=await Nc.processSecureDeposit(d);if(!f.success)throw new Error(f.error||"Failed to process secure deposit");return a({title:"Secure Deposit Initiated",description:`$${d.amount.toFixed(2)} will be transferred to your verified bank account within 1-2 business days.`}),f.data}catch(f){throw console.error("Secure deposit error:",f),a({title:"Deposit Failed",description:f instanceof Error?f.message:"Failed to process secure deposit",variant:"destructive"}),f}finally{i(!1)}},[a]);return{loading:t,verificationLoading:n,depositLoading:s,createBankAccount:c,verifyBankAccount:l,processSecureDeposit:u}},nee=({bankAccount:t,onVerificationComplete:e})=>{const[n,r]=x.useState(!1),{verificationLoading:s,verifyBankAccount:i}=IR(),a=vg({defaultValues:{amount1:"",amount2:""}}),c=f=>{switch(f){case"verified":return o.jsx(Ft,{className:"h-4 w-4 text-green-500"});case"verifying":return o.jsx(ti,{className:"h-4 w-4 text-yellow-500"});case"failed":return o.jsx(Bc,{className:"h-4 w-4 text-red-500"});default:return o.jsx(ti,{className:"h-4 w-4 text-gray-500"})}},l=f=>{switch(f){case"verified":return"bg-green-100 text-green-800";case"verifying":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{switch(f){case"verified":return"Your bank account is verified and ready for secure deposits";case"verifying":return"Micro-deposits have been sent to your account. Enter the amounts below to verify.";case"failed":return"Verification failed. Please check the amounts and try again.";default:return"Verification pending"}},d=async f=>{const h=Math.round(parseFloat(f.amount1)*100),p=Math.round(parseFloat(f.amount2)*100);if(isNaN(h)||isNaN(p)){a.setError("amount1",{message:"Please enter valid amounts"});return}if(h<1||h>99||p<1||p>99){a.setError("amount1",{message:"Amounts must be between $0.01 and $0.99"});return}try{await i({bankAccountId:t.id,amounts:[h,p]}),a.reset(),r(!1),e()}catch(g){console.error("Verification error:",g)}};return o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Bank Account Verification"}),o.jsxs(et,{className:l(t.verification_status),children:[c(t.verification_status),o.jsx("span",{className:"ml-1 capitalize",children:t.verification_status})]})]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Account Holder"}),o.jsx("p",{className:"font-medium",children:t.account_holder_name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Bank"}),o.jsx("p",{className:"font-medium",children:t.bank_name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Account"}),o.jsxs("p",{className:"font-medium",children:["****",t.account_number_last4]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Routing"}),o.jsxs("p",{className:"font-medium",children:["****",t.routing_number_last4]})]})]})}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsx("p",{className:"text-sm text-blue-800",children:u(t.verification_status)})}),t.verification_status==="verifying"&&!n&&o.jsx(q,{onClick:()=>r(!0),className:"w-full",variant:"outline",children:"Enter Micro-Deposit Amounts"}),n&&t.verification_status==="verifying"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[o.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:o.jsx("strong",{children:"Micro-Deposit Verification"})}),o.jsx("p",{className:"text-sm text-yellow-700",children:"We've sent two small deposits (less than $1.00 each) to your bank account. These typically appear within 1-2 business days. Enter the exact amounts below."})]}),o.jsx(xg,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(d),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Sn,{control:a.control,name:"amount1",render:({field:f})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"First Amount"}),o.jsx(pn,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),o.jsx(ve,{placeholder:"0.XX",className:"pl-8",...f,disabled:s})]})}),o.jsx(Nn,{})]}),rules:{required:"Amount is required",pattern:{value:/^\d+\.\d{2}$/,message:"Enter amount as X.XX (e.g., 0.23)"}}}),o.jsx(Sn,{control:a.control,name:"amount2",render:({field:f})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Second Amount"}),o.jsx(pn,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),o.jsx(ve,{placeholder:"0.XX",className:"pl-8",...f,disabled:s})]})}),o.jsx(Nn,{})]}),rules:{required:"Amount is required",pattern:{value:/^\d+\.\d{2}$/,message:"Enter amount as X.XX (e.g., 0.45)"}}})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(q,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(q,{type:"submit",disabled:s,className:"flex-1",children:s?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Account"})]})]})})]}),t.verification_status==="verified"&&o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ft,{className:"h-5 w-5 text-green-500"}),o.jsx("span",{className:"font-semibold text-green-800",children:"Account Verified"})]}),o.jsxs("p",{className:"text-sm text-green-700",children:["Your bank account is verified and ready for secure deposits. Verified on: ",new Date(t.verified_at).toLocaleDateString()]})]}),t.verification_status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Bc,{className:"h-5 w-5 text-red-500"}),o.jsx("span",{className:"font-semibold text-red-800",children:"Verification Failed"})]}),o.jsx("p",{className:"text-sm text-red-700 mb-3",children:"The micro-deposit amounts you entered were incorrect. Please check your bank statement and try again."}),o.jsx(q,{onClick:()=>r(!0),variant:"outline",size:"sm",children:"Try Again"})]})]})]})};var qb="Dialog",[RR,OR]=_s(qb),[ree,Kr]=RR(qb),MR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,c=x.useRef(null),l=x.useRef(null),[u=!1,d]=ei({prop:r,defaultProp:s,onChange:i});return o.jsx(ree,{scope:e,triggerRef:c,contentRef:l,contentId:qi(),titleId:qi(),descriptionId:qi(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};MR.displayName=qb;var BR="DialogTrigger",DR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(BR,n),i=Ze(e,s.triggerRef);return o.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Yb(s.open),...r,ref:i,onClick:pe(t.onClick,s.onOpenToggle)})});DR.displayName=BR;var Qb="DialogPortal",[see,LR]=RR(Qb,{forceMount:void 0}),FR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Kr(Qb,e);return o.jsx(see,{scope:e,forceMount:n,children:x.Children.map(r,a=>o.jsx(li,{present:n||i.open,children:o.jsx(dp,{asChild:!0,container:s,children:a})}))})};FR.displayName=Qb;var qm="DialogOverlay",UR=x.forwardRef((t,e)=>{const n=LR(qm,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Kr(qm,t.__scopeDialog);return i.modal?o.jsx(li,{present:r||i.open,children:o.jsx(iee,{...s,ref:e})}):null});UR.displayName=qm;var iee=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(qm,n);return o.jsx(Rw,{as:no,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(je.div,{"data-state":Yb(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),xa="DialogContent",$R=x.forwardRef((t,e)=>{const n=LR(xa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Kr(xa,t.__scopeDialog);return o.jsx(li,{present:r||i.open,children:i.modal?o.jsx(oee,{...s,ref:e}):o.jsx(aee,{...s,ref:e})})});$R.displayName=xa;var oee=x.forwardRef((t,e)=>{const n=Kr(xa,t.__scopeDialog),r=x.useRef(null),s=Ze(e,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return zk(i)},[]),o.jsx(HR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,i=>i.preventDefault())})}),aee=x.forwardRef((t,e)=>{const n=Kr(xa,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return o.jsx(HR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;n.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),HR=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,c=Kr(xa,n),l=x.useRef(null),u=Ze(e,l);return Uk(),o.jsxs(o.Fragment,{children:[o.jsx(Iw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Rd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Yb(c.open),...a,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(lee,{titleId:c.titleId}),o.jsx(dee,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Kb="DialogTitle",zR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(Kb,n);return o.jsx(je.h2,{id:s.titleId,...r,ref:e})});zR.displayName=Kb;var VR="DialogDescription",GR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(VR,n);return o.jsx(je.p,{id:s.descriptionId,...r,ref:e})});GR.displayName=VR;var WR="DialogClose",qR=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Kr(WR,n);return o.jsx(je.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>s.onOpenChange(!1))})});qR.displayName=WR;function Yb(t){return t?"open":"closed"}var QR="DialogTitleWarning",[cee,KR]=n3(QR,{contentName:xa,titleName:Kb,docsSlug:"dialog"}),lee=({titleId:t})=>{const e=KR(QR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uee="DialogDescriptionWarning",dee=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KR(uee).contentName}}.`;return x.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},fee=MR,hee=DR,mee=FR,pee=UR,gee=$R,yee=zR,vee=GR,YR=qR,JR="AlertDialog",[xee,jre]=_s(JR,[OR]),mi=OR(),ZR=t=>{const{__scopeAlertDialog:e,...n}=t,r=mi(e);return o.jsx(fee,{...r,...n,modal:!0})};ZR.displayName=JR;var wee="AlertDialogTrigger",XR=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return o.jsx(hee,{...s,...r,ref:e})});XR.displayName=wee;var bee="AlertDialogPortal",eO=t=>{const{__scopeAlertDialog:e,...n}=t,r=mi(e);return o.jsx(mee,{...r,...n})};eO.displayName=bee;var _ee="AlertDialogOverlay",tO=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return o.jsx(pee,{...s,...r,ref:e})});tO.displayName=_ee;var Cc="AlertDialogContent",[Eee,Aee]=xee(Cc),nO=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=mi(n),a=x.useRef(null),c=Ze(e,a),l=x.useRef(null);return o.jsx(cee,{contentName:Cc,titleName:rO,docsSlug:"alert-dialog",children:o.jsx(Eee,{scope:n,cancelRef:l,children:o.jsxs(gee,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:pe(s.onOpenAutoFocus,u=>{u.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(nw,{children:r}),o.jsx(jee,{contentRef:a})]})})})});nO.displayName=Cc;var rO="AlertDialogTitle",sO=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return o.jsx(yee,{...s,...r,ref:e})});sO.displayName=rO;var iO="AlertDialogDescription",oO=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return o.jsx(vee,{...s,...r,ref:e})});oO.displayName=iO;var See="AlertDialogAction",aO=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=mi(n);return o.jsx(YR,{...s,...r,ref:e})});aO.displayName=See;var cO="AlertDialogCancel",lO=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Aee(cO,n),i=mi(n),a=Ze(e,s);return o.jsx(YR,{...i,...r,ref:a})});lO.displayName=cO;var jee=({contentRef:t})=>{const e=`\`${Cc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cc}\` by passing a \`${iO}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Nee=ZR,Cee=XR,kee=eO,uO=tO,dO=nO,fO=aO,hO=lO,mO=sO,pO=oO;const Tee=Nee,Pee=Cee,Iee=kee,gO=x.forwardRef(({className:t,...e},n)=>o.jsx(uO,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));gO.displayName=uO.displayName;const yO=x.forwardRef(({className:t,...e},n)=>o.jsxs(Iee,{children:[o.jsx(gO,{}),o.jsx(dO,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));yO.displayName=dO.displayName;const vO=({className:t,...e})=>o.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",t),...e});vO.displayName="AlertDialogHeader";const xO=({className:t,...e})=>o.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});xO.displayName="AlertDialogFooter";const wO=x.forwardRef(({className:t,...e},n)=>o.jsx(mO,{ref:n,className:he("text-lg font-semibold",t),...e}));wO.displayName=mO.displayName;const bO=x.forwardRef(({className:t,...e},n)=>o.jsx(pO,{ref:n,className:he("text-sm text-muted-foreground",t),...e}));bO.displayName=pO.displayName;const _O=x.forwardRef(({className:t,...e},n)=>o.jsx(fO,{ref:n,className:he(Tw(),t),...e}));_O.displayName=fO.displayName;const EO=x.forwardRef(({className:t,...e},n)=>o.jsx(hO,{ref:n,className:he(Tw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));EO.displayName=hO.displayName;const Ree=({currentBalance:t,verifiedAccounts:e,userEmail:n,userId:r,onDepositSuccess:s})=>{const[i,a]=x.useState(!1),{depositLoading:c,processSecureDeposit:l}=IR(),u=vg({defaultValues:{amount:"",selectedAccountId:e[0]?.id||""}}),d=u.watch("amount"),f=parseFloat(d)||0,h=u.watch("selectedAccountId"),p=e.find(v=>v.id===h),g=f>=10&&f<=t&&f<=5e3,m=()=>f?f<10?"Minimum deposit amount is $10.00":f>t?"Insufficient balance":f>5e3?"Maximum deposit amount is $5,000.00":"":"",y=async()=>{if(!(!p||!g))try{await l({amount:f,bankAccountId:p.id,userBalance:t}),u.reset(),a(!1),s(f)}catch(v){console.error("Secure deposit error:",v)}};return e.length===0?o.jsx(V,{children:o.jsxs(G,{className:"text-center p-8",children:[o.jsx(cn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No verified accounts available for secure deposits"})]})}):o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-5 w-5 text-green-500"}),"Secure Deposit to Verified Bank Account"]})}),o.jsxs(G,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Available EarnFlow Balance"}),o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.toFixed(2)]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ft,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-green-800",children:"Verified Account Security"})]}),o.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[o.jsx("li",{children:" Only verified bank accounts can receive deposits"}),o.jsx("li",{children:" Micro-deposit verification completed"}),o.jsx("li",{children:" Secure transfer via Stripe infrastructure"}),o.jsx("li",{children:" Full audit trail maintained"})]})]}),o.jsx(xg,{...u,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(Sn,{control:u.control,name:"selectedAccountId",render:({field:v})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Select Verified Bank Account"}),o.jsxs(Ki,{onValueChange:v.onChange,value:v.value,children:[o.jsx(pn,{children:o.jsx(qs,{children:o.jsx(Yi,{placeholder:"Choose your verified account"})})}),o.jsx(Qs,{children:e.map(w=>o.jsx(Pt,{value:w.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ft,{className:"h-4 w-4 text-green-500"}),o.jsxs("span",{children:[w.bank_name," ****",w.account_number_last4]})]})},w.id))})]}),o.jsx(Nn,{})]})}),o.jsx(Sn,{control:u.control,name:"amount",render:({field:v})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Deposit Amount"}),o.jsx(pn,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),o.jsx(ve,{type:"number",placeholder:"10.00",className:"pl-8",step:"0.01",min:"10",max:Math.min(t,5e3),...v,disabled:c})]})}),m()&&o.jsx("p",{className:"text-sm text-destructive",children:m()}),o.jsx(Nn,{})]})}),p&&o.jsxs("div",{className:"p-3 bg-blue-50 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Selected Account Details:"}),o.jsxs("p",{className:"text-sm text-blue-700",children:[p.account_holder_name,"  ",p.bank_name]}),o.jsxs("p",{className:"text-sm text-blue-700",children:["Account ****",p.account_number_last4,"  Verified "]})]}),o.jsxs("div",{className:"p-3 bg-yellow-50 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(yp,{className:"h-4 w-4 text-yellow-600"}),o.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Processing Information"})]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"Secure deposits to verified accounts typically arrive within 1-2 business days. Processing fees may apply as per your Stripe agreement."})]}),o.jsxs(Tee,{open:i,onOpenChange:a,children:[o.jsx(Pee,{asChild:!0,children:o.jsx(q,{disabled:!g||!p||c,className:"w-full",size:"lg",children:c?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing Secure Deposit..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yu,{className:"h-4 w-4 mr-2"}),"Initiate Secure Deposit $",f.toFixed(2)]})})}),o.jsxs(yO,{children:[o.jsxs(vO,{children:[o.jsxs(wO,{className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-5 w-5 text-green-500"}),"Confirm Secure Deposit"]}),o.jsxs(bO,{className:"space-y-3",children:[o.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Deposit Amount:"}),o.jsxs("span",{className:"font-semibold",children:["$",f.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"To Account:"}),o.jsxs("span",{children:[p?.bank_name," ****",p?.account_number_last4]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Account Holder:"}),o.jsx("span",{children:p?.account_holder_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Verification Status:"}),o.jsx("span",{className:"text-green-600",children:" Verified"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Estimated Arrival:"}),o.jsx("span",{children:"1-2 business days"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Remaining Balance:"}),o.jsxs("span",{children:["$",(t-f).toFixed(2)]})]})]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This secure deposit will be processed immediately to your verified bank account. The transaction is irreversible once confirmed."})]})]}),o.jsxs(xO,{children:[o.jsx(EO,{disabled:c,children:"Cancel"}),o.jsx(_O,{onClick:y,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yu,{className:"h-4 w-4 mr-2"}),"Confirm Secure Deposit"]})})]})]})]})]})}),o.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[o.jsx(yu,{className:"h-3 w-3 inline mr-1"}),"All deposits are secured with bank-grade encryption and require verified account confirmation"]})]})]})},Oee=()=>{const[t,e]=x.useState(!1),{toast:n}=ze(),r=x.useCallback(async s=>{e(!0);try{console.log("Updating bank account:",s);const i=await Nc.updateBankAccount(s);if(!i.success)throw new Error(i.error||"Failed to update bank account");return n({title:"Bank Account Updated",description:"Your bank account has been updated. New micro-deposit verification will begin shortly."}),i.data}catch(i){throw console.error("Bank account update error:",i),n({title:"Update Failed",description:i instanceof Error?i.message:"Failed to update bank account",variant:"destructive"}),i}finally{e(!1)}},[n]);return{loading:t,updateBankAccount:r}},Mee=({bankAccount:t,onUpdateComplete:e})=>{const[n,r]=x.useState(!1),{loading:s,updateBankAccount:i}=Oee(),a=vg({defaultValues:{routingNumber:"",accountNumber:"",confirmAccountNumber:"",updateReason:""}}),c=d=>d.length!==9?"Routing number must be 9 digits":/^\d+$/.test(d)?!0:"Routing number must contain only numbers",l=d=>d.length<4||d.length>17?"Account number must be 4-17 digits":/^\d+$/.test(d)?!0:"Account number must contain only numbers",u=async d=>{if(d.accountNumber!==d.confirmAccountNumber){a.setError("confirmAccountNumber",{message:"Account numbers do not match"});return}if(!d.updateReason.trim()){a.setError("updateReason",{message:"Please provide a reason for this update"});return}try{await i({bankAccountId:t.id,routingNumber:d.routingNumber,accountNumber:d.accountNumber,updateReason:d.updateReason}),a.reset(),r(!1),e()}catch(f){console.error("Form submission error:",f)}};return n?o.jsxs(V,{className:"border-orange-200",children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2 text-orange-800",children:[o.jsx(lc,{className:"h-5 w-5"}),"Update Bank Account Information"]})}),o.jsxs(G,{children:[o.jsx(xg,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(u),className:"space-y-4",children:[o.jsx(Sn,{control:a.control,name:"routingNumber",render:({field:d})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"New Routing Number"}),o.jsx(pn,{children:o.jsx(ve,{placeholder:"9-digit routing number",maxLength:9,...d,disabled:s})}),o.jsx(Nn,{})]}),rules:{required:"Routing number is required",validate:c}}),o.jsx(Sn,{control:a.control,name:"accountNumber",render:({field:d})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"New Account Number"}),o.jsx(pn,{children:o.jsx(ve,{type:"password",placeholder:"Bank account number",...d,disabled:s})}),o.jsx(Nn,{})]}),rules:{required:"Account number is required",validate:l}}),o.jsx(Sn,{control:a.control,name:"confirmAccountNumber",render:({field:d})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Confirm New Account Number"}),o.jsx(pn,{children:o.jsx(ve,{type:"password",placeholder:"Re-enter account number",...d,disabled:s})}),o.jsx(Nn,{})]}),rules:{required:"Please confirm your account number"}}),o.jsx(Sn,{control:a.control,name:"updateReason",render:({field:d})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Reason for Update"}),o.jsx(pn,{children:o.jsx(pg,{placeholder:"Please explain why you're updating your bank account information...",...d,disabled:s,rows:3})}),o.jsx(Nn,{})]}),rules:{required:"Please provide a reason for this update",minLength:{value:10,message:"Please provide a more detailed reason (at least 10 characters)"}}}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(q,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(q,{type:"submit",disabled:s,className:"flex-1",variant:"destructive",children:s?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(lc,{className:"h-4 w-4 mr-2"}),"Update Account"]})})]})]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:o.jsxs("p",{className:"text-xs text-gray-600",children:[o.jsx(yu,{className:"h-3 w-3 inline mr-1"}),"Your bank information is encrypted and securely processed by Stripe. Previous account details will be archived for security purposes."]})})]})]}):o.jsxs(V,{className:"border-orange-200",children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2 text-orange-800",children:[o.jsx(lc,{className:"h-5 w-5"}),"Update Bank Account"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(yp,{className:"h-5 w-5 text-orange-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Important Notice"}),o.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[o.jsx("li",{children:" Updating will require new micro-deposit verification"}),o.jsx("li",{children:" Current verification status will be reset"}),o.jsx("li",{children:" Previous account information will be archived"}),o.jsx("li",{children:" This action cannot be undone"})]})]})]})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-muted-foreground mb-4",children:["Current Account: ",t.bank_name,"  ****",t.account_number_last4]}),o.jsxs(q,{onClick:()=>r(!0),variant:"outline",className:"w-full",children:[o.jsx(lc,{className:"h-4 w-4 mr-2"}),"Update Account Information"]})]})]})]})},Bee=({currentBalance:t,verifiedAccountsCount:e,totalTransferred:n,completedTransfers:r})=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Balance"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.toFixed(2)]})]}),o.jsx($N,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Verified Accounts"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e})]}),o.jsx(Ft,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Transferred"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",n.toFixed(2)]})]}),o.jsx(ll,{className:"h-8 w-8 text-purple-500"})]})})}),o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completed Transfers"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r})]}),o.jsx(qN,{className:"h-8 w-8 text-orange-500"})]})})})]}),Dee=({verifiedAccountsCount:t,pendingAccountsCount:e,onNavigateToTab:n})=>o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-5 w-5"}),"Quick Actions"]})}),o.jsxs(G,{className:"space-y-3",children:[t===0?o.jsxs(q,{onClick:()=>n("accounts"),className:"w-full",children:[o.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Add Your First Bank Account"]}):o.jsxs(o.Fragment,{children:[o.jsxs(q,{onClick:()=>n("transfer"),className:"w-full",children:[o.jsx(ll,{className:"h-4 w-4 mr-2"}),"Transfer to Bank Account"]}),o.jsxs(q,{onClick:()=>n("accounts"),variant:"outline",className:"w-full",children:[o.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Add Another Account"]})]}),e>0&&o.jsxs(q,{onClick:()=>n("verification"),variant:"outline",className:"w-full",children:[o.jsx(yp,{className:"h-4 w-4 mr-2"}),"Complete Verification (",e,")"]})]})]}),Lee=({transfers:t})=>o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(qN,{className:"h-5 w-5"}),"Recent Transfer Activity"]})}),o.jsx(G,{children:t.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No recent transfers"}):o.jsx("div",{className:"space-y-3",children:t.map(e=>{const n=typeof e.details=="object"&&e.details&&typeof e.details=="object"&&"amount"in e.details&&Number(e.details.amount)||0;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ll,{className:"h-4 w-4 text-green-500"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:["$",n.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]})]}),o.jsx(et,{variant:"outline",className:"text-xs",children:e.action.replace("secure_deposit_","")})]},e.id)})})})]}),Fee=({bankAccounts:t,onUpdateAccount:e})=>{const n=r=>{const s={verified:"bg-green-100 text-green-800",verifying:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",pending:"bg-gray-100 text-gray-800"};return s[r]||s.pending};return o.jsx("div",{className:"space-y-4",children:t.map(r=>o.jsx(V,{children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:r.account_holder_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.bank_name,"  ****",r.account_number_last4]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(r.created_at).toLocaleDateString()]}),r.updated_by_user_at&&o.jsxs("p",{className:"text-xs text-orange-600",children:["Updated ",new Date(r.updated_by_user_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(et,{className:n(r.verification_status),children:r.verification_status}),r.verification_status==="verified"&&o.jsxs(q,{size:"sm",variant:"outline",onClick:()=>e(r),children:[o.jsx(lc,{className:"h-3 w-3 mr-1"}),"Update"]})]})]})})},r.id))})},Uee=({auditLog:t})=>o.jsx("div",{className:"space-y-2",children:t.slice(0,20).map(e=>{const n=typeof e.details=="object"&&e.details&&typeof e.details=="object"&&"amount"in e.details&&Number(e.details.amount)||0,r=typeof e.details=="object"&&e.details&&typeof e.details=="object"&&"verification_confirmed"in e.details?!!e.details.verification_confirmed:!1;return o.jsx(V,{children:o.jsx(G,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${e.action.includes("verified")?"bg-green-500":e.action.includes("failed")?"bg-red-500":e.action.includes("deposit")?"bg-blue-500":"bg-gray-500"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:e.action.replace(/_/g," ").toUpperCase()}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[n>0&&o.jsxs(et,{variant:"outline",children:["$",n.toFixed(2)]}),r&&o.jsxs(et,{className:"bg-green-100 text-green-800",children:[o.jsx(yu,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})})},e.id)})}),$ee=({currentBalance:t,onDepositSuccess:e,userEmail:n,userId:r})=>{const[s,i]=x.useState([]),[a,c]=x.useState([]),[l,u]=x.useState(!0),[d,f]=x.useState("overview"),[h,p]=x.useState(null),[g,m]=x.useState({totalTransferred:0,pendingTransfers:0,completedTransfers:0,failedTransfers:0}),{toast:y}=ze(),v=async()=>{try{const R=await Nc.getUserBankAccounts();i(R)}catch(R){console.error("Failed to load bank accounts:",R),y({title:"Loading Error",description:"Failed to load bank accounts",variant:"destructive"})}},w=async()=>{try{const R=await Nc.getBankAccountAuditLog();c(R);const I=R.reduce((H,F)=>{if(F.action==="secure_deposit_processed"){const A=typeof F.details=="object"&&F.details&&typeof F.details=="object"&&"amount"in F.details&&Number(F.details.amount)||0;H.totalTransferred+=A,H.completedTransfers+=1}else F.action==="secure_deposit_pending"?H.pendingTransfers+=1:F.action==="secure_deposit_failed"&&(H.failedTransfers+=1);return H},{totalTransferred:0,pendingTransfers:0,completedTransfers:0,failedTransfers:0});m(I)}catch(R){console.error("Failed to load audit log:",R)}};x.useEffect(()=>{(async()=>{u(!0),await Promise.all([v(),w()]),u(!1)})()},[]);const b=()=>{v(),w(),f("transfer")},_=R=>{e(R),w(),f("history")},E=()=>{v(),w(),p(null),f("verification")},S=R=>{f(R)},N=R=>{p(R),f("update")},j=s.filter(R=>R.verification_status==="verified"),L=s.filter(R=>R.verification_status!=="verified"),T=()=>a.filter(R=>R.action.includes("secure_deposit")).sort((R,I)=>new Date(I.created_at).getTime()-new Date(R.created_at).getTime()).slice(0,5);return l?o.jsx(V,{children:o.jsx(G,{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading secure bank transfer dashboard..."})]})})}):o.jsx("div",{className:"space-y-6",children:o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(cn,{className:"h-6 w-6 text-green-500"}),"Secure Bank Transfer Dashboard"]})}),o.jsx(G,{children:o.jsxs(wl,{value:d,onValueChange:f,className:"w-full",children:[o.jsxs(Sa,{className:"grid w-full grid-cols-6",children:[o.jsx(_t,{value:"overview",children:"Overview"}),o.jsx(_t,{value:"accounts",children:"Accounts"}),o.jsx(_t,{value:"verification",children:"Verification"}),o.jsx(_t,{value:"transfer",children:"Transfer"}),o.jsx(_t,{value:"update",children:"Update"}),o.jsx(_t,{value:"history",children:"History"})]}),o.jsxs(Et,{value:"overview",className:"space-y-6",children:[o.jsx(Bee,{currentBalance:t,verifiedAccountsCount:j.length,totalTransferred:g.totalTransferred,completedTransfers:g.completedTransfers}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Dee,{verifiedAccountsCount:j.length,pendingAccountsCount:L.length,onNavigateToTab:S}),o.jsx(Lee,{transfers:T()})]}),L.length>0&&o.jsxs(hR,{children:[o.jsx(yp,{className:"h-4 w-4"}),o.jsxs(mR,{children:["You have ",L.length," bank account",L.length===1?"":"s"," pending verification. Complete verification to enable secure transfers."]})]})]}),o.jsxs(Et,{value:"accounts",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Your Bank Accounts"}),s.length>0&&s.length<3&&o.jsxs(q,{onClick:()=>f("accounts"),size:"sm",children:[o.jsx(Bh,{className:"h-4 w-4 mr-2"}),"Add Account"]})]}),s.length===0?o.jsx(V,{children:o.jsxs(G,{className:"text-center p-8",children:[o.jsx(cn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No bank accounts found"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank account functionality has been removed"})]})}):o.jsx("div",{className:"space-y-4",children:o.jsx(Fee,{bankAccounts:s,onUpdateAccount:N})})]}),o.jsxs(Et,{value:"verification",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Account Verification"}),L.length===0?o.jsxs("div",{className:"text-center p-8",children:[o.jsx(Ft,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"All accounts are verified!"})]}):o.jsx("div",{className:"space-y-4",children:L.map(R=>o.jsx(nee,{bankAccount:R,onVerificationComplete:b},R.id))})]}),o.jsxs(Et,{value:"transfer",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Secure Transfer to Bank Account"}),j.length===0?o.jsx(V,{children:o.jsxs(G,{className:"text-center p-8",children:[o.jsx(cn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No verified accounts available"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"You must verify at least one bank account before processing transfers"}),o.jsx(q,{onClick:()=>f("accounts"),className:"mt-4",variant:"outline",children:"Add & Verify Account"})]})}):o.jsx(Ree,{currentBalance:t,verifiedAccounts:j,userEmail:n,userId:r,onDepositSuccess:_})]}),o.jsxs(Et,{value:"update",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Update Bank Account Information"}),h?o.jsx(Mee,{bankAccount:h,onUpdateComplete:E}):o.jsx(V,{children:o.jsxs(G,{className:"text-center p-8",children:[o.jsx(lc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No account selected for update"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select an account from the Accounts tab to update its information"}),o.jsx(q,{onClick:()=>f("accounts"),className:"mt-4",variant:"outline",children:"Go to Accounts"})]})})]}),o.jsxs(Et,{value:"history",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Transfer History & Security Audit"}),o.jsx(Uee,{auditLog:a})]})]})})]})})},Hee=({onLogin:t})=>{const[e,n]=x.useState(!0),[r,s]=x.useState(""),[i,a]=x.useState(""),[c,l]=x.useState(!1),{toast:u}=ze(),d=p=>/^[\+]?[1-9][\d]{0,15}$/.test(p.replace(/[\s\-\(\)]/g,"")),f=p=>/^[a-zA-Z0-9_]{3,20}$/.test(p),h=async p=>{if(p.preventDefault(),!r.trim()||!i.trim()){u({title:"Missing information",description:"Please fill in all fields.",variant:"destructive"});return}if(!d(r)){u({title:"Invalid phone number",description:"Please enter a valid phone number.",variant:"destructive"});return}if(!f(i)){u({title:"Invalid username",description:"Username must be 3-20 characters, letters, numbers, and underscores only.",variant:"destructive"});return}l(!0),setTimeout(()=>{const g={phoneNumber:r.trim(),username:i.trim()};u({title:e?"Login successful!":"Account created!",description:`Welcome to EarnFlow, ${i}!`}),t(g),l(!1)},1500)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[o.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-bold text-primary mb-4",children:"EarnFlow"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Earn money by interacting with partner advertisements. Get paid instantly with Bitcoin."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(kr,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Instant Earnings"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"5% commission per task"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(cn,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Privacy First"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimal data required"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"h-8 w-8 text-purple-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Trusted Partners"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium advertisers"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(gp,{className:"h-8 w-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"24/7 Access"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn anytime"})]})]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Privacy Protection"}),o.jsx("p",{className:"text-sm text-green-700",children:"We only collect your phone number and username. No personal information, no tracking, no data selling. Your privacy is our priority."})]})]}),o.jsxs(V,{className:"w-full max-w-md mx-auto",children:[o.jsxs(Z,{className:"text-center",children:[o.jsx(X,{className:"text-2xl",children:e?"Welcome Back":"Join EarnFlow"}),o.jsx("p",{className:"text-muted-foreground",children:e?"Sign in to continue earning":"Create your account to start earning"})]}),o.jsxs(G,{children:[o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"phone",children:"Phone Number"}),o.jsx(ve,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:r,onChange:p=>s(p.target.value),disabled:c})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"username",children:"Username"}),o.jsx(ve,{id:"username",type:"text",placeholder:"your_username",value:i,onChange:p=>a(p.target.value),disabled:c}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"3-20 characters, letters, numbers, and underscores only"})]}),o.jsx(q,{type:"submit",className:"w-full",disabled:c,children:c?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e?"Signing In...":"Creating Account..."]}):e?"Sign In":"Create Account"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>n(!e),className:"text-sm text-primary hover:underline",disabled:c,children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),o.jsx("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg border border-blue-200",children:o.jsx("p",{className:"text-xs text-blue-700 text-center",children:" Your data is encrypted and secure. We never share your information with third parties."})})]})]})]})})},zee=()=>{const{user:t,loading:e}=vl(),[n]=O.useState(1250.75),r=a=>{console.log(`Deposit of $${a} processed successfully`)};if(e)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Secure Bank Transfer Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Please sign in to access your secure bank transfer dashboard"})]}),o.jsx(Hee,{onLogin:()=>{}})]})});const s=t.email||"",i=t.id||"";return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Secure Bank Transfer Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage your bank accounts and process secure transfers with complete audit trails"})]}),o.jsx($ee,{currentBalance:n,onDepositSuccess:r,userEmail:s,userId:i})]})})},Vee=()=>{const{user:t,signOut:e}=vl(),n=async()=>{try{const{error:r}=await ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});r&&console.error("Google login error:",r)}catch(r){console.error("Login failed:",r)}};return t?o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Signed in as: ",t.email]}),o.jsx(q,{variant:"outline",onClick:e,children:"Sign Out"})]}):o.jsx(q,{onClick:n,className:"w-full",children:"Sign in with Google"})},Gee=()=>{const[t,e]=x.useState(!0),[n,r]=x.useState(""),[s,i]=x.useState(""),[a,c]=x.useState(""),[l,u]=x.useState(""),[d,f]=x.useState(!1),{toast:h}=ze(),p=bn(),{user:g,loading:m}=vl();x.useEffect(()=>{!m&&g&&p("/",{replace:!0})},[g,m,p]);const y=_=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_),v=_=>/^[\+]?[1-9][\d]{0,15}$/.test(_.replace(/[\s\-\(\)]/g,"")),w=_=>/^[a-zA-Z0-9_]{3,20}$/.test(_),b=async _=>{if(_.preventDefault(),!n.trim()||!s.trim()){h({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(!y(n)){h({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}if(s.length<6){h({title:"Invalid password",description:"Password must be at least 6 characters long.",variant:"destructive"});return}if(!t){if(!a.trim()||!l.trim()){h({title:"Missing information",description:"Please fill in all fields for signup.",variant:"destructive"});return}if(!w(a)){h({title:"Invalid username",description:"Username must be 3-20 characters, letters, numbers, and underscores only.",variant:"destructive"});return}if(!v(l)){h({title:"Invalid phone number",description:"Please enter a valid phone number.",variant:"destructive"});return}}f(!0);try{if(t){const{data:E,error:S}=await ue.auth.signInWithPassword({email:n.trim(),password:s.trim()});if(S)throw S;h({title:"Login successful!",description:"Welcome back to EarnFlow!"}),window.location.href="/"}else{const{error:E}=await ue.auth.signUp({email:n.trim(),password:s.trim(),options:{data:{username:a.trim(),phone_number:l.trim()},emailRedirectTo:`${window.location.origin}/`}});if(E)throw E;h({title:"Account created!",description:"Please check your email to verify your account."})}}catch(E){console.error("Auth error:",E),h({title:t?"Login failed":"Signup failed",description:E.message||"An error occurred. Please try again.",variant:"destructive"})}finally{f(!1)}};return m?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[o.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-bold text-primary mb-4",children:"EarnFlow"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Earn money by interacting with partner advertisements. Get paid instantly with Bitcoin."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(kr,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Instant Earnings"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"5% commission per task"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(cn,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Privacy First"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimal data required"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(oa,{className:"h-8 w-8 text-purple-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Trusted Partners"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium advertisers"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(gp,{className:"h-8 w-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"24/7 Access"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn anytime"})]})]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Privacy Protection"}),o.jsx("p",{className:"text-sm text-green-700",children:"We only collect your email, username and phone number. No personal information, no tracking, no data selling. Your privacy is our priority."})]})]}),o.jsxs(V,{className:"w-full max-w-md mx-auto",children:[o.jsxs(Z,{className:"text-center",children:[o.jsx(X,{className:"text-2xl",children:t?"Welcome Back":"Join EarnFlow"}),o.jsx("p",{className:"text-muted-foreground",children:t?"Sign in to continue earning":"Create your account to start earning"})]}),o.jsxs(G,{className:"space-y-4",children:[o.jsx(Vee,{}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"email",children:"Email"}),o.jsx(ve,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:_=>r(_.target.value),disabled:d,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"password",children:"Password"}),o.jsx(ve,{id:"password",type:"password",placeholder:"",value:s,onChange:_=>i(_.target.value),disabled:d,required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),!t&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"username",children:"Username"}),o.jsx(ve,{id:"username",type:"text",placeholder:"your_username",value:a,onChange:_=>c(_.target.value),disabled:d,required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"3-20 characters, letters, numbers, and underscores only"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"phone",children:"Phone Number"}),o.jsx(ve,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:l,onChange:_=>u(_.target.value),disabled:d,required:!0})]})]}),o.jsx(q,{type:"submit",className:"w-full",disabled:d,children:d?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Signing In...":"Creating Account..."]}):t?"Sign In":"Create Account"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-sm text-primary hover:underline",disabled:d,children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),o.jsx("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg border border-blue-200",children:o.jsx("p",{className:"text-xs text-blue-700 text-center",children:" Your data is encrypted and secure. We never share your information with third parties."})})]})]})]})})},Wee=()=>o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Services"}),o.jsx("p",{className:"text-gray-600",children:"Payment functionality has been removed."})]})});var AO="basil",qee=function(e){return e===3?"v3":e},SO="https://js.stripe.com",Qee="".concat(SO,"/").concat(AO,"/stripe.js"),Kee=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Yee=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,VA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Jee=function(e){return Kee.test(e)||Yee.test(e)},Zee=function(){for(var e=document.querySelectorAll('script[src^="'.concat(SO,'"]')),n=0;n<e.length;n++){var r=e[n];if(Jee(r.src))return r}return null},GA=function(e){var n="",r=document.createElement("script");r.src="".concat(Qee).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},Xee=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},Ql=null,Bf=null,Df=null,ete=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},tte=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},nte=function(e){return Ql!==null?Ql:(Ql=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(VA),window.Stripe){n(window.Stripe);return}try{var s=Zee();if(s&&e)console.warn(VA);else if(!s)s=GA(e);else if(s&&Df!==null&&Bf!==null){var i;s.removeEventListener("load",Df),s.removeEventListener("error",Bf),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=GA(e)}Df=tte(n,r),Bf=ete(r),s.addEventListener("load",Df),s.addEventListener("error",Bf)}catch(a){r(a);return}}),Ql.catch(function(n){return Ql=null,Promise.reject(n)}))},rte=function(e,n,r){if(e===null)return null;var s=n[0],i=s.match(/^pk_test/),a=qee(e.version),c=AO;i&&a!==c&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return Xee(l,r),l},Kl,jO=!1,NO=function(){return Kl||(Kl=nte(null).catch(function(e){return Kl=null,Promise.reject(e)}),Kl)};Promise.resolve().then(function(){return NO()}).catch(function(t){jO||console.warn(t)});var Jb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];jO=!0;var s=Date.now();return NO().then(function(i){return rte(i,n,s)})},CO={exports:{}},ste="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ite=ste,ote=ite;function kO(){}function TO(){}TO.resetWarningCache=kO;var ate=function(){function t(r,s,i,a,c,l){if(l!==ote){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:TO,resetWarningCache:kO};return n.PropTypes=n,n};CO.exports=ate();var cte=CO.exports;const xt=il(cte);function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){PO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dh(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dh=function(e){return typeof e}:dh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function PO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lte(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ute(t,e){if(t==null)return{};var n=lte(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zb(t,e){return dte(t)||fte(t,e)||hte(t,e)||mte()}function dte(t){if(Array.isArray(t))return t}function fte(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,a,c;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(l){i=!0,c=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw c}}return r}}function hte(t,e){if(t){if(typeof t=="string")return QA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(t,e)}}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var er=function(e,n,r){var s=!!r,i=O.useRef(r);O.useEffect(function(){i.current=r},[r]),O.useEffect(function(){if(!s||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,a),function(){e.off(n,a)}},[s,n,e,i])},Nd=function(e){var n=O.useRef(e);return O.useEffect(function(){n.current=e},[e]),n.current},sl=function(e){return e!==null&&dh(e)==="object"},pte=function(e){return sl(e)&&typeof e.then=="function"},gte=function(e){return sl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},KA="[object Object]",yte=function t(e,n){if(!sl(e)||!sl(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===KA,a=Object.prototype.toString.call(n)===KA;if(i!==a)return!1;if(!i&&!r)return e===n;var c=Object.keys(e),l=Object.keys(n);if(c.length!==l.length)return!1;for(var u={},d=0;d<c.length;d+=1)u[c[d]]=!0;for(var f=0;f<l.length;f+=1)u[l[f]]=!0;var h=Object.keys(u);if(h.length!==c.length)return!1;var p=e,g=n,m=function(v){return t(p[v],g[v])};return h.every(m)},IO=function(e,n,r){return sl(e)?Object.keys(e).reduce(function(s,i){var a=!sl(n)||!yte(e[i],n[i]);return r.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?qA(qA({},s||{}),{},PO({},i,e[i])):s},null):null},RO="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",YA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RO;if(e===null||gte(e))return e;throw new Error(n)},OO=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RO;if(pte(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return YA(s,n)})};var r=YA(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},MO=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},bg=O.createContext(null);bg.displayName="ElementsContext";var BO=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},Xb=function(e){var n=e.stripe,r=e.options,s=e.children,i=O.useMemo(function(){return OO(n)},[n]),a=O.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),c=Zb(a,2),l=c[0],u=c[1];O.useEffect(function(){var h=!0,p=function(m){u(function(y){return y.stripe?y:{stripe:m,elements:m.elements(r)}})};return i.tag==="async"&&!l.stripe?i.stripePromise.then(function(g){g&&h&&p(g)}):i.tag==="sync"&&!l.stripe&&p(i.stripe),function(){h=!1}},[i,l,r]);var d=Nd(n);O.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=Nd(r);return O.useEffect(function(){if(l.elements){var h=IO(r,f,["clientSecret","fonts"]);h&&l.elements.update(h)}},[r,f,l.elements]),O.useEffect(function(){MO(l.stripe)},[l.stripe]),O.createElement(bg.Provider,{value:l},s)};Xb.propTypes={stripe:xt.any,options:xt.object};var vte=function(e){var n=O.useContext(bg);return BO(n,e)},DO=function(){var e=vte("calls useElements()"),n=e.elements;return n};xt.func.isRequired;var LO=O.createContext(null);LO.displayName="CheckoutSdkContext";var xte=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},wte=O.createContext(null);wte.displayName="CheckoutContext";xt.any,xt.shape({fetchClientSecret:xt.func.isRequired,elementsOptions:xt.object}).isRequired;var ox=function(e){var n=O.useContext(LO),r=O.useContext(bg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?xte(n,e):BO(r,e)},bte=["mode"],_te=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ht=function(e,n){var r="".concat(_te(e),"Element"),s=function(l){var u=l.id,d=l.className,f=l.options,h=f===void 0?{}:f,p=l.onBlur,g=l.onFocus,m=l.onReady,y=l.onChange,v=l.onEscape,w=l.onClick,b=l.onLoadError,_=l.onLoaderStart,E=l.onNetworksChange,S=l.onConfirm,N=l.onCancel,j=l.onShippingAddressChange,L=l.onShippingRateChange,T=ox("mounts <".concat(r,">")),R="elements"in T?T.elements:null,I="checkoutSdk"in T?T.checkoutSdk:null,H=O.useState(null),F=Zb(H,2),A=F[0],C=F[1],B=O.useRef(null),k=O.useRef(null);er(A,"blur",p),er(A,"focus",g),er(A,"escape",v),er(A,"click",w),er(A,"loaderror",b),er(A,"loaderstart",_),er(A,"networkschange",E),er(A,"confirm",S),er(A,"cancel",N),er(A,"shippingaddresschange",j),er(A,"shippingratechange",L),er(A,"change",y);var M;m&&(e==="expressCheckout"?M=m:M=function(){m(A)}),er(A,"ready",M),O.useLayoutEffect(function(){if(B.current===null&&k.current!==null&&(R||I)){var W=null;if(I)switch(e){case"payment":W=I.createPaymentElement(h);break;case"address":if("mode"in h){var ee=h.mode,fe=ute(h,bte);if(ee==="shipping")W=I.createShippingAddressElement(fe);else if(ee==="billing")W=I.createBillingAddressElement(fe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":W=I.createExpressCheckoutElement(h);break;case"currencySelector":W=I.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else R&&(W=R.create(e,h));B.current=W,C(W),W&&W.mount(k.current)}},[R,I,h]);var $=Nd(h);return O.useEffect(function(){if(B.current){var W=IO(h,$,["paymentRequest"]);W&&"update"in B.current&&B.current.update(W)}},[h,$]),O.useLayoutEffect(function(){return function(){if(B.current&&typeof B.current.destroy=="function")try{B.current.destroy(),B.current=null}catch{}}},[]),O.createElement("div",{id:u,className:d,ref:k})},i=function(l){ox("mounts <".concat(r,">"));var u=l.id,d=l.className;return O.createElement("div",{id:u,className:d})},a=n?i:s;return a.propTypes={id:xt.string,className:xt.string,onChange:xt.func,onBlur:xt.func,onFocus:xt.func,onReady:xt.func,onEscape:xt.func,onClick:xt.func,onLoadError:xt.func,onLoaderStart:xt.func,onNetworksChange:xt.func,onConfirm:xt.func,onCancel:xt.func,onShippingAddressChange:xt.func,onShippingRateChange:xt.func,options:xt.object},a.displayName=r,a.__elementType=e,a},Mt=typeof window>"u",e1=O.createContext(null);e1.displayName="EmbeddedCheckoutProviderContext";var FO=function(){var e=O.useContext(e1);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},Ete="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ate=function(e){var n=e.stripe,r=e.options,s=e.children,i=O.useMemo(function(){return OO(n,Ete)},[n]),a=O.useRef(null),c=O.useRef(null),l=O.useState({embeddedCheckout:null}),u=Zb(l,2),d=u[0],f=u[1];O.useEffect(function(){if(!(c.current||a.current)){var g=function(y){c.current||a.current||(c.current=y,a.current=c.current.initEmbeddedCheckout(r).then(function(v){f({embeddedCheckout:v})}))};i.tag==="async"&&!c.current&&(r.clientSecret||r.fetchClientSecret)?i.stripePromise.then(function(m){m&&g(m)}):i.tag==="sync"&&!c.current&&(r.clientSecret||r.fetchClientSecret)&&g(i.stripe)}},[i,r,d,c]),O.useEffect(function(){return function(){d.embeddedCheckout?(a.current=null,d.embeddedCheckout.destroy()):a.current&&a.current.then(function(){a.current=null,d.embeddedCheckout&&d.embeddedCheckout.destroy()})}},[d.embeddedCheckout]),O.useEffect(function(){MO(c)},[c]);var h=Nd(n);O.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[h,n]);var p=Nd(r);return O.useEffect(function(){if(p!=null){if(r==null){console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");return}r.clientSecret===void 0&&r.fetchClientSecret===void 0&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),p.clientSecret!=null&&r.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.fetchClientSecret!=null&&r.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.onComplete!=null&&r.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),p.onShippingDetailsChange!=null&&r.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),p.onLineItemsChange!=null&&r.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[p,r]),O.createElement(e1.Provider,{value:d},s)},Ste=function(e){var n=e.id,r=e.className,s=FO(),i=s.embeddedCheckout,a=O.useRef(!1),c=O.useRef(null);return O.useLayoutEffect(function(){return!a.current&&i&&c.current!==null&&(i.mount(c.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch{}}},[i]),O.createElement("div",{ref:c,id:n,className:r})},jte=function(e){var n=e.id,r=e.className;return FO(),O.createElement("div",{id:n,className:r})},Nte=Mt?jte:Ste,UO=function(){var e=ox("calls useStripe()"),n=e.stripe;return n};Ht("auBankAccount",Mt);var JA=Ht("card",Mt);Ht("cardNumber",Mt);Ht("cardExpiry",Mt);Ht("cardCvc",Mt);Ht("fpxBank",Mt);Ht("iban",Mt);Ht("idealBank",Mt);Ht("p24Bank",Mt);Ht("epsBank",Mt);var Cte=Ht("payment",Mt);Ht("expressCheckout",Mt);Ht("currencySelector",Mt);Ht("paymentRequestButton",Mt);Ht("linkAuthentication",Mt);Ht("address",Mt);Ht("shippingAddress",Mt);Ht("paymentMethodMessaging",Mt);Ht("affirmMessage",Mt);Ht("afterpayClearpayMessage",Mt);const kte=Jb("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),Tte=({priceId:t,onBack:e,title:n="Complete Your Subscription",description:r="Subscribe to unlock premium features"})=>{const[s,i]=x.useState(""),[a,c]=x.useState(""),[l,u]=x.useState(!0);x.useEffect(()=>{t&&(async()=>{try{u(!0);const h=Ek(void 0,void 0),{data:p,error:g}=await h.functions.invoke("create-embedded-checkout",{body:{priceId:t,mode:"subscription",ui_mode:"embedded",return_url:`${window.location.origin}/subscription-success`}});if(g)throw new Error(g.message||"Failed to create checkout session");if(!p.success||!p.data?.clientSecret)throw new Error(p.error||"Failed to get client secret");i(p.data.clientSecret)}catch(h){c(h instanceof Error?h.message:"Failed to initialize checkout")}finally{u(!1)}})()},[t]);const d={clientSecret:s};return l?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:e,variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),o.jsx(V,{children:o.jsx(G,{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading checkout..."})]})})})]})}):a?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:e,variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),o.jsx(V,{children:o.jsxs(G,{className:"text-center py-12",children:[o.jsx("p",{className:"text-red-600 mb-4",children:a}),o.jsx(q,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:e,variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),o.jsxs(V,{children:[o.jsxs(Z,{children:[o.jsx(X,{children:n}),r&&o.jsx("p",{className:"text-muted-foreground",children:r})]}),o.jsx(G,{children:o.jsx(Ate,{stripe:kte,options:d,children:o.jsx(Nte,{})})})]})]})})},Pte=()=>{const{priceId:t}=GF(),e=bn();return t?o.jsx(Tte,{priceId:t,onBack:()=>e("/"),title:"Subscribe to EarnFlow",description:"Get your operator license and start earning today"}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-red-600 mb-4",children:"Invalid checkout link"}),o.jsx("button",{onClick:()=>e("/"),children:"Return Home"})]})})})},vr=(t,e)=>(console.error(`Live Production Error - ${e}:`,t),t.message?.includes("Your account cannot currently make live charges")?"Your live Stripe account is not yet activated for payouts. Please complete your account activation in the Stripe Dashboard.":t.message?.includes("Invalid API Key")||t.message?.includes("api_key")?"Invalid live Stripe API key. Please verify your live API key (sk_live_...) is correctly configured in Supabase secrets.":t.message?.includes("permissions")||t.message?.includes("restricted")?"Insufficient API key permissions. Your live Stripe key may be restricted. Please use a full secret key or update permissions.":t.message?.includes("rate_limit")?"Rate limit exceeded. Please wait a moment before trying again.":t.message?.includes("amount_too_small")||t.message?.includes("minimum")?"Payout amount is too small. Minimum amount for live payouts is $0.50.":t.message||"A payout processing error occurred in live mode. Please try again or contact support.");class Ite{async createPayout(e){try{if(console.log("Creating live Stripe payout (depositing earnings):",{...e,amount:e.amount}),e.amount<.5)throw new Error("Minimum payout amount is $0.50 for live transactions.");const{data:n,error:r}=await ue.functions.invoke("stripe-payout",{body:e});if(r)throw new Error(vr(r,"Live Payout Creation"));return console.log("Live payout created successfully (earnings deposited):",n),n}catch(n){throw console.error("Live Stripe Payout Error:",n),new Error(vr(n,"Live Payout Creation"))}}async setupAccount(e,n,r){try{console.log("Setting up live Stripe account:",{email:e,userId:n});const{data:s,error:i}=await ue.functions.invoke("stripe-account-setup",{body:{email:e,userId:n,returnUrl:r}});if(i)throw new Error(vr(i,"Live Account Setup"));return console.log("Live account setup successful:",s),s}catch(s){throw console.error("Live Stripe Account Setup Error:",s),new Error(vr(s,"Live Account Setup"))}}async createPaymentIntent(e){try{if(!e.amount&&!e.items)throw new Error("Either amount or items must be provided");const n={description:e.description,currency:e.currency||"usd",customerEmail:e.customerEmail};if(e.items?(console.log("Creating payment intent with items (Ruby-style):",e.items),n.items=e.items):e.amount&&(console.log("Creating payment intent with amount (legacy):",e.amount),n.items=[{amount:e.amount}]),(e.items?e.items.reduce((a,c)=>a+c.amount,0):e.amount||0)<50)throw new Error("Minimum payment amount is $0.50 for live transactions.");const{data:s,error:i}=await ue.functions.invoke("create-payment-intent",{body:n});if(i)throw new Error(vr(i,"Payment Intent Creation"));return console.log("Payment intent created successfully:",s),{success:s.success,clientSecret:s.clientSecret,data:s.data,error:s.error,timestamp:s.timestamp}}catch(n){throw console.error("Payment Intent Creation Error:",n),new Error(vr(n,"Payment Intent Creation"))}}async createCheckoutSession(e){try{if(console.log("Creating live checkout session:",{...e,amount:e.amount,paymentMethod:e.paymentMethod||"card"}),e.mode==="payment"&&e.amount<50)throw new Error("Minimum transaction amount is $0.50 for live payments.");const{data:n,error:r}=await ue.functions.invoke("create-checkout-session",{body:e});if(r)throw new Error(vr(r,"Live Checkout Session Creation"));if(!n?.success||!n?.data?.url)throw new Error("Failed to create live checkout session. Please verify your live Stripe configuration.");return console.log("Live checkout session created successfully:",n),n}catch(n){throw console.error("Live Checkout Session Creation Error:",n),new Error(vr(n,"Live Checkout Session Creation"))}}async verifyPayment(e){try{console.log("Verifying payment (Production):",e);const{data:n,error:r}=await ue.functions.invoke("verify-payment",{body:{paymentIntentId:e}});if(r)throw new Error(vr(r,"Payment Verification"));return n}catch(n){throw console.error("Payment Verification Error (Production):",n),new Error(vr(n,"Payment Verification"))}}async captureCharge(e){try{console.log("Capturing charge (Production):",e);const{data:n,error:r}=await ue.functions.invoke("capture-charge",{body:e});if(r)throw new Error(vr(r,"Charge Capture"));return n}catch(n){throw console.error("Charge Capture Error (Production):",n),new Error(vr(n,"Charge Capture"))}}async verifyProductionConfig(){const e=[],n=[];try{console.log("Verifying live production payout configuration...");const s=await ue.functions.invoke("stripe-payout",{body:{amount:.5,email:"production-test@example.com",userId:"test-user-id"}});if(s.data?.success)console.log("Live payout API connectivity verified successfully");else{const i=s.data?.error||s.error?.message||"Unknown error";i.includes("api_key")||i.includes("Invalid API Key")?e.push("Live API key is not configured or invalid. Please set your live Stripe secret key (sk_live_...)"):i.includes("account cannot currently make live charges")?e.push("Your Stripe account is not activated for live payouts. Complete activation in Stripe Dashboard"):e.push(`Live payout API connectivity issue: ${i}`)}}catch(s){const i=s instanceof Error?s.message:"Unknown configuration error";e.push(`Payout configuration verification failed: ${i}`),console.error("Production payout config verification error:",s)}e.length===0&&(n.push("Ensure your Stripe account has been fully activated for live payouts"),n.push("Test with small amounts before processing larger payouts"),n.push("Verify your bank account is connected for receiving payouts"));const r=e.length===0;return console.log("Production payout readiness check completed:",{isProductionReady:r,issuesCount:e.length,warningsCount:n.length}),{isProductionReady:r,issues:e,warnings:n}}}const $O=new Ite,Rte=Jb("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),Ote=({amount:t,description:e="Payment",onSuccess:n,onError:r})=>{const s=UO(),i=DO(),[a,c]=x.useState(!1),[l,u]=x.useState(""),{toast:d}=ze(),f=async h=>{if(h.preventDefault(),!s||!i)return;const p=i.getElement(JA);if(p){c(!0);try{const g=await $O.createPaymentIntent({amount:t,description:e,customerEmail:l});if(!g.success||!g.data?.clientSecret)throw new Error(g.error||"Failed to create payment intent");const{error:m,paymentIntent:y}=await s.confirmCardPayment(g.data.clientSecret,{payment_method:{card:p,billing_details:{email:l}}});if(m)throw new Error(m.message);y.status==="succeeded"&&(d({title:"Payment Successful",description:`Payment of $${(t/100).toFixed(2)} completed successfully.`}),n?.(y.id))}catch(g){const m=g instanceof Error?g.message:"Payment failed";d({title:"Payment Failed",description:m,variant:"destructive"}),r?.(m)}finally{c(!1)}}};return o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"email",children:"Email"}),o.jsx(ve,{id:"email",type:"email",value:l,onChange:h=>u(h.target.value),placeholder:"your@email.com",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{children:"Card Details"}),o.jsx("div",{className:"p-3 border rounded-md",children:o.jsx(JA,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}}}}})})]}),o.jsx(q,{type:"submit",disabled:!s||a,className:"w-full",children:a?"Processing...":`Pay $${(t/100).toFixed(2)}`})]})},Mte=t=>{const e={mode:"payment",amount:t.amount,currency:"usd"};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[t.onBack&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:t.onBack,variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Payment"})]}),o.jsxs(V,{className:"w-full max-w-md mx-auto",children:[o.jsx(Z,{children:o.jsx(X,{children:"Payment Details"})}),o.jsx(G,{children:o.jsx(Xb,{stripe:Rte,options:e,children:o.jsx(Ote,{...t})})})]})]})})},Bte=()=>{const t=bn();return o.jsx(Mte,{onBack:()=>t("/"),amount:49.99,description:"EarnFlow Operator License - Monthly Subscription"})},Dte=()=>{const{user:t}=vl(),{trackImpression:e,trackClick:n}=kw(),r=()=>{e({adSlot:"3941685758",placementId:"payout_multiplex",adType:"multiplex"})},s=()=>{n({adSlot:"3941685758",placementId:"payout_multiplex",adType:"multiplex"})};return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payout Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Commission payout functionality has been removed"})]}),t?o.jsx(o.Fragment,{children:o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Mo,{adSlot:"3941685758",adFormat:"autorelaxed",style:{display:"block"},className:"max-w-4xl mx-auto",onImpression:r,onAdClick:s})})}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-600",children:"Please sign in to view your payout dashboard."})})]})})};var t1="Switch",[Lte,Nre]=_s(t1),[Fte,Ute]=Lte(t1),HO=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=x.useState(null),g=Ze(e,b=>p(b)),m=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[v=!1,w]=ei({prop:s,defaultProp:i,onChange:u});return o.jsxs(Fte,{scope:n,checked:v,disabled:c,children:[o.jsx(je.button,{type:"button",role:"switch","aria-checked":v,"aria-required":a,"data-state":GO(v),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:g,onClick:pe(t.onClick,b=>{w(_=>!_),y&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),y&&o.jsx($te,{control:h,bubbles:!m.current,name:r,value:l,checked:v,required:a,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});HO.displayName=t1;var zO="SwitchThumb",VO=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Ute(zO,n);return o.jsx(je.span,{"data-state":GO(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});VO.displayName=zO;var $te=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=x.useRef(null),a=Bp(n),c=bp(e);return x.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function GO(t){return t?"checked":"unchecked"}var WO=HO,Hte=VO;const n1=x.forwardRef(({className:t,...e},n)=>o.jsx(WO,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(Hte,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));n1.displayName=WO.displayName;class zte{async createDestinationCheckout(e){try{console.log("Creating destination checkout session:",e);const{data:n,error:r}=await ue.functions.invoke("create-destination-checkout",{body:e});if(r)throw new Error(r.message||"Destination checkout session creation failed");return n}catch(n){throw console.error("Destination Charge Service Error:",n),n}}calculatePlatformFee(e,n=3){return Math.round(e*(n/100))}formatAmount(e){return(e/100).toFixed(2)}}const zy=new zte,Vte=()=>{const[t,e]=x.useState(!1),{toast:n}=ze(),r=x.useCallback(async s=>{e(!0);try{console.log("Creating destination checkout session:",s);const i=await zy.createDestinationCheckout(s);if(!i.success||!i.data?.url)throw new Error(i.error||"Failed to create destination checkout session");return console.log("Destination checkout session created successfully, URL:",i.data.url),window.location.href=i.data.url,n({title:"Redirecting to Checkout",description:"Redirecting to Stripe to complete your marketplace purchase..."}),i.data}catch(i){throw console.error("Destination checkout error:",i),n({title:"Checkout Failed",description:i instanceof Error?i.message:"Failed to create checkout session",variant:"destructive"}),i}finally{e(!1)}},[n]);return{loading:t,createDestinationCheckout:r,calculatePlatformFee:zy.calculatePlatformFee,formatAmount:zy.formatAmount}},Gte=({onBack:t})=>{const[e,n]=x.useState(50),[r,s]=x.useState("Marketplace Purchase"),[i,a]=x.useState(""),[c,l]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(3),{loading:p,createDestinationCheckout:g,calculatePlatformFee:m,formatAmount:y}=Vte(),v=Math.round(e*100),w=m(v,f),b=v-w,_=async()=>{if(!i.trim()){alert("Please enter a connected account ID");return}const E=`${window.location.origin}/payment-success`,S=`${window.location.origin}/payment-cancelled`;await g({amount:v,description:r,connectedAccountId:i.trim(),applicationFeeAmount:w,successUrl:E,cancelUrl:S,customerEmail:c.trim()||void 0,onBehalfOf:u})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[t&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:t,variant:"outline",size:"sm",disabled:p,children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Destination Charges"})]}),o.jsxs(V,{children:[o.jsxs(Z,{children:[o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(H0,{className:"h-5 w-5"}),"Marketplace Checkout"]}),o.jsx("p",{className:"text-muted-foreground",children:"Create a checkout session with destination charges for marketplace payments"})]}),o.jsxs(G,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"description",children:"Product Description"}),o.jsx(ve,{id:"description",value:r,onChange:E=>s(E.target.value),placeholder:"Enter product description",disabled:p})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"amount",children:"Amount ($)"}),o.jsx(ve,{id:"amount",type:"number",min:"0.50",step:"0.01",value:e,onChange:E=>n(parseFloat(E.target.value)||0),placeholder:"50.00",disabled:p})]}),o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"customerEmail",children:"Customer Email (Optional)"}),o.jsx(ve,{id:"customerEmail",type:"email",value:c,onChange:E=>l(E.target.value),placeholder:"customer@example.com",disabled:p})]})]}),o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"connectedAccount",children:"Connected Account ID"}),o.jsx(ve,{id:"connectedAccount",value:i,onChange:E=>a(E.target.value),placeholder:"acct_1234567890",disabled:p}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"The Stripe Connect account that will receive the funds"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(n1,{id:"onBehalfOf",checked:u,onCheckedChange:d,disabled:p}),o.jsx(Ae,{htmlFor:"onBehalfOf",children:"Use on_behalf_of parameter"})]}),u&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"This sets the connected account as the settlement merchant"})]}),o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"feePercentage",children:"Platform Fee (%)"}),o.jsx(ve,{id:"feePercentage",type:"number",min:"0",max:"100",step:"0.1",value:f,onChange:E=>h(parseFloat(E.target.value)||0),disabled:p})]}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[o.jsx(Ut,{className:"h-4 w-4"}),"Payment Breakdown"]}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Total Amount:"}),o.jsxs("span",{children:["$",y(v)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Platform Fee (",f,"%):"]}),o.jsxs("span",{children:["$",y(w)]})]}),o.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[o.jsx("span",{children:"To Connected Account:"}),o.jsxs("span",{children:["$",y(b)]})]})]})]})]}),o.jsx(q,{onClick:_,disabled:p||!i.trim()||e<.5,size:"lg",className:"w-full",children:p?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Creating Checkout Session..."})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(H0,{className:"h-4 w-4"}),o.jsxs("span",{children:["Create Destination Checkout - $",y(v)]})]})}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"This will create a Stripe Checkout session with destination charges. Funds will be transferred to the connected account after fees are collected."})]})]})]})})},Wte=()=>{const t=bn();return o.jsx(Gte,{onBack:()=>t("/")})};class qte{async createConnectAccount(){try{console.log("Creating Stripe Connect account");const{data:e,error:n}=await ue.functions.invoke("create-connect-account");if(n)throw new Error(n.message||"Account creation failed");return e}catch(e){return console.error("Stripe Connect Account Creation Error:",e),{error:e instanceof Error?e.message:"Unknown error occurred"}}}async createAccountLink(e,n,r){try{console.log("Creating account link for:",e);const{data:s,error:i}=await ue.functions.invoke("create-connect-account-link",{body:{account:e,returnUrl:n,refreshUrl:r}});if(i)throw new Error(i.message||"Account link creation failed");return s}catch(s){return console.error("Account Link Creation Error:",s),{error:s instanceof Error?s.message:"Unknown error occurred"}}}}const ZA=new qte,Qte=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(!1),[s,i]=x.useState(),[a,c]=x.useState(!1),[l,u]=x.useState(),{toast:d}=ze();x.useEffect(()=>{const p=new URLSearchParams(window.location.search),g=p.get("success"),m=p.get("refresh"),y=p.get("account");g==="true"&&y?(i(y),c(!0),d({title:"Onboarding Successful",description:"Your Stripe account has been set up successfully!"}),window.history.replaceState({},document.title,window.location.pathname)):m==="true"&&y&&(i(y),d({title:"Please Complete Onboarding",description:"Please complete the onboarding process to activate your account.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname))},[d]);const f=async()=>{e(!0),u(void 0);try{const p=await ZA.createConnectAccount();if(p.account)i(p.account),d({title:"Account Created",description:"Your Stripe Connect account has been created successfully."});else throw new Error(p.error||"Failed to create Stripe account")}catch(p){const g=p instanceof Error?p.message:"An unexpected error occurred";u(g),d({title:"Account Creation Failed",description:g,variant:"destructive"})}finally{e(!1)}},h=async()=>{if(s){r(!0),u(void 0);try{const p=await ZA.createAccountLink(s);if(p.url)window.open(p.url,"_blank"),d({title:"Onboarding Link Created",description:"Please complete the onboarding process in the new tab."});else throw new Error(p.error||"Failed to create account link")}catch(p){const g=p instanceof Error?p.message:"An unexpected error occurred";u(g),d({title:"Link Creation Failed",description:g,variant:"destructive"})}finally{r(!1)}}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Stripe Connect Account Links"}),o.jsx("p",{className:"text-muted-foreground",children:"Set up your account using Stripe's hosted onboarding"})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-5 w-5"}),"Account Setup with Links"]})}),o.jsxs(G,{className:"space-y-4",children:[!s&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Step 1: Create Your Stripe Account"}),o.jsx("p",{className:"text-muted-foreground",children:"First, we'll create a Stripe Connect account for you."}),o.jsx(q,{onClick:f,disabled:t,size:"lg",className:"w-full max-w-sm",children:t?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Stripe Account"})]}),s&&!a&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(Ft,{className:"h-5 w-5 text-green-500"}),o.jsx("span",{className:"text-green-600 font-medium",children:"Account Created"})]}),o.jsx("h3",{className:"text-xl font-semibold",children:"Step 2: Complete Onboarding"}),o.jsx("p",{className:"text-muted-foreground",children:"Now complete your account setup through Stripe's secure onboarding process."}),o.jsx(q,{onClick:h,disabled:n,size:"lg",className:"w-full max-w-sm",children:n?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Link..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ro,{className:"h-4 w-4 mr-2"}),"Complete Onboarding"]})})]}),a&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(Ft,{className:"h-5 w-5 text-green-500"}),o.jsx("span",{className:"text-green-600 font-medium text-lg",children:"Setup Complete!"})]}),o.jsx("h3",{className:"text-xl font-semibold",children:"Ready to Accept Payments"}),o.jsx("p",{className:"text-muted-foreground",children:"Your Stripe Connect account is now set up and ready to process payments."})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 p-4 bg-destructive/10 border border-destructive/20 rounded-md",children:[o.jsx(Bc,{className:"h-5 w-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-destructive font-medium",children:"Error"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l})]})]}),s&&o.jsxs("div",{className:"space-y-3 p-4 bg-muted rounded-md",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Development Information"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(et,{variant:"secondary",children:"Account ID:"}),o.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded font-mono",children:s})]}),a&&o.jsx(et,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:"Onboarding Completed"})]}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," This implementation uses Stripe's Account Links for onboarding, which redirects users to Stripe's hosted onboarding flow."," ",o.jsxs("a",{href:"https://docs.stripe.com/connect/account-links",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline hover:no-underline",children:["View documentation",o.jsx(ro,{className:"h-3 w-3"})]})]})})]})]})]})})},Kte=()=>o.jsx(Qte,{}),Yte=()=>{const t="https://connect.stripe.com/oauth/authorize?redirect_uri=https://connect.stripe.com/hosted/oauth&client_id=ca_SUl4mrgUhkYhtYT8RluxfWhlrtxzYZyF&state=onbrd_SVREc6MpeyXyNQ6t3k6iyrESSc&response_type=code&scope=read_write&stripe_user[country]=US",e=()=>{window.open(t,"_blank")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Connect Your Stripe Account"}),o.jsx("p",{className:"text-muted-foreground",children:"Securely connect your existing Stripe account or create a new one"})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-5 w-5"}),"Stripe Connect OAuth"]})}),o.jsxs(G,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Ready to Connect"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Click the button below to securely connect your Stripe account through Stripe's official OAuth flow. This will allow you to accept payments and manage your account directly through our platform."})]}),o.jsxs(q,{onClick:e,size:"lg",className:"w-full max-w-sm",children:[o.jsx(ro,{className:"h-4 w-4 mr-2"}),"Connect Stripe Account"]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[o.jsx(cn,{className:"h-5 w-5 text-green-500"}),"Security Features"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Ft,{className:"h-4 w-4 text-green-500"}),"Official Stripe OAuth flow"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Ft,{className:"h-4 w-4 text-green-500"}),"Secure token-based authentication"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Ft,{className:"h-4 w-4 text-green-500"}),"Read/write permissions for full functionality"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Ft,{className:"h-4 w-4 text-green-500"}),"Pre-configured for US accounts"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-lg",children:"What Happens Next?"}),o.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex gap-3",children:[o.jsx(et,{variant:"outline",className:"min-w-fit",children:"1"}),o.jsx("span",{children:"You'll be redirected to Stripe's secure connection page"})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx(et,{variant:"outline",className:"min-w-fit",children:"2"}),o.jsx("span",{children:"Sign in to your existing Stripe account or create a new one"})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx(et,{variant:"outline",className:"min-w-fit",children:"3"}),o.jsx("span",{children:"Authorize the connection and return to our platform"})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx(et,{variant:"outline",className:"min-w-fit",children:"4"}),o.jsx("span",{children:"Start accepting payments immediately"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," This connection uses Stripe's official OAuth protocol, ensuring the highest level of security. Your account credentials are never shared with our platform - only secure access tokens are exchanged."]})}),o.jsxs("div",{className:"p-4 bg-muted rounded-md",children:[o.jsx("h5",{className:"font-semibold text-sm mb-2",children:"Technical Details"}),o.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground font-mono",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Client ID:"})," ca_SUl4mrgUhkYhtYT8RluxfWhlrtxzYZyF"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Scope:"})," read_write"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Country:"})," US (pre-configured)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Response Type:"})," code"]})]})]})]})]})]})})};var r1="Checkbox",[Jte,Cre]=_s(r1),[Zte,Xte]=Jte(r1),qO=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,p]=x.useState(null),g=Ze(e,_=>p(_)),m=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[v=!1,w]=ei({prop:s,defaultProp:i,onChange:u}),b=x.useRef(v);return x.useEffect(()=>{const _=h?.form;if(_){const E=()=>w(b.current);return _.addEventListener("reset",E),()=>_.removeEventListener("reset",E)}},[h,w]),o.jsxs(Zte,{scope:n,state:v,disabled:c,children:[o.jsx(je.button,{type:"button",role:"checkbox","aria-checked":Xi(v)?"mixed":v,"aria-required":a,"data-state":YO(v),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:g,onKeyDown:pe(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:pe(t.onClick,_=>{w(E=>Xi(E)?!0:!E),y&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),y&&o.jsx(ene,{control:h,bubbles:!m.current,name:r,value:l,checked:v,required:a,disabled:c,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Xi(i)?!1:i})]})});qO.displayName=r1;var QO="CheckboxIndicator",KO=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Xte(QO,n);return o.jsx(li,{present:r||Xi(i.state)||i.state===!0,children:o.jsx(je.span,{"data-state":YO(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});KO.displayName=QO;var ene=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,a=x.useRef(null),c=Bp(n),l=bp(e);x.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});d.indeterminate=Xi(n),p.call(d,Xi(n)?!1:n),d.dispatchEvent(g)}},[c,n,r]);const u=x.useRef(Xi(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Xi(t){return t==="indeterminate"}function YO(t){return Xi(t)?"indeterminate":t?"checked":"unchecked"}var JO=qO,tne=KO;const ZO=x.forwardRef(({className:t,...e},n)=>o.jsx(JO,{ref:n,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(tne,{className:he("flex items-center justify-center text-current"),children:o.jsx(HN,{className:"h-4 w-4"})})}));ZO.displayName=JO.displayName;class nne{async createAndOnboardCustomAccount(e){try{console.log("Creating custom Stripe account:",e);const{data:n,error:r}=await ue.functions.invoke("create-custom-stripe-account",{body:e});if(r)throw new Error(r.message||"Custom account creation failed");return n}catch(n){throw console.error("Custom Stripe Account Error:",n),n}}async updateCustomAccount(e,n){try{console.log("Updating custom Stripe account:",e,n);const{data:r,error:s}=await ue.functions.invoke("update-custom-stripe-account",{body:{accountId:e,...n}});if(s)throw new Error(s.message||"Custom account update failed");return r}catch(r){throw console.error("Custom Account Update Error:",r),r}}async getAccountRequirements(e){try{console.log("Getting account requirements for:",e);const{data:n,error:r}=await ue.functions.invoke("get-account-requirements",{body:{accountId:e}});if(r)throw new Error(r.message||"Failed to get account requirements");return n}catch(n){throw console.error("Get Account Requirements Error:",n),n}}}const XO=new nne,rne=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(null),[s,i]=x.useState(!1),{toast:a}=ze(),c=vg({defaultValues:{productDescription:"",supportPhone:"",businessUrl:"",accountHolderName:"",routingNumber:"",accountNumber:"",tosAccepted:!1}}),l=async u=>{if(!u.tosAccepted){a({title:"Terms Required",description:"You must accept the terms of service to continue.",variant:"destructive"});return}e(!0);try{console.log("Starting custom account onboarding:",u);const d=await XO.createAndOnboardCustomAccount({businessProfile:{productDescription:u.productDescription,supportPhone:u.supportPhone,url:u.businessUrl},externalAccount:{accountHolderName:u.accountHolderName,routingNumber:u.routingNumber,accountNumber:u.accountNumber},tosAcceptance:{userAgent:navigator.userAgent}});if(d.success&&d.data)r(d.data.accountId),i(!0),a({title:"Account Created Successfully",description:"Your custom Stripe account has been set up and is ready for use."});else throw new Error(d.error||"Failed to create custom account")}catch(d){console.error("Custom onboarding error:",d),a({title:"Onboarding Failed",description:d instanceof Error?d.message:"Failed to complete onboarding",variant:"destructive"})}finally{e(!1)}};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsxs(V,{children:[o.jsx(Z,{className:"text-center",children:o.jsxs(X,{className:"flex items-center justify-center gap-2 text-green-600",children:[o.jsx(on,{className:"h-6 w-6"}),"Custom Account Setup Complete"]})}),o.jsxs(G,{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Your custom Stripe Connect account has been successfully created and configured."}),n&&o.jsxs("div",{className:"p-4 bg-muted rounded-md",children:[o.jsx("p",{className:"text-sm font-medium",children:"Account ID:"}),o.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded font-mono",children:n})]}),o.jsx(q,{onClick:()=>window.location.href="/",children:"Return to Dashboard"})]})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Custom Account Setup"}),o.jsx("p",{className:"text-muted-foreground",children:"Complete your custom Stripe Connect account onboarding"})]}),o.jsx(xg,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(l),className:"space-y-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Gu,{className:"h-5 w-5"}),"Business Information"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsx(Sn,{control:c.control,name:"productDescription",render:({field:u})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Product Description"}),o.jsx(pn,{children:o.jsx(pg,{placeholder:"Describe your business and the products/services you sell",...u,disabled:t})}),o.jsx(Nn,{})]})}),o.jsx(Sn,{control:c.control,name:"supportPhone",render:({field:u})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Support Phone Number"}),o.jsx(pn,{children:o.jsx(ve,{type:"tel",placeholder:"+1 (555) 123-4567",...u,disabled:t})}),o.jsx(Nn,{})]})}),o.jsx(Sn,{control:c.control,name:"businessUrl",render:({field:u})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Business Website"}),o.jsx(pn,{children:o.jsx(ve,{type:"url",placeholder:"https://your-business.com",...u,disabled:t})}),o.jsx(Nn,{})]})})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(Ut,{className:"h-5 w-5"}),"Bank Account Information"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsx(Sn,{control:c.control,name:"accountHolderName",render:({field:u})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Account Holder Name"}),o.jsx(pn,{children:o.jsx(ve,{placeholder:"John Doe or Business Name",...u,disabled:t})}),o.jsx(Nn,{})]})}),o.jsx(Sn,{control:c.control,name:"routingNumber",render:({field:u})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Routing Number"}),o.jsx(pn,{children:o.jsx(ve,{placeholder:"9-digit routing number",...u,disabled:t})}),o.jsx(Nn,{})]})}),o.jsx(Sn,{control:c.control,name:"accountNumber",render:({field:u})=>o.jsxs(hn,{children:[o.jsx(mn,{children:"Account Number"}),o.jsx(pn,{children:o.jsx(ve,{placeholder:"Bank account number",...u,disabled:t})}),o.jsx(Nn,{})]})})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(KN,{className:"h-5 w-5"}),"Terms and Conditions"]})}),o.jsx(G,{children:o.jsx(Sn,{control:c.control,name:"tosAccepted",render:({field:u})=>o.jsxs(hn,{className:"flex flex-row items-start space-x-3 space-y-0",children:[o.jsx(pn,{children:o.jsx(ZO,{checked:u.value,onCheckedChange:u.onChange,disabled:t})}),o.jsx("div",{className:"space-y-1 leading-none",children:o.jsx(mn,{children:"I accept the Stripe Connected Account Agreement and authorize this application to access my account"})})]})})})]}),o.jsx(q,{type:"submit",disabled:t,className:"w-full",size:"lg",children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),"Setting up account..."]}):"Complete Custom Account Setup"})]})}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Custom Account:"})," This setup provides full control over the onboarding experience. All information is collected upfront to minimize future disruptions."]})})]})})},sne=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(!1),[s,i]=x.useState(null),{toast:a}=ze(),c=d=>d==="complete"||d==="enabled"?o.jsx(Ft,{className:"h-5 w-5 text-green-600"}):d.includes("restricted")||d.includes("rejected")?o.jsx(mp,{className:"h-5 w-5 text-red-600"}):o.jsx(Bc,{className:"h-5 w-5 text-yellow-600"}),l=d=>d==="complete"||d==="enabled"?"text-green-600 bg-green-50 border-green-200":d.includes("restricted")||d.includes("rejected")?"text-red-600 bg-red-50 border-red-200":"text-yellow-600 bg-yellow-50 border-yellow-200",u=async()=>{if(!t.trim()){a({title:"Account ID Required",description:"Please enter a valid account ID.",variant:"destructive"});return}r(!0);try{const d=await XO.getAccountRequirements(t.trim());if(d.success&&d.data)i(d.data),a({title:"Account Information Retrieved",description:`Account state: ${d.data.state}`});else throw new Error(d.error||"Failed to get account information")}catch(d){console.error("Account info error:",d),i(null),a({title:"Failed to Get Account Info",description:d instanceof Error?d.message:"Failed to retrieve account information",variant:"destructive"})}finally{r(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(__,{className:"h-5 w-5"}),"Account Lookup"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"accountId",children:"Stripe Account ID"}),o.jsx(ve,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:t,onChange:d=>e(d.target.value),disabled:n})]}),o.jsx(q,{onClick:u,disabled:n||!t.trim(),children:n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(__,{className:"h-4 w-4"}),"Get Account Info"]})})]})]}),s&&o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center justify-between",children:["Account Information",o.jsx(q,{variant:"outline",size:"sm",onClick:u,disabled:n,children:o.jsx(ul,{className:"h-4 w-4"})})]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Account ID"}),o.jsx("p",{className:"font-mono text-sm",children:s.accountId})]}),o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),o.jsxs("div",{className:`flex items-center gap-2 mt-1 px-3 py-1 rounded border ${l(s.state)}`,children:[c(s.state),o.jsx("span",{className:"text-sm font-medium",children:s.state})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Charges Enabled"}),o.jsx("p",{className:`text-sm font-medium ${s.chargesEnabled?"text-green-600":"text-red-600"}`,children:s.chargesEnabled?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Payouts Enabled"}),o.jsx("p",{className:`text-sm font-medium ${s.payoutsEnabled?"text-green-600":"text-red-600"}`,children:s.payoutsEnabled?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Details Submitted"}),o.jsx("p",{className:`text-sm font-medium ${s.detailsSubmitted?"text-green-600":"text-yellow-600"}`,children:s.detailsSubmitted?"Yes":"No"})]})]}),s.requirements.currentlyDue.length>0&&o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Currently Due Requirements"}),o.jsx("div",{className:"mt-2 space-y-1",children:s.requirements.currentlyDue.map((d,f)=>o.jsx("div",{className:"text-sm bg-red-50 text-red-700 px-2 py-1 rounded",children:d},f))})]}),s.requirements.eventuallyDue.length>0&&o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Eventually Due Requirements"}),o.jsx("div",{className:"mt-2 space-y-1",children:s.requirements.eventuallyDue.map((d,f)=>o.jsx("div",{className:"text-sm bg-yellow-50 text-yellow-700 px-2 py-1 rounded",children:d},f))})]}),s.requirements.pastDue.length>0&&o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Past Due Requirements"}),o.jsx("div",{className:"mt-2 space-y-1",children:s.requirements.pastDue.map((d,f)=>o.jsx("div",{className:"text-sm bg-red-100 text-red-800 px-2 py-1 rounded font-medium",children:d},f))})]}),s.requirements.disabledReason&&o.jsxs("div",{children:[o.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Disabled Reason"}),o.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.requirements.disabledReason})]})]})]})]})};var s1="Radio",[ine,e4]=_s(s1),[one,ane]=ine(s1),t4=x.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:c="on",onCheck:l,form:u,...d}=t,[f,h]=x.useState(null),p=Ze(e,y=>h(y)),g=x.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(one,{scope:n,checked:s,disabled:a,children:[o.jsx(je.button,{type:"button",role:"radio","aria-checked":s,"data-state":s4(s),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:p,onClick:pe(t.onClick,y=>{s||l?.(),m&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),m&&o.jsx(cne,{control:f,bubbles:!g.current,name:r,value:c,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});t4.displayName=s1;var n4="RadioIndicator",r4=x.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=ane(n4,n);return o.jsx(li,{present:r||i.checked,children:o.jsx(je.span,{"data-state":s4(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});r4.displayName=n4;var cne=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=x.useRef(null),a=Bp(n),c=bp(e);return x.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function s4(t){return t?"checked":"unchecked"}var lne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],i1="RadioGroup",[une,kre]=_s(i1,[Hp,e4]),i4=Hp(),o4=e4(),[dne,fne]=une(i1),a4=x.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:c=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=t,p=i4(n),g=Mp(u),[m,y]=ei({prop:i,defaultProp:s,onChange:f});return o.jsx(dne,{scope:n,name:r,required:a,disabled:c,value:m,onValueChange:y,children:o.jsx(z2,{asChild:!0,...p,orientation:l,dir:g,loop:d,children:o.jsx(je.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":c?"":void 0,dir:g,...h,ref:e})})})});a4.displayName=i1;var c4="RadioGroupItem",l4=x.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=fne(c4,n),a=i.disabled||r,c=i4(n),l=o4(n),u=x.useRef(null),d=Ze(e,u),f=i.value===s.value,h=x.useRef(!1);return x.useEffect(()=>{const p=m=>{lne.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),o.jsx(V2,{asChild:!0,...c,focusable:!a,active:f,children:o.jsx(t4,{disabled:a,required:i.required,checked:f,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:pe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:pe(s.onFocus,()=>{h.current&&u.current?.click()})})})});l4.displayName=c4;var hne="RadioGroupIndicator",u4=x.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=o4(n);return o.jsx(r4,{...s,...r,ref:e})});u4.displayName=hne;var d4=a4,f4=l4,mne=u4;const h4=x.forwardRef(({className:t,...e},n)=>o.jsx(d4,{className:he("grid gap-2",t),...e,ref:n}));h4.displayName=d4.displayName;const ax=x.forwardRef(({className:t,...e},n)=>o.jsx(f4,{ref:n,className:he("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(mne,{className:"flex items-center justify-center",children:o.jsx(pp,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ax.displayName=f4.displayName;class pne{async createAccountLink(e){try{console.log("Creating account link:",e);const{data:n,error:r}=await ue.functions.invoke("create-account-link",{body:e});if(r)throw new Error(r.message||"Account link creation failed");return n}catch(n){throw console.error("Account Link Error:",n),n}}async getPaymentMethodConfigurations(e){try{console.log("Getting payment method configurations for:",e);const{data:n,error:r}=await ue.functions.invoke("get-payment-method-configurations",{body:{accountId:e}});if(r)throw new Error(r.message||"Failed to get payment method configurations");return n}catch(n){throw console.error("Payment Method Config Error:",n),n}}async updatePaymentMethodConfiguration(e,n,r,s){try{console.log("Updating payment method configuration:",{accountId:e,configurationId:n,paymentMethod:r,preference:s});const{data:i,error:a}=await ue.functions.invoke("update-payment-method-configuration",{body:{accountId:e,configurationId:n,paymentMethod:r,preference:s}});if(a)throw new Error(a.message||"Failed to update payment method configuration");return i}catch(i){throw console.error("Update Payment Method Config Error:",i),i}}async createCurrencyCheckout(e){try{console.log("Creating currency checkout session:",e);const{data:n,error:r}=await ue.functions.invoke("create-currency-checkout",{body:e});if(r)throw new Error(r.message||"Currency checkout creation failed");return n}catch(n){throw console.error("Currency Checkout Error:",n),n}}}const Qm=new pne,gne=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(""),[s,i]=x.useState("currently_due"),{toast:a}=ze(),c=async()=>{if(!n.trim()){a({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}e(!0);try{const l=await Qm.createAccountLink({accountId:n.trim(),refreshUrl:`${window.location.origin}/custom-stripe-onboarding?refresh=true`,returnUrl:`${window.location.origin}/custom-stripe-onboarding?success=true`,collectionType:s});if(l.success&&l.data)window.open(l.data.url,"_blank"),a({title:"Account Link Created",description:"Onboarding link opened in a new tab. Complete the process there."});else throw new Error(l.error||"Failed to create account link")}catch(l){console.error("Account link error:",l),a({title:"Failed to Create Account Link",description:l instanceof Error?l.message:"Failed to create account link",variant:"destructive"})}finally{e(!1)}};return o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(J3,{className:"h-5 w-5"}),"Progressive Onboarding with Account Links"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"accountId",children:"Stripe Account ID"}),o.jsx(ve,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:l=>r(l.target.value),disabled:t})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ae,{children:"Information Collection Type"}),o.jsxs(h4,{value:s,onValueChange:l=>i(l),disabled:t,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ax,{value:"currently_due",id:"currently_due"}),o.jsx(Ae,{htmlFor:"currently_due",className:"text-sm",children:"Currently Due - Collect only immediately required information"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ax,{value:"eventually_due",id:"eventually_due"}),o.jsx(Ae,{htmlFor:"eventually_due",className:"text-sm",children:"Eventually Due - Collect all required information upfront"})]})]})]}),o.jsx(q,{onClick:c,disabled:t||!n.trim(),className:"w-full",children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),"Creating Account Link..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ro,{className:"h-4 w-4"}),"Create Onboarding Link"]})}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Account Links:"})," These provide a Stripe-hosted onboarding flow that's fully compliant and automatically handles all verification requirements. Perfect for progressive onboarding."]})})]})]})},yne=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(""),[s,i]=x.useState([]),[a,c]=x.useState(null),{toast:l}=ze(),u=async()=>{if(!n.trim()){l({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}e(!0);try{const h=await Qm.getPaymentMethodConfigurations(n.trim());if(h.success&&h.data)i(h.data),l({title:"Payment Methods Loaded",description:`Found ${h.data.length} payment method configurations.`});else throw new Error(h.error||"Failed to get payment method configurations")}catch(h){console.error("Payment method config error:",h),l({title:"Failed to Load Payment Methods",description:h instanceof Error?h.message:"Failed to load configurations",variant:"destructive"})}finally{e(!1)}},d=async(h,p,g)=>{c(`${h}-${p}`);try{const m=await Qm.updatePaymentMethodConfiguration(n.trim(),h,p,g?"on":"off");if(m.success)await u(),l({title:"Payment Method Updated",description:`${p} has been ${g?"enabled":"disabled"}.`});else throw new Error(m.error||"Failed to update payment method")}catch(m){console.error("Update payment method error:",m),l({title:"Update Failed",description:m instanceof Error?m.message:"Failed to update payment method",variant:"destructive"})}finally{c(null)}},f=h=>({card:"Credit/Debit Cards",affirm:"Affirm",afterpay_clearpay:"Afterpay/Clearpay",sepa_debit:"SEPA Direct Debit",ideal:"iDEAL",bancontact:"Bancontact",sofort:"Sofort",giropay:"Giropay",eps:"EPS",p24:"Przelewy24",alipay:"Alipay",wechat_pay:"WeChat Pay",acss_debit:"Pre-authorized Debit"})[h]||h.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase());return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(tr,{className:"h-5 w-5"}),"Payment Method Configuration"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"accountId",children:"Stripe Account ID"}),o.jsx(ve,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:h=>r(h.target.value),disabled:t})]}),o.jsx(q,{onClick:u,disabled:t||!n.trim(),children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-4 w-4"}),"Load Payment Methods"]})})]})]}),s.map(h=>o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"text-lg",children:[h.name," Configuration",h.is_default&&o.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(Default)"})]})}),o.jsx(G,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).filter(([p,g])=>typeof g=="object"&&g!==null&&"available"in g&&"display_preference"in g).map(([p,g])=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:f(p)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g.available?"Available":"Not Available"})]}),o.jsx(n1,{checked:g.display_preference?.value==="on",onCheckedChange:m=>d(h.id,p,m),disabled:!g.available||a===`${h.id}-${p}`})]},p))})})]},h.id))]})},vne=()=>{const[t,e]=x.useState(!1),[n,r]=x.useState(""),[s,i]=x.useState("USD"),[a,c]=x.useState("20.00"),[l,u]=x.useState("Sample Product"),{toast:d}=ze(),f=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"JPY",name:"Japanese Yen",symbol:""}],h=y=>({USD:["Cards","ACH Direct Debit","Affirm","Afterpay"],EUR:["Cards","SEPA Direct Debit","iDEAL","Bancontact","Sofort","Giropay"],GBP:["Cards","Bacs Direct Debit","Klarna"],CAD:["Cards","Pre-authorized Debit"],AUD:["Cards","BECS Direct Debit"],JPY:["Cards","Konbini"]})[y]||["Cards"],p=async()=>{if(!n.trim()){d({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}if(!a||parseFloat(a)<=0){d({title:"Invalid Amount",description:"Please enter a valid amount.",variant:"destructive"});return}e(!0);try{const y=Math.round(parseFloat(a)*100),v=await Qm.createCurrencyCheckout({accountId:n.trim(),currency:s,amount:y,productName:l,successUrl:`${window.location.origin}/custom-stripe-onboarding?checkout=success`,cancelUrl:`${window.location.origin}/custom-stripe-onboarding?checkout=cancelled`});if(v.success&&v.data)window.open(v.data.url,"_blank"),d({title:"Checkout Created",description:"Checkout session opened in a new tab."});else throw new Error(v.error||"Failed to create checkout session")}catch(y){console.error("Checkout error:",y),d({title:"Checkout Failed",description:y instanceof Error?y.message:"Failed to create checkout session",variant:"destructive"})}finally{e(!1)}},g=f.find(y=>y.code===s),m=h(s);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(K3,{className:"h-5 w-5"}),"Currency-Based Checkout Demo"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"accountId",children:"Connected Account ID"}),o.jsx(ve,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:y=>r(y.target.value),disabled:t})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"currency",children:"Currency"}),o.jsxs(Ki,{value:s,onValueChange:i,disabled:t,children:[o.jsx(qs,{children:o.jsx(Yi,{placeholder:"Select currency"})}),o.jsx(Qs,{children:f.map(y=>o.jsxs(Pt,{value:y.code,children:[y.code," - ",y.name]},y.code))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ae,{htmlFor:"amount",children:["Amount (",g?.symbol,")"]}),o.jsx(ve,{id:"amount",type:"number",step:"0.01",min:"0.50",placeholder:"20.00",value:a,onChange:y=>c(y.target.value),disabled:t})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"productName",children:"Product Name"}),o.jsx(ve,{id:"productName",placeholder:"Sample Product",value:l,onChange:y=>u(y.target.value),disabled:t})]}),o.jsx(q,{onClick:p,disabled:t||!n.trim(),className:"w-full",children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),"Creating Checkout..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ut,{className:"h-4 w-4"}),"Create ",s," Checkout"]})})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"text-lg",children:["Available Payment Methods for ",s]})}),o.jsxs(G,{children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:m.map(y=>o.jsx("div",{className:"p-2 bg-muted rounded text-sm text-center",children:y},y))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Payment methods automatically adapt based on the selected currency and connected account's location."})]})]})]})},xne=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-6xl",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Advanced Stripe Connect"}),o.jsx("p",{className:"text-muted-foreground",children:"Complete Stripe Connect platform with advanced features"})]}),o.jsxs(wl,{defaultValue:"custom-onboard",className:"space-y-6",children:[o.jsxs(Sa,{className:"grid w-full grid-cols-5",children:[o.jsx(_t,{value:"custom-onboard",children:"Custom Onboarding"}),o.jsx(_t,{value:"account-links",children:"Account Links"}),o.jsx(_t,{value:"manage",children:"Account Manager"}),o.jsx(_t,{value:"payment-methods",children:"Payment Methods"}),o.jsx(_t,{value:"currency-demo",children:"Currency Demo"})]}),o.jsx(Et,{value:"custom-onboard",children:o.jsx(rne,{})}),o.jsx(Et,{value:"account-links",children:o.jsx(gne,{})}),o.jsx(Et,{value:"manage",children:o.jsx(sne,{})}),o.jsx(Et,{value:"payment-methods",children:o.jsx(yne,{})}),o.jsx(Et,{value:"currency-demo",children:o.jsx(vne,{})})]})]})});class wne{async createExpressAccount(e){try{console.log("Creating Express account with prefilled data:",e);const{data:n,error:r}=await ue.functions.invoke("create-prefilled-express-account",{body:e});if(r)throw new Error(r.message||"Express account creation failed");return n}catch(n){throw console.error("Express Account Creation Error:",n),n}}async createCustomAccount(e){try{console.log("Creating Custom account with prefilled data:",e);const{data:n,error:r}=await ue.functions.invoke("create-prefilled-custom-account",{body:e});if(r)throw new Error(r.message||"Custom account creation failed");return n}catch(n){throw console.error("Custom Account Creation Error:",n),n}}async createStandardAccount(e){try{console.log("Creating Standard account with prefilled data:",e);const{data:n,error:r}=await ue.functions.invoke("create-prefilled-standard-account",{body:e});if(r)throw new Error(r.message||"Standard account creation failed");return n}catch(n){throw console.error("Standard Account Creation Error:",n),n}}async updateAccountWithPrefill(e,n){try{console.log("Updating account with prefilled data:",e,n);const{data:r,error:s}=await ue.functions.invoke("update-prefilled-account",{body:{accountId:e,...n}});if(s)throw new Error(s.message||"Account update failed");return r}catch(r){throw console.error("Account Update Error:",r),r}}}const Vy=new wne,bne=({onResultsUpdate:t})=>{const[e,n]=x.useState(!1),r=async()=>{n(!0);const s=[];s.push({name:"Express Account Creation",status:"pending"}),t([...s]);try{const i=await Vy.createExpressAccount({email:"test-express@example.com",country:"US",accountType:"express",businessType:"individual",businessName:"Test Express Business",productDescription:"Test product for Express account",firstName:"John",lastName:"Doe",userId:"test_express_user",platformSource:"test_suite"});s[s.length-1]={name:"Express Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Express account"}}catch(i){s[s.length-1]={name:"Express Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}t([...s]),s.push({name:"Custom Account Creation",status:"pending"}),t([...s]);try{const i=await Vy.createCustomAccount({email:"test-custom@example.com",country:"US",accountType:"custom",businessType:"company",businessName:"Test Custom Business",productDescription:"Test product for Custom account",companyName:"Test Custom Corp",taxId:"12-3456789",userId:"test_custom_user",platformSource:"test_suite"});s[s.length-1]={name:"Custom Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Custom account"}}catch(i){s[s.length-1]={name:"Custom Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}t([...s]),s.push({name:"Standard Account Creation",status:"pending"}),t([...s]);try{const i=await Vy.createStandardAccount({email:"test-standard@example.com",country:"US",accountType:"standard",businessType:"individual",businessName:"Test Standard Business",userId:"test_standard_user",platformSource:"test_suite"});s[s.length-1]={name:"Standard Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Standard account"}}catch(i){s[s.length-1]={name:"Standard Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}t([...s]),n(!1)};return o.jsx(q,{onClick:r,disabled:e,className:"w-full",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),"Running Prefilled Account Tests..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sD,{className:"h-4 w-4"}),"Run Prefilled Account Creation Tests"]})})},_ne=({status:t})=>{switch(t){case"success":return o.jsx(Ft,{className:"h-4 w-4 text-green-500"});case"error":return o.jsx(mp,{className:"h-4 w-4 text-red-500"});default:return o.jsx(nn,{className:"h-4 w-4 animate-spin"})}},Ene=({status:t})=>{switch(t){case"success":return o.jsx(et,{variant:"default",className:"bg-green-500",children:"Pass"});case"error":return o.jsx(et,{variant:"destructive",children:"Fail"});default:return o.jsx(et,{variant:"secondary",children:"Testing..."})}},Ane=({result:t})=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_ne,{status:t.status}),o.jsx("span",{className:"text-sm",children:t.name})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ene,{status:t.status}),t.message&&o.jsx("span",{className:"text-xs text-muted-foreground max-w-40 truncate",children:t.message})]})]}),Sne=({results:t})=>t.length===0?null:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Test Results:"}),t.map((e,n)=>o.jsx(Ane,{result:e},n))]}),jne=()=>{const[t,e]=x.useState([]);return o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(iD,{className:"h-5 w-5"}),"Stripe Integration Test Suite"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsx(bne,{onResultsUpdate:e}),o.jsx(Sne,{results:t}),o.jsx("div",{className:"p-3 bg-green-50 rounded-md border border-green-200",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"HTTPS Ready:"})," This test suite automatically detects your current protocol (HTTP/HTTPS) and configures all URLs accordingly. Your Stripe integration will work properly over HTTPS in production."]})}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," This test suite verifies that all Stripe edge functions are deployed and working correctly. The tests create minimal test data to verify connectivity without affecting real transactions."]})})]})]})},Nne=()=>{const[t,e]=x.useState(!1),{toast:n}=ze(),r=x.useCallback(async s=>{e(!0);try{console.log("Capturing Stripe charge:",s);const i=await $O.captureCharge(s);if(!i.success)throw new Error(i.error||"Charge capture failed");return n({title:"Charge Captured",description:`Charge ${s.chargeId} has been captured successfully.`}),i.data}catch(i){throw console.error("Charge capture error:",i),n({title:"Charge Capture Failed",description:i instanceof Error?i.message:"Failed to capture charge",variant:"destructive"}),i}finally{e(!1)}},[n]);return{loading:t,captureCharge:r}},Cne=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),[s,i]=x.useState("full"),{loading:a,captureCharge:c}=Nne(),l=async()=>{if(!t.trim())return;const u={chargeId:t.trim()};s==="partial"&&n&&(u.amount=Math.round(parseFloat(n)*100));try{await c(u),e(""),r(""),i("full")}catch{}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(on,{className:"h-5 w-5"}),"Stripe Charge Capture"]})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"chargeId",children:"Charge ID"}),o.jsx(ve,{id:"chargeId",placeholder:"ch_1234567890abcdef",value:t,onChange:u=>e(u.target.value),disabled:a}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the Stripe charge ID to capture (e.g., ch_3Ln3cj2eZvKYlo2C1lcnB8f6)"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ae,{children:"Capture Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"captureType",value:"full",checked:s==="full",onChange:()=>i("full"),disabled:a}),o.jsx("span",{children:"Full Capture"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"captureType",value:"partial",checked:s==="partial",onChange:()=>i("partial"),disabled:a}),o.jsx("span",{children:"Partial Capture"})]})]})]}),s==="partial"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{htmlFor:"amount",children:"Amount to Capture ($)"}),o.jsx(ve,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"10.00",value:n,onChange:u=>r(u.target.value),disabled:a})]}),o.jsx(q,{onClick:l,disabled:a||!t.trim()||s==="partial"&&!n,className:"w-full",children:a?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),"Capturing Charge..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ut,{className:"h-4 w-4"}),s==="full"?"Capture Full Amount":`Capture $${n||"0.00"}`]})})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{className:"text-lg",children:"About Charge Capture"})}),o.jsx(G,{children:o.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Authorization vs Capture:"})," Some charges are authorized but not captured immediately"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Full Capture:"})," Captures the entire authorized amount"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Partial Capture:"})," Captures only part of the authorized amount"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Time Limit:"})," Authorized charges must be captured within 7 days"]})]})})]})]})},kne=()=>{const t=bn();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Stripe Integration Test"})]}),o.jsxs(wl,{defaultValue:"integration",className:"w-full",children:[o.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[o.jsx(_t,{value:"integration",children:"Integration Tests"}),o.jsx(_t,{value:"capture",children:"Charge Capture"})]}),o.jsx(Et,{value:"integration",className:"space-y-4",children:o.jsx(jne,{})}),o.jsx(Et,{value:"capture",className:"space-y-4",children:o.jsx(Cne,{})})]})]})})},Tne=()=>{const t=[{name:"Stripe Payment Integration",status:"passing",description:"Payment processing is working correctly"},{name:"User Authentication",status:"passing",description:"Google OAuth and email auth functional"},{name:"Database Connections",status:"passing",description:"Supabase connection established"},{name:"Affiliate Tracking",status:"passing",description:"Partner integrations are active"},{name:"Payout Processing",status:"warning",description:"Some manual verification required"}],e=r=>{switch(r){case"passing":return o.jsx(Ft,{className:"h-4 w-4 text-green-500"});case"warning":return o.jsx(Bc,{className:"h-4 w-4 text-yellow-500"});default:return o.jsx(ti,{className:"h-4 w-4 text-gray-500"})}},n=r=>{switch(r){case"passing":return o.jsx(et,{className:"bg-green-100 text-green-800",children:"Passing"});case"warning":return o.jsx(et,{className:"bg-yellow-100 text-yellow-800",children:"Warning"});default:return o.jsx(et,{variant:"secondary",children:"Pending"})}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Dt,{to:"/",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Production Test Dashboard"})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"System Status Overview"})}),o.jsx(G,{children:o.jsx("div",{className:"space-y-4",children:t.map((r,s)=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[e(r.status),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:r.name}),o.jsx("p",{className:"text-sm text-gray-600",children:r.description})]})]}),n(r.status)]},s))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{className:"text-lg",children:"Active Users"})}),o.jsxs(G,{children:[o.jsx("div",{className:"text-3xl font-bold text-green-600",children:"1,247"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Currently online"})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{className:"text-lg",children:"Transactions Today"})}),o.jsxs(G,{children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"89"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Successful payments"})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{className:"text-lg",children:"System Uptime"})}),o.jsxs(G,{children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"99.9%"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Last 30 days"})]})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Recent Activity"})}),o.jsx(G,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Payment processor health check"}),o.jsx(et,{className:"bg-green-100 text-green-800",children:"Completed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Database backup verification"}),o.jsx(et,{className:"bg-green-100 text-green-800",children:"Completed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Affiliate link validation"}),o.jsx(et,{className:"bg-yellow-100 text-yellow-800",children:"In Progress"})]})]})})]})]})})};class Pne{async fetchBalanceTransactions(e){try{console.log("Fetching balance transactions:",e);const{data:n,error:r}=await ue.functions.invoke("fetch-balance-transactions",{body:e});if(r)throw new Error(r.message||"Failed to fetch balance transactions");return n}catch(n){throw console.error("Balance Transaction Service Error:",n),n}}async getBalanceTransaction(e){try{console.log("Fetching balance transaction:",e);const{data:n,error:r}=await ue.functions.invoke("get-balance-transaction",{body:{transactionId:e}});if(r)throw new Error(r.message||"Failed to fetch balance transaction");return n.data}catch(n){throw console.error("Get Balance Transaction Error:",n),n}}}const Ine=new Pne,m4=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(!1),[s,i]=x.useState(!1),[a,c]=x.useState(null),{toast:l}=ze(),u=x.useCallback(async(p={},g=!1)=>{r(!0),c(null);try{const m=await Ine.fetchBalanceTransactions(p);if(!m.success)throw new Error(m.error||"Failed to fetch transactions");e(g?y=>[...y,...m.data.data]:m.data.data),i(m.data.has_more)}catch(m){const y=m instanceof Error?m.message:"Failed to fetch transactions";c(y),l({title:"Error",description:y,variant:"destructive"})}finally{r(!1)}},[l]),d=x.useCallback(async p=>{if(!s||n||t.length===0)return;const g=t[t.length-1];await u({starting_after:g.id,filters:p},!0)},[s,n,t,u]),f=x.useCallback(async p=>{await u({filters:p})},[u]),h=x.useCallback(async()=>{await u()},[u]);return{transactions:t,loading:n,hasMore:s,error:a,fetchTransactions:u,loadMore:d,applyFilters:f,refresh:h}},Rne=()=>{const{transactions:t,loading:e,fetchTransactions:n}=m4(),[r,s]=x.useState({totalIn:0,totalOut:0,netAmount:0,totalFees:0,transactionCount:0});x.useEffect(()=>{n({limit:100})},[n]),x.useEffect(()=>{if(t.length>0){const c=t.reduce((l,u)=>(u.amount>0?l.totalIn+=u.amount:l.totalOut+=Math.abs(u.amount),l.netAmount+=u.net,l.totalFees+=u.fee,l.transactionCount+=1,l),{totalIn:0,totalOut:0,netAmount:0,totalFees:0,transactionCount:0});s(c)}},[t]);const i=(c,l="usd")=>{const u=c/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:l.toUpperCase()}).format(u)},a=()=>t.sort((c,l)=>l.created-c.created).slice(0,5);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Total Incoming"}),o.jsx(ll,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(G,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:i(r.totalIn)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Money received"})]})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Total Outgoing"}),o.jsx(z3,{className:"h-4 w-4 text-red-600"})]}),o.jsxs(G,{children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:i(r.totalOut)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Money sent out"})]})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Net Amount"}),o.jsx(Ut,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(G,{children:[o.jsx("div",{className:`text-2xl font-bold ${r.netAmount>=0?"text-green-600":"text-red-600"}`,children:i(r.netAmount)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"After fees"})]})]}),o.jsxs(V,{children:[o.jsxs(Z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(X,{className:"text-sm font-medium",children:"Total Fees"}),o.jsx(H3,{className:"h-4 w-4 text-orange-600"})]}),o.jsxs(G,{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i(r.totalFees)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.transactionCount," transactions"]})]})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Recent Transactions"})}),o.jsx(G,{children:e?o.jsx("div",{className:"text-center py-4",children:"Loading recent transactions..."}):a().length>0?o.jsx("div",{className:"space-y-3",children:a().map(c=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${c.amount<0?"bg-red-500":"bg-green-500"}`}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium capitalize",children:c.type.replace("_"," ")}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(c.created*1e3).toLocaleDateString()})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`font-medium ${c.amount<0?"text-red-600":"text-green-600"}`,children:[c.amount<0?"-":"+",i(Math.abs(c.amount),c.currency)]}),o.jsx(et,{className:"text-xs",children:c.status})]})]},c.id))}):o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No recent transactions"})})]})]})},One=({transaction:t,onViewDetails:e})=>{const n=l=>{switch(l){case"charge":case"payment":return on;case"refund":return ul;case"transfer":return cc;case"payout":return Ut;default:return t.amount<0?V3:G3}},r=l=>{switch(l){case"available":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"in_transit":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},s=(l,u)=>{const d=Math.abs(l)/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:u.toUpperCase()}).format(d)},i=l=>new Date(l*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=n(t.type),c=t.amount<0;return o.jsx(V,{className:"hover:shadow-md transition-shadow",children:o.jsx(G,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${c?"bg-red-100":"bg-green-100"}`,children:o.jsx(a,{className:`h-4 w-4 ${c?"text-red-600":"text-green-600"}`})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-medium capitalize",children:t.type.replace("_"," ")}),o.jsx(et,{className:r(t.status),children:t.status.replace("_"," ")})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:t.description||t.reporting_category}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",i(t.created),t.available_on!==t.created&&o.jsxs("span",{className:"ml-2",children:["Available: ",i(t.available_on)]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`text-lg font-semibold ${c?"text-red-600":"text-green-600"}`,children:[c?"-":"+",s(t.amount,t.currency)]}),t.fee>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Fee: ",s(t.fee,t.currency)]}),o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Net: ",s(t.net,t.currency)]}),e&&o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>e(t),className:"mt-2",children:[o.jsx(ro,{className:"h-3 w-3 mr-1"}),"Details"]})]})]})})})},Mne=()=>{const{transactions:t,loading:e,hasMore:n,error:r,fetchTransactions:s,loadMore:i,applyFilters:a,refresh:c}=m4(),[l,u]=x.useState({}),[d,f]=x.useState(!1);x.useEffect(()=>{s()},[s]);const h=(m,y)=>{const v={...l};y?v[m]=y:delete v[m],u(v)},p=()=>{a(l)},g=()=>{u({}),s()};return o.jsxs(V,{children:[o.jsxs(Z,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(X,{className:"flex items-center gap-2",children:"Balance Transactions"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(q,{variant:"outline",size:"sm",onClick:()=>f(!d),children:[o.jsx(Q3,{className:"h-4 w-4 mr-1"}),"Filters"]}),o.jsxs(q,{variant:"outline",size:"sm",onClick:c,disabled:e,children:[o.jsx(ul,{className:`h-4 w-4 mr-1 ${e?"animate-spin":""}`}),"Refresh"]})]})]}),d&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted rounded-md",children:[o.jsxs(Ki,{onValueChange:m=>h("type",m),children:[o.jsx(qs,{children:o.jsx(Yi,{placeholder:"Transaction Type"})}),o.jsxs(Qs,{children:[o.jsx(Pt,{value:"",children:"All Types"}),o.jsx(Pt,{value:"charge",children:"Charge"}),o.jsx(Pt,{value:"refund",children:"Refund"}),o.jsx(Pt,{value:"transfer",children:"Transfer"}),o.jsx(Pt,{value:"payout",children:"Payout"}),o.jsx(Pt,{value:"adjustment",children:"Adjustment"})]})]}),o.jsxs(Ki,{onValueChange:m=>h("status",m),children:[o.jsx(qs,{children:o.jsx(Yi,{placeholder:"Status"})}),o.jsxs(Qs,{children:[o.jsx(Pt,{value:"",children:"All Statuses"}),o.jsx(Pt,{value:"available",children:"Available"}),o.jsx(Pt,{value:"pending",children:"Pending"}),o.jsx(Pt,{value:"in_transit",children:"In Transit"})]})]}),o.jsxs(Ki,{onValueChange:m=>h("reporting_category",m),children:[o.jsx(qs,{children:o.jsx(Yi,{placeholder:"Category"})}),o.jsxs(Qs,{children:[o.jsx(Pt,{value:"",children:"All Categories"}),o.jsx(Pt,{value:"charge",children:"Charge"}),o.jsx(Pt,{value:"refund",children:"Refund"}),o.jsx(Pt,{value:"transfer",children:"Transfer"}),o.jsx(Pt,{value:"payout",children:"Payout"})]})]}),o.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[o.jsx(q,{onClick:p,size:"sm",children:"Apply Filters"}),o.jsx(q,{onClick:g,variant:"outline",size:"sm",children:"Clear Filters"})]})]})]}),o.jsxs(G,{children:[r&&o.jsxs("div",{className:"text-center py-8 text-red-600",children:[o.jsxs("p",{children:["Error loading transactions: ",r]}),o.jsx(q,{onClick:c,className:"mt-2",children:"Try Again"})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4",children:t.map(m=>o.jsx(One,{transaction:m},m.id))}),t.length===0&&!e&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{children:"No balance transactions found"})}),e&&o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nn,{className:"h-6 w-6 animate-spin"})}),n&&!e&&o.jsx("div",{className:"text-center mt-6",children:o.jsx(q,{onClick:()=>i(l),variant:"outline",children:"Load More"})})]})]})]})},Bne=()=>{const t=bn();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-6xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Balance Transactions"})]}),o.jsxs(wl,{defaultValue:"dashboard",className:"space-y-6",children:[o.jsxs(Sa,{className:"grid w-full grid-cols-2",children:[o.jsx(_t,{value:"dashboard",children:"Dashboard"}),o.jsx(_t,{value:"transactions",children:"All Transactions"})]}),o.jsx(Et,{value:"dashboard",children:o.jsx(Rne,{})}),o.jsx(Et,{value:"transactions",children:o.jsx(Mne,{})})]})]})})},Dne=()=>{const t=bn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(V,{className:"w-full max-w-md",children:o.jsxs(G,{className:"p-6 text-center space-y-4",children:[o.jsx(tr,{className:"h-16 w-16 text-blue-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Setup Simulation"}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Y3,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Simulation Mode Active"}),o.jsx("p",{className:"text-sm text-blue-700",children:"You're using a restricted Stripe API key. For live Express accounts and real payouts, you'll need full API access and proper Stripe Connect setup."})]})]})}),o.jsx("p",{className:"text-gray-600",children:"This is a demonstration of the account setup flow. In production, this would connect to Stripe's Express account onboarding process."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(q,{onClick:()=>t("/account-setup-success"),className:"w-full",children:"Continue to Success Page"}),o.jsxs(q,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})]})})})},Lne=()=>{const t=bn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(V,{className:"w-full max-w-md",children:o.jsxs(G,{className:"p-6 text-center space-y-4",children:[o.jsx(Ft,{className:"h-16 w-16 text-green-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup Complete!"}),o.jsx("p",{className:"text-gray-600",children:"Your bank account has been successfully verified. You can now proceed with withdrawals."}),o.jsxs(q,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})})})},Fne=()=>{const t=bn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(V,{className:"w-full max-w-md",children:o.jsxs(G,{className:"p-6 text-center space-y-4",children:[o.jsx(mp,{className:"h-16 w-16 text-red-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup Cancelled"}),o.jsx("p",{className:"text-gray-600",children:"The bank account setup process was cancelled. You can try again anytime from your dashboard."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(q,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),o.jsxs(q,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:[o.jsx(aw,{className:"h-4 w-4 mr-2"}),"Try Setup Again"]})]})]})})})},Une=()=>{const t=bn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(V,{className:"w-full max-w-md",children:o.jsxs(G,{className:"p-6 text-center space-y-4",children:[o.jsx(Ft,{className:"h-16 w-16 text-green-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Successful!"}),o.jsx("p",{className:"text-gray-600",children:"Your withdrawal has been processed successfully. Funds will arrive in your bank account within 1-2 business days."}),o.jsxs(q,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})})})},$ne=()=>{const t=bn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(V,{className:"w-full max-w-md",children:o.jsxs(G,{className:"p-6 text-center space-y-4",children:[o.jsx(mp,{className:"h-16 w-16 text-red-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Cancelled"}),o.jsx("p",{className:"text-gray-600",children:"The withdrawal process was cancelled. Your funds remain available in your account."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(q,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),o.jsxs(q,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:[o.jsx(aw,{className:"h-4 w-4 mr-2"}),"Try Withdrawal Again"]})]})]})})})},Hne=()=>{const[t]=y6(),e=bn(),{toast:n}=ze(),[r,s]=x.useState("loading"),[i,a]=x.useState(null),c=t.get("session_id");return x.useEffect(()=>{c?(async()=>{try{s("complete"),a({customer_email:"user@example.com",amount_total:999,currency:"usd"}),n({title:"Subscription Activated!",description:"Your subscription has been successfully activated."})}catch{s("failed"),n({title:"Verification Failed",description:"Unable to verify your subscription. Please contact support.",variant:"destructive"})}})():s("no-session")},[c,n]),r==="loading"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsx(V,{children:o.jsx(G,{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Verifying your subscription..."})]})})})})}):r==="failed"||r==="no-session"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsx(V,{children:o.jsxs(G,{className:"text-center py-12",children:[o.jsxs("div",{className:"text-red-600 mb-4",children:[o.jsx("p",{className:"text-lg font-medium",children:r==="no-session"?"No session found":"Subscription verification failed"}),o.jsx("p",{className:"text-sm",children:"Please contact support if you believe this is an error."})]}),o.jsx(q,{onClick:()=>e("/"),children:"Return Home"})]})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsxs(V,{children:[o.jsxs(Z,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(Ft,{className:"h-10 w-10 text-green-600"})}),o.jsx(X,{className:"text-2xl text-green-800",children:"Subscription Activated!"})]}),o.jsxs(G,{className:"text-center space-y-6",children:[o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[o.jsx("p",{className:"text-green-800 font-medium mb-2",children:"Thank you for subscribing to EarnFlow!"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Your subscription has been successfully activated and you now have access to all premium features."})]}),i&&o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Subscription Details"}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsxs("p",{children:["Email: ",i.customer_email]}),o.jsxs("p",{children:["Amount: $",(i.amount_total/100).toFixed(2)," ",i.currency.toUpperCase()]}),o.jsx("p",{children:"Status: Active"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(q,{onClick:()=>e("/"),size:"lg",className:"flex items-center gap-2",children:[o.jsx(QN,{className:"h-4 w-4"}),"Go to Dashboard"]}),o.jsxs(q,{onClick:()=>e("/profile"),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[o.jsx(KN,{className:"h-4 w-4"}),"Manage Subscription"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"You can manage your subscription anytime from your account settings."})]})]})})})},zne=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Dt,{to:"/",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Contact Us"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(eD,{className:"h-5 w-5"}),"Email Support"]})}),o.jsxs(G,{children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"For general inquiries and support requests"}),o.jsx("a",{href:"mailto:support@earnflow.com",className:"text-blue-600 hover:text-blue-800 font-medium",children:"support@earnflow.com"})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(tD,{className:"h-5 w-5"}),"Live Chat"]})}),o.jsxs(G,{children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Available Monday-Friday, 9 AM - 6 PM EST"}),o.jsx(q,{className:"w-full",children:"Start Live Chat"})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsxs(X,{className:"flex items-center gap-2",children:[o.jsx(rD,{className:"h-5 w-5"}),"Phone Support"]})}),o.jsxs(G,{children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"For urgent matters and payment issues"}),o.jsx("a",{href:"tel:+1-555-EARNFLOW",className:"text-blue-600 hover:text-blue-800 font-medium",children:"+1 (555) EARN-FLOW"})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Business Hours"})}),o.jsx(G,{children:o.jsxs("div",{className:"space-y-2 text-gray-600",children:[o.jsx("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM EST"}),o.jsx("p",{children:"Saturday: 10:00 AM - 4:00 PM EST"}),o.jsx("p",{children:"Sunday: Closed"})]})})]})]}),o.jsxs(V,{children:[o.jsx(Z,{children:o.jsx(X,{children:"Frequently Asked Questions"})}),o.jsxs(G,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"How do I get paid?"}),o.jsx("p",{className:"text-gray-600",children:"Payments are processed through Stripe and other secure payment processors. You can set up automatic payouts or request manual withdrawals."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"When do I receive my earnings?"}),o.jsx("p",{className:"text-gray-600",children:"Earnings are typically processed within 2-3 business days after completion of tasks and verification of partner commissions."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"Is my personal information safe?"}),o.jsx("p",{className:"text-gray-600",children:"Yes, we use industry-standard encryption and never sell your personal information to third parties. View our Privacy Policy for more details."})]})]})]})]})}),Vne=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Dt,{to:"/",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"About EarnFlow"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Our Mission"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"EarnFlow is a platform that connects users with real earning opportunities through affiliate partnerships and ad revenue sharing. We believe in transparent, fair compensation for user engagement and provide secure payment processing through trusted partners."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"How It Works"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:" Complete tasks and interact with partner advertisements"}),o.jsx("p",{className:"text-gray-700",children:" Earn commissions through verified affiliate partnerships"}),o.jsx("p",{className:"text-gray-700",children:" Receive secure payments via Stripe and other trusted processors"}),o.jsx("p",{className:"text-gray-700",children:" Track your earnings and payment history in real-time"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Privacy & Security"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your privacy is our priority. We collect minimal personal information, use industry-standard encryption, and never sell your data to third parties. All payments are processed through secure, PCI-compliant payment processors."})]})]})]})}),Gne=()=>{const t=pl();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Wne=()=>{const t=bn(),e=()=>{t("/dashboard")};return o.jsx(Ck,{onBack:e})},qne=[{title:"Home",to:"/",icon:o.jsx(QN,{className:"h-4 w-4"}),page:o.jsx(Nk,{})},{title:"Dashboard",to:"/dashboard",icon:o.jsx(b_,{className:"h-4 w-4"}),page:o.jsx(KH,{})},{title:"Ad Revenue",to:"/ad-revenue",icon:o.jsx(Ut,{className:"h-4 w-4"}),page:o.jsx(w9,{})},{title:"Affiliate Revenue",to:"/affiliate-revenue",icon:o.jsx(kr,{className:"h-4 w-4"}),page:o.jsx(E9,{})},{title:"Bitcoin Wallet",to:"/bitcoin-wallet",icon:o.jsx(ia,{className:"h-4 w-4"}),page:o.jsx(S9,{})},{title:"Decentralized Wallet",to:"/decentralized-wallet",icon:o.jsx(so,{className:"h-4 w-4"}),page:o.jsx(IX,{})},{title:"Secure Bank Transfer",to:"/secure-bank-transfer",icon:o.jsx(cn,{className:"h-4 w-4"}),page:o.jsx(zee,{})},{title:"Auth",to:"/auth",icon:o.jsx(oa,{className:"h-4 w-4"}),page:o.jsx(Gee,{})},{title:"Payment",to:"/payment",icon:o.jsx(on,{className:"h-4 w-4"}),page:o.jsx(Wee,{})},{title:"Embedded Checkout",to:"/embedded-checkout",icon:o.jsx(on,{className:"h-4 w-4"}),page:o.jsx(Pte,{})},{title:"Stripe Payment",to:"/stripe-payment",icon:o.jsx(on,{className:"h-4 w-4"}),page:o.jsx(Bte,{})},{title:"Payout Integration",to:"/payout-integration",icon:o.jsx(Ut,{className:"h-4 w-4"}),page:o.jsx(Dte,{})},{title:"Destination Checkout",to:"/destination-checkout",icon:o.jsx(on,{className:"h-4 w-4"}),page:o.jsx(Wte,{})},{title:"Stripe Connect Link",to:"/stripe-connect-link",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Kte,{})},{title:"Stripe Connect OAuth",to:"/stripe-connect-oauth",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Yte,{})},{title:"Custom Stripe Onboarding",to:"/custom-stripe-onboarding",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(xne,{})},{title:"Stripe Test",to:"/stripe-test",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(kne,{})},{title:"Production Test",to:"/production-test",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Tne,{})},{title:"Balance Transactions",to:"/balance-transactions",icon:o.jsx(b_,{className:"h-4 w-4"}),page:o.jsx(Bne,{})},{title:"Account Setup Simulation",to:"/account-setup-simulation",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Dne,{})},{title:"Account Setup Success",to:"/account-setup-success",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Lne,{})},{title:"Account Setup Cancelled",to:"/account-setup-cancelled",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Fne,{})},{title:"Withdrawal Success",to:"/withdrawal-success",icon:o.jsx(Ut,{className:"h-4 w-4"}),page:o.jsx(Une,{})},{title:"Withdrawal Cancelled",to:"/withdrawal-cancelled",icon:o.jsx(Ut,{className:"h-4 w-4"}),page:o.jsx($ne,{})},{title:"Subscription Success",to:"/subscription-success",icon:o.jsx(on,{className:"h-4 w-4"}),page:o.jsx(Hne,{})},{title:"Contact",to:"/contact",icon:o.jsx(oa,{className:"h-4 w-4"}),page:o.jsx(zne,{})},{title:"About",to:"/about",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Vne,{})},{title:"Privacy Policy",to:"/privacy-policy",icon:o.jsx(cn,{className:"h-4 w-4"}),page:o.jsx(Wne,{})},{title:"404",to:"/404",icon:o.jsx(tr,{className:"h-4 w-4"}),page:o.jsx(Gne,{})}],Qne=Jb("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),Kne=({clientSecret:t,amount:e,onSuccess:n,onError:r})=>{const s=UO(),i=DO(),[a,c]=x.useState(!1),{toast:l}=ze(),u=async d=>{if(d.preventDefault(),!(!s||!i)){c(!0);try{const{error:f,paymentIntent:h}=await s.confirmPayment({elements:i,redirect:"if_required"});if(f)throw new Error(f.message);h&&h.status==="succeeded"&&(l({title:"Payment Successful",description:`Payment of $${(e/100).toFixed(2)} completed successfully.`}),n?.(h.id))}catch(f){const h=f instanceof Error?f.message:"Payment failed";l({title:"Payment Failed",description:h,variant:"destructive"}),r?.(h)}finally{c(!1)}}};return o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ae,{children:"Payment Details"}),o.jsx("div",{className:"p-3 border rounded-md",children:o.jsx(Cte,{options:{layout:"tabs"}})})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: $",(e/100).toFixed(2)]}),o.jsx(q,{type:"submit",disabled:!s||!i||a,className:"w-full",children:a?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Processing Payment..."})]}):o.jsxs("span",{children:["Pay $",(e/100).toFixed(2)]})})]})},Yne=({amount:t,description:e="Payment",customerEmail:n,onSuccess:r,onError:s})=>{const[i,a]=x.useState(""),[c,l]=x.useState(!0),[u,d]=x.useState(n||""),{toast:f}=ze();x.useEffect(()=>{h()},[t,e]);const h=async()=>{try{l(!0);const{data:g,error:m}=await ue.functions.invoke("create-payment-intent",{body:{items:[{amount:t}],description:e,customerEmail:u}});if(m)throw new Error(m.message);if(!g?.success||!g?.clientSecret)throw new Error(g?.error||"Failed to create payment intent");a(g.clientSecret)}catch(g){const m=g instanceof Error?g.message:"Failed to initialize payment";f({title:"Payment Setup Failed",description:m,variant:"destructive"}),s?.(m)}finally{l(!1)}},p={clientSecret:i,appearance:{theme:"stripe",variables:{colorPrimary:"#3b82f6"}}};return c?o.jsx(V,{className:"w-full max-w-md mx-auto",children:o.jsxs(G,{className:"flex items-center justify-center py-8",children:[o.jsx(nn,{className:"h-6 w-6 animate-spin mr-2"}),o.jsx("span",{children:"Setting up payment..."})]})}):i?o.jsxs(V,{className:"w-full max-w-md mx-auto",children:[o.jsxs(Z,{children:[o.jsx(X,{children:"Payment Details"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),o.jsxs(G,{children:[o.jsx("div",{className:"space-y-4 mb-4",children:o.jsxs("div",{children:[o.jsx(Ae,{htmlFor:"email",children:"Email"}),o.jsx(ve,{id:"email",type:"email",value:u,onChange:g=>d(g.target.value),placeholder:"your@email.com",required:!0})]})}),o.jsx(Xb,{stripe:Qne,options:p,children:o.jsx(Kne,{clientSecret:i,amount:t,onSuccess:r,onError:s})})]})]}):o.jsx(V,{className:"w-full max-w-md mx-auto",children:o.jsx(G,{className:"flex items-center justify-center py-8",children:o.jsx("span",{className:"text-red-600",children:"Failed to initialize payment"})})})},Jne=()=>{const t=bn(),[e,n]=x.useState(!1),[r,s]=x.useState(""),i=c=>{s(c),n(!0)},a=c=>{console.error("Payment error:",c)};return e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx("h1",{className:"text-3xl font-bold text-green-600",children:"Payment Successful!"})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[o.jsx("div",{className:"text-green-600 text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thank you for your payment!"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Your payment has been processed successfully."}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Payment Intent ID: ",r]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(q,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(tn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Stripe Payment Intent"})]}),o.jsx("div",{className:"text-center mb-6",children:o.jsx("p",{className:"text-muted-foreground",children:"Complete your payment using Stripe's secure payment form"})}),o.jsx(Yne,{amount:2999,description:"Premium Service Payment",onSuccess:i,onError:a})]})})},Zne=new mF,Xne=()=>o.jsx(gF,{client:Zne,children:o.jsxs(G5,{children:[o.jsx(zD,{}),o.jsx(vL,{}),o.jsx(h6,{children:o.jsxs(i6,{children:[o.jsx(Xf,{path:"/",element:o.jsx(Nk,{})}),o.jsx(Xf,{path:"/payment-intent",element:o.jsx(Jne,{})}),qne.map(({to:t,page:e})=>o.jsx(Xf,{path:t,element:e},t))]})})]})});hN(document.getElementById("root")).render(o.jsx(Xne,{}))});export default ere();
