var SO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Sre=SO((nse,cu)=>{function NO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var u_={exports:{}},np={},d_={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),CO=Symbol.for("react.portal"),TO=Symbol.for("react.fragment"),PO=Symbol.for("react.strict_mode"),IO=Symbol.for("react.profiler"),RO=Symbol.for("react.provider"),OO=Symbol.for("react.context"),MO=Symbol.for("react.forward_ref"),BO=Symbol.for("react.suspense"),DO=Symbol.for("react.memo"),LO=Symbol.for("react.lazy"),v1=Symbol.iterator;function FO(t){return t===null||typeof t!="object"?null:(t=v1&&t[v1]||t["@@iterator"],typeof t=="function"?t:null)}var f_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h_=Object.assign,m_={};function fl(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||f_}fl.prototype.isReactComponent={};fl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p_(){}p_.prototype=fl.prototype;function bx(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||f_}var jx=bx.prototype=new p_;jx.constructor=bx;h_(jx,fl.prototype);jx.isPureReactComponent=!0;var x1=Array.isArray,g_=Object.prototype.hasOwnProperty,Ex={current:null},y_={key:!0,ref:!0,__self:!0,__source:!0};function v_(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)g_.call(e,r)&&!y_.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Td,type:t,key:i,ref:a,props:s,_owner:Ex.current}}function UO(t,e){return{$$typeof:Td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ax(t){return typeof t=="object"&&t!==null&&t.$$typeof===Td}function $O(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w1=/\/+/g;function Mg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$O(""+t.key):e.toString(36)}function Hf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Td:case CO:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Mg(a,0):r,x1(s)?(n="",t!=null&&(n=t.replace(w1,"$&/")+"/"),Hf(s,e,n,"",function(u){return u})):s!=null&&(Ax(s)&&(s=UO(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(w1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",x1(t))for(var c=0;c<t.length;c++){i=t[c];var l=r+Mg(i,c);a+=Hf(i,e,n,l,s)}else if(l=FO(t),typeof l=="function")for(t=l.call(t),c=0;!(i=t.next()).done;)i=i.value,l=r+Mg(i,c++),a+=Hf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function sf(t,e,n){if(t==null)return t;var r=[],s=0;return Hf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function HO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},zf={transition:null},zO={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:zf,ReactCurrentOwner:Ex};function x_(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:sf,forEach:function(t,e,n){sf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sf(t,function(){e++}),e},toArray:function(t){return sf(t,function(e){return e})||[]},only:function(t){if(!Ax(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=fl;ze.Fragment=TO;ze.Profiler=IO;ze.PureComponent=bx;ze.StrictMode=PO;ze.Suspense=BO;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zO;ze.act=x_;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ex.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)g_.call(e,l)&&!y_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:Td,type:t.type,key:s,ref:i,props:r,_owner:a}};ze.createContext=function(t){return t={$$typeof:OO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RO,_context:t},t.Consumer=t};ze.createElement=v_;ze.createFactory=function(t){var e=v_.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:MO,render:t}};ze.isValidElement=Ax;ze.lazy=function(t){return{$$typeof:LO,_payload:{_status:-1,_result:t},_init:HO}};ze.memo=function(t,e){return{$$typeof:DO,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=zf.transition;zf.transition={};try{t()}finally{zf.transition=e}};ze.unstable_act=x_;ze.useCallback=function(t,e){return Bn.current.useCallback(t,e)};ze.useContext=function(t){return Bn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return Bn.current.useEffect(t,e)};ze.useId=function(){return Bn.current.useId()};ze.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Bn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};ze.useRef=function(t){return Bn.current.useRef(t)};ze.useState=function(t){return Bn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return Bn.current.useTransition()};ze.version="18.3.1";d_.exports=ze;var v=d_.exports;const M=dl(v),w_=NO({__proto__:null,default:M},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO=v,GO=Symbol.for("react.element"),WO=Symbol.for("react.fragment"),qO=Object.prototype.hasOwnProperty,KO=VO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QO={key:!0,ref:!0,__self:!0,__source:!0};function b_(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)qO.call(e,r)&&!QO.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:GO,type:t,key:i,ref:a,props:s,_owner:KO.current}}np.Fragment=WO;np.jsx=b_;np.jsxs=b_;u_.exports=np;var o=u_.exports,j_={exports:{}},gr={},E_={exports:{}},A_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,B){var V=C.length;C.push(B);e:for(;0<V;){var q=V-1>>>1,ee=C[q];if(0<s(ee,B))C[q]=B,C[V]=ee,V=q;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var B=C[0],V=C.pop();if(V!==B){C[0]=V;e:for(var q=0,ee=C.length,he=ee>>>1;q<he;){var de=2*(q+1)-1,Fe=C[de],ke=de+1,le=C[ke];if(0>s(Fe,V))ke<ee&&0>s(le,Fe)?(C[q]=le,C[ke]=V,q=ke):(C[q]=Fe,C[de]=V,q=de);else if(ke<ee&&0>s(le,V))C[q]=le,C[ke]=V,q=ke;else break e}}return B}function s(C,B){var V=C.sortIndex-B.sortIndex;return V!==0?V:C.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(C){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=C)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function j(C){if(p=!1,b(C),!g)if(n(l)!==null)g=!0,k(E);else{var B=n(u);B!==null&&D(j,B.startTime-C)}}function E(C,B){g=!1,p&&(p=!1,x(_),_=-1),m=!0;var V=h;try{for(b(B),f=n(l);f!==null&&(!(f.expirationTime>B)||C&&!I());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var ee=q(f.expirationTime<=B);B=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),b(B)}else r(l);f=n(l)}if(f!==null)var he=!0;else{var de=n(u);de!==null&&D(j,de.startTime-B),he=!1}return he}finally{f=null,h=V,m=!1}}var N=!1,S=null,_=-1,O=5,T=-1;function I(){return!(t.unstable_now()-T<O)}function R(){if(S!==null){var C=t.unstable_now();T=C;var B=!0;try{B=S(!0,C)}finally{B?z():(N=!1,S=null)}}else N=!1}var z;if(typeof w=="function")z=function(){w(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,A=$.port2;$.port1.onmessage=R,z=function(){A.postMessage(null)}}else z=function(){y(R,0)};function k(C){S=C,N||(N=!0,z())}function D(C,B){_=y(function(){C(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,k(E))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var V=h;h=B;try{return C()}finally{h=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,B){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var V=h;h=C;try{return B()}finally{h=V}},t.unstable_scheduleCallback=function(C,B,V){var q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,C){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,C={id:d++,callback:B,priorityLevel:C,startTime:V,expirationTime:ee,sortIndex:-1},V>q?(C.sortIndex=V,e(u,C),n(l)===null&&C===n(u)&&(p?(x(_),_=-1):p=!0,D(j,V-q))):(C.sortIndex=ee,e(l,C),g||m||(g=!0,k(E))),C},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(C){var B=h;return function(){var V=h;h=B;try{return C.apply(this,arguments)}finally{h=V}}}})(A_);E_.exports=A_;var YO=E_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO=v,dr=YO;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var __=new Set,Tu={};function Na(t,e){Mc(t,e),Mc(t+"Capture",e)}function Mc(t,e){for(Tu[t]=e,t=0;t<e.length;t++)__.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=Object.prototype.hasOwnProperty,ZO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},j1={};function XO(t){return sv.call(j1,t)?!0:sv.call(b1,t)?!1:ZO.test(t)?j1[t]=!0:(b1[t]=!0,!1)}function e3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function t3(t,e,n,r){if(e===null||typeof e>"u"||e3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _x=/[\-:]([a-z])/g;function Sx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_x,Sx);ln[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_x,Sx);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_x,Sx);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nx(t,e,n,r){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(t3(e,n,s,r)&&(n=null),r||s===null?XO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hi=JO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),rc=Symbol.for("react.portal"),sc=Symbol.for("react.fragment"),kx=Symbol.for("react.strict_mode"),iv=Symbol.for("react.profiler"),S_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),Cx=Symbol.for("react.forward_ref"),ov=Symbol.for("react.suspense"),av=Symbol.for("react.suspense_list"),Tx=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),k_=Symbol.for("react.offscreen"),E1=Symbol.iterator;function Pl(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Bg;function Zl(t){if(Bg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bg=e&&e[1]||""}return`
`+Bg+t}var Dg=!1;function Lg(t,e){if(!t||Dg)return"";Dg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=c);break}}}finally{Dg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zl(t):""}function n3(t){switch(t.tag){case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return t=Lg(t.type,!1),t;case 11:return t=Lg(t.type.render,!1),t;case 1:return t=Lg(t.type,!0),t;default:return""}}function cv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sc:return"Fragment";case rc:return"Portal";case iv:return"Profiler";case kx:return"StrictMode";case ov:return"Suspense";case av:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N_:return(t.displayName||"Context")+".Consumer";case S_:return(t._context.displayName||"Context")+".Provider";case Cx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tx:return e=t.displayName||null,e!==null?e:cv(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return cv(t(e))}catch{}}return null}function r3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cv(e);case 8:return e===kx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s3(t){var e=C_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function af(t){t._valueTracker||(t._valueTracker=s3(t))}function T_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=C_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lv(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function P_(t,e){e=e.checked,e!=null&&Nx(t,"checked",e,!1)}function uv(t,e){P_(t,e);var n=oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dv(t,e.type,n):e.hasOwnProperty("defaultValue")&&dv(t,e.type,oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dv(t,e,n){(e!=="number"||gh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xl=Array.isArray;function xc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function S1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Xl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oo(n)}}function I_(t,e){var n=oo(e.value),r=oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cf,O_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cf=cf||document.createElement("div"),cf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i3=["Webkit","ms","Moz","O"];Object.keys(lu).forEach(function(t){i3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lu[e]=lu[t]})});function M_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lu.hasOwnProperty(t)&&lu[t]?(""+e).trim():e+"px"}function B_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=M_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var o3=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mv(t,e){if(e){if(o3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function pv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gv=null;function Px(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yv=null,wc=null,bc=null;function k1(t){if(t=Rd(t)){if(typeof yv!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=ap(e),yv(t.stateNode,t.type,e))}}function D_(t){wc?bc?bc.push(t):bc=[t]:wc=t}function L_(){if(wc){var t=wc,e=bc;if(bc=wc=null,k1(t),e)for(t=0;t<e.length;t++)k1(e[t])}}function F_(t,e){return t(e)}function U_(){}var Fg=!1;function $_(t,e,n){if(Fg)return t(e,n);Fg=!0;try{return F_(t,e,n)}finally{Fg=!1,(wc!==null||bc!==null)&&(U_(),L_())}}function Iu(t,e){var n=t.stateNode;if(n===null)return null;var r=ap(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var vv=!1;if(ei)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){vv=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{vv=!1}function a3(t,e,n,r,s,i,a,c,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var uu=!1,yh=null,vh=!1,xv=null,c3={onError:function(t){uu=!0,yh=t}};function l3(t,e,n,r,s,i,a,c,l){uu=!1,yh=null,a3.apply(c3,arguments)}function u3(t,e,n,r,s,i,a,c,l){if(l3.apply(this,arguments),uu){if(uu){var u=yh;uu=!1,yh=null}else throw Error(Z(198));vh||(vh=!0,xv=u)}}function ka(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function H_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C1(t){if(ka(t)!==t)throw Error(Z(188))}function d3(t){var e=t.alternate;if(!e){if(e=ka(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return C1(s),t;if(i===r)return C1(s),e;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function z_(t){return t=d3(t),t!==null?V_(t):null}function V_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V_(t);if(e!==null)return e;t=t.sibling}return null}var G_=dr.unstable_scheduleCallback,T1=dr.unstable_cancelCallback,f3=dr.unstable_shouldYield,h3=dr.unstable_requestPaint,Ot=dr.unstable_now,m3=dr.unstable_getCurrentPriorityLevel,Ix=dr.unstable_ImmediatePriority,W_=dr.unstable_UserBlockingPriority,xh=dr.unstable_NormalPriority,p3=dr.unstable_LowPriority,q_=dr.unstable_IdlePriority,rp=null,xs=null;function g3(t){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(rp,t,void 0,(t.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:x3,y3=Math.log,v3=Math.LN2;function x3(t){return t>>>=0,t===0?32:31-(y3(t)/v3|0)|0}var lf=64,uf=4194304;function eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=eu(c):(i&=a,i!==0&&(r=eu(i)))}else a=n&~s,a!==0?r=eu(a):i!==0&&(r=eu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Gr(e),s=1<<n,r|=t[n],e&=~s;return r}function w3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Gr(i),c=1<<a,l=s[a];l===-1?(!(c&n)||c&r)&&(s[a]=w3(c,e)):l<=e&&(t.expiredLanes|=c),i&=~c}}function wv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K_(){var t=lf;return lf<<=1,!(lf&4194240)&&(lf=64),t}function Ug(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gr(e),t[e]=n}function j3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Gr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Rx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Gr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var nt=0;function Q_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y_,Ox,J_,Z_,X_,bv=!1,df=[],Vi=null,Gi=null,Wi=null,Ru=new Map,Ou=new Map,Oi=[],E3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P1(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(e.pointerId)}}function Rl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Rd(e),e!==null&&Ox(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function A3(t,e,n,r,s){switch(e){case"focusin":return Vi=Rl(Vi,t,e,n,r,s),!0;case"dragenter":return Gi=Rl(Gi,t,e,n,r,s),!0;case"mouseover":return Wi=Rl(Wi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ru.set(i,Rl(Ru.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ou.set(i,Rl(Ou.get(i)||null,t,e,n,r,s)),!0}return!1}function eS(t){var e=Vo(t.target);if(e!==null){var n=ka(e);if(n!==null){if(e=n.tag,e===13){if(e=H_(n),e!==null){t.blockedOn=e,X_(t.priority,function(){J_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gv=r,n.target.dispatchEvent(r),gv=null}else return e=Rd(n),e!==null&&Ox(e),t.blockedOn=n,!1;e.shift()}return!0}function I1(t,e,n){Vf(t)&&n.delete(e)}function _3(){bv=!1,Vi!==null&&Vf(Vi)&&(Vi=null),Gi!==null&&Vf(Gi)&&(Gi=null),Wi!==null&&Vf(Wi)&&(Wi=null),Ru.forEach(I1),Ou.forEach(I1)}function Ol(t,e){t.blockedOn===e&&(t.blockedOn=null,bv||(bv=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,_3)))}function Mu(t){function e(s){return Ol(s,t)}if(0<df.length){Ol(df[0],t);for(var n=1;n<df.length;n++){var r=df[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&Ol(Vi,t),Gi!==null&&Ol(Gi,t),Wi!==null&&Ol(Wi,t),Ru.forEach(e),Ou.forEach(e),n=0;n<Oi.length;n++)r=Oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)eS(n),n.blockedOn===null&&Oi.shift()}var jc=hi.ReactCurrentBatchConfig,bh=!0;function S3(t,e,n,r){var s=nt,i=jc.transition;jc.transition=null;try{nt=1,Mx(t,e,n,r)}finally{nt=s,jc.transition=i}}function N3(t,e,n,r){var s=nt,i=jc.transition;jc.transition=null;try{nt=4,Mx(t,e,n,r)}finally{nt=s,jc.transition=i}}function Mx(t,e,n,r){if(bh){var s=jv(t,e,n,r);if(s===null)Yg(t,e,r,jh,n),P1(t,r);else if(A3(s,t,e,n,r))r.stopPropagation();else if(P1(t,r),e&4&&-1<E3.indexOf(t)){for(;s!==null;){var i=Rd(s);if(i!==null&&Y_(i),i=jv(t,e,n,r),i===null&&Yg(t,e,r,jh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yg(t,e,r,null,n)}}var jh=null;function jv(t,e,n,r){if(jh=null,t=Px(r),t=Vo(t),t!==null)if(e=ka(t),e===null)t=null;else if(n=e.tag,n===13){if(t=H_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jh=t,null}function tS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m3()){case Ix:return 1;case W_:return 4;case xh:case p3:return 16;case q_:return 536870912;default:return 16}default:return 16}}var Fi=null,Bx=null,Gf=null;function nS(){if(Gf)return Gf;var t,e=Bx,n=e.length,r,s="value"in Fi?Fi.value:Fi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Gf=s.slice(t,1<r?1-r:void 0)}function Wf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ff(){return!0}function R1(){return!1}function yr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ff:R1,this.isPropagationStopped=R1,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ff)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ff)},persist:function(){},isPersistent:ff}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dx=yr(hl),Id=St({},hl,{view:0,detail:0}),k3=yr(Id),$g,Hg,Ml,sp=St({},Id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?($g=t.screenX-Ml.screenX,Hg=t.screenY-Ml.screenY):Hg=$g=0,Ml=t),$g)},movementY:function(t){return"movementY"in t?t.movementY:Hg}}),O1=yr(sp),C3=St({},sp,{dataTransfer:0}),T3=yr(C3),P3=St({},Id,{relatedTarget:0}),zg=yr(P3),I3=St({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),R3=yr(I3),O3=St({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M3=yr(O3),B3=St({},hl,{data:0}),M1=yr(B3),D3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F3[t])?!!e[t]:!1}function Lx(){return U3}var $3=St({},Id,{key:function(t){if(t.key){var e=D3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lx,charCode:function(t){return t.type==="keypress"?Wf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H3=yr($3),z3=St({},sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B1=yr(z3),V3=St({},Id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lx}),G3=yr(V3),W3=St({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),q3=yr(W3),K3=St({},sp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q3=yr(K3),Y3=[9,13,27,32],Fx=ei&&"CompositionEvent"in window,du=null;ei&&"documentMode"in document&&(du=document.documentMode);var J3=ei&&"TextEvent"in window&&!du,rS=ei&&(!Fx||du&&8<du&&11>=du),D1=" ",L1=!1;function sS(t,e){switch(t){case"keyup":return Y3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ic=!1;function Z3(t,e){switch(t){case"compositionend":return iS(e);case"keypress":return e.which!==32?null:(L1=!0,D1);case"textInput":return t=e.data,t===D1&&L1?null:t;default:return null}}function X3(t,e){if(ic)return t==="compositionend"||!Fx&&sS(t,e)?(t=nS(),Gf=Bx=Fi=null,ic=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rS&&e.locale!=="ko"?null:e.data;default:return null}}var eM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eM[t.type]:e==="textarea"}function oS(t,e,n,r){D_(r),e=Eh(e,"onChange"),0<e.length&&(n=new Dx("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fu=null,Bu=null;function tM(t){yS(t,0)}function ip(t){var e=cc(t);if(T_(e))return t}function nM(t,e){if(t==="change")return e}var aS=!1;if(ei){var Vg;if(ei){var Gg="oninput"in document;if(!Gg){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),Gg=typeof U1.oninput=="function"}Vg=Gg}else Vg=!1;aS=Vg&&(!document.documentMode||9<document.documentMode)}function $1(){fu&&(fu.detachEvent("onpropertychange",cS),Bu=fu=null)}function cS(t){if(t.propertyName==="value"&&ip(Bu)){var e=[];oS(e,Bu,t,Px(t)),$_(tM,e)}}function rM(t,e,n){t==="focusin"?($1(),fu=e,Bu=n,fu.attachEvent("onpropertychange",cS)):t==="focusout"&&$1()}function sM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ip(Bu)}function iM(t,e){if(t==="click")return ip(e)}function oM(t,e){if(t==="input"||t==="change")return ip(e)}function aM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kr=typeof Object.is=="function"?Object.is:aM;function Du(t,e){if(Kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sv.call(e,s)||!Kr(t[s],e[s]))return!1}return!0}function H1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z1(t,e){var n=H1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H1(n)}}function lS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uS(){for(var t=window,e=gh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gh(t.document)}return e}function Ux(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cM(t){var e=uS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lS(n.ownerDocument.documentElement,n)){if(r!==null&&Ux(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=z1(n,i);var a=z1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lM=ei&&"documentMode"in document&&11>=document.documentMode,oc=null,Ev=null,hu=null,Av=!1;function V1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Av||oc==null||oc!==gh(r)||(r=oc,"selectionStart"in r&&Ux(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hu&&Du(hu,r)||(hu=r,r=Eh(Ev,"onSelect"),0<r.length&&(e=new Dx("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oc)))}function hf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ac={animationend:hf("Animation","AnimationEnd"),animationiteration:hf("Animation","AnimationIteration"),animationstart:hf("Animation","AnimationStart"),transitionend:hf("Transition","TransitionEnd")},Wg={},dS={};ei&&(dS=document.createElement("div").style,"AnimationEvent"in window||(delete ac.animationend.animation,delete ac.animationiteration.animation,delete ac.animationstart.animation),"TransitionEvent"in window||delete ac.transitionend.transition);function op(t){if(Wg[t])return Wg[t];if(!ac[t])return t;var e=ac[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dS)return Wg[t]=e[n];return t}var fS=op("animationend"),hS=op("animationiteration"),mS=op("animationstart"),pS=op("transitionend"),gS=new Map,G1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(t,e){gS.set(t,e),Na(e,[t])}for(var qg=0;qg<G1.length;qg++){var Kg=G1[qg],uM=Kg.toLowerCase(),dM=Kg[0].toUpperCase()+Kg.slice(1);wo(uM,"on"+dM)}wo(fS,"onAnimationEnd");wo(hS,"onAnimationIteration");wo(mS,"onAnimationStart");wo("dblclick","onDoubleClick");wo("focusin","onFocus");wo("focusout","onBlur");wo(pS,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("cancel close invalid load scroll toggle".split(" ").concat(tu));function W1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,u3(r,e,void 0,t),t.currentTarget=null}function yS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==i&&s.isPropagationStopped())break e;W1(s,c,u),i=l}else for(a=0;a<r.length;a++){if(c=r[a],l=c.instance,u=c.currentTarget,c=c.listener,l!==i&&s.isPropagationStopped())break e;W1(s,c,u),i=l}}}if(vh)throw t=xv,vh=!1,xv=null,t}function pt(t,e){var n=e[Cv];n===void 0&&(n=e[Cv]=new Set);var r=t+"__bubble";n.has(r)||(vS(e,t,2,!1),n.add(r))}function Qg(t,e,n){var r=0;e&&(r|=4),vS(n,t,r,e)}var mf="_reactListening"+Math.random().toString(36).slice(2);function Lu(t){if(!t[mf]){t[mf]=!0,__.forEach(function(n){n!=="selectionchange"&&(fM.has(n)||Qg(n,!1,t),Qg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mf]||(e[mf]=!0,Qg("selectionchange",!1,e))}}function vS(t,e,n,r){switch(tS(e)){case 1:var s=S3;break;case 4:s=N3;break;default:s=Mx}n=s.bind(null,e,n,t),s=void 0,!vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Vo(c),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}c=c.parentNode}}r=r.return}$_(function(){var u=i,d=Px(n),f=[];e:{var h=gS.get(t);if(h!==void 0){var m=Dx,g=t;switch(t){case"keypress":if(Wf(n)===0)break e;case"keydown":case"keyup":m=H3;break;case"focusin":g="focus",m=zg;break;case"focusout":g="blur",m=zg;break;case"beforeblur":case"afterblur":m=zg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=O1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=T3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=G3;break;case fS:case hS:case mS:m=R3;break;case pS:m=q3;break;case"scroll":m=k3;break;case"wheel":m=Q3;break;case"copy":case"cut":case"paste":m=M3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=B1}var p=(e&4)!==0,y=!p&&t==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=Iu(w,x),j!=null&&p.push(Fu(w,j,b)))),y)break;w=w.return}0<p.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==gv&&(g=n.relatedTarget||n.fromElement)&&(Vo(g)||g[ti]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Vo(g):null,g!==null&&(y=ka(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=O1,j="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(p=B1,j="onPointerLeave",x="onPointerEnter",w="pointer"),y=m==null?h:cc(m),b=g==null?h:cc(g),h=new p(j,w+"leave",m,n,d),h.target=y,h.relatedTarget=b,j=null,Vo(d)===u&&(p=new p(x,w+"enter",g,n,d),p.target=b,p.relatedTarget=y,j=p),y=j,m&&g)t:{for(p=m,x=g,w=0,b=p;b;b=La(b))w++;for(b=0,j=x;j;j=La(j))b++;for(;0<w-b;)p=La(p),w--;for(;0<b-w;)x=La(x),b--;for(;w--;){if(p===x||x!==null&&p===x.alternate)break t;p=La(p),x=La(x)}p=null}else p=null;m!==null&&q1(f,h,m,p,!1),g!==null&&y!==null&&q1(f,y,g,p,!0)}}e:{if(h=u?cc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=nM;else if(F1(h))if(aS)E=oM;else{E=sM;var N=rM}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=iM);if(E&&(E=E(t,u))){oS(f,E,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&dv(h,"number",h.value)}switch(N=u?cc(u):window,t){case"focusin":(F1(N)||N.contentEditable==="true")&&(oc=N,Ev=u,hu=null);break;case"focusout":hu=Ev=oc=null;break;case"mousedown":Av=!0;break;case"contextmenu":case"mouseup":case"dragend":Av=!1,V1(f,n,d);break;case"selectionchange":if(lM)break;case"keydown":case"keyup":V1(f,n,d)}var S;if(Fx)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ic?sS(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(rS&&n.locale!=="ko"&&(ic||_!=="onCompositionStart"?_==="onCompositionEnd"&&ic&&(S=nS()):(Fi=d,Bx="value"in Fi?Fi.value:Fi.textContent,ic=!0)),N=Eh(u,_),0<N.length&&(_=new M1(_,t,null,n,d),f.push({event:_,listeners:N}),S?_.data=S:(S=iS(n),S!==null&&(_.data=S)))),(S=J3?Z3(t,n):X3(t,n))&&(u=Eh(u,"onBeforeInput"),0<u.length&&(d=new M1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}yS(f,e)})}function Fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Iu(t,n),i!=null&&r.unshift(Fu(t,i,s)),i=Iu(t,e),i!=null&&r.push(Fu(t,i,s))),t=t.return}return r}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var c=n,l=c.alternate,u=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&u!==null&&(c=u,s?(l=Iu(n,i),l!=null&&a.unshift(Fu(n,l,c))):s||(l=Iu(n,i),l!=null&&a.push(Fu(n,l,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var hM=/\r\n?/g,mM=/\u0000|\uFFFD/g;function K1(t){return(typeof t=="string"?t:""+t).replace(hM,`
`).replace(mM,"")}function pf(t,e,n){if(e=K1(e),K1(t)!==e&&n)throw Error(Z(425))}function Ah(){}var _v=null,Sv=null;function Nv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kv=typeof setTimeout=="function"?setTimeout:void 0,pM=typeof clearTimeout=="function"?clearTimeout:void 0,Q1=typeof Promise=="function"?Promise:void 0,gM=typeof queueMicrotask=="function"?queueMicrotask:typeof Q1<"u"?function(t){return Q1.resolve(null).then(t).catch(yM)}:kv;function yM(t){setTimeout(function(){throw t})}function Jg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Mu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Mu(e)}function qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ml=Math.random().toString(36).slice(2),fs="__reactFiber$"+ml,Uu="__reactProps$"+ml,ti="__reactContainer$"+ml,Cv="__reactEvents$"+ml,vM="__reactListeners$"+ml,xM="__reactHandles$"+ml;function Vo(t){var e=t[fs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[fs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y1(t);t!==null;){if(n=t[fs])return n;t=Y1(t)}return e}t=n,n=t.parentNode}return null}function Rd(t){return t=t[fs]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function ap(t){return t[Uu]||null}var Tv=[],lc=-1;function bo(t){return{current:t}}function gt(t){0>lc||(t.current=Tv[lc],Tv[lc]=null,lc--)}function dt(t,e){lc++,Tv[lc]=t.current,t.current=e}var ao={},xn=bo(ao),Yn=bo(!1),ca=ao;function Bc(t,e){var n=t.type.contextTypes;if(!n)return ao;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jn(t){return t=t.childContextTypes,t!=null}function _h(){gt(Yn),gt(xn)}function J1(t,e,n){if(xn.current!==ao)throw Error(Z(168));dt(xn,e),dt(Yn,n)}function xS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Z(108,r3(t)||"Unknown",s));return St({},n,r)}function Sh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ao,ca=xn.current,dt(xn,t),dt(Yn,Yn.current),!0}function Z1(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=xS(t,e,ca),r.__reactInternalMemoizedMergedChildContext=t,gt(Yn),gt(xn),dt(xn,t)):gt(Yn),dt(Yn,n)}var Hs=null,cp=!1,Zg=!1;function wS(t){Hs===null?Hs=[t]:Hs.push(t)}function wM(t){cp=!0,wS(t)}function jo(){if(!Zg&&Hs!==null){Zg=!0;var t=0,e=nt;try{var n=Hs;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hs=null,cp=!1}catch(s){throw Hs!==null&&(Hs=Hs.slice(t+1)),G_(Ix,jo),s}finally{nt=e,Zg=!1}}return null}var uc=[],dc=0,Nh=null,kh=0,_r=[],Sr=0,la=null,Ws=1,qs="";function Mo(t,e){uc[dc++]=kh,uc[dc++]=Nh,Nh=t,kh=e}function bS(t,e,n){_r[Sr++]=Ws,_r[Sr++]=qs,_r[Sr++]=la,la=t;var r=Ws;t=qs;var s=32-Gr(r)-1;r&=~(1<<s),n+=1;var i=32-Gr(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Ws=1<<32-Gr(e)+s|n<<s|r,qs=i+t}else Ws=1<<i|n<<s|r,qs=t}function $x(t){t.return!==null&&(Mo(t,1),bS(t,1,0))}function Hx(t){for(;t===Nh;)Nh=uc[--dc],uc[dc]=null,kh=uc[--dc],uc[dc]=null;for(;t===la;)la=_r[--Sr],_r[Sr]=null,qs=_r[--Sr],_r[Sr]=null,Ws=_r[--Sr],_r[Sr]=null}var cr=null,ar=null,wt=!1,Hr=null;function jS(t,e){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function X1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,ar=qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=la!==null?{id:Ws,overflow:qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,ar=null,!0):!1;default:return!1}}function Pv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iv(t){if(wt){var e=ar;if(e){var n=e;if(!X1(t,e)){if(Pv(t))throw Error(Z(418));e=qi(n.nextSibling);var r=cr;e&&X1(t,e)?jS(r,n):(t.flags=t.flags&-4097|2,wt=!1,cr=t)}}else{if(Pv(t))throw Error(Z(418));t.flags=t.flags&-4097|2,wt=!1,cr=t}}}function ej(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function gf(t){if(t!==cr)return!1;if(!wt)return ej(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nv(t.type,t.memoizedProps)),e&&(e=ar)){if(Pv(t))throw ES(),Error(Z(418));for(;e;)jS(t,e),e=qi(e.nextSibling)}if(ej(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=cr?qi(t.stateNode.nextSibling):null;return!0}function ES(){for(var t=ar;t;)t=qi(t.nextSibling)}function Dc(){ar=cr=null,wt=!1}function zx(t){Hr===null?Hr=[t]:Hr.push(t)}var bM=hi.ReactCurrentBatchConfig;function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function yf(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tj(t){var e=t._init;return e(t._payload)}function AS(t){function e(x,w){if(t){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Ji(x,w),x.index=0,x.sibling=null,x}function i(x,w,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function c(x,w,b,j){return w===null||w.tag!==6?(w=iy(b,x.mode,j),w.return=x,w):(w=s(w,b),w.return=x,w)}function l(x,w,b,j){var E=b.type;return E===sc?d(x,w,b.props.children,j,b.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pi&&tj(E)===w.type)?(j=s(w,b.props),j.ref=Bl(x,w,b),j.return=x,j):(j=Xf(b.type,b.key,b.props,null,x.mode,j),j.ref=Bl(x,w,b),j.return=x,j)}function u(x,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=oy(b,x.mode,j),w.return=x,w):(w=s(w,b.children||[]),w.return=x,w)}function d(x,w,b,j,E){return w===null||w.tag!==7?(w=ta(b,x.mode,j,E),w.return=x,w):(w=s(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=iy(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case of:return b=Xf(w.type,w.key,w.props,null,x.mode,b),b.ref=Bl(x,null,w),b.return=x,b;case rc:return w=oy(w,x.mode,b),w.return=x,w;case Pi:var j=w._init;return f(x,j(w._payload),b)}if(Xl(w)||Pl(w))return w=ta(w,x.mode,b,null),w.return=x,w;yf(x,w)}return null}function h(x,w,b,j){var E=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:c(x,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case of:return b.key===E?l(x,w,b,j):null;case rc:return b.key===E?u(x,w,b,j):null;case Pi:return E=b._init,h(x,w,E(b._payload),j)}if(Xl(b)||Pl(b))return E!==null?null:d(x,w,b,j,null);yf(x,b)}return null}function m(x,w,b,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,c(w,x,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case of:return x=x.get(j.key===null?b:j.key)||null,l(w,x,j,E);case rc:return x=x.get(j.key===null?b:j.key)||null,u(w,x,j,E);case Pi:var N=j._init;return m(x,w,b,N(j._payload),E)}if(Xl(j)||Pl(j))return x=x.get(b)||null,d(w,x,j,E,null);yf(w,j)}return null}function g(x,w,b,j){for(var E=null,N=null,S=w,_=w=0,O=null;S!==null&&_<b.length;_++){S.index>_?(O=S,S=null):O=S.sibling;var T=h(x,S,b[_],j);if(T===null){S===null&&(S=O);break}t&&S&&T.alternate===null&&e(x,S),w=i(T,w,_),N===null?E=T:N.sibling=T,N=T,S=O}if(_===b.length)return n(x,S),wt&&Mo(x,_),E;if(S===null){for(;_<b.length;_++)S=f(x,b[_],j),S!==null&&(w=i(S,w,_),N===null?E=S:N.sibling=S,N=S);return wt&&Mo(x,_),E}for(S=r(x,S);_<b.length;_++)O=m(S,x,_,b[_],j),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?_:O.key),w=i(O,w,_),N===null?E=O:N.sibling=O,N=O);return t&&S.forEach(function(I){return e(x,I)}),wt&&Mo(x,_),E}function p(x,w,b,j){var E=Pl(b);if(typeof E!="function")throw Error(Z(150));if(b=E.call(b),b==null)throw Error(Z(151));for(var N=E=null,S=w,_=w=0,O=null,T=b.next();S!==null&&!T.done;_++,T=b.next()){S.index>_?(O=S,S=null):O=S.sibling;var I=h(x,S,T.value,j);if(I===null){S===null&&(S=O);break}t&&S&&I.alternate===null&&e(x,S),w=i(I,w,_),N===null?E=I:N.sibling=I,N=I,S=O}if(T.done)return n(x,S),wt&&Mo(x,_),E;if(S===null){for(;!T.done;_++,T=b.next())T=f(x,T.value,j),T!==null&&(w=i(T,w,_),N===null?E=T:N.sibling=T,N=T);return wt&&Mo(x,_),E}for(S=r(x,S);!T.done;_++,T=b.next())T=m(S,x,_,T.value,j),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?_:T.key),w=i(T,w,_),N===null?E=T:N.sibling=T,N=T);return t&&S.forEach(function(R){return e(x,R)}),wt&&Mo(x,_),E}function y(x,w,b,j){if(typeof b=="object"&&b!==null&&b.type===sc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case of:e:{for(var E=b.key,N=w;N!==null;){if(N.key===E){if(E=b.type,E===sc){if(N.tag===7){n(x,N.sibling),w=s(N,b.props.children),w.return=x,x=w;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pi&&tj(E)===N.type){n(x,N.sibling),w=s(N,b.props),w.ref=Bl(x,N,b),w.return=x,x=w;break e}n(x,N);break}else e(x,N);N=N.sibling}b.type===sc?(w=ta(b.props.children,x.mode,j,b.key),w.return=x,x=w):(j=Xf(b.type,b.key,b.props,null,x.mode,j),j.ref=Bl(x,w,b),j.return=x,x=j)}return a(x);case rc:e:{for(N=b.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=s(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=oy(b,x.mode,j),w.return=x,x=w}return a(x);case Pi:return N=b._init,y(x,w,N(b._payload),j)}if(Xl(b))return g(x,w,b,j);if(Pl(b))return p(x,w,b,j);yf(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,b),w.return=x,x=w):(n(x,w),w=iy(b,x.mode,j),w.return=x,x=w),a(x)):n(x,w)}return y}var Lc=AS(!0),_S=AS(!1),Ch=bo(null),Th=null,fc=null,Vx=null;function Gx(){Vx=fc=Th=null}function Wx(t){var e=Ch.current;gt(Ch),t._currentValue=e}function Rv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ec(t,e){Th=t,Vx=fc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qn=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(Vx!==t)if(t={context:t,memoizedValue:e,next:null},fc===null){if(Th===null)throw Error(Z(308));fc=t,Th.dependencies={lanes:0,firstContext:t}}else fc=fc.next=t;return e}var Go=null;function qx(t){Go===null?Go=[t]:Go.push(t)}function SS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,qx(e)):(n.next=s.next,s.next=n),e.interleaved=n,ni(t,r)}function ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function Kx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ys(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ni(t,n)}return s=r.interleaved,s===null?(e.next=e,qx(r)):(e.next=s.next,s.next=e),r.interleaved=e,ni(t,n)}function qf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rx(t,n)}}function nj(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ph(t,e,n,r){var s=t.updateQueue;Ii=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==a&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=u=l=null,c=i;do{var h=c.lane,m=c.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=t,p=c;switch(h=e,m=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=St({},f,h);break e;case 2:Ii=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[c]:h.push(c))}else m={eventTime:m,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,a|=h;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;h=c,c=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);da|=a,t.lanes=a,t.memoizedState=f}}function rj(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var Od={},ws=bo(Od),$u=bo(Od),Hu=bo(Od);function Wo(t){if(t===Od)throw Error(Z(174));return t}function Qx(t,e){switch(dt(Hu,e),dt($u,t),dt(ws,Od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hv(e,t)}gt(ws),dt(ws,e)}function Fc(){gt(ws),gt($u),gt(Hu)}function kS(t){Wo(Hu.current);var e=Wo(ws.current),n=hv(e,t.type);e!==n&&(dt($u,t),dt(ws,n))}function Yx(t){$u.current===t&&(gt(ws),gt($u))}var Et=bo(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xg=[];function Jx(){for(var t=0;t<Xg.length;t++)Xg[t]._workInProgressVersionPrimary=null;Xg.length=0}var Kf=hi.ReactCurrentDispatcher,ey=hi.ReactCurrentBatchConfig,ua=0,_t=null,Wt=null,Xt=null,Rh=!1,mu=!1,zu=0,jM=0;function dn(){throw Error(Z(321))}function Zx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function Xx(t,e,n,r,s,i){if(ua=i,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kf.current=t===null||t.memoizedState===null?SM:NM,t=n(r,s),mu){i=0;do{if(mu=!1,zu=0,25<=i)throw Error(Z(301));i+=1,Xt=Wt=null,e.updateQueue=null,Kf.current=kM,t=n(r,s)}while(mu)}if(Kf.current=Oh,e=Wt!==null&&Wt.next!==null,ua=0,Xt=Wt=_t=null,Rh=!1,e)throw Error(Z(300));return t}function ew(){var t=zu!==0;return zu=0,t}function ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?_t.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Rr(){if(Wt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=Xt===null?_t.memoizedState:Xt.next;if(e!==null)Xt=e,Wt=t;else{if(t===null)throw Error(Z(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Xt===null?_t.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Vu(t,e){return typeof e=="function"?e(t):e}function ty(t){var e=Rr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=a=null,l=null,u=i;do{var d=u.lane;if((ua&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=f,a=r):l=l.next=f,_t.lanes|=d,da|=d}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=c,Kr(r,e.memoizedState)||(qn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,_t.lanes|=i,da|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ny(t){var e=Rr(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Kr(i,e.memoizedState)||(qn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function CS(){}function TS(t,e){var n=_t,r=Rr(),s=e(),i=!Kr(r.memoizedState,s);if(i&&(r.memoizedState=s,qn=!0),r=r.queue,tw(RS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Gu(9,IS.bind(null,n,r,s,e),void 0,null),tn===null)throw Error(Z(349));ua&30||PS(n,e,s)}return s}function PS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IS(t,e,n,r){e.value=n,e.getSnapshot=r,OS(e)&&MS(t)}function RS(t,e,n){return n(function(){OS(e)&&MS(t)})}function OS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kr(t,n)}catch{return!0}}function MS(t){var e=ni(t,1);e!==null&&Wr(e,t,1,-1)}function sj(t){var e=ls();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=_M.bind(null,_t,t),[e.memoizedState,t]}function Gu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function BS(){return Rr().memoizedState}function Qf(t,e,n,r){var s=ls();_t.flags|=t,s.memoizedState=Gu(1|e,n,void 0,r===void 0?null:r)}function lp(t,e,n,r){var s=Rr();r=r===void 0?null:r;var i=void 0;if(Wt!==null){var a=Wt.memoizedState;if(i=a.destroy,r!==null&&Zx(r,a.deps)){s.memoizedState=Gu(e,n,i,r);return}}_t.flags|=t,s.memoizedState=Gu(1|e,n,i,r)}function ij(t,e){return Qf(8390656,8,t,e)}function tw(t,e){return lp(2048,8,t,e)}function DS(t,e){return lp(4,2,t,e)}function LS(t,e){return lp(4,4,t,e)}function FS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function US(t,e,n){return n=n!=null?n.concat([t]):null,lp(4,4,FS.bind(null,e,t),n)}function nw(){}function $S(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HS(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zS(t,e,n){return ua&21?(Kr(n,e)||(n=K_(),_t.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qn=!0),t.memoizedState=n)}function EM(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=ey.transition;ey.transition={};try{t(!1),e()}finally{nt=n,ey.transition=r}}function VS(){return Rr().memoizedState}function AM(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GS(t))WS(e,n);else if(n=SS(t,e,n,r),n!==null){var s=Tn();Wr(n,t,r,s),qS(n,e,r)}}function _M(t,e,n){var r=Yi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GS(t))WS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,c=i(a,n);if(s.hasEagerState=!0,s.eagerState=c,Kr(c,a)){var l=e.interleaved;l===null?(s.next=s,qx(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=SS(t,e,s,r),n!==null&&(s=Tn(),Wr(n,t,r,s),qS(n,e,r))}}function GS(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function WS(t,e){mu=Rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rx(t,n)}}var Oh={readContext:Ir,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},SM={readContext:Ir,useCallback:function(t,e){return ls().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:ij,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qf(4194308,4,FS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qf(4,2,t,e)},useMemo:function(t,e){var n=ls();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ls();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AM.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=ls();return t={current:t},e.memoizedState=t},useState:sj,useDebugValue:nw,useDeferredValue:function(t){return ls().memoizedState=t},useTransition:function(){var t=sj(!1),e=t[0];return t=EM.bind(null,t[1]),ls().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,s=ls();if(wt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),tn===null)throw Error(Z(349));ua&30||PS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ij(RS.bind(null,r,i,t),[t]),r.flags|=2048,Gu(9,IS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ls(),e=tn.identifierPrefix;if(wt){var n=qs,r=Ws;n=(r&~(1<<32-Gr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},NM={readContext:Ir,useCallback:$S,useContext:Ir,useEffect:tw,useImperativeHandle:US,useInsertionEffect:DS,useLayoutEffect:LS,useMemo:HS,useReducer:ty,useRef:BS,useState:function(){return ty(Vu)},useDebugValue:nw,useDeferredValue:function(t){var e=Rr();return zS(e,Wt.memoizedState,t)},useTransition:function(){var t=ty(Vu)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:CS,useSyncExternalStore:TS,useId:VS,unstable_isNewReconciler:!1},kM={readContext:Ir,useCallback:$S,useContext:Ir,useEffect:tw,useImperativeHandle:US,useInsertionEffect:DS,useLayoutEffect:LS,useMemo:HS,useReducer:ny,useRef:BS,useState:function(){return ny(Vu)},useDebugValue:nw,useDeferredValue:function(t){var e=Rr();return Wt===null?e.memoizedState=t:zS(e,Wt.memoizedState,t)},useTransition:function(){var t=ny(Vu)[0],e=Rr().memoizedState;return[t,e]},useMutableSource:CS,useSyncExternalStore:TS,useId:VS,unstable_isNewReconciler:!1};function Dr(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var up={isMounted:function(t){return(t=t._reactInternals)?ka(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=Yi(t),i=Ys(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ki(t,i,s),e!==null&&(Wr(e,t,s,r),qf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),s=Yi(t),i=Ys(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ki(t,i,s),e!==null&&(Wr(e,t,s,r),qf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=Yi(t),s=Ys(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ki(t,s,r),e!==null&&(Wr(e,t,r,n),qf(e,t,r))}};function oj(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Du(n,r)||!Du(s,i):!0}function KS(t,e,n){var r=!1,s=ao,i=e.contextType;return typeof i=="object"&&i!==null?i=Ir(i):(s=Jn(e)?ca:xn.current,r=e.contextTypes,i=(r=r!=null)?Bc(t,s):ao),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=up,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function aj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&up.enqueueReplaceState(e,e.state,null)}function Mv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Kx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ir(i):(i=Jn(e)?ca:xn.current,s.context=Bc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ov(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&up.enqueueReplaceState(s,s.state,null),Ph(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Uc(t,e){try{var n="",r=e;do n+=n3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ry(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CM=typeof WeakMap=="function"?WeakMap:Map;function QS(t,e,n){n=Ys(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bh||(Bh=!0,Wv=r),Bv(t,e)},n}function YS(t,e,n){n=Ys(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Bv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bv(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function cj(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=zM.bind(null,t,e,n),e.then(t,t))}function lj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uj(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ys(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var TM=hi.ReactCurrentOwner,qn=!1;function An(t,e,n,r){e.child=t===null?_S(e,null,n,r):Lc(e,t.child,n,r)}function dj(t,e,n,r,s){n=n.render;var i=e.ref;return Ec(e,s),r=Xx(t,e,n,r,i,s),n=ew(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(wt&&n&&$x(e),e.flags|=1,An(t,e,r,s),e.child)}function fj(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!uw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,JS(t,e,i,r,s)):(t=Xf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(a,r)&&t.ref===e.ref)return ri(t,e,s)}return e.flags|=1,t=Ji(i,r),t.ref=e.ref,t.return=e,e.child=t}function JS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Du(i,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(qn=!0);else return e.lanes=t.lanes,ri(t,e,s)}return Dv(t,e,n,r,s)}function ZS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(mc,sr),sr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(mc,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,dt(mc,sr),sr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,dt(mc,sr),sr|=r;return An(t,e,s,n),e.child}function XS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dv(t,e,n,r,s){var i=Jn(n)?ca:xn.current;return i=Bc(e,i),Ec(e,s),n=Xx(t,e,n,r,i,s),r=ew(),t!==null&&!qn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ri(t,e,s)):(wt&&r&&$x(e),e.flags|=1,An(t,e,n,s),e.child)}function hj(t,e,n,r,s){if(Jn(n)){var i=!0;Sh(e)}else i=!1;if(Ec(e,s),e.stateNode===null)Yf(t,e),KS(e,n,r),Mv(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=Jn(n)?ca:xn.current,u=Bc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||l!==u)&&aj(e,a,r,u),Ii=!1;var h=e.memoizedState;a.state=h,Ph(e,r,a,s),l=e.memoizedState,c!==r||h!==l||Yn.current||Ii?(typeof d=="function"&&(Ov(e,n,d,r),l=e.memoizedState),(c=Ii||oj(e,n,c,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,NS(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Dr(e.type,c),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ir(l):(l=Jn(n)?ca:xn.current,l=Bc(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==f||h!==l)&&aj(e,a,r,l),Ii=!1,h=e.memoizedState,a.state=h,Ph(e,r,a,s);var g=e.memoizedState;c!==f||h!==g||Yn.current||Ii?(typeof m=="function"&&(Ov(e,n,m,r),g=e.memoizedState),(u=Ii||oj(e,n,u,r,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Lv(t,e,n,r,i,s)}function Lv(t,e,n,r,s,i){XS(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Z1(e,n,!1),ri(t,e,i);r=e.stateNode,TM.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Lc(e,t.child,null,i),e.child=Lc(e,null,c,i)):An(t,e,c,i),e.memoizedState=r.state,s&&Z1(e,n,!0),e.child}function eN(t){var e=t.stateNode;e.pendingContext?J1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J1(t,e.context,!1),Qx(t,e.containerInfo)}function mj(t,e,n,r,s){return Dc(),zx(s),e.flags|=256,An(t,e,n,r),e.child}var Fv={dehydrated:null,treeContext:null,retryLane:0};function Uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function tN(t,e,n){var r=e.pendingProps,s=Et.current,i=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),dt(Et,s&1),t===null)return Iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=hp(a,r,0,null),t=ta(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Uv(n),e.memoizedState=Fv,t):rw(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return PM(t,e,a,r,c,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,c=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ji(s,l),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Ji(c,i):(i=ta(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Uv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Fv,r}return i=t.child,t=i.sibling,r=Ji(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rw(t,e){return e=hp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vf(t,e,n,r){return r!==null&&zx(r),Lc(e,t.child,null,n),t=rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PM(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=ry(Error(Z(422))),vf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=hp({mode:"visible",children:r.children},s,0,null),i=ta(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Lc(e,t.child,null,a),e.child.memoizedState=Uv(a),e.memoizedState=Fv,i);if(!(e.mode&1))return vf(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(Z(419)),r=ry(i,r,void 0),vf(t,e,a,r)}if(c=(a&t.childLanes)!==0,qn||c){if(r=tn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ni(t,s),Wr(r,t,s,-1))}return lw(),r=ry(Error(Z(421))),vf(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=VM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ar=qi(s.nextSibling),cr=e,wt=!0,Hr=null,t!==null&&(_r[Sr++]=Ws,_r[Sr++]=qs,_r[Sr++]=la,Ws=t.id,qs=t.overflow,la=e),e=rw(e,r.children),e.flags|=4096,e)}function pj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rv(t.return,e,n)}function sy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nN(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(An(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pj(t,n,e);else if(t.tag===19)pj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(Et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ih(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ih(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sy(e,!0,n,null,i);break;case"together":sy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IM(t,e,n){switch(e.tag){case 3:eN(e),Dc();break;case 5:kS(e);break;case 1:Jn(e.type)&&Sh(e);break;case 4:Qx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;dt(Ch,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?tN(t,e,n):(dt(Et,Et.current&1),t=ri(t,e,n),t!==null?t.sibling:null);dt(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nN(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dt(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,ZS(t,e,n)}return ri(t,e,n)}var rN,$v,sN,iN;rN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$v=function(){};sN=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wo(ws.current);var i=null;switch(n){case"input":s=lv(t,s),r=lv(t,r),i=[];break;case"select":s=St({},s,{value:void 0}),r=St({},r,{value:void 0}),i=[];break;case"textarea":s=fv(t,s),r=fv(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ah)}mv(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(c=s?.[u],r.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pt("scroll",t),i||c===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};iN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dl(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RM(t,e,n){var r=e.pendingProps;switch(Hx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return Jn(e.type)&&_h(),fn(e),null;case 3:return r=e.stateNode,Fc(),gt(Yn),gt(xn),Jx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hr!==null&&(Qv(Hr),Hr=null))),$v(t,e),fn(e),null;case 5:Yx(e);var s=Wo(Hu.current);if(n=e.type,t!==null&&e.stateNode!=null)sN(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return fn(e),null}if(t=Wo(ws.current),gf(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fs]=e,r[Uu]=i,t=(e.mode&1)!==0,n){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(s=0;s<tu.length;s++)pt(tu[s],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":A1(r,i),pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pt("invalid",r);break;case"textarea":S1(r,i),pt("invalid",r)}mv(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&pf(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&pf(r.textContent,c,t),s=["children",""+c]):Tu.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&pt("scroll",r)}switch(n){case"input":af(r),_1(r,i,!0);break;case"textarea":af(r),N1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ah)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[fs]=e,t[Uu]=r,rN(t,e,!1,!1),e.stateNode=t;e:{switch(a=pv(n,r),n){case"dialog":pt("cancel",t),pt("close",t),s=r;break;case"iframe":case"object":case"embed":pt("load",t),s=r;break;case"video":case"audio":for(s=0;s<tu.length;s++)pt(tu[s],t);s=r;break;case"source":pt("error",t),s=r;break;case"img":case"image":case"link":pt("error",t),pt("load",t),s=r;break;case"details":pt("toggle",t),s=r;break;case"input":A1(t,r),s=lv(t,r),pt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=St({},r,{value:void 0}),pt("invalid",t);break;case"textarea":S1(t,r),s=fv(t,r),pt("invalid",t);break;default:s=r}mv(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?B_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pu(t,l):typeof l=="number"&&Pu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pt("scroll",t):l!=null&&Nx(t,i,l,a))}switch(n){case"input":af(t),_1(t,r,!1);break;case"textarea":af(t),N1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xc(t,!!r.multiple,i,!1):r.defaultValue!=null&&xc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ah)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)iN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Wo(Hu.current),Wo(ws.current),gf(e)){if(r=e.stateNode,n=e.memoizedProps,r[fs]=e,(i=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:pf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pf(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fs]=e,e.stateNode=r}return fn(e),null;case 13:if(gt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&ar!==null&&e.mode&1&&!(e.flags&128))ES(),Dc(),e.flags|=98560,i=!1;else if(i=gf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[fs]=e}else Dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),i=!1}else Hr!==null&&(Qv(Hr),Hr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Kt===0&&(Kt=3):lw())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return Fc(),$v(t,e),t===null&&Lu(e.stateNode.containerInfo),fn(e),null;case 10:return Wx(e.type._context),fn(e),null;case 17:return Jn(e.type)&&_h(),fn(e),null;case 19:if(gt(Et),i=e.memoizedState,i===null)return fn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Dl(i,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ih(t),a!==null){for(e.flags|=128,Dl(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(Et,Et.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ot()>$c&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ih(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!wt)return fn(e),null}else 2*Ot()-i.renderingStartTime>$c&&n!==1073741824&&(e.flags|=128,r=!0,Dl(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ot(),e.sibling=null,n=Et.current,dt(Et,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return cw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function OM(t,e){switch(Hx(e),e.tag){case 1:return Jn(e.type)&&_h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fc(),gt(Yn),gt(xn),Jx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yx(e),null;case 13:if(gt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(Et),null;case 4:return Fc(),null;case 10:return Wx(e.type._context),null;case 22:case 23:return cw(),null;case 24:return null;default:return null}}var xf=!1,yn=!1,MM=typeof WeakSet=="function"?WeakSet:Set,ue=null;function hc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function Hv(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var gj=!1;function BM(t,e){if(_v=bh,t=uS(),Ux(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(c=a+s),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(c=a),h===i&&++d===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sv={focusedElem:t,selectionRange:n},bh=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?p:Dr(e.type,p),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){Ct(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return g=gj,gj=!1,g}function pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hv(e,n,i)}s=s.next}while(s!==r)}}function dp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oN(t){var e=t.alternate;e!==null&&(t.alternate=null,oN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fs],delete e[Uu],delete e[Cv],delete e[vM],delete e[xM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aN(t){return t.tag===5||t.tag===3||t.tag===4}function yj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ah));else if(r!==4&&(t=t.child,t!==null))for(Vv(t,e,n),t=t.sibling;t!==null;)Vv(t,e,n),t=t.sibling}function Gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gv(t,e,n),t=t.sibling;t!==null;)Gv(t,e,n),t=t.sibling}var on=null,Ur=!1;function ji(t,e,n){for(n=n.child;n!==null;)cN(t,e,n),n=n.sibling}function cN(t,e,n){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(rp,n)}catch{}switch(n.tag){case 5:yn||hc(n,e);case 6:var r=on,s=Ur;on=null,ji(t,e,n),on=r,Ur=s,on!==null&&(Ur?(t=on,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):on.removeChild(n.stateNode));break;case 18:on!==null&&(Ur?(t=on,n=n.stateNode,t.nodeType===8?Jg(t.parentNode,n):t.nodeType===1&&Jg(t,n),Mu(t)):Jg(on,n.stateNode));break;case 4:r=on,s=Ur,on=n.stateNode.containerInfo,Ur=!0,ji(t,e,n),on=r,Ur=s;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Hv(n,e,a),s=s.next}while(s!==r)}ji(t,e,n);break;case 1:if(!yn&&(hc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ct(n,e,c)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,ji(t,e,n),yn=r):ji(t,e,n);break;default:ji(t,e,n)}}function vj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MM),e.forEach(function(r){var s=GM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:on=c.stateNode,Ur=!1;break e;case 3:on=c.stateNode.containerInfo,Ur=!0;break e;case 4:on=c.stateNode.containerInfo,Ur=!0;break e}c=c.return}if(on===null)throw Error(Z(160));cN(i,a,s),on=null,Ur=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ct(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lN(e,t),e=e.sibling}function lN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Or(e,t),ss(t),r&4){try{pu(3,t,t.return),dp(3,t)}catch(p){Ct(t,t.return,p)}try{pu(5,t,t.return)}catch(p){Ct(t,t.return,p)}}break;case 1:Or(e,t),ss(t),r&512&&n!==null&&hc(n,n.return);break;case 5:if(Or(e,t),ss(t),r&512&&n!==null&&hc(n,n.return),t.flags&32){var s=t.stateNode;try{Pu(s,"")}catch(p){Ct(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,c=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&P_(s,i),pv(c,a);var u=pv(c,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?B_(s,f):d==="dangerouslySetInnerHTML"?O_(s,f):d==="children"?Pu(s,f):Nx(s,d,f,u)}switch(c){case"input":uv(s,i);break;case"textarea":I_(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?xc(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?xc(s,!!i.multiple,i.defaultValue,!0):xc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Uu]=i}catch(p){Ct(t,t.return,p)}}break;case 6:if(Or(e,t),ss(t),r&4){if(t.stateNode===null)throw Error(Z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){Ct(t,t.return,p)}}break;case 3:if(Or(e,t),ss(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mu(e.containerInfo)}catch(p){Ct(t,t.return,p)}break;case 4:Or(e,t),ss(t);break;case 13:Or(e,t),ss(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ow=Ot())),r&4&&vj(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(yn=(u=yn)||d,Or(e,t),yn=u):Or(e,t),ss(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ue=t,d=t.child;d!==null;){for(f=ue=d;ue!==null;){switch(h=ue,m=h.child,h.tag){case 0:case 11:case 14:case 15:pu(4,h,h.return);break;case 1:hc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){Ct(r,n,p)}}break;case 5:hc(h,h.return);break;case 22:if(h.memoizedState!==null){wj(f);continue}}m!==null?(m.return=h,ue=m):wj(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=M_("display",a))}catch(p){Ct(t,t.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Ct(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Or(e,t),ss(t),r&4&&vj(t);break;case 21:break;default:Or(e,t),ss(t)}}function ss(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aN(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pu(s,""),r.flags&=-33);var i=yj(t);Gv(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=yj(t);Vv(t,c,a);break;default:throw Error(Z(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DM(t,e,n){ue=t,uN(t)}function uN(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||xf;if(!a){var c=s.alternate,l=c!==null&&c.memoizedState!==null||yn;c=xf;var u=yn;if(xf=a,(yn=l)&&!u)for(ue=s;ue!==null;)a=ue,l=a.child,a.tag===22&&a.memoizedState!==null?bj(s):l!==null?(l.return=a,ue=l):bj(s);for(;i!==null;)ue=i,uN(i),i=i.sibling;ue=s,xf=c,yn=u}xj(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):xj(t)}}function xj(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yn||dp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Dr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rj(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rj(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Mu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}yn||e.flags&512&&zv(e)}catch(h){Ct(e,e.return,h)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function wj(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function bj(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dp(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ct(e,s,l)}}var i=e.return;try{zv(e)}catch(l){Ct(e,i,l)}break;case 5:var a=e.return;try{zv(e)}catch(l){Ct(e,a,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){ue=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ue=c;break}ue=e.return}}var LM=Math.ceil,Mh=hi.ReactCurrentDispatcher,sw=hi.ReactCurrentOwner,Pr=hi.ReactCurrentBatchConfig,Qe=0,tn=null,$t=null,cn=0,sr=0,mc=bo(0),Kt=0,Wu=null,da=0,fp=0,iw=0,gu=null,zn=null,ow=0,$c=1/0,Fs=null,Bh=!1,Wv=null,Qi=null,wf=!1,Ui=null,Dh=0,yu=0,qv=null,Jf=-1,Zf=0;function Tn(){return Qe&6?Ot():Jf!==-1?Jf:Jf=Ot()}function Yi(t){return t.mode&1?Qe&2&&cn!==0?cn&-cn:bM.transition!==null?(Zf===0&&(Zf=K_()),Zf):(t=nt,t!==0||(t=window.event,t=t===void 0?16:tS(t.type)),t):1}function Wr(t,e,n,r){if(50<yu)throw yu=0,qv=null,Error(Z(185));Pd(t,n,r),(!(Qe&2)||t!==tn)&&(t===tn&&(!(Qe&2)&&(fp|=n),Kt===4&&Mi(t,cn)),Zn(t,r),n===1&&Qe===0&&!(e.mode&1)&&($c=Ot()+500,cp&&jo()))}function Zn(t,e){var n=t.callbackNode;b3(t,e);var r=wh(t,t===tn?cn:0);if(r===0)n!==null&&T1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T1(n),e===1)t.tag===0?wM(jj.bind(null,t)):wS(jj.bind(null,t)),gM(function(){!(Qe&6)&&jo()}),n=null;else{switch(Q_(r)){case 1:n=Ix;break;case 4:n=W_;break;case 16:n=xh;break;case 536870912:n=q_;break;default:n=xh}n=vN(n,dN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dN(t,e){if(Jf=-1,Zf=0,Qe&6)throw Error(Z(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var r=wh(t,t===tn?cn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lh(t,r);else{e=r;var s=Qe;Qe|=2;var i=hN();(tn!==t||cn!==e)&&(Fs=null,$c=Ot()+500,ea(t,e));do try{$M();break}catch(c){fN(t,c)}while(!0);Gx(),Mh.current=i,Qe=s,$t!==null?e=0:(tn=null,cn=0,e=Kt)}if(e!==0){if(e===2&&(s=wv(t),s!==0&&(r=s,e=Kv(t,s))),e===1)throw n=Wu,ea(t,0),Mi(t,r),Zn(t,Ot()),n;if(e===6)Mi(t,r);else{if(s=t.current.alternate,!(r&30)&&!FM(s)&&(e=Lh(t,r),e===2&&(i=wv(t),i!==0&&(r=i,e=Kv(t,i))),e===1))throw n=Wu,ea(t,0),Mi(t,r),Zn(t,Ot()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Bo(t,zn,Fs);break;case 3:if(Mi(t,r),(r&130023424)===r&&(e=ow+500-Ot(),10<e)){if(wh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kv(Bo.bind(null,t,zn,Fs),e);break}Bo(t,zn,Fs);break;case 4:if(Mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Gr(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LM(r/1960))-r,10<r){t.timeoutHandle=kv(Bo.bind(null,t,zn,Fs),r);break}Bo(t,zn,Fs);break;case 5:Bo(t,zn,Fs);break;default:throw Error(Z(329))}}}return Zn(t,Ot()),t.callbackNode===n?dN.bind(null,t):null}function Kv(t,e){var n=gu;return t.current.memoizedState.isDehydrated&&(ea(t,e).flags|=256),t=Lh(t,e),t!==2&&(e=zn,zn=n,e!==null&&Qv(e)),t}function Qv(t){zn===null?zn=t:zn.push.apply(zn,t)}function FM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e){for(e&=~iw,e&=~fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Gr(e),r=1<<n;t[n]=-1,e&=~r}}function jj(t){if(Qe&6)throw Error(Z(327));Ac();var e=wh(t,0);if(!(e&1))return Zn(t,Ot()),null;var n=Lh(t,e);if(t.tag!==0&&n===2){var r=wv(t);r!==0&&(e=r,n=Kv(t,r))}if(n===1)throw n=Wu,ea(t,0),Mi(t,e),Zn(t,Ot()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bo(t,zn,Fs),Zn(t,Ot()),null}function aw(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&($c=Ot()+500,cp&&jo())}}function fa(t){Ui!==null&&Ui.tag===0&&!(Qe&6)&&Ac();var e=Qe;Qe|=1;var n=Pr.transition,r=nt;try{if(Pr.transition=null,nt=1,t)return t()}finally{nt=r,Pr.transition=n,Qe=e,!(Qe&6)&&jo()}}function cw(){sr=mc.current,gt(mc)}function ea(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pM(n)),$t!==null)for(n=$t.return;n!==null;){var r=n;switch(Hx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_h();break;case 3:Fc(),gt(Yn),gt(xn),Jx();break;case 5:Yx(r);break;case 4:Fc();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:Wx(r.type._context);break;case 22:case 23:cw()}n=n.return}if(tn=t,$t=t=Ji(t.current,null),cn=sr=e,Kt=0,Wu=null,iw=fp=da=0,zn=gu=null,Go!==null){for(e=0;e<Go.length;e++)if(n=Go[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Go=null}return t}function fN(t,e){do{var n=$t;try{if(Gx(),Kf.current=Oh,Rh){for(var r=_t.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rh=!1}if(ua=0,Xt=Wt=_t=null,mu=!1,zu=0,sw.current=null,n===null||n.return===null){Kt=1,Wu=e,$t=null;break}e:{var i=t,a=n.return,c=n,l=e;if(e=cn,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=lj(a);if(m!==null){m.flags&=-257,uj(m,a,c,i,e),m.mode&1&&cj(i,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var p=new Set;p.add(l),e.updateQueue=p}else g.add(l);break e}else{if(!(e&1)){cj(i,u,e),lw();break e}l=Error(Z(426))}}else if(wt&&c.mode&1){var y=lj(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),uj(y,a,c,i,e),zx(Uc(l,c));break e}}i=l=Uc(l,c),Kt!==4&&(Kt=2),gu===null?gu=[i]:gu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=QS(i,l,e);nj(i,x);break e;case 1:c=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qi===null||!Qi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=YS(i,c,e);nj(i,j);break e}}i=i.return}while(i!==null)}pN(n)}catch(E){e=E,$t===n&&n!==null&&($t=n=n.return);continue}break}while(!0)}function hN(){var t=Mh.current;return Mh.current=Oh,t===null?Oh:t}function lw(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),tn===null||!(da&268435455)&&!(fp&268435455)||Mi(tn,cn)}function Lh(t,e){var n=Qe;Qe|=2;var r=hN();(tn!==t||cn!==e)&&(Fs=null,ea(t,e));do try{UM();break}catch(s){fN(t,s)}while(!0);if(Gx(),Qe=n,Mh.current=r,$t!==null)throw Error(Z(261));return tn=null,cn=0,Kt}function UM(){for(;$t!==null;)mN($t)}function $M(){for(;$t!==null&&!f3();)mN($t)}function mN(t){var e=yN(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?pN(t):$t=e,sw.current=null}function pN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OM(n,e),n!==null){n.flags&=32767,$t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,$t=null;return}}else if(n=RM(n,e,sr),n!==null){$t=n;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);Kt===0&&(Kt=5)}function Bo(t,e,n){var r=nt,s=Pr.transition;try{Pr.transition=null,nt=1,HM(t,e,n,r)}finally{Pr.transition=s,nt=r}return null}function HM(t,e,n,r){do Ac();while(Ui!==null);if(Qe&6)throw Error(Z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(j3(t,i),t===tn&&($t=tn=null,cn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wf||(wf=!0,vN(xh,function(){return Ac(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pr.transition,Pr.transition=null;var a=nt;nt=1;var c=Qe;Qe|=4,sw.current=null,BM(t,n),lN(n,t),cM(Sv),bh=!!_v,Sv=_v=null,t.current=n,DM(n),h3(),Qe=c,nt=a,Pr.transition=i}else t.current=n;if(wf&&(wf=!1,Ui=t,Dh=s),i=t.pendingLanes,i===0&&(Qi=null),g3(n.stateNode),Zn(t,Ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bh)throw Bh=!1,t=Wv,Wv=null,t;return Dh&1&&t.tag!==0&&Ac(),i=t.pendingLanes,i&1?t===qv?yu++:(yu=0,qv=t):yu=0,jo(),null}function Ac(){if(Ui!==null){var t=Q_(Dh),e=Pr.transition,n=nt;try{if(Pr.transition=null,nt=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,Dh=0,Qe&6)throw Error(Z(331));var s=Qe;for(Qe|=4,ue=t.current;ue!==null;){var i=ue,a=i.child;if(ue.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:pu(8,d,i)}var f=d.child;if(f!==null)f.return=d,ue=f;else for(;ue!==null;){d=ue;var h=d.sibling,m=d.return;if(oN(d),d===u){ue=null;break}if(h!==null){h.return=m,ue=h;break}ue=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}ue=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ue=a;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ue=x;break e}ue=i.return}}var w=t.current;for(ue=w;ue!==null;){a=ue;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ue=b;else e:for(a=w;ue!==null;){if(c=ue,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:dp(9,c)}}catch(E){Ct(c,c.return,E)}if(c===a){ue=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,ue=j;break e}ue=c.return}}if(Qe=s,jo(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(rp,t)}catch{}r=!0}return r}finally{nt=n,Pr.transition=e}}return!1}function Ej(t,e,n){e=Uc(n,e),e=QS(t,e,1),t=Ki(t,e,1),e=Tn(),t!==null&&(Pd(t,1,e),Zn(t,e))}function Ct(t,e,n){if(t.tag===3)Ej(t,t,n);else for(;e!==null;){if(e.tag===3){Ej(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=Uc(n,t),t=YS(e,t,1),e=Ki(e,t,1),t=Tn(),e!==null&&(Pd(e,1,t),Zn(e,t));break}}e=e.return}}function zM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,tn===t&&(cn&n)===n&&(Kt===4||Kt===3&&(cn&130023424)===cn&&500>Ot()-ow?ea(t,0):iw|=n),Zn(t,e)}function gN(t,e){e===0&&(t.mode&1?(e=uf,uf<<=1,!(uf&130023424)&&(uf=4194304)):e=1);var n=Tn();t=ni(t,e),t!==null&&(Pd(t,e,n),Zn(t,n))}function VM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gN(t,n)}function GM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),gN(t,n)}var yN;yN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)qn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qn=!1,IM(t,e,n);qn=!!(t.flags&131072)}else qn=!1,wt&&e.flags&1048576&&bS(e,kh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yf(t,e),t=e.pendingProps;var s=Bc(e,xn.current);Ec(e,n),s=Xx(null,e,r,t,s,n);var i=ew();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(r)?(i=!0,Sh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kx(e),s.updater=up,e.stateNode=s,s._reactInternals=e,Mv(e,r,t,n),e=Lv(null,e,r,!0,i,n)):(e.tag=0,wt&&i&&$x(e),An(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=qM(r),t=Dr(r,t),s){case 0:e=Dv(null,e,r,t,n);break e;case 1:e=hj(null,e,r,t,n);break e;case 11:e=dj(null,e,r,t,n);break e;case 14:e=fj(null,e,r,Dr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),Dv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),hj(t,e,r,s,n);case 3:e:{if(eN(e),t===null)throw Error(Z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,NS(t,e),Ph(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Uc(Error(Z(423)),e),e=mj(t,e,r,n,s);break e}else if(r!==s){s=Uc(Error(Z(424)),e),e=mj(t,e,r,n,s);break e}else for(ar=qi(e.stateNode.containerInfo.firstChild),cr=e,wt=!0,Hr=null,n=_S(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dc(),r===s){e=ri(t,e,n);break e}An(t,e,r,n)}e=e.child}return e;case 5:return kS(e),t===null&&Iv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Nv(r,s)?a=null:i!==null&&Nv(r,i)&&(e.flags|=32),XS(t,e),An(t,e,a,n),e.child;case 6:return t===null&&Iv(e),null;case 13:return tN(t,e,n);case 4:return Qx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lc(e,null,r,n):An(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),dj(t,e,r,s,n);case 7:return An(t,e,e.pendingProps,n),e.child;case 8:return An(t,e,e.pendingProps.children,n),e.child;case 12:return An(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,dt(Ch,r._currentValue),r._currentValue=a,i!==null)if(Kr(i.value,a)){if(i.children===s.children&&!Yn.current){e=ri(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ys(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Rv(i.return,n,e),c.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Z(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Rv(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}An(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ec(e,n),s=Ir(s),r=r(s),e.flags|=1,An(t,e,r,n),e.child;case 14:return r=e.type,s=Dr(r,e.pendingProps),s=Dr(r.type,s),fj(t,e,r,s,n);case 15:return JS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dr(r,s),Yf(t,e),e.tag=1,Jn(r)?(t=!0,Sh(e)):t=!1,Ec(e,n),KS(e,r,s),Mv(e,r,s,n),Lv(null,e,r,!0,t,n);case 19:return nN(t,e,n);case 22:return ZS(t,e,n)}throw Error(Z(156,e.tag))};function vN(t,e){return G_(t,e)}function WM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(t,e,n,r){return new WM(t,e,n,r)}function uw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qM(t){if(typeof t=="function")return uw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cx)return 11;if(t===Tx)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=Cr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xf(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")uw(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case sc:return ta(n.children,s,i,e);case kx:a=8,s|=8;break;case iv:return t=Cr(12,n,e,s|2),t.elementType=iv,t.lanes=i,t;case ov:return t=Cr(13,n,e,s),t.elementType=ov,t.lanes=i,t;case av:return t=Cr(19,n,e,s),t.elementType=av,t.lanes=i,t;case k_:return hp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S_:a=10;break e;case N_:a=9;break e;case Cx:a=11;break e;case Tx:a=14;break e;case Pi:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Cr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ta(t,e,n,r){return t=Cr(7,t,r,e),t.lanes=n,t}function hp(t,e,n,r){return t=Cr(22,t,r,e),t.elementType=k_,t.lanes=n,t.stateNode={isHidden:!1},t}function iy(t,e,n){return t=Cr(6,t,null,e),t.lanes=n,t}function oy(t,e,n){return e=Cr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ug(0),this.expirationTimes=Ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ug(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dw(t,e,n,r,s,i,a,c,l){return t=new KM(t,e,n,c,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Cr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kx(i),t}function QM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xN(t){if(!t)return ao;t=t._reactInternals;e:{if(ka(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Jn(n))return xS(t,n,e)}return e}function wN(t,e,n,r,s,i,a,c,l){return t=dw(n,r,!0,t,s,i,a,c,l),t.context=xN(null),n=t.current,r=Tn(),s=Yi(n),i=Ys(r,s),i.callback=e??null,Ki(n,i,s),t.current.lanes=s,Pd(t,s,r),Zn(t,r),t}function mp(t,e,n,r){var s=e.current,i=Tn(),a=Yi(s);return n=xN(n),e.context===null?e.context=n:e.pendingContext=n,e=Ys(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(s,e,a),t!==null&&(Wr(t,s,a,i),qf(t,s,a)),a}function Fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Aj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fw(t,e){Aj(t,e),(t=t.alternate)&&Aj(t,e)}function YM(){return null}var bN=typeof reportError=="function"?reportError:function(t){console.error(t)};function hw(t){this._internalRoot=t}pp.prototype.render=hw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));mp(t,e,null,null)};pp.prototype.unmount=hw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fa(function(){mp(null,t,null,null)}),e[ti]=null}};function pp(t){this._internalRoot=t}pp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Z_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oi.length&&e!==0&&e<Oi[n].priority;n++);Oi.splice(n,0,t),n===0&&eS(t)}};function mw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _j(){}function JM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fh(a);i.call(u)}}var a=wN(e,r,t,0,null,!1,!1,"",_j);return t._reactRootContainer=a,t[ti]=a.current,Lu(t.nodeType===8?t.parentNode:t),fa(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var u=Fh(l);c.call(u)}}var l=dw(t,0,!1,null,null,!1,!1,"",_j);return t._reactRootContainer=l,t[ti]=l.current,Lu(t.nodeType===8?t.parentNode:t),fa(function(){mp(e,l,n,r)}),l}function yp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var l=Fh(a);c.call(l)}}mp(e,a,t,s)}else a=JM(n,e,t,s,r);return Fh(a)}Y_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eu(e.pendingLanes);n!==0&&(Rx(e,n|1),Zn(e,Ot()),!(Qe&6)&&($c=Ot()+500,jo()))}break;case 13:fa(function(){var r=ni(t,1);if(r!==null){var s=Tn();Wr(r,t,1,s)}}),fw(t,1)}};Ox=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var n=Tn();Wr(e,t,134217728,n)}fw(t,134217728)}};J_=function(t){if(t.tag===13){var e=Yi(t),n=ni(t,e);if(n!==null){var r=Tn();Wr(n,t,e,r)}fw(t,e)}};Z_=function(){return nt};X_=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};yv=function(t,e,n){switch(e){case"input":if(uv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ap(r);if(!s)throw Error(Z(90));T_(r),uv(r,s)}}}break;case"textarea":I_(t,n);break;case"select":e=n.value,e!=null&&xc(t,!!n.multiple,e,!1)}};F_=aw;U_=fa;var ZM={usingClientEntryPoint:!1,Events:[Rd,cc,ap,D_,L_,aw]},Ll={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XM={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z_(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||YM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{rp=bf.inject(XM),xs=bf}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZM;gr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mw(e))throw Error(Z(200));return QM(t,e,null,n)};gr.createRoot=function(t,e){if(!mw(t))throw Error(Z(299));var n=!1,r="",s=bN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dw(t,1,!1,null,null,n,!1,r,s),t[ti]=e.current,Lu(t.nodeType===8?t.parentNode:t),new hw(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=z_(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return fa(t)};gr.hydrate=function(t,e,n){if(!gp(e))throw Error(Z(200));return yp(null,t,e,!0,n)};gr.hydrateRoot=function(t,e,n){if(!mw(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=bN;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=wN(e,null,t,1,n??null,s,!1,i,a),t[ti]=e.current,Lu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pp(e)};gr.render=function(t,e,n){if(!gp(e))throw Error(Z(200));return yp(null,t,e,!1,n)};gr.unmountComponentAtNode=function(t){if(!gp(t))throw Error(Z(40));return t._reactRootContainer?(fa(function(){yp(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};gr.unstable_batchedUpdates=aw;gr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gp(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return yp(t,e,n,!1,r)};gr.version="18.3.1-next-f1338f8080-20240426";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(t){console.error(t)}}jN(),j_.exports=gr;var Ca=j_.exports;const EN=dl(Ca);var AN,Sj=Ca;AN=Sj.createRoot,Sj.hydrateRoot;const eB=1,tB=1e6;let ay=0;function nB(){return ay=(ay+1)%Number.MAX_SAFE_INTEGER,ay.toString()}const cy=new Map,Nj=t=>{if(cy.has(t))return;const e=setTimeout(()=>{cy.delete(t),vu({type:"REMOVE_TOAST",toastId:t})},tB);cy.set(t,e)},rB=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eB)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Nj(n):t.toasts.forEach(r=>{Nj(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},eh=[];let th={toasts:[]};function vu(t){th=rB(th,t),eh.forEach(e=>{e(th)})}function sB({...t}){const e=nB(),n=s=>vu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>vu({type:"DISMISS_TOAST",toastId:e});return vu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function _e(){const[t,e]=v.useState(th);return v.useEffect(()=>(eh.push(e),()=>{const n=eh.indexOf(e);n>-1&&eh.splice(n,1)}),[t]),{...t,toast:sB,dismiss:n=>vu({type:"DISMISS_TOAST",toastId:n})}}function ge(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function iB(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function _N(...t){return e=>t.forEach(n=>iB(n,e))}function Xe(...t){return v.useCallback(_N(...t),t)}function oB(t,e=[]){let n=[];function r(i,a){const c=v.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:m,...g}=f,p=h?.[t][l]||c,y=v.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=h?.[t][l]||c,g=v.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>v.createContext(a));return function(c){const l=c?.[t]||i;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,aB(s,...e)]}function aB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var co=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(cB);if(i){const a=i.props.children,c=s.map(l=>l===i?v.Children.count(a)>1?v.Children.only(null):v.isValidElement(a)?a.props.children:null:l);return o.jsx(Yv,{...r,ref:e,children:v.isValidElement(a)?v.cloneElement(a,void 0,c):null})}return o.jsx(Yv,{...r,ref:e,children:n})});co.displayName="Slot";var Yv=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=uB(n);return v.cloneElement(n,{...lB(r,n.props),ref:e?_N(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});Yv.displayName="SlotClone";var pw=({children:t})=>o.jsx(o.Fragment,{children:t});function cB(t){return v.isValidElement(t)&&t.type===pw}function lB(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gw(t){const e=t+"CollectionProvider",[n,r]=oB(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:g,children:p}=m,y=M.useRef(null),x=M.useRef(new Map).current;return o.jsx(s,{scope:g,itemMap:x,collectionRef:y,children:p})};a.displayName=e;const c=t+"CollectionSlot",l=M.forwardRef((m,g)=>{const{scope:p,children:y}=m,x=i(c,p),w=Xe(g,x.collectionRef);return o.jsx(co,{ref:w,children:y})});l.displayName=c;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=M.forwardRef((m,g)=>{const{scope:p,children:y,...x}=m,w=M.useRef(null),b=Xe(g,w),j=i(u,p);return M.useEffect(()=>(j.itemMap.set(w,{ref:w,...x}),()=>void j.itemMap.delete(w))),o.jsx(co,{[d]:"",ref:b,children:y})});f.displayName=u;function h(m){const g=i(t+"CollectionConsumer",m);return M.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((j,E)=>x.indexOf(j.ref.current)-x.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},h,r]}function dB(t,e){const n=v.createContext(e),r=i=>{const{children:a,...c}=i,l=v.useMemo(()=>c,Object.values(c));return o.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function s(i){const a=v.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ns(t,e=[]){let n=[];function r(i,a){const c=v.createContext(a),l=n.length;n=[...n,a];const u=f=>{const{scope:h,children:m,...g}=f,p=h?.[t]?.[l]||c,y=v.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){const m=h?.[t]?.[l]||c,g=v.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>v.createContext(a));return function(c){const l=c?.[t]||i;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,fB(s,...e)]}function fB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var hB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=hB.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...a}=r,c=i?co:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function SN(t,e){t&&Ca.flushSync(()=>t.dispatchEvent(e))}function Xn(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>e.current?.(...n),[])}function mB(t,e=globalThis?.document){const n=Xn(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var pB="DismissableLayer",Jv="dismissableLayer.update",gB="dismissableLayer.pointerDownOutside",yB="dismissableLayer.focusOutside",kj,NN=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Md=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...l}=t,u=v.useContext(NN),[d,f]=v.useState(null),h=d?.ownerDocument??globalThis?.document,[,m]=v.useState({}),g=Xe(e,S=>f(S)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(y),w=d?p.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=x,E=xB(S=>{const _=S.target,O=[...u.branches].some(T=>T.contains(_));!j||O||(s?.(S),a?.(S),S.defaultPrevented||c?.())},h),N=wB(S=>{const _=S.target;[...u.branches].some(T=>T.contains(_))||(i?.(S),a?.(S),S.defaultPrevented||c?.())},h);return mB(S=>{w===u.layers.size-1&&(r?.(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},h),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Cj(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kj)}},[d,h,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Cj())},[d,u]),v.useEffect(()=>{const S=()=>m({});return document.addEventListener(Jv,S),()=>document.removeEventListener(Jv,S)},[]),o.jsx(Ne.div,{...l,ref:g,style:{pointerEvents:b?j?"auto":"none":void 0,...t.style},onFocusCapture:ge(t.onFocusCapture,N.onFocusCapture),onBlurCapture:ge(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ge(t.onPointerDownCapture,E.onPointerDownCapture)})});Md.displayName=pB;var vB="DismissableLayerBranch",kN=v.forwardRef((t,e)=>{const n=v.useContext(NN),r=v.useRef(null),s=Xe(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Ne.div,{...t,ref:s})});kN.displayName=vB;function xB(t,e=globalThis?.document){const n=Xn(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let l=function(){CN(gB,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wB(t,e=globalThis?.document){const n=Xn(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&CN(yB,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cj(){const t=new CustomEvent(Jv);document.dispatchEvent(t)}function CN(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SN(s,i):s.dispatchEvent(i)}var bB=Md,jB=kN,wn=globalThis?.document?v.useLayoutEffect:()=>{},EB="Portal",vp=v.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=v.useState(!1);wn(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?EN.createPortal(o.jsx(Ne.div,{...r,ref:e}),a):null});vp.displayName=EB;function AB(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var mi=t=>{const{present:e,children:n}=t,r=_B(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Xe(r.ref,SB(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};mi.displayName="Presence";function _B(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),a=t?"mounted":"unmounted",[c,l]=AB(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=jf(r.current);i.current=c==="mounted"?u:"none"},[c]),wn(()=>{const u=r.current,d=s.current;if(d!==t){const h=i.current,m=jf(u);t?l("MOUNT"):m==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),wn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const p=jf(r.current).includes(m.animationName);if(m.target===e&&p&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=m=>{m.target===e&&(i.current=jf(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function jf(t){return t?.animationName||"none"}function SB(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function si({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=NB({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,c=Xn(n),l=v.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&c(f)}else s(u)},[i,t,s,c]);return[a,l]}function NB({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=Xn(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var kB="VisuallyHidden",Bd=v.forwardRef((t,e)=>o.jsx(Ne.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Bd.displayName=kB;var CB=Bd,yw="ToastProvider",[vw,TB,PB]=gw("Toast"),[TN,kre]=Ns("Toast",[PB]),[IB,xp]=TN(yw),PN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[c,l]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yw}\`. Expected non-empty \`string\`.`),o.jsx(vw.Provider,{scope:e,children:o.jsx(IB,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:c,onViewportChange:l,onToastAdd:v.useCallback(()=>d(m=>m+1),[]),onToastRemove:v.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};PN.displayName=yw;var IN="ToastViewport",RB=["F8"],Zv="toast.viewportPause",Xv="toast.viewportResume",RN=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=RB,label:s="Notifications ({hotkey})",...i}=t,a=xp(IN,n),c=TB(n),l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=Xe(e,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;v.useEffect(()=>{const y=x=>{r.length!==0&&r.every(b=>x[b]||x.code===b)&&f.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),v.useEffect(()=>{const y=l.current,x=f.current;if(g&&y&&x){const w=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(Zv);x.dispatchEvent(N),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(Xv);x.dispatchEvent(N),a.isClosePausedRef.current=!1}},j=N=>{!y.contains(N.relatedTarget)&&b()},E=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",w),y.addEventListener("focusout",j),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:y})=>{const w=c().map(b=>{const j=b.ref.current,E=[j,...WB(j)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?w.reverse():w).flat()},[c]);return v.useEffect(()=>{const y=f.current;if(y){const x=w=>{const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const E=document.activeElement,N=w.shiftKey;if(w.target===y&&N){u.current?.focus();return}const O=p({tabbingDirection:N?"backwards":"forwards"}),T=O.findIndex(I=>I===E);ly(O.slice(T+1))?w.preventDefault():N?u.current?.focus():d.current?.focus()}};return y.addEventListener("keydown",x),()=>y.removeEventListener("keydown",x)}},[c,p]),o.jsxs(jB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(e0,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});ly(y)}}),o.jsx(vw.Slot,{scope:n,children:o.jsx(Ne.ol,{tabIndex:-1,...i,ref:h})}),g&&o.jsx(e0,{ref:d,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});ly(y)}})]})});RN.displayName=IN;var ON="ToastFocusProxy",e0=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xp(ON,n);return o.jsx(Bd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{const c=a.relatedTarget;!i.viewport?.contains(c)&&r()}})});e0.displayName=ON;var wp="Toast",OB="toast.swipeStart",MB="toast.swipeMove",BB="toast.swipeCancel",DB="toast.swipeEnd",MN=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[c=!0,l]=si({prop:r,defaultProp:s,onChange:i});return o.jsx(mi,{present:n||c,children:o.jsx(UB,{open:c,...a,ref:e,onClose:()=>l(!1),onPause:Xn(t.onPause),onResume:Xn(t.onResume),onSwipeStart:ge(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});MN.displayName=wp;var[LB,FB]=TN(wp,{onClose(){}}),UB=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:c,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=t,p=xp(wp,n),[y,x]=v.useState(null),w=Xe(e,$=>x($)),b=v.useRef(null),j=v.useRef(null),E=s||p.duration,N=v.useRef(0),S=v.useRef(E),_=v.useRef(0),{onToastAdd:O,onToastRemove:T}=p,I=Xn(()=>{y?.contains(document.activeElement)&&p.viewport?.focus(),a()}),R=v.useCallback($=>{!$||$===1/0||(window.clearTimeout(_.current),N.current=new Date().getTime(),_.current=window.setTimeout(I,$))},[I]);v.useEffect(()=>{const $=p.viewport;if($){const A=()=>{R(S.current),u?.()},k=()=>{const D=new Date().getTime()-N.current;S.current=S.current-D,window.clearTimeout(_.current),l?.()};return $.addEventListener(Zv,k),$.addEventListener(Xv,A),()=>{$.removeEventListener(Zv,k),$.removeEventListener(Xv,A)}}},[p.viewport,E,l,u,R]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&R(E)},[i,E,p.isClosePausedRef,R]),v.useEffect(()=>(O(),()=>T()),[O,T]);const z=v.useMemo(()=>y?HN(y):null,[y]);return p.viewport?o.jsxs(o.Fragment,{children:[z&&o.jsx($B,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),o.jsx(LB,{scope:n,onClose:I,children:Ca.createPortal(o.jsx(vw.ItemSlot,{scope:n,children:o.jsx(bB,{asChild:!0,onEscapeKeyDown:ge(c,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ne.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ge(t.onKeyDown,$=>{$.key==="Escape"&&(c?.($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ge(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:ge(t.onPointerMove,$=>{if(!b.current)return;const A=$.clientX-b.current.x,k=$.clientY-b.current.y,D=!!j.current,C=["left","right"].includes(p.swipeDirection),B=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,V=C?B(0,A):0,q=C?0:B(0,k),ee=$.pointerType==="touch"?10:2,he={x:V,y:q},de={originalEvent:$,delta:he};D?(j.current=he,Ef(MB,f,de,{discrete:!1})):Tj(he,p.swipeDirection,ee)?(j.current=he,Ef(OB,d,de,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(A)>ee||Math.abs(k)>ee)&&(b.current=null)}),onPointerUp:ge(t.onPointerUp,$=>{const A=j.current,k=$.target;if(k.hasPointerCapture($.pointerId)&&k.releasePointerCapture($.pointerId),j.current=null,b.current=null,A){const D=$.currentTarget,C={originalEvent:$,delta:A};Tj(A,p.swipeDirection,p.swipeThreshold)?Ef(DB,m,C,{discrete:!0}):Ef(BB,h,C,{discrete:!0}),D.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),$B=t=>{const{__scopeToast:e,children:n,...r}=t,s=xp(wp,e),[i,a]=v.useState(!1),[c,l]=v.useState(!1);return VB(()=>a(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:o.jsx(vp,{asChild:!0,children:o.jsx(Bd,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},HB="ToastTitle",BN=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ne.div,{...r,ref:e})});BN.displayName=HB;var zB="ToastDescription",DN=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(Ne.div,{...r,ref:e})});DN.displayName=zB;var LN="ToastAction",FN=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx($N,{altText:n,asChild:!0,children:o.jsx(xw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${LN}\`. Expected non-empty \`string\`.`),null)});FN.displayName=LN;var UN="ToastClose",xw=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=FB(UN,n);return o.jsx($N,{asChild:!0,children:o.jsx(Ne.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,s.onClose)})})});xw.displayName=UN;var $N=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(Ne.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function HN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),GB(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...HN(r))}}),e}function Ef(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SN(s,i):s.dispatchEvent(i)}var Tj=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function VB(t=()=>{}){const e=Xn(t);wn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function GB(t){return t.nodeType===t.ELEMENT_NODE}function WB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ly(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qB=PN,zN=RN,VN=MN,GN=BN,WN=DN,qN=FN,KN=xw;function QN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=QN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function YN(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=QN(t))&&(r&&(r+=" "),r+=e);return r}const Pj=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ij=YN,Dd=(t,e)=>n=>{var r;if(e?.variants==null)return Ij(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n?.[u],f=i?.[u];if(d===null)return null;const h=Pj(d)||Pj(f);return s[u][h]}),c=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...i,...c}[p]):{...i,...c}[p]===y})?[...u,f,h]:u},[]);return Ij(t,a,l,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},l)=>v.createElement("svg",{ref:l,...QB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JN("lucide",s),...c},[...a.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(YB,{ref:i,iconNode:e,className:JN(`lucide-${KB(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ae("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ae("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ae("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ae("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=ae("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ae("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=ae("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ae("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ae("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ae("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ae("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=ae("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=ae("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=ae("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=ae("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ae("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ae("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ae("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bw="-",ED=t=>{const e=_D(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(bw);return c[0]===""&&c.length!==1&&c.shift(),ok(c,e)||AD(a)},getConflictingClassGroupIds:(a,c)=>{const l=n[a]||[];return c&&r[a]?[...l,...r[a]]:l}}},ok=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ok(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(bw);return e.validators.find(({validator:a})=>a(i))?.classGroupId},Mj=/^\[(.+)\]$/,AD=t=>{if(Mj.test(t)){const e=Mj.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},_D=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ND(Object.entries(t.classGroups),n).forEach(([i,a])=>{n0(a,r,i,e)}),r},n0=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Bj(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(SD(s)){n0(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{n0(a,Bj(e,i),n,r)})})},Bj=(t,e)=>{let n=t;return e.split(bw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SD=t=>t.isThemeGetter,ND=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[e+a,c])):i);return[n,s]}):t,kD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},ak="!",CD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=c=>{const l=[];let u=0,d=0,f;for(let y=0;y<c.length;y++){let x=c[y];if(u===0){if(x===s&&(r||c.slice(y,y+i)===e)){l.push(c.slice(d,y)),d=y+i;continue}if(x==="/"){f=y;continue}}x==="["?u++:x==="]"&&u--}const h=l.length===0?c:c.substring(d),m=h.startsWith(ak),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return n?c=>n({className:c,parseClassName:a}):a},TD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},PD=t=>({cache:kD(t.cacheSize),parseClassName:CD(t),...ED(t)}),ID=/\s+/,RD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(ID);let c="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let g=!!m,p=r(g?h.substring(0,m):h);if(!p){if(!g){c=u+(c.length>0?" "+c:c);continue}if(p=r(h),!p){c=u+(c.length>0?" "+c:c);continue}g=!1}const y=TD(d).join(":"),x=f?y+ak:y,w=x+p;if(i.includes(w))continue;i.push(w);const b=s(p,g);for(let j=0;j<b.length;++j){const E=b[j];i.push(x+E)}c=u+(c.length>0?" "+c:c)}return c};function OD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ck(e))&&(r&&(r+=" "),r+=n);return r}const ck=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ck(t[r]))&&(n&&(n+=" "),n+=e);return n};function MD(t,...e){let n,r,s,i=a;function a(l){const u=e.reduce((d,f)=>f(d),t());return n=PD(u),r=n.cache.get,s=n.cache.set,i=c,c(l)}function c(l){const u=r(l);if(u)return u;const d=RD(l,n);return s(l,d),d}return function(){return i(OD.apply(null,arguments))}}const mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lk=/^\[(?:([a-z-]+):)?(.+)\]$/i,BD=/^\d+\/\d+$/,DD=new Set(["px","full","screen"]),LD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$D=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ts=t=>_c(t)||DD.has(t)||BD.test(t),Ei=t=>pl(t,"length",YD),_c=t=>!!t&&!Number.isNaN(Number(t)),dy=t=>pl(t,"number",_c),Fl=t=>!!t&&Number.isInteger(Number(t)),zD=t=>t.endsWith("%")&&_c(t.slice(0,-1)),Oe=t=>lk.test(t),Ai=t=>LD.test(t),VD=new Set(["length","size","percentage"]),GD=t=>pl(t,VD,uk),WD=t=>pl(t,"position",uk),qD=new Set(["image","url"]),KD=t=>pl(t,qD,ZD),QD=t=>pl(t,"",JD),Ul=()=>!0,pl=(t,e,n)=>{const r=lk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},YD=t=>FD.test(t)&&!UD.test(t),uk=()=>!1,JD=t=>$D.test(t),ZD=t=>HD.test(t),XD=()=>{const t=mt("colors"),e=mt("spacing"),n=mt("blur"),r=mt("brightness"),s=mt("borderColor"),i=mt("borderRadius"),a=mt("borderSpacing"),c=mt("borderWidth"),l=mt("contrast"),u=mt("grayscale"),d=mt("hueRotate"),f=mt("invert"),h=mt("gap"),m=mt("gradientColorStops"),g=mt("gradientColorStopPositions"),p=mt("inset"),y=mt("margin"),x=mt("opacity"),w=mt("padding"),b=mt("saturate"),j=mt("scale"),E=mt("sepia"),N=mt("skew"),S=mt("space"),_=mt("translate"),O=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Oe,e],R=()=>[Oe,e],z=()=>["",Ts,Ei],$=()=>["auto",_c,Oe],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Oe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[_c,Oe];return{cacheSize:500,separator:":",theme:{colors:[Ul],spacing:[Ts,Ei],blur:["none","",Ai,Oe],brightness:q(),borderColor:[t],borderRadius:["none","","full",Ai,Oe],borderSpacing:R(),borderWidth:z(),contrast:q(),grayscale:B(),hueRotate:q(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[zD,Ei],inset:I(),margin:I(),opacity:q(),padding:R(),saturate:q(),scale:q(),sepia:B(),skew:q(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Ai]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),Oe]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fl,Oe]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Fl,Oe]}],"grid-cols":[{"grid-cols":[Ul]}],"col-start-end":[{col:["auto",{span:["full",Fl,Oe]},Oe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ul]}],"row-start-end":[{row:["auto",{span:[Fl,Oe]},Oe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,e]}],"min-w":[{"min-w":[Oe,e,"min","max","fit"]}],"max-w":[{"max-w":[Oe,e,"none","full","min","max","fit","prose",{screen:[Ai]},Ai]}],h:[{h:[Oe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ai,Ei]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dy]}],"font-family":[{font:[Ul]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",_c,dy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ts,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ts,Ei]}],"underline-offset":[{"underline-offset":["auto",Ts,Oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),WD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...k(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:k()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...k()]}],"outline-offset":[{"outline-offset":[Ts,Oe]}],"outline-w":[{outline:[Ts,Ei]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ts,Ei]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ai,QD]}],"shadow-color":[{shadow:[Ul]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ai,Oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Fl,Oe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ts,Ei,dy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},e5=MD(XD);function me(...t){return e5(YN(t))}const t5=qB,dk=v.forwardRef(({className:t,...e},n)=>o.jsx(zN,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dk.displayName=zN.displayName;const n5=Dd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fk=v.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(VN,{ref:r,className:me(n5({variant:e}),t),...n}));fk.displayName=VN.displayName;const r5=v.forwardRef(({className:t,...e},n)=>o.jsx(qN,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));r5.displayName=qN.displayName;const hk=v.forwardRef(({className:t,...e},n)=>o.jsx(KN,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(jD,{className:"h-4 w-4"})}));hk.displayName=KN.displayName;const mk=v.forwardRef(({className:t,...e},n)=>o.jsx(GN,{ref:n,className:me("text-sm font-semibold",t),...e}));mk.displayName=GN.displayName;const pk=v.forwardRef(({className:t,...e},n)=>o.jsx(WN,{ref:n,className:me("text-sm opacity-90",t),...e}));pk.displayName=WN.displayName;function s5(){const{toasts:t}=_e();return o.jsxs(t5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(fk,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(mk,{children:n}),r&&o.jsx(pk,{children:r})]}),s,o.jsx(hk,{})]},e)}),o.jsx(dk,{})]})}var Dj=["light","dark"],i5="(prefers-color-scheme: dark)",o5=v.createContext(void 0),a5={setTheme:t=>{},themes:[]},c5=()=>{var t;return(t=v.useContext(o5))!=null?t:a5};v.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:c,nonce:l})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Dj.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,y=!0)=>{let x=a?a[g]:g,w=p?g+"|| ''":`'${x}'`,b="";return s&&y&&!p&&Dj.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?p||x?b+=`c.add(${w})`:b+="null":x&&(b+=`d[s](n,${w})`),b},m=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${i5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var l5=t=>{switch(t){case"success":return f5;case"info":return m5;case"warning":return h5;case"error":return p5;default:return null}},u5=Array(12).fill(0),d5=({visible:t})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},M.createElement("div",{className:"sonner-spinner"},u5.map((e,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),f5=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),h5=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),m5=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),p5=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),g5=()=>{let[t,e]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},r0=1,y5=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:r0++,a=this.toasts.find(l=>l.id===i),c=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:c,title:r}):l):this.addToast({title:r,...s,dismissible:c,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async a=>{if(x5(a)&&!a.ok){i=!1;let c=typeof n.error=="function"?await n.error(`HTTP error! status: ${a.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${a.status}`):n.description;this.create({id:r,type:"error",message:c,description:l})}else if(n.success!==void 0){i=!1;let c=typeof n.success=="function"?await n.success(a):n.success,l=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"success",message:c,description:l})}}).catch(async a=>{if(n.error!==void 0){i=!1;let c=typeof n.error=="function"?await n.error(a):n.error,l=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"error",message:c,description:l})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=n.finally)==null||a.call(n)}),r},this.custom=(e,n)=>{let r=n?.id||r0++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},rr=new y5,v5=(t,e)=>{let n=e?.id||r0++;return rr.addToast({title:t,...e,id:n}),n},x5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",w5=v5,b5=()=>rr.toasts;Object.assign(w5,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:b5});function j5(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}j5(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Af(t){return t.label!==void 0}var E5=3,A5="32px",_5=4e3,S5=356,N5=14,k5=20,C5=200;function T5(...t){return t.filter(Boolean).join(" ")}var P5=t=>{var e,n,r,s,i,a,c,l,u,d;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:p,visibleToasts:y,heights:x,index:w,toasts:b,expanded:j,removeToast:E,defaultRichColors:N,closeButton:S,style:_,cancelButtonStyle:O,actionButtonStyle:T,className:I="",descriptionClassName:R="",duration:z,position:$,gap:A,loadingIcon:k,expandByDefault:D,classNames:C,icons:B,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:q,cn:ee}=t,[he,de]=M.useState(!1),[Fe,ke]=M.useState(!1),[le,Ve]=M.useState(!1),[Ye,Me]=M.useState(!1),[Je,Ue]=M.useState(0),[yt,Yt]=M.useState(0),es=M.useRef(null),Ln=M.useRef(null),Ma=w===0,P=w+1<=y,L=h.type,G=h.dismissible!==!1,se=h.className||"",te=h.descriptionClassName||"",X=M.useMemo(()=>x.findIndex(Re=>Re.toastId===h.id)||0,[x,h.id]),ye=M.useMemo(()=>{var Re;return(Re=h.closeButton)!=null?Re:S},[h.closeButton,S]),Ie=M.useMemo(()=>h.duration||z||_5,[h.duration,z]),Nt=M.useRef(0),ft=M.useRef(0),ts=M.useRef(0),wi=M.useRef(null),[Ba,Cl]=$.split("-"),nf=M.useMemo(()=>x.reduce((Re,ht,at)=>at>=X?Re:Re+ht.height,0),[x,X]),Tl=g5(),Og=h.invert||f,Da=L==="loading";ft.current=M.useMemo(()=>X*A+nf,[X,nf]),M.useEffect(()=>{de(!0)},[]),M.useLayoutEffect(()=>{if(!he)return;let Re=Ln.current,ht=Re.style.height;Re.style.height="auto";let at=Re.getBoundingClientRect().height;Re.style.height=ht,Yt(at),p(ns=>ns.find(rs=>rs.toastId===h.id)?ns.map(rs=>rs.toastId===h.id?{...rs,height:at}:rs):[{toastId:h.id,height:at,position:h.position},...ns])},[he,h.title,h.description,p,h.id]);let bi=M.useCallback(()=>{ke(!0),Ue(ft.current),p(Re=>Re.filter(ht=>ht.toastId!==h.id)),setTimeout(()=>{E(h)},C5)},[h,E,p,ft]);M.useEffect(()=>{if(h.promise&&L==="loading"||h.duration===1/0||h.type==="loading")return;let Re,ht=Ie;return j||g||q&&Tl?(()=>{if(ts.current<Nt.current){let at=new Date().getTime()-Nt.current;ht=ht-at}ts.current=new Date().getTime()})():ht!==1/0&&(Nt.current=new Date().getTime(),Re=setTimeout(()=>{var at;(at=h.onAutoClose)==null||at.call(h,h),bi()},ht)),()=>clearTimeout(Re)},[j,g,D,h,Ie,bi,h.promise,L,q,Tl]),M.useEffect(()=>{let Re=Ln.current;if(Re){let ht=Re.getBoundingClientRect().height;return Yt(ht),p(at=>[{toastId:h.id,height:ht,position:h.position},...at]),()=>p(at=>at.filter(ns=>ns.toastId!==h.id))}},[p,h.id]),M.useEffect(()=>{h.delete&&bi()},[bi,h.delete]);function AO(){return B!=null&&B.loading?M.createElement("div",{className:"sonner-loader","data-visible":L==="loading"},B.loading):k?M.createElement("div",{className:"sonner-loader","data-visible":L==="loading"},k):M.createElement(d5,{visible:L==="loading"})}return M.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ln,className:ee(I,se,C?.toast,(e=h?.classNames)==null?void 0:e.toast,C?.default,C?.[L],(n=h?.classNames)==null?void 0:n[L]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:N,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":he,"data-promise":!!h.promise,"data-removed":Fe,"data-visible":P,"data-y-position":Ba,"data-x-position":Cl,"data-index":w,"data-front":Ma,"data-swiping":le,"data-dismissible":G,"data-type":L,"data-invert":Og,"data-swipe-out":Ye,"data-expanded":!!(j||D&&he),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${Fe?Je:ft.current}px`,"--initial-height":D?"auto":`${yt}px`,..._,...h.style},onPointerDown:Re=>{Da||!G||(es.current=new Date,Ue(ft.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(Ve(!0),wi.current={x:Re.clientX,y:Re.clientY}))},onPointerUp:()=>{var Re,ht,at,ns;if(Ye||!G)return;wi.current=null;let rs=Number(((Re=Ln.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount").replace("px",""))||0),rf=new Date().getTime()-((ht=es.current)==null?void 0:ht.getTime()),_O=Math.abs(rs)/rf;if(Math.abs(rs)>=k5||_O>.11){Ue(ft.current),(at=h.onDismiss)==null||at.call(h,h),bi(),Me(!0);return}(ns=Ln.current)==null||ns.style.setProperty("--swipe-amount","0px"),Ve(!1)},onPointerMove:Re=>{var ht;if(!wi.current||!G)return;let at=Re.clientY-wi.current.y,ns=Re.clientX-wi.current.x,rs=(Ba==="top"?Math.min:Math.max)(0,at),rf=Re.pointerType==="touch"?10:2;Math.abs(rs)>rf?(ht=Ln.current)==null||ht.style.setProperty("--swipe-amount",`${at}px`):Math.abs(ns)>rf&&(wi.current=null)}},ye&&!h.jsx?M.createElement("button",{"aria-label":V,"data-disabled":Da,"data-close-button":!0,onClick:Da||!G?()=>{}:()=>{var Re;bi(),(Re=h.onDismiss)==null||Re.call(h,h)},className:ee(C?.closeButton,(s=h?.classNames)==null?void 0:s.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||M.isValidElement(h.title)?h.jsx||h.title:M.createElement(M.Fragment,null,L||h.icon||h.promise?M.createElement("div",{"data-icon":"",className:ee(C?.icon,(i=h?.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||AO():null,h.type!=="loading"?h.icon||B?.[L]||l5(L):null):null,M.createElement("div",{"data-content":"",className:ee(C?.content,(a=h?.classNames)==null?void 0:a.content)},M.createElement("div",{"data-title":"",className:ee(C?.title,(c=h?.classNames)==null?void 0:c.title)},h.title),h.description?M.createElement("div",{"data-description":"",className:ee(R,te,C?.description,(l=h?.classNames)==null?void 0:l.description)},h.description):null),M.isValidElement(h.cancel)?h.cancel:h.cancel&&Af(h.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:Re=>{var ht,at;Af(h.cancel)&&G&&((at=(ht=h.cancel).onClick)==null||at.call(ht,Re),bi())},className:ee(C?.cancelButton,(u=h?.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,M.isValidElement(h.action)?h.action:h.action&&Af(h.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:Re=>{var ht,at;Af(h.action)&&(Re.defaultPrevented||((at=(ht=h.action).onClick)==null||at.call(ht,Re),bi()))},className:ee(C?.actionButton,(d=h?.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Lj(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var I5=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:c,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=E5,toastOptions:m,dir:g=Lj(),gap:p=N5,loadingIcon:y,icons:x,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:j=T5}=t,[E,N]=M.useState([]),S=M.useMemo(()=>Array.from(new Set([n].concat(E.filter(q=>q.position).map(q=>q.position)))),[E,n]),[_,O]=M.useState([]),[T,I]=M.useState(!1),[R,z]=M.useState(!1),[$,A]=M.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=M.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=M.useRef(null),B=M.useRef(!1),V=M.useCallback(q=>{var ee;(ee=E.find(he=>he.id===q.id))!=null&&ee.delete||rr.dismiss(q.id),N(he=>he.filter(({id:de})=>de!==q.id))},[E]);return M.useEffect(()=>rr.subscribe(q=>{if(q.dismiss){N(ee=>ee.map(he=>he.id===q.id?{...he,delete:!0}:he));return}setTimeout(()=>{EN.flushSync(()=>{N(ee=>{let he=ee.findIndex(de=>de.id===q.id);return he!==-1?[...ee.slice(0,he),{...ee[he],...q},...ee.slice(he+1)]:[q,...ee]})})})}),[]),M.useEffect(()=>{if(l!=="system"){A(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{A(q?"dark":"light")})},[l]),M.useEffect(()=>{E.length<=1&&I(!1)},[E]),M.useEffect(()=>{let q=ee=>{var he,de;r.every(Fe=>ee[Fe]||ee.code===Fe)&&(I(!0),(he=k.current)==null||he.focus()),ee.code==="Escape"&&(document.activeElement===k.current||(de=k.current)!=null&&de.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),M.useEffect(()=>{if(k.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,B.current=!1)}},[k.current]),E.length?M.createElement("section",{"aria-label":`${w} ${D}`,tabIndex:-1},S.map((q,ee)=>{var he;let[de,Fe]=q.split("-");return M.createElement("ol",{key:q,dir:g==="auto"?Lj():g,tabIndex:-1,ref:k,className:a,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":de,"data-x-position":Fe,style:{"--front-toast-height":`${((he=_[0])==null?void 0:he.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||A5,"--width":`${S5}px`,"--gap":`${p}px`,...f},onBlur:ke=>{B.current&&!ke.currentTarget.contains(ke.relatedTarget)&&(B.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||B.current||(B.current=!0,C.current=ke.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{R||I(!1)},onPointerDown:ke=>{ke.target instanceof HTMLElement&&ke.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},E.filter(ke=>!ke.position&&ee===0||ke.position===q).map((ke,le)=>{var Ve,Ye;return M.createElement(P5,{key:ke.id,icons:x,index:le,toast:ke,defaultRichColors:u,duration:(Ve=m?.duration)!=null?Ve:d,className:m?.className,descriptionClassName:m?.descriptionClassName,invert:e,visibleToasts:h,closeButton:(Ye=m?.closeButton)!=null?Ye:i,interacting:R,position:q,style:m?.style,unstyled:m?.unstyled,classNames:m?.classNames,cancelButtonStyle:m?.cancelButtonStyle,actionButtonStyle:m?.actionButtonStyle,removeToast:V,toasts:E.filter(Me=>Me.position==ke.position),heights:_.filter(Me=>Me.position==ke.position),setHeights:O,expandByDefault:s,gap:p,loadingIcon:y,expanded:T,pauseWhenPageIsHidden:b,cn:j})}))})):null};const R5=({...t})=>{const{theme:e="system"}=c5();return o.jsx(I5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var O5=w_.useId||(()=>{}),M5=0;function Zi(t){const[e,n]=v.useState(O5());return wn(()=>{n(r=>r??String(M5++))},[t]),e?`radix-${e}`:""}const B5=["top","right","bottom","left"],uo=Math.min,ir=Math.max,$h=Math.round,_f=Math.floor,fo=t=>({x:t,y:t}),D5={left:"right",right:"left",bottom:"top",top:"bottom"},L5={start:"end",end:"start"};function s0(t,e,n){return ir(t,uo(e,n))}function ai(t,e){return typeof t=="function"?t(e):t}function ci(t){return t.split("-")[0]}function gl(t){return t.split("-")[1]}function jw(t){return t==="x"?"y":"x"}function Ew(t){return t==="y"?"height":"width"}function ho(t){return["top","bottom"].includes(ci(t))?"y":"x"}function Aw(t){return jw(ho(t))}function F5(t,e,n){n===void 0&&(n=!1);const r=gl(t),s=Aw(t),i=Ew(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Hh(a)),[a,Hh(a)]}function U5(t){const e=Hh(t);return[i0(t),e,i0(e)]}function i0(t){return t.replace(/start|end/g,e=>L5[e])}function $5(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function H5(t,e,n,r){const s=gl(t);let i=$5(ci(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(i0)))),i}function Hh(t){return t.replace(/left|right|bottom|top/g,e=>D5[e])}function z5(t){return{top:0,right:0,bottom:0,left:0,...t}}function gk(t){return typeof t!="number"?z5(t):{top:t,right:t,bottom:t,left:t}}function zh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Fj(t,e,n){let{reference:r,floating:s}=t;const i=ho(e),a=Aw(e),c=Ew(a),l=ci(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[c]/2-s[c]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(gl(e)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const V5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Fj(u,r,l),h=r,m={},g=0;for(let p=0;p<c.length;p++){const{name:y,fn:x}=c[p],{x:w,y:b,data:j,reset:E}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=w??d,f=b??f,m={...m,[y]:{...m[y],...j}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):E.rects),{x:d,y:f}=Fj(u,h,l)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Qu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ai(e,t),g=gk(m),y=c[h?f==="floating"?"reference":"floating":f],x=zh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),w=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},E=zh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:b,strategy:l}):w);return{top:(x.top-E.top+g.top)/j.y,bottom:(E.bottom-x.bottom+g.bottom)/j.y,left:(x.left-E.left+g.left)/j.x,right:(E.right-x.right+g.right)/j.x}}const G5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:l}=e,{element:u,padding:d=0}=ai(t,e)||{};if(u==null)return{};const f=gk(d),h={x:n,y:r},m=Aw(s),g=Ew(m),p=await a.getDimensions(u),y=m==="y",x=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[m]-h[m]-i.floating[g],E=h[m]-i.reference[m],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=N?N[b]:0;(!S||!await(a.isElement==null?void 0:a.isElement(N)))&&(S=c.floating[b]||i.floating[g]);const _=j/2-E/2,O=S/2-p[g]/2-1,T=uo(f[x],O),I=uo(f[w],O),R=T,z=S-p[g]-I,$=S/2-p[g]/2+_,A=s0(R,$,z),k=!l.arrow&&gl(s)!=null&&$!==A&&i.reference[g]/2-($<R?T:I)-p[g]/2<0,D=k?$<R?$-R:$-z:0;return{[m]:h[m]+D,data:{[m]:A,centerOffset:$-A-D,...k&&{alignmentOffset:D}},reset:k}}}),W5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=ai(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=ci(s),w=ho(c),b=ci(c)===c,j=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=h||(b||!p?[Hh(c)]:U5(c)),N=g!=="none";!h&&N&&E.push(...H5(c,p,g,j));const S=[c,...E],_=await Qu(e,y),O=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&O.push(_[x]),f){const $=F5(s,a,j);O.push(_[$[0]],_[$[1]])}if(T=[...T,{placement:s,overflows:O}],!O.every($=>$<=0)){var I,R;const $=(((I=i.flip)==null?void 0:I.index)||0)+1,A=S[$];if(A)return{data:{index:$,overflows:T},reset:{placement:A}};let k=(R=T.filter(D=>D.overflows[0]<=0).sort((D,C)=>D.overflows[1]-C.overflows[1])[0])==null?void 0:R.placement;if(!k)switch(m){case"bestFit":{var z;const D=(z=T.filter(C=>{if(N){const B=ho(C.placement);return B===w||B==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((C,B)=>C[1]-B[1])[0])==null?void 0:z[0];D&&(k=D);break}case"initialPlacement":k=c;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function Uj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $j(t){return B5.some(e=>t[e]>=0)}const q5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ai(t,e);switch(r){case"referenceHidden":{const i=await Qu(e,{...s,elementContext:"reference"}),a=Uj(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:$j(a)}}}case"escaped":{const i=await Qu(e,{...s,altBoundary:!0}),a=Uj(i,n.floating);return{data:{escapedOffsets:a,escaped:$j(a)}}}default:return{}}}}};async function K5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=ci(n),c=gl(n),l=ho(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&l?-1:1,f=ai(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof g=="number"&&(m=c==="end"?g*-1:g),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Q5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,l=await K5(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},Y5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...l}=ai(t,e),u={x:n,y:r},d=await Qu(e,l),f=ho(ci(s)),h=jw(f);let m=u[h],g=u[f];if(i){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[y],b=m-d[x];m=s0(w,m,b)}if(a){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=g+d[y],b=g-d[x];g=s0(w,g,b)}const p=c.fn({...e,[h]:m,[f]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:i,[f]:a}}}}}},J5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=ai(t,e),d={x:n,y:r},f=ho(s),h=jw(f);let m=d[h],g=d[f];const p=ai(c,e),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const b=h==="y"?"height":"width",j=i.reference[h]-i.floating[b]+y.mainAxis,E=i.reference[h]+i.reference[b]-y.mainAxis;m<j?m=j:m>E&&(m=E)}if(u){var x,w;const b=h==="y"?"width":"height",j=["top","left"].includes(ci(s)),E=i.reference[f]-i.floating[b]+(j&&((x=a.offset)==null?void 0:x[f])||0)+(j?0:y.crossAxis),N=i.reference[f]+i.reference[b]+(j?0:((w=a.offset)==null?void 0:w[f])||0)-(j?y.crossAxis:0);g<E?g=E:g>N&&(g=N)}return{[h]:m,[f]:g}}}},Z5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:l=()=>{},...u}=ai(t,e),d=await Qu(e,u),f=ci(s),h=gl(s),m=ho(s)==="y",{width:g,height:p}=i.floating;let y,x;f==="top"||f==="bottom"?(y=f,x=h===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(x=f,y=h==="end"?"top":"bottom");const w=p-d.top-d.bottom,b=g-d.left-d.right,j=uo(p-d[y],w),E=uo(g-d[x],b),N=!e.middlewareData.shift;let S=j,_=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),N&&!h){const T=ir(d.left,0),I=ir(d.right,0),R=ir(d.top,0),z=ir(d.bottom,0);m?_=g-2*(T!==0||I!==0?T+I:ir(d.left,d.right)):S=p-2*(R!==0||z!==0?R+z:ir(d.top,d.bottom))}await l({...e,availableWidth:_,availableHeight:S});const O=await a.getDimensions(c.floating);return g!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function kp(){return typeof window<"u"}function yl(t){return yk(t)?(t.nodeName||"").toLowerCase():"#document"}function lr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ks(t){var e;return(e=(yk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yk(t){return kp()?t instanceof Node||t instanceof lr(t).Node:!1}function Qr(t){return kp()?t instanceof Element||t instanceof lr(t).Element:!1}function Es(t){return kp()?t instanceof HTMLElement||t instanceof lr(t).HTMLElement:!1}function Hj(t){return!kp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof lr(t).ShadowRoot}function Fd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Yr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function X5(t){return["table","td","th"].includes(yl(t))}function Cp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _w(t){const e=Sw(),n=Qr(t)?Yr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function eL(t){let e=mo(t);for(;Es(e)&&!zc(e);){if(_w(e))return e;if(Cp(e))return null;e=mo(e)}return null}function Sw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zc(t){return["html","body","#document"].includes(yl(t))}function Yr(t){return lr(t).getComputedStyle(t)}function Tp(t){return Qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function mo(t){if(yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Hj(t)&&t.host||ks(t);return Hj(e)?e.host:e}function vk(t){const e=mo(t);return zc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Es(e)&&Fd(e)?e:vk(e)}function Yu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=vk(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=lr(s);if(i){const c=o0(a);return e.concat(a,a.visualViewport||[],Fd(s)?s:[],c&&n?Yu(c):[])}return e.concat(s,Yu(s,[],n))}function o0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xk(t){const e=Yr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Es(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=$h(n)!==i||$h(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function Nw(t){return Qr(t)?t:t.contextElement}function Sc(t){const e=Nw(t);if(!Es(e))return fo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=xk(e);let a=(i?$h(n.width):n.width)/r,c=(i?$h(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const tL=fo(0);function wk(t){const e=lr(t);return!Sw()||!e.visualViewport?tL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==lr(t)?!1:e}function ma(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Nw(t);let a=fo(1);e&&(r?Qr(r)&&(a=Sc(r)):a=Sc(t));const c=nL(i,n,r)?wk(i):fo(0);let l=(s.left+c.x)/a.x,u=(s.top+c.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const h=lr(i),m=r&&Qr(r)?lr(r):r;let g=h,p=o0(g);for(;p&&r&&m!==g;){const y=Sc(p),x=p.getBoundingClientRect(),w=Yr(p),b=x.left+(p.clientLeft+parseFloat(w.paddingLeft))*y.x,j=x.top+(p.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,u*=y.y,d*=y.x,f*=y.y,l+=b,u+=j,g=lr(p),p=o0(g)}}return zh({width:d,height:f,x:l,y:u})}function rL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ks(r),c=e?Cp(e.floating):!1;if(r===a||c&&i)return n;let l={scrollLeft:0,scrollTop:0},u=fo(1);const d=fo(0),f=Es(r);if((f||!f&&!i)&&((yl(r)!=="body"||Fd(a))&&(l=Tp(r)),Es(r))){const h=ma(r);u=Sc(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function sL(t){return Array.from(t.getClientRects())}function a0(t,e){const n=Tp(t).scrollLeft;return e?e.left+n:ma(ks(t)).left+n}function iL(t){const e=ks(t),n=Tp(t),r=t.ownerDocument.body,s=ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+a0(t);const c=-n.scrollTop;return Yr(r).direction==="rtl"&&(a+=ir(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}function oL(t,e){const n=lr(t),r=ks(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,l=0;if(s){i=s.width,a=s.height;const u=Sw();(!u||u&&e==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:c,y:l}}function aL(t,e){const n=ma(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Es(t)?Sc(t):fo(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:a,height:c,x:l,y:u}}function zj(t,e,n){let r;if(e==="viewport")r=oL(t,n);else if(e==="document")r=iL(ks(t));else if(Qr(e))r=aL(e,n);else{const s=wk(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return zh(r)}function bk(t,e){const n=mo(t);return n===e||!Qr(n)||zc(n)?!1:Yr(n).position==="fixed"||bk(n,e)}function cL(t,e){const n=e.get(t);if(n)return n;let r=Yu(t,[],!1).filter(c=>Qr(c)&&yl(c)!=="body"),s=null;const i=Yr(t).position==="fixed";let a=i?mo(t):t;for(;Qr(a)&&!zc(a);){const c=Yr(a),l=_w(a);!l&&c.position==="fixed"&&(s=null),(i?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fd(a)&&!l&&bk(t,a))?r=r.filter(d=>d!==a):s=c,a=mo(a)}return e.set(t,r),r}function lL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Cp(e)?[]:cL(e,this._c):[].concat(n),r],c=a[0],l=a.reduce((u,d)=>{const f=zj(e,d,s);return u.top=ir(f.top,u.top),u.right=uo(f.right,u.right),u.bottom=uo(f.bottom,u.bottom),u.left=ir(f.left,u.left),u},zj(e,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uL(t){const{width:e,height:n}=xk(t);return{width:e,height:n}}function dL(t,e,n){const r=Es(e),s=ks(e),i=n==="fixed",a=ma(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const l=fo(0);if(r||!r&&!i)if((yl(e)!=="body"||Fd(s))&&(c=Tp(e)),r){const m=ma(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&(l.x=a0(s));let u=0,d=0;if(s&&!r&&!i){const m=s.getBoundingClientRect();d=m.top+c.scrollTop,u=m.left+c.scrollLeft-a0(s,m)}const f=a.left+c.scrollLeft-l.x-u,h=a.top+c.scrollTop-l.y-d;return{x:f,y:h,width:a.width,height:a.height}}function fy(t){return Yr(t).position==="static"}function Vj(t,e){if(!Es(t)||Yr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ks(t)===n&&(n=n.ownerDocument.body),n}function jk(t,e){const n=lr(t);if(Cp(t))return n;if(!Es(t)){let s=mo(t);for(;s&&!zc(s);){if(Qr(s)&&!fy(s))return s;s=mo(s)}return n}let r=Vj(t,e);for(;r&&X5(r)&&fy(r);)r=Vj(r,e);return r&&zc(r)&&fy(r)&&!_w(r)?n:r||eL(t)||n}const fL=async function(t){const e=this.getOffsetParent||jk,n=this.getDimensions,r=await n(t.floating);return{reference:dL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hL(t){return Yr(t).direction==="rtl"}const mL={convertOffsetParentRelativeRectToViewportRelativeRect:rL,getDocumentElement:ks,getClippingRect:lL,getOffsetParent:jk,getElementRects:fL,getClientRects:sL,getDimensions:uL,getScale:Sc,isElement:Qr,isRTL:hL};function pL(t,e){let n=null,r;const s=ks(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(c||e(),!f||!h)return;const m=_f(d),g=_f(s.clientWidth-(u+f)),p=_f(s.clientHeight-(d+h)),y=_f(u),w={rootMargin:-m+"px "+-g+"px "+-p+"px "+-y+"px",threshold:ir(0,uo(1,l))||1};let b=!0;function j(E){const N=E[0].intersectionRatio;if(N!==l){if(!b)return a();N?a(!1,N):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(t)}return a(!0),i}function gL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Nw(t),d=s||i?[...u?Yu(u):[],...Yu(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&c?pL(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let g,p=l?ma(t):null;l&&y();function y(){const x=ma(t);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,g=requestAnimationFrame(y)}return n(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f?.(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const yL=Q5,vL=Y5,xL=W5,wL=Z5,bL=q5,Gj=G5,jL=J5,EL=(t,e,n)=>{const r=new Map,s={platform:mL,...n},i={...s.platform,_c:r};return V5(t,e,{...s,platform:i})};var nh=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Vh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Vh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ek(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Wj(t,e){const n=Ek(t);return Math.round(e*n)/n}function hy(t){const e=v.useRef(t);return nh(()=>{e.current=t}),e}function AL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:l,open:u}=t,[d,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(r);Vh(h,r)||m(r);const[g,p]=v.useState(null),[y,x]=v.useState(null),w=v.useCallback(C=>{C!==N.current&&(N.current=C,p(C))},[]),b=v.useCallback(C=>{C!==S.current&&(S.current=C,x(C))},[]),j=i||g,E=a||y,N=v.useRef(null),S=v.useRef(null),_=v.useRef(d),O=l!=null,T=hy(l),I=hy(s),R=hy(u),z=v.useCallback(()=>{if(!N.current||!S.current)return;const C={placement:e,strategy:n,middleware:h};I.current&&(C.platform=I.current),EL(N.current,S.current,C).then(B=>{const V={...B,isPositioned:R.current!==!1};$.current&&!Vh(_.current,V)&&(_.current=V,Ca.flushSync(()=>{f(V)}))})},[h,e,n,I,R]);nh(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const $=v.useRef(!1);nh(()=>($.current=!0,()=>{$.current=!1}),[]),nh(()=>{if(j&&(N.current=j),E&&(S.current=E),j&&E){if(T.current)return T.current(j,E,z);z()}},[j,E,z,T,O]);const A=v.useMemo(()=>({reference:N,floating:S,setReference:w,setFloating:b}),[w,b]),k=v.useMemo(()=>({reference:j,floating:E}),[j,E]),D=v.useMemo(()=>{const C={position:n,left:0,top:0};if(!k.floating)return C;const B=Wj(k.floating,d.x),V=Wj(k.floating,d.y);return c?{...C,transform:"translate("+B+"px, "+V+"px)",...Ek(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:V}},[n,c,k.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:z,refs:A,elements:k,floatingStyles:D}),[d,z,A,k,D])}const _L=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Gj({element:r.current,padding:s}).fn(n):{}:r?Gj({element:r,padding:s}).fn(n):{}}}},SL=(t,e)=>({...yL(t),options:[t,e]}),NL=(t,e)=>({...vL(t),options:[t,e]}),kL=(t,e)=>({...jL(t),options:[t,e]}),CL=(t,e)=>({...xL(t),options:[t,e]}),TL=(t,e)=>({...wL(t),options:[t,e]}),PL=(t,e)=>({...bL(t),options:[t,e]}),IL=(t,e)=>({..._L(t),options:[t,e]});var RL="Arrow",Ak=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(Ne.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ak.displayName=RL;var OL=Ak;function ML(t,e=[]){let n=[];function r(i,a){const c=v.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:m,...g}=f,p=h?.[t][l]||c,y=v.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=h?.[t][l]||c,g=v.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>v.createContext(a));return function(c){const l=c?.[t]||i;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,BL(s,...e)]}function BL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Pp(t){const[e,n]=v.useState(void 0);return wn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,c=u.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var kw="Popper",[_k,Ip]=ML(kw),[DL,Sk]=_k(kw),Nk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return o.jsx(DL,{scope:e,anchor:r,onAnchorChange:s,children:n})};Nk.displayName=kw;var kk="PopperAnchor",Ck=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Sk(kk,n),a=v.useRef(null),c=Xe(e,a);return v.useEffect(()=>{i.onAnchorChange(r?.current||a.current)}),r?null:o.jsx(Ne.div,{...s,ref:c})});Ck.displayName=kk;var Cw="PopperContent",[LL,FL]=_k(Cw),Tk=v.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=t,y=Sk(Cw,n),[x,w]=v.useState(null),b=Xe(e,le=>w(le)),[j,E]=v.useState(null),N=Pp(j),S=N?.width??0,_=N?.height??0,O=r+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],R=I.length>0,z={padding:T,boundary:I.filter($L),altBoundary:R},{refs:$,floatingStyles:A,placement:k,isPositioned:D,middlewareData:C}=AL({strategy:"fixed",placement:O,whileElementsMounted:(...le)=>gL(...le,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[SL({mainAxis:s+_,alignmentAxis:a}),l&&NL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?kL():void 0,...z}),l&&CL({...z}),TL({...z,apply:({elements:le,rects:Ve,availableWidth:Ye,availableHeight:Me})=>{const{width:Je,height:Ue}=Ve.reference,yt=le.floating.style;yt.setProperty("--radix-popper-available-width",`${Ye}px`),yt.setProperty("--radix-popper-available-height",`${Me}px`),yt.setProperty("--radix-popper-anchor-width",`${Je}px`),yt.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),j&&IL({element:j,padding:c}),HL({arrowWidth:S,arrowHeight:_}),h&&PL({strategy:"referenceHidden",...z})]}),[B,V]=Rk(k),q=Xn(g);wn(()=>{D&&q?.()},[D,q]);const ee=C.arrow?.x,he=C.arrow?.y,de=C.arrow?.centerOffset!==0,[Fe,ke]=v.useState();return wn(()=>{x&&ke(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:D?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[C.transformOrigin?.x,C.transformOrigin?.y].join(" "),...C.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(LL,{scope:n,placedSide:B,onArrowChange:E,arrowX:ee,arrowY:he,shouldHideArrow:de,children:o.jsx(Ne.div,{"data-side":B,"data-align":V,...p,ref:b,style:{...p.style,animation:D?void 0:"none"}})})})});Tk.displayName=Cw;var Pk="PopperArrow",UL={top:"bottom",right:"left",bottom:"top",left:"right"},Ik=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=FL(Pk,r),a=UL[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(OL,{...s,ref:n,style:{...s.style,display:"block"}})})});Ik.displayName=Pk;function $L(t){return t!==null}var HL=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=Rk(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(s.arrow?.x??0)+c/2,m=(s.arrow?.y??0)+l/2;let g="",p="";return u==="bottom"?(g=a?f:`${h}px`,p=`${-l}px`):u==="top"?(g=a?f:`${h}px`,p=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,p=a?f:`${m}px`):u==="left"&&(g=`${r.floating.width+l}px`,p=a?f:`${m}px`),{data:{x:g,y:p}}}});function Rk(t){const[e,n="center"]=t.split("-");return[e,n]}var zL=Nk,Ok=Ck,Mk=Tk,Bk=Ik,[Rp,Tre]=Ns("Tooltip",[Ip]),Tw=Ip(),Dk="TooltipProvider",VL=700,qj="tooltip.open",[GL,Lk]=Rp(Dk),Fk=t=>{const{__scopeTooltip:e,delayDuration:n=VL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[a,c]=v.useState(!0),l=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(GL,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),c(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>c(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};Fk.displayName=Dk;var Uk="Tooltip",[Pre,Op]=Rp(Uk),c0="TooltipTrigger",WL=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Op(c0,n),i=Lk(c0,n),a=Tw(n),c=v.useRef(null),l=Xe(e,c,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Ok,{asChild:!0,...a,children:o.jsx(Ne.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ge(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ge(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ge(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ge(t.onBlur,s.onClose),onClick:ge(t.onClick,s.onClose)})})});WL.displayName=c0;var qL="TooltipPortal",[Ire,KL]=Rp(qL,{forceMount:void 0}),Vc="TooltipContent",$k=v.forwardRef((t,e)=>{const n=KL(Vc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Op(Vc,t.__scopeTooltip);return o.jsx(mi,{present:r||a.open,children:a.disableHoverableContent?o.jsx(Hk,{side:s,...i,ref:e}):o.jsx(QL,{side:s,...i,ref:e})})}),QL=v.forwardRef((t,e)=>{const n=Op(Vc,t.__scopeTooltip),r=Lk(Vc,t.__scopeTooltip),s=v.useRef(null),i=Xe(e,s),[a,c]=v.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=v.useCallback(()=>{c(null),f(!1)},[f]),m=v.useCallback((g,p)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},w=XL(x,y.getBoundingClientRect()),b=eF(x,w),j=tF(p.getBoundingClientRect()),E=rF([...b,...j]);c(E),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(l&&d){const g=y=>m(y,d),p=y=>m(y,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[l,d,m,h]),v.useEffect(()=>{if(a){const g=p=>{const y=p.target,x={x:p.clientX,y:p.clientY},w=l?.contains(y)||d?.contains(y),b=!nF(x,a);w?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,a,u,h]),o.jsx(Hk,{...t,ref:i})}),[YL,JL]=Rp(Uk,{isInside:!1}),Hk=v.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=t,l=Op(Vc,n),u=Tw(n),{onClose:d}=l;return v.useEffect(()=>(document.addEventListener(qj,d),()=>document.removeEventListener(qj,d)),[d]),v.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),o.jsx(Md,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Mk,{"data-state":l.stateAttribute,...u,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(pw,{children:r}),o.jsx(YL,{scope:n,isInside:!0,children:o.jsx(CB,{id:l.contentId,role:"tooltip",children:s||r})})]})})});$k.displayName=Vc;var zk="TooltipArrow",ZL=v.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Tw(n);return JL(zk,n).isInside?null:o.jsx(Bk,{...s,...r,ref:e})});ZL.displayName=zk;function XL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function eF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function tF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function nF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i].x,l=e[i].y,u=e[a].x,d=e[a].y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(s=!s)}return s}function rF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sF(e)}function sF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var iF=Fk,Vk=$k;const oF=iF,aF=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(Vk,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));aF.displayName=Vk.displayName;var Mp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bp=typeof window>"u"||"Deno"in globalThis;function Lr(){}function cF(t,e){return typeof t=="function"?t(e):t}function lF(t){return typeof t=="number"&&t>=0&&t!==1/0}function uF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Kj(t,e){return typeof t=="function"?t(e):t}function dF(t,e){return typeof t=="function"?t(e):t}function Qj(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==Pw(a,e.options))return!1}else if(!Zu(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function Yj(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ju(e.options.mutationKey)!==Ju(i))return!1}else if(!Zu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Pw(t,e){return(e?.queryKeyHashFn||Ju)(t)}function Ju(t){return JSON.stringify(t,(e,n)=>l0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Zu(t[n],e[n])):!1}function Gk(t,e){if(t===e)return t;const n=Jj(t)&&Jj(e);if(n||l0(t)&&l0(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,c=n?[]:{};let l=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(c[d]=void 0,l++):(c[d]=Gk(t[d],e[d]),c[d]===t[d]&&t[d]!==void 0&&l++)}return s===a&&l===s?t:c}return e}function Jj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function l0(t){if(!Zj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Zj(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Zj(t){return Object.prototype.toString.call(t)==="[object Object]"}function fF(t){return new Promise(e=>{setTimeout(e,t)})}function hF(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Gk(t,e):e}function mF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function pF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Iw=Symbol();function Wk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Iw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gF=class extends Mp{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Bp&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},qk=new gF,yF=class extends Mp{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Bp&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Gh=new yF;function vF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function xF(t){return Math.min(1e3*2**t,3e4)}function Kk(t){return(t??"online")==="online"?Gh.isOnline():!0}var Qk=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function my(t){return t instanceof Qk}function Yk(t){let e=!1,n=0,r=!1,s;const i=vF(),a=p=>{r||(h(new Qk(p)),t.abort?.())},c=()=>{e=!0},l=()=>{e=!1},u=()=>qk.isFocused()&&(t.networkMode==="always"||Gh.isOnline())&&t.canRun(),d=()=>Kk(t.networkMode)&&t.canRun(),f=p=>{r||(r=!0,t.onSuccess?.(p),s?.(),i.resolve(p))},h=p=>{r||(r=!0,t.onError?.(p),s?.(),i.reject(p))},m=()=>new Promise(p=>{s=y=>{(r||u())&&p(y)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),g=()=>{if(r)return;let p;const y=n===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{if(r)return;const w=t.retry??(Bp?0:3),b=t.retryDelay??xF,j=typeof b=="function"?b(n,x):b,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!E){h(x);return}n++,t.onFail?.(n,x),fF(j).then(()=>u()?void 0:m()).then(()=>{e?h(x):g()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?g():m().then(g),i)}}function wF(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=c=>setTimeout(c,0);const i=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(l=>{n(l)})})})};return{batch:c=>{let l;e++;try{l=c()}finally{e--,e||a()}return l},batchCalls:c=>(...l)=>{i(()=>{c(...l)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var Nn=wF(),Jk=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lF(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bp?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},bF=class extends Jk{#e;#t;#n;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=EF(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=hF(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Lr).catch(Lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>dF(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!uF(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},s=()=>{const c=Wk(this.options,e),l={queryKey:this.queryKey,meta:this.meta};return r(l),this.#i=!1,this.options.persister?this.options.persister(c,l,this):c(l)},i={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const a=c=>{my(c)&&c.silent||this.#s({type:"error",error:c}),my(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=Yk({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(l){a(l);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:a,onFail:(c,l)=>{this.#s({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jF(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return my(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Nn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function jF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function EF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var AF=class extends Mp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Pw(r,e);let i=this.get(s);return i||(i=new bF({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Qj(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Qj(t,n)):e}notify(t){Nn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Nn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Nn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_F=class extends Jk{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||SF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=Yk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#r({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Nn.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function SF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var NF=class extends Mp{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new _F({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Sf(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Sf(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Sf(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Sf(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Nn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Yj(e,n))}findAll(t={}){return this.getAll().filter(e=>Yj(t,e))}notify(t){Nn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Nn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Lr))))}};function Sf(t){return t.options.scope?.id??String(t.mutationId)}function Xj(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},l=0;const u=async()=>{let d=!1;const f=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},h=Wk(e.options,e.fetchOptions),m=async(g,p,y)=>{if(d)return Promise.reject();if(p==null&&g.pages.length)return Promise.resolve(g);const x={queryKey:e.queryKey,pageParam:p,direction:y?"backward":"forward",meta:e.options.meta};f(x);const w=await h(x),{maxPages:b}=e.options,j=y?pF:mF;return{pages:j(g.pages,w,b),pageParams:j(g.pageParams,p,b)}};if(s&&i.length){const g=s==="backward",p=g?kF:eE,y={pages:i,pageParams:a},x=p(r,y);c=await m(y,x,g)}else{const g=t??i.length;do{const p=l===0?a[0]??r.initialPageParam:eE(r,c);if(l>0&&p==null)break;c=await m(c,p),l++}while(l<g)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function eE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function kF(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var CF=class{#e;#t;#n;#r;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new AF,this.#t=t.mutationCache||new NF,this.#n=t.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=qk.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Gh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Kj(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=cF(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Nn.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Nn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Nn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Nn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Lr).catch(Lr)}invalidateQueries(t={},e={}){return Nn.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=Nn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Lr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Lr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Kj(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Lr).catch(Lr)}fetchInfiniteQuery(t){return t.behavior=Xj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Lr).catch(Lr)}ensureInfiniteQueryData(t){return t.behavior=Xj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ju(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let n={};return e.forEach(r=>{Zu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(Ju(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Zu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Pw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Iw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},TF=v.createContext(void 0),PF=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(TF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}var $i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($i||($i={}));const tE="popstate";function IF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return u0("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wh(s)}return OF(e,n,null,t)}function Ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RF(){return Math.random().toString(36).substr(2,8)}function nE(t,e){return{usr:t.state,key:t.key,idx:e}}function u0(t,e,n,r){return n===void 0&&(n=null),Xu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vl(e):e,{state:n,key:e&&e.key||r||RF()})}function Wh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function OF(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=$i.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Xu({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){c=$i.Pop;let y=d(),x=y==null?null:y-u;u=y,l&&l({action:c,location:p.location,delta:x})}function h(y,x){c=$i.Push;let w=u0(p.location,y,x);u=d()+1;let b=nE(w,u),j=p.createHref(w);try{a.pushState(b,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}i&&l&&l({action:c,location:p.location,delta:1})}function m(y,x){c=$i.Replace;let w=u0(p.location,y,x);u=d();let b=nE(w,u),j=p.createHref(w);a.replaceState(b,"",j),i&&l&&l({action:c,location:p.location,delta:0})}function g(y){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Wh(y);return w=w.replace(/ $/,"%20"),Ht(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let p={get action(){return c},get location(){return t(s,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(tE,f),l=y,()=>{s.removeEventListener(tE,f),l=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return a.go(y)}};return p}var rE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rE||(rE={}));function MF(t,e,n){return n===void 0&&(n="/"),BF(t,e,n,!1)}function BF(t,e,n,r){let s=typeof e=="string"?vl(e):e,i=Rw(s.pathname||"/",n);if(i==null)return null;let a=Xk(t);DF(a);let c=null;for(let l=0;c==null&&l<a.length;++l){let u=KF(i);c=WF(a[l],u,r)}return c}function Xk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Xi([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Xk(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:VF(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let l of eC(i.path))s(i,a,l)}),e}function eC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=eC(r.join("/")),c=[];return c.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&c.push(...a),c.map(l=>t.startsWith("/")&&l===""?"/":l)}function DF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LF=/^:[\w-]+$/,FF=3,UF=2,$F=1,HF=10,zF=-2,sE=t=>t==="*";function VF(t,e){let n=t.split("/"),r=n.length;return n.some(sE)&&(r+=zF),e&&(r+=UF),n.filter(s=>!sE(s)).reduce((s,i)=>s+(LF.test(i)?FF:i===""?$F:HF),r)}function GF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function WF(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let l=r[c],u=c===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=iE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=iE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Xi([i,f.pathname]),pathnameBase:ZF(Xi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Xi([i,f.pathnameBase]))}return a}function iE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=c[f]||"";a=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=c[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function qF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function KF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vl(t):t;return{pathname:n?n.startsWith("/")?n:YF(n,e):e,search:XF(r),hash:e6(s)}}function YF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function py(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tC(t,e){let n=JF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=vl(t):(s=Xu({},t),Ht(!s.pathname||!s.pathname.includes("?"),py("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),py("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),py("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}c=f>=0?e[f]:"/"}let l=QF(s,c),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Xi=t=>t.join("/").replace(/\/\/+/g,"/"),ZF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rC=["post","put","patch","delete"];new Set(rC);const n6=["get",...rC];new Set(n6);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}const Ow=v.createContext(null),r6=v.createContext(null),Ta=v.createContext(null),Dp=v.createContext(null),Ao=v.createContext({outlet:null,matches:[],isDataRoute:!1}),sC=v.createContext(null);function s6(t,e){let{relative:n}=e===void 0?{}:e;Ud()||Ht(!1);let{basename:r,navigator:s}=v.useContext(Ta),{hash:i,pathname:a,search:c}=oC(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Xi([r,a])),s.createHref({pathname:l,search:c,hash:i})}function Ud(){return v.useContext(Dp)!=null}function xl(){return Ud()||Ht(!1),v.useContext(Dp).location}function iC(t){v.useContext(Ta).static||v.useLayoutEffect(t)}function jn(){let{isDataRoute:t}=v.useContext(Ao);return t?v6():i6()}function i6(){Ud()||Ht(!1);let t=v.useContext(Ow),{basename:e,future:n,navigator:r}=v.useContext(Ta),{matches:s}=v.useContext(Ao),{pathname:i}=xl(),a=JSON.stringify(tC(s,n.v7_relativeSplatPath)),c=v.useRef(!1);return iC(()=>{c.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let f=nC(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}function o6(){let{matches:t}=v.useContext(Ao),e=t[t.length-1];return e?e.params:{}}function oC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(Ta),{matches:s}=v.useContext(Ao),{pathname:i}=xl(),a=JSON.stringify(tC(s,r.v7_relativeSplatPath));return v.useMemo(()=>nC(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function a6(t,e){return c6(t,e)}function c6(t,e,n,r){Ud()||Ht(!1);let{navigator:s}=v.useContext(Ta),{matches:i}=v.useContext(Ao),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=xl(),d;if(e){var f;let y=typeof e=="string"?vl(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||Ht(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=MF(t,{pathname:m}),p=h6(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:Xi([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Xi([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&p?v.createElement(Dp.Provider,{value:{location:ed({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$i.Pop}},p):p}function l6(){let t=y6(),e=t6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const u6=v.createElement(l6,null);class d6 extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(Ao.Provider,{value:this.props.routeContext},v.createElement(sC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f6(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Ow);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ao.Provider,{value:e},r)}function h6(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let d=a.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);d>=0||Ht(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,g=!1,p=null,y=null;n&&(m=c&&f.route.id?c[f.route.id]:void 0,p=f.route.errorElement||u6,l&&(u<0&&h===0?(g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,h+1)),w=()=>{let b;return m?b=p:g?b=y:f.route.Component?b=v.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,v.createElement(f6,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(d6,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var aC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aC||{}),qh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qh||{});function m6(t){let e=v.useContext(Ow);return e||Ht(!1),e}function p6(t){let e=v.useContext(r6);return e||Ht(!1),e}function g6(t){let e=v.useContext(Ao);return e||Ht(!1),e}function cC(t){let e=g6(),n=e.matches[e.matches.length-1];return n.route.id||Ht(!1),n.route.id}function y6(){var t;let e=v.useContext(sC),n=p6(qh.UseRouteError),r=cC(qh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function v6(){let{router:t}=m6(aC.UseNavigateStable),e=cC(qh.UseNavigateStable),n=v.useRef(!1);return iC(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ed({fromRouteId:e},i)))},[t,e])}function rh(t){Ht(!1)}function x6(t){let{basename:e="/",children:n=null,location:r,navigationType:s=$i.Pop,navigator:i,static:a=!1,future:c}=t;Ud()&&Ht(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:i,static:a,future:ed({v7_relativeSplatPath:!1},c)}),[l,c,i,a]);typeof r=="string"&&(r=vl(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,p=v.useMemo(()=>{let y=Rw(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:s}},[l,d,f,h,m,g,s]);return p==null?null:v.createElement(Ta.Provider,{value:u},v.createElement(Dp.Provider,{children:n,value:p}))}function w6(t){let{children:e,location:n}=t;return a6(d0(e),n)}new Promise(()=>{});function d0(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,d0(r.props.children,i));return}r.type!==rh&&Ht(!1),!r.props.index||!r.props.children||Ht(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=d0(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(this,arguments)}function b6(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function j6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E6(t,e){return t.button===0&&(!e||e==="_self")&&!j6(t)}function h0(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function A6(t,e){let n=h0(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const _6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],S6="6";try{window.__reactRouterVersion=S6}catch{}const N6="startTransition",oE=w_[N6];function k6(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=IF({window:s,v5Compat:!0}));let a=i.current,[c,l]=v.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&oE?oE(()=>l(f)):l(f)},[l,u]);return v.useLayoutEffect(()=>a.listen(d),[a,d]),v.createElement(x6,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const C6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:c,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=b6(e,_6),{basename:m}=v.useContext(Ta),g,p=!1;if(typeof u=="string"&&T6.test(u)&&(g=u,C6))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),E=Rw(j.pathname,m);j.origin===b.origin&&E!=null?u=E+j.search+j.hash:p=!0}catch{}let y=s6(u,{relative:s}),x=P6(u,{replace:a,state:c,target:l,preventScrollReset:d,relative:s,viewTransition:f});function w(b){r&&r(b),b.defaultPrevented||x(b)}return v.createElement("a",f0({},h,{href:g||y,onClick:p||i?r:w,ref:n,target:l}))});var aE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aE||(aE={}));var cE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cE||(cE={}));function P6(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:c}=e===void 0?{}:e,l=jn(),u=xl(),d=oC(t,{relative:a});return v.useCallback(f=>{if(E6(f,n)){f.preventDefault();let h=r!==void 0?r:Wh(u)===Wh(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:c})}},[u,l,d,r,s,n,t,i,a,c])}function I6(t){let e=v.useRef(h0(t)),n=v.useRef(!1),r=xl(),s=v.useMemo(()=>A6(r.search,n.current?null:e.current),[r.search]),i=jn(),a=v.useCallback((c,l)=>{const u=h0(typeof c=="function"?c(s):c);n.current=!0,i("?"+u,l)},[i,s]);return[s,a]}const R6=()=>o.jsx("header",{className:"bg-white shadow-md",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsx(Ut,{to:"/",className:"text-2xl font-bold text-blue-700",children:"EarnFlow"}),o.jsx("nav",{children:o.jsxs("ul",{className:"flex space-x-6",children:[o.jsx("li",{children:o.jsxs(Ut,{to:"/payment",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(an,{className:"h-4 w-4"}),"Make Payment"]})}),o.jsx("li",{children:o.jsxs(Ut,{to:"/auth",className:"flex items-center gap-2 text-blue-500 hover:text-blue-700",children:[o.jsx(dD,{className:"h-4 w-4"}),"Sign In"]})}),o.jsx("li",{children:o.jsx(Ut,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700",children:"Dashboard"})}),o.jsx("li",{children:o.jsx(Ut,{to:"/production-test",className:"text-blue-500 hover:text-blue-700",children:"Production Test"})}),o.jsx("li",{children:o.jsx(Ut,{to:"/affiliate-revenue",className:"text-blue-500 hover:text-blue-700",children:"Affiliate Partners"})}),o.jsx("li",{children:o.jsx(Ut,{to:"/about",className:"text-blue-500 hover:text-blue-700",children:"About"})}),o.jsx("li",{children:o.jsx(Ut,{to:"/contact",className:"text-blue-500 hover:text-blue-700",children:"Contact"})})]})})]})}),O6=()=>o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Real Affiliate Partnerships That Pay"}),o.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Shop with our verified partners and help us earn real commissions through CJ Affiliate and direct partnerships"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Ut,{to:"/payment",className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-600 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all text-lg",children:[o.jsx(an,{className:"h-5 w-5"}),"Make a Payment"]}),o.jsxs(Ut,{to:"/affiliate-revenue",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all",children:[o.jsx(hr,{className:"h-5 w-5"}),"View All Partners"]})]})]}),M6=()=>o.jsx("div",{className:"mb-12 bg-white rounded-xl p-8 shadow-lg border",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:" Secure Payments Made Easy"}),o.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Make payments quickly and securely with our Stripe-powered payment system"}),o.jsxs(Ut,{to:"/payment",className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-600 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all text-lg",children:[o.jsx(an,{className:"h-6 w-6"}),"Start Payment Process"]})]})}),Mw=[{id:"max-streaming",name:"Max (HBO Max)",product:"Premium Streaming Service",price:15.99,originalPrice:19.99,affiliateUrl:"https://www.max.com/bg/en/affiliate",commissionRate:.08,category:"Entertainment",description:"Premium streaming with HBO originals, blockbuster movies, and exclusive content",features:["HBO Original Series","Same-day movie releases","4K streaming","Ad-free experience"],rating:4.7,billingPeriod:"monthly",popularBadge:!0,partnerType:"streaming"},{id:"shopify-partners",name:"Shopify",product:"E-commerce Platform",price:29,affiliateUrl:"https://www.shopify.com/partners",commissionRate:.2,category:"E-commerce",description:"Complete e-commerce solution for building and scaling online stores",features:["Professional themes","Payment processing","Inventory management","Mobile optimization"],rating:4.8,billingPeriod:"monthly",partnerType:"software"},{id:"bluehost-affiliate",name:"Bluehost",product:"Web Hosting Service",price:3.95,originalPrice:9.99,affiliateUrl:"https://www.bluehost.com/track/your-affiliate-id",commissionRate:.15,category:"Web Hosting",description:"Reliable web hosting with WordPress optimization and 24/7 support",features:["WordPress hosting","Free domain","SSL certificate","24/7 support"],rating:4.5,billingPeriod:"monthly",partnerType:"hosting"},{id:"canva-pro-affiliate",name:"Canva Pro",product:"Design Platform",price:14.99,originalPrice:19.99,affiliateUrl:"https://www.canva.com/affiliates",commissionRate:.1,category:"Design",description:"Professional design tools with premium templates and brand management",features:["Premium templates","Brand kit","Background remover","Team collaboration"],rating:4.9,billingPeriod:"monthly",partnerType:"design"},{id:"wise-affiliate",name:"Wise",product:"International Money Transfer",price:0,affiliateUrl:"https://wise.com/invite/u/wise-affiliate",commissionRate:.15,category:"Financial Services",description:"Fast, cheap international money transfers with real exchange rates",features:["Real exchange rates","Low fees","Fast transfers","Multi-currency account"],rating:4.6,billingPeriod:"one-time",partnerType:"financial"}],B6="modulepreload",D6=function(t){return"/"+t},lE={},$d=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(n.map(l=>{if(l=D6(l),l in lE)return;lE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":B6,u||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},L6=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$d(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bw extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class F6 extends Bw{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class U6 extends Bw{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class $6 extends Bw{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var m0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(m0||(m0={}));var H6=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class z6{constructor(e,{headers:n={},customFetch:r,region:s=m0.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=L6(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return H6(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let c={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(c["x-region"]=l);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(c["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(c["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(g=>{throw new F6(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new U6(d);if(!d.ok)throw new $6(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Vn={},Dw={},Lp={},Hd={},Fp={},Up={},V6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gc=V6();const G6=Gc.fetch,lC=Gc.fetch.bind(Gc),uC=Gc.Headers,W6=Gc.Request,q6=Gc.Response,wl=Object.freeze(Object.defineProperty({__proto__:null,Headers:uC,Request:W6,Response:q6,default:lC,fetch:G6},Symbol.toStringTag,{value:"Module"})),K6=kO(wl);var $p={};Object.defineProperty($p,"__esModule",{value:!0});let Q6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$p.default=Q6;var dC=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Up,"__esModule",{value:!0});const Y6=dC(K6),J6=dC($p);let Z6=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Y6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,c,l;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");p&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new J6.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,c,l;return{error:{message:`${(a=i?.name)!==null&&a!==void 0?a:"FetchError"}: ${i?.message}`,details:`${(c=i?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=i?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Up.default=Z6;var X6=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fp,"__esModule",{value:!0});const e8=X6(Up);let t8=class extends e8.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",c=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${c?`${c},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var c;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fp.default=t8;var n8=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hd,"__esModule",{value:!0});const r8=n8(Fp);let s8=class extends r8.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Hd.default=s8;var i8=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lp,"__esModule",{value:!0});const $l=i8(Hd);let o8=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new $l.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){const c=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new $l.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),i||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new $l.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new $l.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $l.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Lp.default=o8;var Hp={},zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.version=void 0;zp.version="0.0.0-automated";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.DEFAULT_HEADERS=void 0;const a8=zp;Hp.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${a8.version}`};var fC=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dw,"__esModule",{value:!0});const c8=fC(Lp),l8=fC(Hd),u8=Hp;let d8=class hC{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},u8.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new c8.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new hC(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const c=new URL(`${this.url}/rpc/${e}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(a="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new l8.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Dw.default=d8;var bl=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const mC=bl(Dw);Vn.PostgrestClient=mC.default;const pC=bl(Lp);Vn.PostgrestQueryBuilder=pC.default;const gC=bl(Hd);Vn.PostgrestFilterBuilder=gC.default;const yC=bl(Fp);Vn.PostgrestTransformBuilder=yC.default;const vC=bl(Up);Vn.PostgrestBuilder=vC.default;const xC=bl($p);Vn.PostgrestError=xC.default;var f8=Vn.default={PostgrestClient:mC.default,PostgrestQueryBuilder:pC.default,PostgrestFilterBuilder:gC.default,PostgrestTransformBuilder:yC.default,PostgrestBuilder:vC.default,PostgrestError:xC.default};const{PostgrestClient:h8,PostgrestQueryBuilder:Lre,PostgrestFilterBuilder:Fre,PostgrestTransformBuilder:Ure,PostgrestBuilder:$re,PostgrestError:Hre}=f8;let p0;typeof window>"u"?p0=require("ws"):p0=window.WebSocket;const m8=p0,p8="2.11.10",g8={"X-Client-Info":`realtime-js/${p8}`},y8="1.0.0",wC=1e4,v8=1e3;var Nc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nc||(Nc={}));var En;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(En||(En={}));var $r;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($r||($r={}));var g0;(function(t){t.websocket="websocket"})(g0||(g0={}));var $o;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($o||($o={}));class x8{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const c=r.decode(e.slice(a,a+s));a=a+s;const l=r.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}class bC{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ct||(ct={}));const uE=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=w8(a,t,e,s),i),{})},w8=(t,e,n,r)=>{const s=e.find(c=>c.name===t),i=s?.type,a=n[t];return i&&!r.includes(i)?jC(i,a):y0(a)},jC=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return A8(e,n)}switch(t){case ct.bool:return b8(e);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return j8(e);case ct.json:case ct.jsonb:return E8(e);case ct.timestamp:return _8(e);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return y0(e);default:return y0(e)}},y0=t=>t,b8=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},j8=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},E8=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},A8=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(c=>jC(e,c))}return t},_8=t=>typeof t=="string"?t.replace(" ","T"):t,EC=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gy{constructor(e,n,r={},s=wC){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dE;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(dE||(dE={}));class wu{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wu.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=wu.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wu.syncDiff(this.state,s,i,a),c())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),c={},l={};return this.map(i,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(c[u]=g),p.length>0&&(l[u]=p)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(c,l)=>{var u;const d=(u=e[c])!==null&&u!==void 0?u:[];if(e[c]=this.cloneDeep(l),d.length>0){const f=e[c].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[c].unshift(...h)}r(c,d,l)}),this.map(a,(c,l)=>{let u=e[c];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[c]=u,s(c,u,l),u.length===0&&delete e[c]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fE;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fE||(fE={}));var hE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hE||(hE={}));var Us;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Us||(Us={}));class Lw{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gy(this,$r.join,this.params,this.timeout),this.rejoinTimer=new bC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=En.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this._on($r.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wu(this),this.broadcastEndpointURL=EC(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:c}}=this.params;this._onError(d=>e?.(Us.CHANNEL_ERROR,d)),this._onClose(()=>e?.(Us.CLOSED));const l={},u={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e?.(Us.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h?.length)!==null&&f!==void 0?f:0,g=[];for(let p=0;p<m;p++){const y=h[p],{filter:{event:x,schema:w,table:b,filter:j}}=y,E=d&&d[p];if(E&&E.event===x&&E.schema===w&&E.table===b&&E.filter===j)g.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=En.errored,e?.(Us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Us.SUBSCRIBED);return}}).receive("error",d=>{this.state=En.errored,e?.(Us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(Us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,c,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=En.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($r.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new gy(this,$r.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gy(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=$r;if(r&&[c,l,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var g,p,y,x,w,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,E=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((p=n.ids)===null||p===void 0?void 0:p.includes(j))&&(E==="*"||E?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(w=(x=m?.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:y,commit_timestamp:x,type:w,errors:b}=g;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:x,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===En.closed}_isJoined(){return this.state===En.joined}_isJoining(){return this.state===En.joining}_isLeaving(){return this.state===En.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Lw.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($r.close,{},e)}_onError(e){this._on($r.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=En.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=uE(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=uE(e.columns,e.old_record)),n}}const mE=()=>{},S8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N8{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=g8,this.params={},this.timeout=wC,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mE,this.ref=0,this.logger=mE,this.conn=null,this.sendBuffer=[],this.serializer=new x8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...c)=>$d(async()=>{const{default:l}=await Promise.resolve().then(()=>wl);return{default:l}},void 0).then(({default:l})=>l(...c)):a=fetch,(...c)=>a(...c)},this.endPoint=`${e}/${g0.websocket}`,this.httpEndpoint=EC(e),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bC(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=m8),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new k8(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:y8}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nc.connecting:return $o.Connecting;case Nc.open:return $o.Open;case Nc.closing:return $o.Closing;default:return $o.Closed}}isConnected(){return this.connectionState()===$o.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Lw(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push($r.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(v8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($r.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([S8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class k8{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nc.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Fw extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Zt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class C8 extends Fw{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class v0 extends Fw{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var T8=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const AC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$d(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},P8=()=>T8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $d(()=>Promise.resolve().then(()=>wl),void 0)).Response:Response}),x0=t=>{if(Array.isArray(t))return t.map(n=>x0(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=x0(r)}),e};var Pa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const yy=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),I8=(t,e,n)=>Pa(void 0,void 0,void 0,function*(){const r=yield P8();t instanceof r&&!n?.noResolveJson?t.json().then(s=>{e(new C8(yy(s),t.status||500))}).catch(s=>{e(new v0(yy(s),s))}):e(new v0(yy(t),t))}),R8=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function zd(t,e,n,r,s,i){return Pa(this,void 0,void 0,function*(){return new Promise((a,c)=>{t(n,R8(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>I8(l,c,r))})})}function Kh(t,e,n,r){return Pa(this,void 0,void 0,function*(){return zd(t,"GET",e,n,r)})}function Ri(t,e,n,r,s){return Pa(this,void 0,void 0,function*(){return zd(t,"POST",e,r,s,n)})}function O8(t,e,n,r,s){return Pa(this,void 0,void 0,function*(){return zd(t,"PUT",e,r,s,n)})}function M8(t,e,n,r){return Pa(this,void 0,void 0,function*(){return zd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function _C(t,e,n,r,s){return Pa(this,void 0,void 0,function*(){return zd(t,"DELETE",e,r,s,n)})}var Fn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const B8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D8{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=AC(s)}uploadOrUpdate(e,n,r,s){return Fn(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},pE),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:c},a?.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Fn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${a}`);c.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:pE.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(c.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Zt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield Ri(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),c=a.searchParams.get("token");if(!c)throw new Fw("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:c},error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}update(e,n,r){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Fn(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Fn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ri(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Fn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ri(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Fn(this,void 0,void 0,function*(){try{const s=yield Ri(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}download(e,n){return Fn(this,void 0,void 0,function*(){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),a=i?`?${i}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield Kh(this.fetch,`${this.url}/${s}/${c}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Zt(c))return{data:null,error:c};throw c}})}info(e){return Fn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Kh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:x0(r),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}exists(e){return Fn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield M8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Zt(r)&&r instanceof v0){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${u}`)}}}remove(e){return Fn(this,void 0,void 0,function*(){try{return{data:yield _C(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}list(e,n,r){return Fn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},B8),n),{prefix:e||""});return{data:yield Ri(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const L8="2.7.1",F8={"X-Client-Info":`storage-js/${L8}`};var Fa=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class U8{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},F8),n),this.fetch=AC(r)}listBuckets(){return Fa(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Zt(e))return{data:null,error:e};throw e}})}getBucket(e){return Fa(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Fa(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Fa(this,void 0,void 0,function*(){try{return{data:yield O8(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Fa(this,void 0,void 0,function*(){try{return{data:yield Ri(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Fa(this,void 0,void 0,function*(){try{return{data:yield _C(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}}class $8 extends U8{constructor(e,n={},r){super(e,n,r)}from(e){return new D8(this.url,this.headers,e,this.fetch)}}const H8="2.50.0";let nu="";typeof Deno<"u"?nu="deno":typeof document<"u"?nu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nu="react-native":nu="node";const z8={"X-Client-Info":`supabase-js-${nu}/${H8}`},V8={headers:z8},G8={schema:"public"},W8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q8={};var K8=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const Q8=t=>{let e;return t?e=t:typeof fetch>"u"?e=lC:e=fetch,(...n)=>e(...n)},Y8=()=>typeof Headers>"u"?uC:Headers,J8=(t,e,n)=>{const r=Q8(n),s=Y8();return(i,a)=>K8(void 0,void 0,void 0,function*(){var c;const l=(c=yield e())!==null&&c!==void 0?c:t;let u=new s(a?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:u}))})};var Z8=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function X8(t){return t.endsWith("/")?t:t+"/"}function eU(t,e){var n,r;const{db:s,auth:i,realtime:a,global:c}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Z8(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const SC="2.70.0",Za=30*1e3,w0=3,vy=w0*Za,tU="http://localhost:9999",nU="supabase.auth.token",rU={"X-Client-Info":`gotrue-js/${SC}`},b0="X-Supabase-Api-Version",NC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iU=6e5;class Uw extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oU extends Uw{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function aU(t){return Te(t)&&t.name==="AuthApiError"}class kC extends Uw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _o extends Uw{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ci extends _o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cU(t){return Te(t)&&t.name==="AuthSessionMissingError"}class Nf extends _o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kf extends _o{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cf extends _o{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lU(t){return Te(t)&&t.name==="AuthImplicitGrantRedirectError"}class gE extends _o{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class j0 extends _o{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xy(t){return Te(t)&&t.name==="AuthRetryableFetchError"}class yE extends _o{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bu extends _o{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vE=` 	
\r=`.split(""),uU=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vE.length;e+=1)t[vE[e].charCodeAt(0)]=-2;for(let e=0;e<Qh.length;e+=1)t[Qh[e].charCodeAt(0)]=e;return t})();function xE(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Qh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Qh[r]),e.queuedBits-=6}}function CC(t,e,n){const r=uU[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wE(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{hU(a,r,n)};for(let a=0;a<t.length;a+=1)CC(t.charCodeAt(a),s,i);return e.join("")}function dU(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function fU(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}dU(r,e)}}function hU(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mU(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)CC(t.charCodeAt(s),n,r);return new Uint8Array(e)}function pU(t){const e=[];return fU(t,n=>e.push(n)),new Uint8Array(e)}function gU(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>xE(s,n,r)),xE(null,n,r),e.join("")}function yU(t){return Math.round(Date.now()/1e3)+t}function vU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Mr=()=>typeof window<"u"&&typeof document<"u",Io={tested:!1,writable:!1},ju=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Io.tested)return Io.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Io.tested=!0,Io.writable=!0}catch{Io.tested=!0,Io.writable=!1}return Io.writable};function xU(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const TC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>$d(async()=>{const{default:r}=await Promise.resolve().then(()=>wl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},wU=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",PC=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Tf=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Pf=async(t,e)=>{await t.removeItem(e)};class Vp{constructor(){this.promise=new Vp.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Vp.promiseConstructor=Promise;function wy(t){const e=t.split(".");if(e.length!==3)throw new bu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!sU.test(e[r]))throw new bu("JWT not in base64url format");return{header:JSON.parse(wE(e[0])),payload:JSON.parse(wE(e[1])),signature:mU(e[2]),raw:{header:e[0],payload:e[1]}}}async function bU(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function jU(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function EU(t){return("0"+t.toString(16)).substr(-2)}function AU(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,EU).join("")}async function _U(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function SU(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await _U(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ua(t,e,n=!1){const r=AU();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await PC(t,`${e}-code-verifier`,s);const i=await SU(r);return[i,r===i?"plain":"s256"]}const NU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kU(t){const e=t.headers.get(b0);if(!e||!e.match(NU))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function CU(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TU(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PU=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $a(t){if(!PU.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var IU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Do=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RU=[502,503,504];async function bE(t){var e;if(!wU(t))throw new j0(Do(t),0);if(RU.includes(t.status))throw new j0(Do(t),t.status);let n;try{n=await t.json()}catch(i){throw new kC(Do(i),i)}let r;const s=kU(t);if(s&&s.getTime()>=NC["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yE(Do(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ci}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new yE(Do(n),t.status,n.weak_password.reasons);throw new oU(Do(n),t.status||500,r)}const OU=(t,e,n,r)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function He(t,e,n,r){var s;const i=Object.assign({},r?.headers);i[b0]||(i[b0]=NC["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await MU(t,e,n+c,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function MU(t,e,n,r,s,i){const a=OU(e,r,s,i);let c;try{c=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new j0(Do(l),0)}if(c.ok||await bE(c),r?.noResolveJson)return c;try{return await c.json()}catch(l){await bE(l)}}function Ds(t){var e;let n=null;FU(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=yU(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function jE(t){const e=Ds(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function BU(t){return{data:t,error:null}}function DU(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=IU(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:c,user:l},error:null}}function LU(t){return t}function FU(t){return t.access_token&&t.refresh_token&&t.expires_in}const by=["global","local","others"];var UU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class $U{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=TC(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=by[0]){if(by.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${by.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Bi})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=UU(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:DU,redirectTo:n?.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:LU});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){$a(e);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bi})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){$a(e);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Bi})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){$a(e);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Bi})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$a(e.userId);try{const{data:n,error:r}=await He(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){$a(e.userId),$a(e.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}}const HU={getItem:t=>ju()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ju()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ju()&&globalThis.localStorage.removeItem(t)}};function EE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function zU(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ha={debug:!!(globalThis&&ju()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class VU extends IC{}async function GU(t,e,n){Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ha.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new VU(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ha.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}zU();const WU={url:tU,storageKey:nU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function AE(t,e,n){return await n()}class td{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=td.nextInstanceID,td.nextInstanceID+=1,this.instanceID>0&&Mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},WU),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $U({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=TC(s.fetch),this.lock=s.lock||AE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Mr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=GU:this.lock=AE,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ju()?this.storage=HU:(this.memoryStorage={},this.storage=EE(this.memoryStorage)):(this.memoryStorage={},this.storage=EE(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SC}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=xU(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Mr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lU(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?{error:n}:{error:new kC("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ds}),{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ua(this.storage,this.storageKey)),i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ds})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},channel:(s=h?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ds})}else throw new kf("You must provide either an email or phone number and a password");const{data:a,error:c}=i;if(c||!a)return{data:{user:null,session:null},error:c};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:c}=e;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jE})}else if("phone"in e){const{phone:i,password:a,options:c}=e;n=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jE})}else throw new kf("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Nf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,c,l,u,d,f,h,m;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:y,wallet:x,statement:w,options:b}=e;let j;if(Mr())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const E=new URL((n=b?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),w?{statement:w}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),p=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${E.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=b?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:y,error:x}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:gU(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ds});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Nf}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(Te(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await Tf(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ds});if(await Pf(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,c=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Ds}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:c,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ua(this.storage,this.storageKey));const{error:f}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:c,options:l}=e,{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new kf("You must provide either an email or phone number.")}catch(c){if(Te(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:c}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ds});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Ua(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:BU})}catch(i){if(Te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ci;const{error:s}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await He(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:c}=await He(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new kf("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Tf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<vy:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bi}):await this._useSession(async n=>{var r,s,i;const{data:a,error:c}=n;if(c)throw c;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ci}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Bi})})}catch(n){if(Te(n))return cU(n)&&(await this._removeSession(),await Pf(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ci;const a=s.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await Ua(this.storage,this.storageKey));const{data:u,error:d}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:Bi});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ci;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=wy(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:c}=n;if(c)throw c;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Ci;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Mr())throw new Cf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gE("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=e;if(!i||!c||!a||!u)throw new Cf("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let h=d+f;l&&(h=parseInt(l));const m=h-d;m*1e3<=Za&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:y}=await this._getUser(i);if(y)throw y;const x={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(Te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Tf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:c}=await this.admin.signOut(a,e);if(c&&!(aU(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Pf(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=vU(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ua(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,c,l,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Mr()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(Te(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await jU(async s=>(s>0&&await bU(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ds})),(s,i)=>{const a=200*Math.pow(2,s);return i&&xy(i)&&Date.now()+a-r<Za})}catch(r){if(this._debug(n,"error",r),Te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Mr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Tf(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<vy;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${vy}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),xy(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vp;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ci;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),Te(i)){const a={session:null,error:i};return xy(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await PC(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Pf(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Za);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Za);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Za}ms, refresh threshold is ${w0} ticks`),s<=w0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof IC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ua(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await He(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await He(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:c}=await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})})}catch(n){if(Te(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await He(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=e?.factors||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=wy(s.access_token);let c=null;a.aal&&(c=a.aal);let l=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+iU>Date.now()))return r;const{data:s,error:i}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new bu("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===e),!r)throw new bu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:c,payload:l}}=wy(r);if(CU(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const u=TU(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,pU(`${c}.${l}`)))throw new bu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}}td.nextInstanceID=0;const qU=td;class KU extends qU{constructor(e){super(e)}}var QU=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class YU{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=X8(e),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:G8,realtime:q8,auth:Object.assign(Object.assign({},W8),{storageKey:u}),global:V8},f=eU(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=J8(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new h8(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new z6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $8(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return QU(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:c,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new KU({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new N8(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RC=(t,e,n)=>new YU(t,e,n),JU="https://laoltiyaaagiiutahypb.supabase.co",ZU="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxhb2x0aXlhYWFnaWl1dGFoeXBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzNTg5MDgsImV4cCI6MjA2NDkzNDkwOH0.vApyUFl0mLM_vkL0pRSvvsvcFcnvU5Y7VBEWbCcAWdk";let jy=null;const XU=()=>(jy||(jy=RC(JU,ZU,{auth:{persistSession:!0,autoRefreshToken:!0}})),jy),re=XU(),OC=()=>{const{toast:t}=_e();return{handlePurchase:async n=>{console.log("Processing affiliate purchase for:",n.name);try{const r={serviceId:n.id,serviceName:n.name,partnerType:n.partnerType,price:n.price,commissionRate:n.commissionRate,billingPeriod:n.billingPeriod,category:n.category,userAgent:navigator.userAgent,referrer:document.referrer||"direct",timestamp:new Date().toISOString(),sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,affiliateUrl:n.affiliateUrl,cjAffiliateId:n.cjAffiliateId,epc:n.epc,affiliateNetwork:n.cjAffiliateId?"commission_junction":"direct",cjPublisherId:"7602933"},{data:s,error:i}=await re.functions.invoke("affiliate-tracking",{body:{affiliateId:"7602933",action:"track_click",data:r}});i?console.error("Error tracking affiliate click:",i):console.log("Affiliate click tracked successfully with YOUR CJ ID:",s);const a=new URL(n.affiliateUrl);n.cjAffiliateId?(a.searchParams.append("sid",`marketplace_referral_${Date.now()}`),a.searchParams.append("cjpublisher","7602933")):(a.searchParams.append("ref","7602933"),a.searchParams.append("utm_source","affiliate"),a.searchParams.append("utm_medium","partner_marketplace"),a.searchParams.append("utm_campaign",n.id),a.searchParams.append("publisher_id","7602933")),window.open(a.toString(),"_blank","noopener,noreferrer"),t({title:`Redirecting to ${n.name}`,description:`Opening ${n.partnerType} service with YOUR CJ Publisher ID 7602933. Complete your ${n.billingPeriod==="one-time"?"purchase":"subscription"} to earn commission!`})}catch(r){console.error("Error processing affiliate purchase:",r),window.open(n.affiliateUrl,"_blank","noopener,noreferrer"),t({title:"Redirecting...",description:`Opening ${n.name} purchase page`})}}}},e$=(t,e)=>(t*e).toFixed(2),MC=t=>{const e=t.billingPeriod==="monthly"?"/mo":t.billingPeriod==="yearly"?"/year":"";return`$${t.price}${e}`},BC=t=>({Entertainment:"bg-purple-100 text-purple-800","E-commerce":"bg-green-100 text-green-800","Web Hosting":"bg-blue-100 text-blue-800",Education:"bg-orange-100 text-orange-800",Design:"bg-pink-100 text-pink-800","Health & Fitness":"bg-red-100 text-red-800",Shopping:"bg-yellow-100 text-yellow-800",Productivity:"bg-indigo-100 text-indigo-800","Flowers & Gifts":"bg-rose-100 text-rose-800"})[t]||"bg-gray-100 text-gray-800",t$=()=>{const{handlePurchase:t}=OC(),e=Mw.filter(n=>n.billingPeriod==="one-time").slice(0,4);return o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Featured Real Affiliate Partners (One-time Purchases)"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(n=>o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow border",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h3",{className:"font-bold text-lg",children:n.name}),n.cjAffiliateId&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"CJ Affiliate"})]}),o.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.product}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${BC(n.category)} mb-3 inline-block`,children:n.category}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"text-xl font-bold text-green-600",children:MC(n)}),o.jsxs("div",{className:"text-xs text-orange-600",children:[(n.commissionRate*100).toFixed(0),"% commission"]})]}),o.jsxs("button",{onClick:()=>t(n),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-all",children:[o.jsx(fr,{className:"h-4 w-4"}),"Shop Now"]})]},n.id))})]})},n$=()=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:[o.jsxs(Ut,{to:"/dashboard",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 text-blue-600 group-hover:scale-110 transition-transform duration-300",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),o.jsx(qo,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blue-800 transition-colors",children:"Task Dashboard"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Manage tasks, track earnings, and optimize your workflow for maximum efficiency."}),o.jsx("div",{className:"mt-4 text-sm text-blue-600 font-medium",children:" Access Dashboard"})]}),o.jsxs(Ut,{to:"/ad-revenue",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 text-purple-600 group-hover:scale-110 transition-transform duration-300",children:o.jsx("path",{d:"M12 5v14M5 12H19"})}),o.jsx(qo,{className:"h-6 w-6 text-gray-400 group-hover:text-purple-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-purple-800 transition-colors",children:"Ad Revenue Collection"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Collect ad revenue from multiple partners and manage your earnings efficiently."}),o.jsx("div",{className:"mt-4 text-sm text-purple-600 font-medium",children:" Collect Revenue"})]}),o.jsxs(Ut,{to:"/secure-bank-transfer",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(rn,{className:"h-12 w-12 text-green-600 group-hover:scale-110 transition-transform duration-300"}),o.jsx(qo,{className:"h-6 w-6 text-gray-400 group-hover:text-green-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-green-800 transition-colors",children:"Secure Bank Transfer Dashboard"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Comprehensive bank account management with secure transfers, verification, and audit trails"}),o.jsx("div",{className:"mt-4 text-sm text-green-600 font-medium",children:" Access Dashboard"})]}),o.jsxs(Ut,{to:"/affiliate-revenue",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(hr,{className:"h-12 w-12 text-orange-600 group-hover:scale-110 transition-transform duration-300"}),o.jsx(qo,{className:"h-6 w-6 text-gray-400 group-hover:text-orange-600 group-hover:translate-x-1 transition-all duration-300"})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-orange-800 transition-colors",children:"Affiliate Revenue Center"}),o.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Earn commissions by recommending partner services to your users with full tracking"}),o.jsx("div",{className:"mt-4 text-sm text-orange-600 font-medium",children:" Start Earning"})]})]}),Ho=({adSlot:t,adFormat:e="auto",adLayout:n,style:r={display:"block"},className:s="",onImpression:i,onAdClick:a})=>{const c=v.useRef(null),l=v.useRef(!1);v.useEffect(()=>{if(!l.current&&c.current)try{window.adsbygoogle=window.adsbygoogle||[],window.adsbygoogle.push({}),i&&i(),l.current=!0}catch(h){console.error("AdSense error:",h)}},[i]);const u=()=>{a&&a()},f=e==="fluid"&&!n?"-fb-x-2-bu+wu":void 0;return o.jsx("div",{ref:c,className:`min-w-[300px] w-full max-w-4xl mx-auto ${s}`,onClick:u,style:{minHeight:"50px"},children:o.jsx("ins",{className:"adsbygoogle",style:{display:"block",width:"100%",minHeight:"50px",...r},"data-ad-client":"ca-pub-9370068622982104","data-ad-slot":t,"data-ad-format":e,"data-full-width-responsive":"true",...n&&{"data-ad-layout":n},...f&&{"data-ad-layout-key":f}})})},$w=()=>{const[t,e]=v.useState(!1);return{trackImpression:async s=>{try{e(!0);const{data:i,error:a}=await re.functions.invoke("ad-revenue",{body:{action:"track_impression",data:{adId:`ad_${s.adSlot}`,placementId:s.placementId,userId:"anonymous",viewDuration:0,visible:!0,deviceType:window.innerWidth>768?"desktop":"mobile"}}});return a?(console.error("Error tracking impression:",a),null):(console.log("Ad impression tracked:",i),i)}catch(i){return console.error("Error tracking impression:",i),null}finally{e(!1)}},trackClick:async s=>{try{e(!0);const{data:i,error:a}=await re.functions.invoke("ad-revenue",{body:{action:"track_click",data:{adId:`ad_${s.adSlot}`,placementId:s.placementId,userId:"anonymous",cpc:.35,adType:s.adType||"display",targetUrl:window.location.href}}});return a?(console.error("Error tracking click:",a),null):(console.log("Ad click tracked:",i),i)}catch(i){return console.error("Error tracking click:",i),null}finally{e(!1)}},isTracking:t}},Hw=Dd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?co:"button";return o.jsx(a,{className:me(Hw({variant:e,size:n,className:t})),ref:i,...s})});W.displayName="Button";const F=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));F.displayName="Card";const K=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",t),...e}));K.displayName="CardHeader";const Q=v.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:me("text-2xl font-semibold leading-none tracking-tight",t),...e}));Q.displayName="CardTitle";const r$=v.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",t),...e}));r$.displayName="CardDescription";const U=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("p-6 pt-0",t),...e}));U.displayName="CardContent";const s$=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",t),...e}));s$.displayName="CardFooter";const fe=v.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fe.displayName="Input";var i$="Label",DC=v.forwardRef((t,e)=>o.jsx(Ne.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DC.displayName=i$;var LC=DC;const o$=Dd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=v.forwardRef(({className:t,...e},n)=>o.jsx(LC,{ref:n,className:me(o$(),t),...e}));xe.displayName=LC.displayName;const wr=(t,e)=>(console.error(`Live Production Error - ${e}:`,t),t.message?.includes("Your account cannot currently make live charges")?"Your live Stripe account is not yet activated for payouts. Please complete your account activation in the Stripe Dashboard.":t.message?.includes("Invalid API Key")||t.message?.includes("api_key")?"Invalid live Stripe API key. Please verify your live API key (sk_live_...) is correctly configured in Supabase secrets.":t.message?.includes("permissions")||t.message?.includes("restricted")?"Insufficient API key permissions. Your live Stripe key may be restricted. Please use a full secret key or update permissions.":t.message?.includes("rate_limit")?"Rate limit exceeded. Please wait a moment before trying again.":t.message?.includes("amount_too_small")||t.message?.includes("minimum")?"Payout amount is too small. Minimum amount for live payouts is $0.50.":t.message||"A payout processing error occurred in live mode. Please try again or contact support.");class a${async createPayout(e){try{if(console.log("Creating live Stripe payout (depositing earnings):",{...e,amount:e.amount}),e.amount<.5)throw new Error("Minimum payout amount is $0.50 for live transactions.");const{data:n,error:r}=await re.functions.invoke("stripe-payout",{body:e});if(r)throw new Error(wr(r,"Live Payout Creation"));return console.log("Live payout created successfully (earnings deposited):",n),n}catch(n){throw console.error("Live Stripe Payout Error:",n),new Error(wr(n,"Live Payout Creation"))}}async setupAccount(e,n,r){try{console.log("Setting up live Stripe account:",{email:e,userId:n});const{data:s,error:i}=await re.functions.invoke("stripe-account-setup",{body:{email:e,userId:n,returnUrl:r}});if(i)throw new Error(wr(i,"Live Account Setup"));return console.log("Live account setup successful:",s),s}catch(s){throw console.error("Live Stripe Account Setup Error:",s),new Error(wr(s,"Live Account Setup"))}}async createPaymentIntent(e){try{if(!e.amount&&!e.items)throw new Error("Either amount or items must be provided");const n={description:e.description,currency:e.currency||"usd",customerEmail:e.customerEmail};if(e.items?(console.log("Creating payment intent with items (Ruby-style):",e.items),n.items=e.items):e.amount&&(console.log("Creating payment intent with amount (legacy):",e.amount),n.items=[{amount:e.amount}]),(e.items?e.items.reduce((a,c)=>a+c.amount,0):e.amount||0)<50)throw new Error("Minimum payment amount is $0.50 for live transactions.");const{data:s,error:i}=await re.functions.invoke("create-payment-intent",{body:n});if(i)throw new Error(wr(i,"Payment Intent Creation"));return console.log("Payment intent created successfully:",s),{success:s.success,clientSecret:s.clientSecret,data:s.data,error:s.error,timestamp:s.timestamp}}catch(n){throw console.error("Payment Intent Creation Error:",n),new Error(wr(n,"Payment Intent Creation"))}}async createCheckoutSession(e){try{if(console.log("Creating live checkout session:",{...e,amount:e.amount,paymentMethod:e.paymentMethod||"card"}),e.mode==="payment"&&e.amount<50)throw new Error("Minimum transaction amount is $0.50 for live payments.");const{data:n,error:r}=await re.functions.invoke("create-checkout-session",{body:e});if(r)throw new Error(wr(r,"Live Checkout Session Creation"));if(!n?.success||!n?.data?.url)throw new Error("Failed to create live checkout session. Please verify your live Stripe configuration.");return console.log("Live checkout session created successfully:",n),n}catch(n){throw console.error("Live Checkout Session Creation Error:",n),new Error(wr(n,"Live Checkout Session Creation"))}}async verifyPayment(e){try{console.log("Verifying payment (Production):",e);const{data:n,error:r}=await re.functions.invoke("verify-payment",{body:{paymentIntentId:e}});if(r)throw new Error(wr(r,"Payment Verification"));return n}catch(n){throw console.error("Payment Verification Error (Production):",n),new Error(wr(n,"Payment Verification"))}}async captureCharge(e){try{console.log("Capturing charge (Production):",e);const{data:n,error:r}=await re.functions.invoke("capture-charge",{body:e});if(r)throw new Error(wr(r,"Charge Capture"));return n}catch(n){throw console.error("Charge Capture Error (Production):",n),new Error(wr(n,"Charge Capture"))}}async verifyProductionConfig(){const e=[],n=[];try{console.log("Verifying live production payout configuration...");const s=await re.functions.invoke("stripe-payout",{body:{amount:.5,email:"production-test@example.com",userId:"test-user-id"}});if(s.data?.success)console.log("Live payout API connectivity verified successfully");else{const i=s.data?.error||s.error?.message||"Unknown error";i.includes("api_key")||i.includes("Invalid API Key")?e.push("Live API key is not configured or invalid. Please set your live Stripe secret key (sk_live_...)"):i.includes("account cannot currently make live charges")?e.push("Your Stripe account is not activated for live payouts. Complete activation in Stripe Dashboard"):e.push(`Live payout API connectivity issue: ${i}`)}}catch(s){const i=s instanceof Error?s.message:"Unknown configuration error";e.push(`Payout configuration verification failed: ${i}`),console.error("Production payout config verification error:",s)}e.length===0&&(n.push("Ensure your Stripe account has been fully activated for live payouts"),n.push("Test with small amounts before processing larger payouts"),n.push("Verify your bank account is connected for receiving payouts"));const r=e.length===0;return console.log("Production payout readiness check completed:",{isProductionReady:r,issuesCount:e.length,warningsCount:n.length}),{isProductionReady:r,issues:e,warnings:n}}}const Yh=new a$,c$=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),{toast:s}=_e(),i=v.useCallback(async c=>{e(!0);try{console.log("Initiating Stripe payout:",c);const l=await Yh.createPayout(c);if(!l.success)throw new Error(l.error||"Payout failed");return s({title:"Withdrawal Initiated",description:`$${c.amount.toFixed(2)} withdrawal initiated. Funds will arrive in 1-2 business days.`}),l.data}catch(l){throw console.error("Payout error:",l),s({title:"Withdrawal Failed",description:l instanceof Error?l.message:"Failed to process withdrawal",variant:"destructive"}),l}finally{e(!1)}},[s]),a=v.useCallback(async(c,l,u)=>{r(!0);try{console.log("Setting up Stripe account:",{email:c,userId:l});const d=await Yh.setupAccount(c,l,u);if(!d.success)throw new Error(d.error||"Account setup failed");return d.data}catch(d){throw console.error("Account setup error:",d),s({title:"Account Setup Failed",description:d instanceof Error?d.message:"Failed to setup withdrawal account",variant:"destructive"}),d}finally{r(!1)}},[s]);return{loading:t,accountSetupLoading:n,createPayout:i,setupAccount:a}},vr=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(null),[s,i]=v.useState(null),[a,c]=v.useState(null),[l,u]=v.useState(!0),d=async g=>{try{const{data:p,error:y}=await re.from("profiles").select("*").eq("id",g).single();if(y){console.error("Error fetching profile:",y);return}i(p)}catch(p){console.error("Error fetching profile:",p)}},f=async g=>{try{const{data:p,error:y}=await re.from("subscriptions").select("*").eq("user_id",g).eq("status","active").gte("expiry_date",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1);if(y){console.error("Error fetching subscription:",y);return}c(p&&p.length>0?p[0]:null)}catch(p){console.error("Error fetching subscription:",p)}};return v.useEffect(()=>{const{data:{subscription:g}}=re.auth.onAuthStateChange(async(p,y)=>{r(y),e(y?.user??null),y?.user?setTimeout(()=>{d(y.user.id),f(y.user.id)},0):(i(null),c(null)),u(!1)});return re.auth.getSession().then(({data:{session:p}})=>{r(p),e(p?.user??null),p?.user&&setTimeout(()=>{d(p.user.id),f(p.user.id)},0),u(!1)}),()=>g.unsubscribe()},[]),{user:t,session:n,profile:s,subscription:a,loading:l,signOut:async()=>{try{const{error:g}=await re.auth.signOut();if(g)throw g}catch(g){console.error("Error signing out:",g)}},createSubscription:async()=>{if(t)try{const g=new Date;g.setMonth(g.getMonth()+1);const{data:p,error:y}=await re.from("subscriptions").insert([{user_id:t.id,plan:"operator-license",status:"active",amount:9.99,currency:"USD",expiry_date:g.toISOString()}]).select().single();if(y)throw y;return c(p),p}catch(g){throw console.error("Error creating subscription:",g),g}},hasActiveSubscription:!!a}},l$=()=>{const[t,e]=v.useState(""),{createPayout:n,setupAccount:r,loading:s,accountSetupLoading:i}=c$(),{user:a}=vr(),c=async()=>{if(!(!t||!a?.email))try{await n({amount:parseFloat(t),email:a.email,userId:a.id}),e("")}catch(u){console.error("Payout error:",u)}},l=async()=>{if(a?.email)try{const u=await r(a.email,a.id,window.location.origin);u.onboardingUrl&&window.open(u.onboardingUrl,"_blank")}catch(u){console.error("Account setup error:",u)}};return a?o.jsxs(F,{className:"max-w-md mx-auto",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-5 w-5"}),"Stripe Payout"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"amount",children:"Payout Amount ($)"}),o.jsx(fe,{id:"amount",type:"number",placeholder:"Enter amount",value:t,onChange:u=>e(u.target.value),min:"1",step:"0.01"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs(W,{onClick:c,disabled:!t||s,className:"w-full",children:[s?"Processing...":"Request Payout",o.jsx(qo,{className:"ml-2 h-4 w-4"})]}),o.jsx(W,{variant:"outline",onClick:l,disabled:i,className:"w-full",children:i?"Setting up...":"Setup Stripe Account"})]}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Payouts typically arrive in 1-2 business days"})]})]}):o.jsxs(F,{className:"max-w-md mx-auto",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-5 w-5"}),"Stripe Payout"]})}),o.jsx(U,{children:o.jsx("p",{className:"text-muted-foreground",children:"Please sign in to access payout functionality."})})]})},u$=Dd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ge({className:t,variant:e,...n}){return o.jsx("div",{className:me(u$({variant:e}),t),...n})}const d$=()=>{const{user:t,profile:e,loading:n}=vr();return n?o.jsx(F,{className:"w-full max-w-md",children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),o.jsx("span",{children:"Loading profile..."})]})})}):t?o.jsxs(F,{className:"w-full max-w-md",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Np,{className:"h-5 w-5"}),"User Profile"]})}),o.jsxs(U,{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Username:"}),o.jsx("div",{className:"mt-1",children:e?.username?o.jsx(Ge,{variant:"secondary",className:"text-base",children:e.username}):o.jsx("span",{className:"text-muted-foreground",children:"No username set"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email:"}),o.jsx("div",{className:"mt-1 text-sm",children:t.email})]}),e?.phone_number&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone:"}),o.jsx("div",{className:"mt-1 text-sm",children:e.phone_number})]})]})]}):o.jsx(F,{className:"w-full max-w-md",children:o.jsx(U,{className:"p-6",children:o.jsx("div",{className:"text-center text-muted-foreground",children:"Please sign in to view your profile"})})})},FC=()=>{const{trackImpression:t,trackClick:e}=$w(),n=()=>{t({adSlot:"4133257448",placementId:"homepage_hero",adType:"display"})},r=()=>{e({adSlot:"4133257448",placementId:"homepage_hero",adType:"display"})},s=()=>{t({adSlot:"1879193848",placementId:"homepage_middle",adType:"display"})},i=()=>{e({adSlot:"1879193848",placementId:"homepage_middle",adType:"display"})},a=()=>{t({adSlot:"6567849095",placementId:"homepage_native",adType:"native"})},c=()=>{e({adSlot:"6567849095",placementId:"homepage_native",adType:"native"})},l=()=>{t({adSlot:"9487572195",placementId:"homepage_in_article",adType:"in-article"})},u=()=>{e({adSlot:"9487572195",placementId:"homepage_in_article",adType:"in-article"})},d=()=>{t({adSlot:"3941685758",placementId:"homepage_multiplex",adType:"multiplex"})},f=()=>{e({adSlot:"3941685758",placementId:"homepage_multiplex",adType:"multiplex"})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[o.jsx(R6,{}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsx(O6,{}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(d$,{})}),o.jsx("div",{className:"my-8 flex justify-center",children:o.jsx(Ut,{to:"/payment-intent",children:o.jsxs(W,{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-4 w-4"}),"Try Stripe Payment Intent Demo"]})})}),o.jsx("div",{className:"my-8",children:o.jsx(l$,{})}),o.jsx("div",{className:"my-8 w-full flex justify-center px-4",children:o.jsx(Ho,{adSlot:"4133257448",className:"w-full",onImpression:n,onAdClick:r})}),o.jsx(M6,{}),o.jsx("div",{className:"my-8 w-full flex justify-center px-4",children:o.jsx(Ho,{adSlot:"9487572195",adFormat:"fluid",adLayout:"in-article",className:"w-full",style:{display:"block",textAlign:"center"},onImpression:l,onAdClick:u})}),o.jsx("div",{className:"my-8 w-full flex justify-center px-4",children:o.jsx(Ho,{adSlot:"6567849095",adFormat:"fluid",className:"w-full",style:{display:"block"},onImpression:a,onAdClick:c})}),o.jsx("div",{className:"my-8 w-full flex justify-center px-4",children:o.jsx(Ho,{adSlot:"3941685758",adFormat:"autorelaxed",className:"w-full",style:{display:"block"},onImpression:d,onAdClick:f})}),o.jsx("div",{className:"my-8 w-full flex justify-center px-4",children:o.jsx(Ho,{adSlot:"1879193848",className:"w-full",onImpression:s,onAdClick:i})}),o.jsx(t$,{}),o.jsx(n$,{})]})]})},f$=(t,e,n,r)=>{const{toast:s}=_e();return{resetTasks:()=>{if(t<e){s({title:"Cannot reset tasks",description:`Complete all ${e} tasks before resetting.`,variant:"destructive"});return}n(),s({title:"Tasks Reset Successfully",description:`You can now complete ${e} more optimization tasks!`})},resetAccount:()=>{r(),s({title:"Account Reset",description:"Ready for a new day of earning!"})}}},h$=t=>{const[e,n]=v.useState([]),[r,s]=v.useState({total_unpaid_cents:0,total_paid_cents:0,unpaid_count:0,paid_count:0}),[i,a]=v.useState(!1),[c,l]=v.useState(!1),{toast:u}=_e(),d=v.useCallback(async()=>{if(t){a(!0);try{const{data:m,error:g}=await re.from("commissions").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(g)throw g;n(m||[]);const p=(m||[]).filter(x=>!x.paid_out),y=(m||[]).filter(x=>x.paid_out);s({total_unpaid_cents:p.reduce((x,w)=>x+w.amount_earned_cents,0),total_paid_cents:y.reduce((x,w)=>x+w.amount_earned_cents,0),unpaid_count:p.length,paid_count:y.length})}catch(m){console.error("Error fetching commissions:",m),u({title:"Error",description:"Failed to load commission data",variant:"destructive"})}finally{a(!1)}}},[t,u]),f=v.useCallback(async(m,g,p="task_completion")=>{if(t)try{const{data:y,error:x}=await re.from("commissions").insert({user_id:t,amount_earned_cents:m,description:g,source:p}).select().single();if(x)throw x;return console.log("Commission added:",y),await d(),y}catch(y){console.error("Error adding commission:",y),u({title:"Error",description:"Failed to record commission",variant:"destructive"})}},[t,d,u]),h=v.useCallback(async()=>{l(!0);try{console.log("Processing commission payouts...");const{data:m,error:g}=await re.functions.invoke("payout-commissions",{body:{}});if(g)throw g;if(m?.success)u({title:"Payout Processed",description:`Successfully paid out $${m.amount} for ${m.commissions_count} commissions`}),await d();else throw new Error(m?.error||"Payout failed")}catch(m){console.error("Payout error:",m),u({title:"Payout Failed",description:m instanceof Error?m.message:"Failed to process payout",variant:"destructive"})}finally{l(!1)}},[d,u]);return v.useEffect(()=>{d()},[d]),{commissions:e,summary:r,loading:i,payoutLoading:c,addCommission:f,processPayouts:h,refreshCommissions:d}},m$=t=>{const[e,n]=v.useState(0),[r,s]=v.useState(!1),{toast:i}=_e(),a=v.useCallback(async()=>{if(t){s(!0);try{const{data:c,error:l}=await re.rpc("get_todays_earnings",{user_uuid:t});if(l)throw l;n(c||0)}catch(c){console.error("Error fetching today's earnings:",c),i({title:"Error",description:"Failed to load today's earnings",variant:"destructive"})}finally{s(!1)}}},[t,i]);return v.useEffect(()=>{a()},[a]),{todaysEarnings:e,loading:r,refreshTodaysEarnings:a}},UC=({onBack:t})=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:t,variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Privacy Policy"})]}),o.jsxs(F,{children:[o.jsxs(K,{children:[o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5 text-primary"}),"EarnFlow Privacy Policy"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),o.jsxs(U,{className:"space-y-6",children:[o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(wD,{className:"h-5 w-5"}),"Information We Collect"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:o.jsx("strong",{children:"Personal Information:"})}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Phone number (for account identification)"}),o.jsx("li",{children:"Username (for platform identification)"}),o.jsx("li",{children:"Bitcoin wallet address (for payment processing)"})]}),o.jsx("p",{children:o.jsx("strong",{children:"Usage Data:"})}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Task completion statistics"}),o.jsx("li",{children:"Earnings and withdrawal history"}),o.jsx("li",{children:"Platform interaction metrics"})]})]})]}),o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(Ep,{className:"h-5 w-5"}),"Third-Party Advertising Partners"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"EarnFlow partners with third-party advertisers to provide optimization tasks. Our current advertising partners include but are not limited to:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"StreamMax Pro"}),o.jsx("li",{children:"FitTracker Elite"}),o.jsx("li",{children:"CloudSync Business"}),o.jsx("li",{children:"GameVault Premium"}),o.jsx("li",{children:"DesignSuite Pro"}),o.jsx("li",{children:"LearnHub Academy"}),o.jsx("li",{children:"SecureVPN Ultra"}),o.jsx("li",{children:"PhotoEdit Master"}),o.jsx("li",{children:"MusicStream Plus"}),o.jsx("li",{children:"TaskManager Pro"})]}),o.jsxs("p",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[o.jsx("strong",{children:"Important:"})," When you interact with third-party advertisements during optimization tasks, these partners may collect additional data according to their own privacy policies. We encourage you to review each partner's privacy policy before engaging with their content."]})]})]}),o.jsxs("section",{children:[o.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[o.jsx(sD,{className:"h-5 w-5"}),"How We Use Your Information"]}),o.jsx("div",{className:"space-y-3 text-sm",children:o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"To provide and maintain the EarnFlow service"}),o.jsx("li",{children:"To process payments and track earnings"}),o.jsx("li",{children:"To communicate with you about your account"}),o.jsx("li",{children:"To improve our platform and user experience"}),o.jsx("li",{children:"To comply with legal obligations"})]})})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Data Sharing and Third Parties"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"We share limited information with our advertising partners for the following purposes:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Task completion verification"}),o.jsx("li",{children:"Commission calculation and payment processing"}),o.jsx("li",{children:"Fraud prevention and security"})]}),o.jsxs("p",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[o.jsx("strong",{children:"We never sell your personal data."})," Information is only shared with partners as necessary to provide the advertising optimization service and process your earnings."]})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Data Security"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"We implement appropriate security measures to protect your personal information:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Encrypted data transmission and storage"}),o.jsx("li",{children:"Secure authentication systems"}),o.jsx("li",{children:"Regular security audits and updates"}),o.jsx("li",{children:"Limited access to personal data on a need-to-know basis"})]})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your Rights"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"You have the right to:"}),o.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[o.jsx("li",{children:"Access your personal data"}),o.jsx("li",{children:"Correct inaccurate information"}),o.jsx("li",{children:"Delete your account and associated data"}),o.jsx("li",{children:"Withdraw consent for data processing"}),o.jsx("li",{children:"Port your data to another service"})]})]})]}),o.jsxs("section",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Contact Information"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("p",{children:"For privacy-related questions or concerns, please contact us:"}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," privacy@earnflow.com"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," +1 (555) 123-EARN"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Address:"})," 123 Privacy Lane, Security City, SC 12345"]})]})]})]}),o.jsxs("section",{className:"bg-green-50 p-4 rounded border border-green-200",children:[o.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-800",children:"Our Privacy Commitment"}),o.jsx("p",{className:"text-sm text-green-700",children:"EarnFlow is committed to protecting your privacy. We collect only the minimum information necessary to provide our service and never use your data for unauthorized purposes. Your trust is our top priority."})]})]})]})]})});var Tr;(function(t){t.NUMBER="NUMBER_NUMBER",t.HEX="NUMBER_HEX",t.STR="NUMBER_STR",t.BIGINT="NUMBER_BIGINT"})(Tr||(Tr={}));var li;(function(t){t.HEX="BYTES_HEX",t.UINT8ARRAY="BYTES_UINT8ARRAY"})(li||(li={}));const Pn={number:Tr.BIGINT,bytes:li.HEX},Se={number:Tr.HEX,bytes:li.HEX};var Vs;(function(t){t.EARLIEST="earliest",t.LATEST="latest",t.PENDING="pending",t.SAFE="safe",t.FINALIZED="finalized",t.COMMITTED="committed"})(Vs||(Vs={}));var Eu;(function(t){t.chainstart="chainstart",t.frontier="frontier",t.homestead="homestead",t.dao="dao",t.tangerineWhistle="tangerineWhistle",t.spuriousDragon="spuriousDragon",t.byzantium="byzantium",t.constantinople="constantinople",t.petersburg="petersburg",t.istanbul="istanbul",t.muirGlacier="muirGlacier",t.berlin="berlin",t.london="london",t.altair="altair",t.arrowGlacier="arrowGlacier",t.grayGlacier="grayGlacier",t.bellatrix="bellatrix",t.merge="merge",t.capella="capella",t.shanghai="shanghai"})(Eu||(Eu={}));const zw=Object.getPrototypeOf(Uint8Array);var _E=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const SE=Symbol.for("web3/base-provider");class Vd{static isWeb3Provider(e){return e instanceof Vd||!!(e&&e[SE])}get[SE](){return!0}send(e,n){this.request(e).then(r=>{n(null,r)}).catch(r=>{n(r)})}sendAsync(e){return _E(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){const e=Object.create(this),n=e.request;return e.request=function(s){return _E(this,void 0,void 0,function*(){return(yield n(s)).result})},e.asEIP1193Provider=void 0,e}}class p$ extends Array{constructor(e){super(),this._accountProvider=e}}const g$=100,y$=101,v$=201,x$=202,w$=203,b$=204,j$=205,E$=206,A$=207,_$=208,S$=300,N$=301,k$=310,C$=311,T$=400,P$=402,I$=405,R$=407,O$=408,M$=410,B$=411,D$=412,L$=413,F$=414,U$=415,$$=416,H$=417,z$=418,V$=419,G$=420,W$=421,q$=422,K$=423,Q$=424,Y$=425,J$=426,Z$=427,X$=428,eH=429,tH=430,nH=431,rH=432,sH=433,iH=434,oH=435,aH=436,cH=437,lH=438,uH=439,dH=440,fH=441,hH=500,mH=503,pH=505,gH=506,yH=507,vH=600,xH=602,wH=603,bH=604,jH=701,EH=702,AH=703,_H=704,SH=705,NH=706,kH=707,CH=709,TH=801,PH=802,IH=4001,RH=4100,OH=4200,MH=4900,BH=4901,DH=902,LH=903,FH=1001,UH=1002,$H=1003,HH=1004,zH=1005,VH=1006,GH=1008,WH=1009,qH=1010,KH=1011,QH=1012,YH=1014,JH=1015,ZH=1100,$C=1101,XH=1200,Jh=-32700,Zh=-32600,Xh=-32601,em=-32602,tm=-32603,nm=-32e3,rm=-32001,sm=-32002,im=-32003,om=-32004,am=-32005,cm=-32006;class Ee extends Error{get innerError(){return this.cause instanceof Au?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new Au(e):this.cause=e}constructor(e,n){super(e),Array.isArray(n)?this.cause=new Au(n):this.cause=n,this.name=this.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(new.target.constructor):this.stack=new Error().stack}static convertToString(e,n=!1){if(e==null)return"undefined";const r=JSON.stringify(e,(s,i)=>typeof i=="bigint"?i.toString():i);return n&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class Au extends Ee{constructor(e){super(`Multiple errors occurred: [${e.map(n=>n.message).join("], [")}]`),this.code=_$,this.errors=e}}class De extends Ee{constructor(e,n){super(`Invalid value given "${Ee.convertToString(e,!0)}". Error: ${n}.`),this.name=this.constructor.name}}class NE extends Ee{constructor(){super("Private key must be 32 bytes."),this.code=jH}}class e9 extends Ee{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=EH}}class t9 extends Ee{constructor(e){super(`"${e}"`),this.code=PH}}class HC extends Ee{constructor(){super("Invalid key derivation function"),this.code=AH}}class n9 extends Ee{constructor(){super("Key derivation failed - possibly wrong password"),this.code=_H}}class r9 extends Ee{constructor(){super("Unsupported key store version"),this.code=SH}}class s9 extends Ee{constructor(){super("Password cannot be empty"),this.code=NH}}class i9 extends Ee{constructor(){super("Initialization vector must be 16 bytes"),this.code=kH}}class o9 extends Ee{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=CH}}class Gd extends Ee{constructor(e,n){super(e),this.code=hH,n&&(this.errorCode=n.code,this.errorReason=n.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class E0 extends Gd{constructor(e){super("Connection not open",e),this.code=mH}}class a9 extends Gd{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=pH}}class c9 extends Gd{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=gH}}class l9 extends Gd{constructor(e){super(`Request already sent with following id: ${e}`),this.code=yH}}class In extends Ee{constructor(e,n){super(e),this.code=S$,this.receipt=n}}class kE extends Ee{constructor(e,n){super(`The resolver at ${e} does not implement requested method: "${n}".`),this.address=e,this.name=n,this.code=N$}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class Gp extends In{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,typeof e.data=="object"){let n;e.data&&"originalError"in e.data?n=e.data.originalError:n=e.data,this.data=n.data,this.cause=new Gp(n)}else this.data=e.data}setDecodedProperties(e,n,r){this.errorName=e,this.errorSignature=n,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class na extends In{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=k$,this.cause=new Gp(e)}}class u9 extends De{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.`),this.code=C$}}class d9 extends Ee{constructor(e){super(`ENS is not supported on network ${e}`),this.code=DH}}class f9 extends Ee{constructor(){super("Network not synced"),this.code=LH}}class CE extends Ee{constructor(e){super(`Invalid parameters passed. "${typeof e<"u"?e:""}"`),this.hint=e,this.code=A$}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class A0 extends Ee{constructor(){super(...arguments),this.code=v$}}class Ps extends Ee{constructor(){super("The method you're trying to call is not implemented."),this.code=x$}}class zC extends Ee{constructor(){super(...arguments),this.code=w$}}class h9 extends Ee{constructor(){super(...arguments),this.code=b$}}class We extends Ee{constructor(e,n){super(e),this.code=j$,this.props=n??{}}}class m9 extends Ee{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=E$}}class sh extends Ee{constructor(){super(...arguments),this.code=vH}}class _0 extends Ee{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=xH}}class $s extends Ee{constructor(){super(...arguments),this.code=wH}}class p9 extends Ee{constructor(){super(...arguments),this.code=bH}}class g9 extends De{constructor(){super(...arguments),this.code=TH}}class Vw extends Ee{constructor(e,n){super(e),this.receipt=n,this.code=T$}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class lm extends Ee{constructor(e,n,r,s){super(`Transaction has been reverted by the EVM${r===void 0?"":`:
 ${Ee.convertToString(r)}`}`),this.reason=e,this.signature=n,this.receipt=r,this.data=s,this.code=P$}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class VC extends lm{constructor(e,n,r,s,i,a,c){super(e),this.reason=e,this.customErrorName=n,this.customErrorDecodedSignature=r,this.customErrorArguments=s,this.signature=i,this.receipt=a,this.data=c,this.code=lH}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class GC extends Vw{constructor(e){super(`Transaction has been reverted by the EVM${e===void 0?"":`:
 ${Ee.convertToString(e)}`}`,e),this.code=I$}}class y9 extends Vw{constructor(){super("Raw transaction undefined"),this.code=R$}}class TE extends Vw{constructor(){super("Transaction not found"),this.code=tH}}class v9 extends De{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=O$}}class x9 extends De{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=cH}}class w9 extends De{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=M$}}class b9 extends De{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=B$}}class j9 extends De{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=D$}}class E9 extends De{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=oH}}class A9 extends De{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=aH}}class _9 extends De{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=L$}}class S9 extends De{constructor(e){var n,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${(n=e.chain)!==null&&n!==void 0?n:"undefined"}, "hardfork": ${(r=e.hardfork)!==null&&r!==void 0?r:"undefined"}`),this.code=F$}}class N9 extends Ee{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=dH}}class k9 extends De{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,'"gas" is missing'),this.code=U$,this.cause=new N9}}class C9 extends Ee{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=fH}}class T9 extends De{constructor(e){var n,r,s,i;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}, maxPriorityFeePerGas: ${(s=e.maxPriorityFeePerGas)!==null&&s!==void 0?s:"undefined"}, maxFeePerGas: ${(i=e.maxFeePerGas)!==null&&i!==void 0?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=iH,this.cause=new C9}}class P9 extends De{constructor(e){var n,r;super(`gas: ${(n=e.gas)!==null&&n!==void 0?n:"undefined"}, gasPrice: ${(r=e.gasPrice)!==null&&r!==void 0?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=$$}}class I9 extends De{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=H$}}class R9 extends De{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=z$}}class WC extends De{constructor(e){var n,r;super(`maxPriorityFeePerGas: ${(n=e.maxPriorityFeePerGas)!==null&&n!==void 0?n:"undefined"}, maxFeePerGas: ${(r=e.maxFeePerGas)!==null&&r!==void 0?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=V$}}class O9 extends De{constructor(e){super(e,"invalid transaction object"),this.code=G$}}class M9 extends De{constructor(e){var n,r;super(`nonce: ${(n=e.nonce)!==null&&n!==void 0?n:"undefined"}, chainId: ${(r=e.chainId)!==null&&r!==void 0?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=W$}}class B9 extends De{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=q$}}class D9 extends De{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=K$}}class PE extends De{constructor(e){super(e,"unsupported transaction type"),this.code=Q$}}class qC extends De{constructor(e){var n,r;super(`data: ${(n=e.data)!==null&&n!==void 0?n:"undefined"}, input: ${(r=e.input)!==null&&r!==void 0?r:"undefined"}`,`You can't have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.`),this.code=Y$}}class L9 extends Ee{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=nH}}function KC(t){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${t?t.toString():"not available"}`}class QC extends Ee{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${KC(e.transactionHash)}`),this.code=J$}}class YC extends Ee{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${KC(e.transactionHash)}`),this.code=rH}}class F9 extends De{constructor(e){var n,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${(n=e.blockHash)===null||n===void 0?void 0:n.toString()}, transactionHash: ${(r=e.transactionHash)===null||r===void 0?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=Z$}}class U9 extends De{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=X$}}class S0 extends Ee{constructor(e){super(`Invalid signature. "${e}"`),this.code=sH}}class IE extends De{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=eH}}class $9 extends Ee{constructor(e,n){const r=[];e.forEach(s=>r.push(s.keyword)),super(`The following properties are invalid for the transaction type ${n}: ${r.join(", ")}`),this.code=uH}}class kc extends De{constructor(e){super(e,"can not parse as byte data"),this.code=UH}}class Gw extends De{constructor(e){super(e,"can not parse as number data"),this.code=$H}}class Ww extends De{constructor(e){super(e,"invalid ethereum address"),this.code=zH}}class H9 extends De{constructor(e){super(e,"not a valid string"),this.code=FH}}class JC extends De{constructor(e){super(e,"invalid unit"),this.code=HH}}class ZC extends De{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=JH}}class z9 extends De{constructor(e){super(e,"can not be converted to hex"),this.code=VH}}class XC extends De{constructor(e){super(e,"value greater than the nibble width"),this.code=YH}}class qw extends De{constructor(e){super(e,"not a valid boolean."),this.code=GH}}class V9 extends De{constructor(e){super(e,"not a valid unsigned integer."),this.code=WH}}class RE extends De{constructor(e){super(e,"invalid size given."),this.code=qH}}class OE extends De{constructor(e){super(e,"value is larger than size."),this.code=KH}}class G9 extends De{constructor(e){super(e,"invalid string given"),this.code=QH}}const W9=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&(t.result===void 0||t.result===null)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),ME=t=>W9(t)?t.error.message:"";class hs extends Ee{constructor(e,n,r,s){var i;super(n??`Returned error: ${Array.isArray(e)?e.map(c=>ME(c)).join(","):ME(e)}`),this.code=g$,n||(this.data=Array.isArray(e)?e.map(c=>{var l;return(l=c.error)===null||l===void 0?void 0:l.data}):(i=e?.error)===null||i===void 0?void 0:i.data),this.statusCode=s,this.request=r;let a;"error"in e?a=e.error:e instanceof Array&&(a=e.filter(c=>c.error).map(c=>c.error)),Array.isArray(a)&&a.length>0?this.cause=new Au(a):this.cause=a}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class Wp extends hs{constructor(e,n){super(e,void 0,n),this.code=y$;let r;"error"in e?r=e.error:e instanceof Array&&(r=e.map(s=>s.error)),Array.isArray(r)?this.cause=new Au(r):this.cause=r}}class BE extends Ee{constructor(e,n){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=$C}}class DE extends Ee{constructor(e,n){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${n}`),this.code=$C}}const e2="An Rpc error has occured with a code of *code*",vn={[Jh]:{message:"Parse error",description:"Invalid JSON"},[Zh]:{message:"Invalid request",description:"JSON is not a valid request object	"},[Xh]:{message:"Method not found",description:"Method does not exist	"},[em]:{message:"Invalid params",description:"Invalid method parameters"},[tm]:{message:"Internal error",description:"Internal JSON-RPC error"},[nm]:{message:"Invalid input",description:"Missing or invalid parameters"},[rm]:{message:"Resource not found",description:"Requested resource not found"},[sm]:{message:"Resource unavailable",description:"Requested resource not available"},[im]:{message:"Transaction rejected",description:"Transaction creation failed"},[om]:{message:"Method not supported",description:"Method is not implemented"},[am]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[cm]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[IH]:{name:"User Rejected Request",message:"The user rejected the request."},[RH]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[OH]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[MH]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[BH]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class xr extends Ee{constructor(e,n){super(n??e2.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class q9 extends Ee{constructor(e,n){var r,s,i,a;if(!e)super();else if(!((r=vn[e])===null||r===void 0)&&r.message)super(vn[e].message);else{const c=Object.keys(vn).find(l=>typeof l=="string"&&e>=parseInt(l.split("-")[0],10)&&e<=parseInt(l.split("-")[1],10));super((i=(s=vn[c??""])===null||s===void 0?void 0:s.message)!==null&&i!==void 0?i:e2.replace("*code*",(a=e?.toString())!==null&&a!==void 0?a:'""'))}this.code=e,this.data=n}}class K9 extends xr{constructor(e){super(e,vn[Jh].message),this.code=Jh}}class Q9 extends xr{constructor(e){super(e,vn[Zh].message),this.code=Zh}}class Y9 extends xr{constructor(e){super(e,vn[Xh].message),this.code=Xh}}class J9 extends xr{constructor(e){super(e,vn[em].message),this.code=em}}class Z9 extends xr{constructor(e){super(e,vn[tm].message),this.code=tm}}class X9 extends xr{constructor(e){super(e,vn[nm].message),this.code=nm}}class e7 extends xr{constructor(e){super(e,vn[om].message),this.code=om}}class t7 extends xr{constructor(e){super(e,vn[sm].message),this.code=sm}}class n7 extends xr{constructor(e){super(e,vn[rm].message),this.code=rm}}class r7 extends xr{constructor(e){super(e,vn[cm].message),this.code=cm}}class s7 extends xr{constructor(e){super(e,vn[im].message),this.code=im}}class i7 extends xr{constructor(e){super(e,vn[am].message),this.code=am}}const Rn=new Map;Rn.set(Jh,{error:K9});Rn.set(Zh,{error:Q9});Rn.set(Xh,{error:Y9});Rn.set(em,{error:J9});Rn.set(tm,{error:Z9});Rn.set(nm,{error:X9});Rn.set(om,{error:e7});Rn.set(sm,{error:t7});Rn.set(im,{error:s7});Rn.set(rm,{error:n7});Rn.set(cm,{error:r7});Rn.set(am,{error:i7});class o7 extends Ee{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=XH}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function Gn(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function a7(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function c7(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function jl(t,...e){if(!c7(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Kw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gn(t.outputLen),Gn(t.blockLen)}function pa(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Qw(t,e){jl(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const t2={number:Gn,bool:a7,bytes:jl,hash:Kw,exists:pa,output:Qw},If=BigInt(2**32-1),LE=BigInt(32);function l7(t,e=!1){return e?{h:Number(t&If),l:Number(t>>LE&If)}:{h:Number(t>>LE&If)|0,l:Number(t&If)|0}}function u7(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=l7(t[s],e);[n[s],r[s]]=[i,a]}return[n,r]}const d7=(t,e,n)=>t<<n|e>>>32-n,f7=(t,e,n)=>e<<n|t>>>32-n,h7=(t,e,n)=>e<<n-32|t>>>64-n,m7=(t,e,n)=>t<<n-32|e>>>64-n,ih=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oh=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ah=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),is=(t,e)=>t<<32-e|t>>>e,Ze=(t,e)=>t<<e|t>>>32-e>>>0,um=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,p7=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function dm(t){for(let e=0;e<t.length;e++)t[e]=p7(t[e])}function Wc(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qc(t){return typeof t=="string"&&(t=Wc(t)),jl(t),t}function N0(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];jl(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}let Yw=class{clone(){return this._cloneInto()}};const g7={}.toString;function n2(t,e){if(e!==void 0&&g7.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function r2(t){const e=r=>t().update(qc(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function y7(t=32){if(ih&&typeof ih.getRandomValues=="function")return ih.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const s2=[],i2=[],o2=[],v7=BigInt(0),Hl=BigInt(1),x7=BigInt(2),w7=BigInt(7),b7=BigInt(256),j7=BigInt(113);for(let t=0,e=Hl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],s2.push(2*(5*r+n)),i2.push((t+1)*(t+2)/2%64);let s=v7;for(let i=0;i<7;i++)e=(e<<Hl^(e>>w7)*j7)%b7,e&x7&&(s^=Hl<<(Hl<<BigInt(i))-Hl);o2.push(s)}const[E7,A7]=u7(o2,!0),FE=(t,e,n)=>n>32?h7(t,e,n):d7(t,e,n),UE=(t,e,n)=>n>32?m7(t,e,n):f7(t,e,n);function _7(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const c=(a+8)%10,l=(a+2)%10,u=n[l],d=n[l+1],f=FE(u,d,1)^n[c],h=UE(u,d,1)^n[c+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const c=i2[a],l=FE(s,i,c),u=UE(s,i,c),d=s2[a];s=t[d],i=t[d+1],t[d]=l,t[d+1]=u}for(let a=0;a<50;a+=10){for(let c=0;c<10;c++)n[c]=t[a+c];for(let c=0;c<10;c++)t[a+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=E7[r],t[1]^=A7[r]}n.fill(0)}class Jw extends Yw{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=oh(this.state)}keccak(){um||dm(this.state32),_7(this.state32,this.rounds),um||dm(this.state32),this.posOut=0,this.pos=0}update(e){pa(this);const{blockLen:n,state:r}=this;e=qc(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let c=0;c<a;c++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){pa(this,!1),jl(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Gn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Qw(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new Jw(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const S7=(t,e,n)=>r2(()=>new Jw(e,t,n)),$E=S7(1,136,256/8),fm=t2.bytes;function a2(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}function N7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function k7(t){return e=>(t2.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof cu<"u"&&typeof cu.require=="function"&&cu.require.bind(cu);return{node:e&&!t?e("crypto"):void 0,web:t}})();const Cn=(()=>{const t=k7($E);return t.create=$E.create,t})();var Ke;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),a={};for(const c of i)a[c]=s[c];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ke||(Ke={}));var k0;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(k0||(k0={}));const ce=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Di=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},J=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),C7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ur extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(n(a))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return s(this),r}static assert(e){if(!(e instanceof ur))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ur.create=t=>new ur(t);const Kc=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ke.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ke.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ke.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Ke.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ke.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ke.assertNever(t)}return{message:n}};let c2=Kc;function T7(t){c2=t}function hm(){return c2}const mm=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)c=u(a,{data:e,defaultError:c}).message;return{...s,path:i,message:c}},P7=[];function ie(t,e){const n=hm(),r=mm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Kc?void 0:Kc].filter(s=>!!s)});t.common.issues.push(r)}class bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return bn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return je;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const je=Object.freeze({status:"aborted"}),gc=t=>({status:"dirty",value:t}),On=t=>({status:"valid",value:t}),C0=t=>t.status==="aborted",T0=t=>t.status==="dirty",nd=t=>t.status==="valid",rd=t=>typeof Promise<"u"&&t instanceof Promise;function pm(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function l2(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var pe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(pe||(pe={}));var ru,su;class As{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const HE=(t,e)=>{if(nd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ur(t.common.issues);return this._error=n,this._error}}};function Pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,c)=>{var l,u;const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:c.defaultError}:a.code!=="invalid_type"?{message:c.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:c.defaultError}},description:s}}class Be{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Di(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bn,ctx:{common:e.parent.common,data:e.data,parsedType:Di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(rd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Di(e)},i=this._parseSync({data:e,path:s.path,parent:s});return HE(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Di(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(rd(s)?s:Promise.resolve(s));return HE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),c=()=>i.addIssue({code:J.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(c(),!1)):a?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Jr({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return bs.create(this,this._def)}nullable(){return vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qr.create(this,this._def)}promise(){return Yc.create(this,this._def)}or(e){return ad.create([this,e],this._def)}and(e){return cd.create(this,e,this._def)}transform(e){return new Jr({...Pe(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new hd({...Pe(this._def),innerType:this,defaultValue:n,typeName:be.ZodDefault})}brand(){return new Zw({typeName:be.ZodBranded,type:this,...Pe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new md({...Pe(this._def),innerType:this,catchValue:n,typeName:be.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Wd.create(this,e)}readonly(){return pd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const I7=/^c[^\s-]{8,}$/i,R7=/^[0-9a-z]+$/,O7=/^[0-9A-HJKMNP-TV-Z]{26}$/,M7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,B7=/^[a-z0-9_-]{21}$/i,D7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,L7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,F7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ey;const U7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$7=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,H7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,u2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",z7=new RegExp(`^${u2}$`);function d2(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function V7(t){return new RegExp(`^${d2(t)}$`)}function f2(t){let e=`${u2}T${d2(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function G7(t,e){return!!((e==="v4"||!e)&&U7.test(t)||(e==="v6"||!e)&&$7.test(t))}class Vr extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const i=this._getOrReturnCtx(e);return ie(i,{code:J.invalid_type,expected:ce.string,received:i.parsedType}),je}const r=new bn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,c=e.data.length<i.value;(a||c)&&(s=this._getOrReturnCtx(e,s),a?ie(s,{code:J.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&ie(s,{code:J.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")L7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"email",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ey||(Ey=new RegExp(F7,"u")),Ey.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"emoji",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")M7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"uuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")B7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"nanoid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")I7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"cuid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")R7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"cuid2",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")O7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"ulid",code:J.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ie(s,{validation:"url",code:J.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"regex",code:J.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ie(s,{code:J.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ie(s,{code:J.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ie(s,{code:J.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?f2(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:J.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?z7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:J.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?V7(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:J.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?D7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"duration",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?G7(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"ip",code:J.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?H7.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"base64",code:J.invalid_string,message:i.message}),r.dirty()):Ke.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:J.invalid_string,...pe.errToObj(r)})}_addCheck(e){return new Vr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...pe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...pe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...pe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...pe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...pe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...pe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...pe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...pe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...pe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...pe.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...pe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...pe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...pe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...pe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...pe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...pe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...pe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...pe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...pe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...pe.errToObj(n)})}nonempty(e){return this.min(1,pe.errToObj(e))}trim(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vr.create=t=>{var e;return new Vr({checks:[],typeName:be.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Pe(t)})};function W7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class po extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const i=this._getOrReturnCtx(e);return ie(i,{code:J.invalid_type,expected:ce.number,received:i.parsedType}),je}let r;const s=new bn;for(const i of this._def.checks)i.kind==="int"?Ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:J.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:J.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:J.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?W7(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ie(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:J.not_finite,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pe.toString(n))}setLimit(e,n,r,s){return new po({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:pe.toString(s)}]})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:pe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:pe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}po.create=t=>new po({checks:[],typeName:be.ZodNumber,coerce:t?.coerce||!1,...Pe(t)});class go extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ce.bigint){const i=this._getOrReturnCtx(e);return ie(i,{code:J.invalid_type,expected:ce.bigint,received:i.parsedType}),je}let r;const s=new bn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:J.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:J.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:J.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ke.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,pe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,pe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,pe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,pe.toString(n))}setLimit(e,n,r,s){return new go({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:pe.toString(s)}]})}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:pe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}go.create=t=>{var e;return new go({checks:[],typeName:be.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Pe(t)})};class sd extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return ie(r,{code:J.invalid_type,expected:ce.boolean,received:r.parsedType}),je}return On(e.data)}}sd.create=t=>new sd({typeName:be.ZodBoolean,coerce:t?.coerce||!1,...Pe(t)});class ga extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const i=this._getOrReturnCtx(e);return ie(i,{code:J.invalid_type,expected:ce.date,received:i.parsedType}),je}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ie(i,{code:J.invalid_date}),je}const r=new bn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:J.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:J.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ke.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ga({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:pe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:pe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ga.create=t=>new ga({checks:[],coerce:t?.coerce||!1,typeName:be.ZodDate,...Pe(t)});class gm extends Be{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return ie(r,{code:J.invalid_type,expected:ce.symbol,received:r.parsedType}),je}return On(e.data)}}gm.create=t=>new gm({typeName:be.ZodSymbol,...Pe(t)});class id extends Be{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:J.invalid_type,expected:ce.undefined,received:r.parsedType}),je}return On(e.data)}}id.create=t=>new id({typeName:be.ZodUndefined,...Pe(t)});class od extends Be{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return ie(r,{code:J.invalid_type,expected:ce.null,received:r.parsedType}),je}return On(e.data)}}od.create=t=>new od({typeName:be.ZodNull,...Pe(t)});class Qc extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return On(e.data)}}Qc.create=t=>new Qc({typeName:be.ZodAny,...Pe(t)});class ra extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return On(e.data)}}ra.create=t=>new ra({typeName:be.ZodUnknown,...Pe(t)});class ui extends Be{_parse(e){const n=this._getOrReturnCtx(e);return ie(n,{code:J.invalid_type,expected:ce.never,received:n.parsedType}),je}}ui.create=t=>new ui({typeName:be.ZodNever,...Pe(t)});class ym extends Be{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:J.invalid_type,expected:ce.void,received:r.parsedType}),je}return On(e.data)}}ym.create=t=>new ym({typeName:be.ZodVoid,...Pe(t)});class qr extends Be{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ce.array)return ie(n,{code:J.invalid_type,expected:ce.array,received:n.parsedType}),je;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(ie(n,{code:a?J.too_big:J.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ie(n,{code:J.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ie(n,{code:J.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new As(n,a,n.path,c)))).then(a=>bn.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new As(n,a,n.path,c)));return bn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new qr({...this._def,minLength:{value:e,message:pe.toString(n)}})}max(e,n){return new qr({...this._def,maxLength:{value:e,message:pe.toString(n)}})}length(e,n){return new qr({...this._def,exactLength:{value:e,message:pe.toString(n)}})}nonempty(e){return this.min(1,e)}}qr.create=(t,e)=>new qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Pe(e)});function Xa(t){if(t instanceof jt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=bs.create(Xa(r))}return new jt({...t._def,shape:()=>e})}else return t instanceof qr?new qr({...t._def,type:Xa(t.element)}):t instanceof bs?bs.create(Xa(t.unwrap())):t instanceof vo?vo.create(Xa(t.unwrap())):t instanceof _s?_s.create(t.items.map(e=>Xa(e))):t}class jt extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ke.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ce.object){const u=this._getOrReturnCtx(e);return ie(u,{code:J.invalid_type,expected:ce.object,received:u.parsedType}),je}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),c=[];if(!(this._def.catchall instanceof ui&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||c.push(u);const l=[];for(const u of a){const d=i[u],f=s.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new As(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ui){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of c)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")c.length>0&&(ie(s,{code:J.unrecognized_keys,keys:c}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of c){const f=s.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new As(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>bn.mergeObjectSync(r,u)):bn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return pe.errToObj,new jt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,c;const l=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=pe.errToObj(e).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}})}strip(){return new jt({...this._def,unknownKeys:"strip"})}passthrough(){return new jt({...this._def,unknownKeys:"passthrough"})}extend(e){return new jt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:be.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new jt({...this._def,catchall:e})}pick(e){const n={};return Ke.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new jt({...this._def,shape:()=>n})}omit(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new jt({...this._def,shape:()=>n})}deepPartial(){return Xa(this)}partial(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new jt({...this._def,shape:()=>n})}required(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof bs;)i=i._def.innerType;n[r]=i}}),new jt({...this._def,shape:()=>n})}keyof(){return h2(Ke.objectKeys(this.shape))}}jt.create=(t,e)=>new jt({shape:()=>t,unknownKeys:"strip",catchall:ui.create(),typeName:be.ZodObject,...Pe(e)});jt.strictCreate=(t,e)=>new jt({shape:()=>t,unknownKeys:"strict",catchall:ui.create(),typeName:be.ZodObject,...Pe(e)});jt.lazycreate=(t,e)=>new jt({shape:t,unknownKeys:"strip",catchall:ui.create(),typeName:be.ZodObject,...Pe(e)});class ad extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const a=i.map(c=>new ur(c.ctx.common.issues));return ie(n,{code:J.invalid_union,unionErrors:a}),je}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=a.map(l=>new ur(l));return ie(n,{code:J.invalid_union,unionErrors:c}),je}}get options(){return this._def.options}}ad.create=(t,e)=>new ad({options:t,typeName:be.ZodUnion,...Pe(e)});const Ls=t=>t instanceof ud?Ls(t.schema):t instanceof Jr?Ls(t.innerType()):t instanceof dd?[t.value]:t instanceof yo?t.options:t instanceof fd?Ke.objectValues(t.enum):t instanceof hd?Ls(t._def.innerType):t instanceof id?[void 0]:t instanceof od?[null]:t instanceof bs?[void 0,...Ls(t.unwrap())]:t instanceof vo?[null,...Ls(t.unwrap())]:t instanceof Zw||t instanceof pd?Ls(t.unwrap()):t instanceof md?Ls(t._def.innerType):[];class qp extends Be{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return ie(n,{code:J.invalid_type,expected:ce.object,received:n.parsedType}),je;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ie(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=Ls(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);s.set(c,i)}}return new qp({typeName:be.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Pe(r)})}}function P0(t,e){const n=Di(t),r=Di(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const s=Ke.objectKeys(e),i=Ke.objectKeys(t).filter(c=>s.indexOf(c)!==-1),a={...t,...e};for(const c of i){const l=P0(t[c],e[c]);if(!l.valid)return{valid:!1};a[c]=l.data}return{valid:!0,data:a}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],c=e[i],l=P0(a,c);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cd extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(C0(i)||C0(a))return je;const c=P0(i.value,a.value);return c.valid?((T0(i)||T0(a))&&n.dirty(),{status:n.value,value:c.data}):(ie(r,{code:J.invalid_intersection_types}),je)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}cd.create=(t,e,n)=>new cd({left:t,right:e,typeName:be.ZodIntersection,...Pe(n)});class _s extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return ie(r,{code:J.invalid_type,expected:ce.array,received:r.parsedType}),je;if(r.data.length<this._def.items.length)return ie(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),je;!this._def.rest&&r.data.length>this._def.items.length&&(ie(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,c)=>{const l=this._def.items[c]||this._def.rest;return l?l._parse(new As(r,a,r.path,c)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>bn.mergeArray(n,a)):bn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new _s({...this._def,rest:e})}}_s.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _s({items:t,typeName:be.ZodTuple,rest:null,...Pe(e)})};class ld extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.object)return ie(r,{code:J.invalid_type,expected:ce.object,received:r.parsedType}),je;const s=[],i=this._def.keyType,a=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new As(r,c,r.path,c)),value:a._parse(new As(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?bn.mergeObjectAsync(n,s):bn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Be?new ld({keyType:e,valueType:n,typeName:be.ZodRecord,...Pe(r)}):new ld({keyType:Vr.create(),valueType:e,typeName:be.ZodRecord,...Pe(n)})}}class vm extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return ie(r,{code:J.invalid_type,expected:ce.map,received:r.parsedType}),je;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,l],u)=>({key:s._parse(new As(r,c,r.path,[u,"key"])),value:i._parse(new As(r,l,r.path,[u,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const l of a){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const l of a){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}}}}vm.create=(t,e,n)=>new vm({valueType:e,keyType:t,typeName:be.ZodMap,...Pe(n)});class ya extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return ie(r,{code:J.invalid_type,expected:ce.set,received:r.parsedType}),je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ie(r,{code:J.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ie(r,{code:J.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(l){const u=new Set;for(const d of l){if(d.status==="aborted")return je;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const c=[...r.data.values()].map((l,u)=>i._parse(new As(r,l,r.path,u)));return r.common.async?Promise.all(c).then(l=>a(l)):a(c)}min(e,n){return new ya({...this._def,minSize:{value:e,message:pe.toString(n)}})}max(e,n){return new ya({...this._def,maxSize:{value:e,message:pe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ya.create=(t,e)=>new ya({valueType:t,minSize:null,maxSize:null,typeName:be.ZodSet,...Pe(e)});class Cc extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return ie(n,{code:J.invalid_type,expected:ce.function,received:n.parsedType}),je;function r(c,l){return mm({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hm(),Kc].filter(u=>!!u),issueData:{code:J.invalid_arguments,argumentsError:l}})}function s(c,l){return mm({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hm(),Kc].filter(u=>!!u),issueData:{code:J.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Yc){const c=this;return On(async function(...l){const u=new ur([]),d=await c._def.args.parseAsync(l,i).catch(m=>{throw u.addIssue(r(l,m)),u}),f=await Reflect.apply(a,this,d);return await c._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const c=this;return On(function(...l){const u=c._def.args.safeParse(l,i);if(!u.success)throw new ur([r(l,u.error)]);const d=Reflect.apply(a,this,u.data),f=c._def.returns.safeParse(d,i);if(!f.success)throw new ur([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Cc({...this._def,args:_s.create(e).rest(ra.create())})}returns(e){return new Cc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Cc({args:e||_s.create([]).rest(ra.create()),returns:n||ra.create(),typeName:be.ZodFunction,...Pe(r)})}}class ud extends Be{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ud.create=(t,e)=>new ud({getter:t,typeName:be.ZodLazy,...Pe(e)});class dd extends Be{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ie(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),je}return{status:"valid",value:e.data}}get value(){return this._def.value}}dd.create=(t,e)=>new dd({value:t,typeName:be.ZodLiteral,...Pe(e)});function h2(t,e){return new yo({values:t,typeName:be.ZodEnum,...Pe(e)})}class yo extends Be{constructor(){super(...arguments),ru.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{expected:Ke.joinValues(r),received:n.parsedType,code:J.invalid_type}),je}if(pm(this,ru)||l2(this,ru,new Set(this._def.values)),!pm(this,ru).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{received:n.data,code:J.invalid_enum_value,options:r}),je}return On(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return yo.create(e,{...this._def,...n})}exclude(e,n=this._def){return yo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ru=new WeakMap;yo.create=h2;class fd extends Be{constructor(){super(...arguments),su.set(this,void 0)}_parse(e){const n=Ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const s=Ke.objectValues(n);return ie(r,{expected:Ke.joinValues(s),received:r.parsedType,code:J.invalid_type}),je}if(pm(this,su)||l2(this,su,new Set(Ke.getValidEnumValues(this._def.values))),!pm(this,su).has(e.data)){const s=Ke.objectValues(n);return ie(r,{received:r.data,code:J.invalid_enum_value,options:s}),je}return On(e.data)}get enum(){return this._def.values}}su=new WeakMap;fd.create=(t,e)=>new fd({values:t,typeName:be.ZodNativeEnum,...Pe(e)});class Yc extends Be{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return ie(n,{code:J.invalid_type,expected:ce.promise,received:n.parsedType}),je;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return On(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Yc.create=(t,e)=>new Yc({type:t,typeName:be.ZodPromise,...Pe(e)});class Jr extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{ie(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async c=>{if(n.value==="aborted")return je;const l=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return l.status==="aborted"?je:l.status==="dirty"||n.value==="dirty"?gc(l.value):l});{if(n.value==="aborted")return je;const c=this._def.schema._parseSync({data:a,path:r.path,parent:r});return c.status==="aborted"?je:c.status==="dirty"||n.value==="dirty"?gc(c.value):c}}if(s.type==="refinement"){const a=c=>{const l=s.refinement(c,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?je:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?je:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nd(a))return a;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>nd(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):a);Ke.assertNever(s)}}Jr.create=(t,e,n)=>new Jr({schema:t,typeName:be.ZodEffects,effect:e,...Pe(n)});Jr.createWithPreprocess=(t,e,n)=>new Jr({schema:e,effect:{type:"preprocess",transform:t},typeName:be.ZodEffects,...Pe(n)});class bs extends Be{_parse(e){return this._getType(e)===ce.undefined?On(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bs.create=(t,e)=>new bs({innerType:t,typeName:be.ZodOptional,...Pe(e)});class vo extends Be{_parse(e){return this._getType(e)===ce.null?On(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}vo.create=(t,e)=>new vo({innerType:t,typeName:be.ZodNullable,...Pe(e)});class hd extends Be{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}hd.create=(t,e)=>new hd({innerType:t,typeName:be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});class md extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ur(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ur(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}md.create=(t,e)=>new md({innerType:t,typeName:be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});class xm extends Be{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return ie(r,{code:J.invalid_type,expected:ce.nan,received:r.parsedType}),je}return{status:"valid",value:e.data}}}xm.create=t=>new xm({typeName:be.ZodNaN,...Pe(t)});const q7=Symbol("zod_brand");class Zw extends Be{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Wd extends Be{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?je:i.status==="dirty"?(n.dirty(),gc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?je:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Wd({in:e,out:n,typeName:be.ZodPipeline})}}class pd extends Be{_parse(e){const n=this._def.innerType._parse(e),r=s=>(nd(s)&&(s.value=Object.freeze(s.value)),s);return rd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}pd.create=(t,e)=>new pd({innerType:t,typeName:be.ZodReadonly,...Pe(e)});function m2(t,e={},n){return t?Qc.create().superRefine((r,s)=>{var i,a;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(a=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,u=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...u,fatal:l})}}):Qc.create()}const K7={object:jt.lazycreate};var be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(be||(be={}));const Q7=(t,e={message:`Input not instance of ${t.name}`})=>m2(n=>n instanceof t,e),p2=Vr.create,g2=po.create,Y7=xm.create,J7=go.create,y2=sd.create,Z7=ga.create,X7=gm.create,ez=id.create,tz=od.create,nz=Qc.create,rz=ra.create,sz=ui.create,iz=ym.create,oz=qr.create,az=jt.create,cz=jt.strictCreate,lz=ad.create,uz=qp.create,dz=cd.create,fz=_s.create,hz=ld.create,mz=vm.create,pz=ya.create,gz=Cc.create,yz=ud.create,vz=dd.create,xz=yo.create,wz=fd.create,bz=Yc.create,zE=Jr.create,jz=bs.create,Ez=vo.create,Az=Jr.createWithPreprocess,_z=Wd.create,Sz=()=>p2().optional(),Nz=()=>g2().optional(),kz=()=>y2().optional(),Cz={string:t=>Vr.create({...t,coerce:!0}),number:t=>po.create({...t,coerce:!0}),boolean:t=>sd.create({...t,coerce:!0}),bigint:t=>go.create({...t,coerce:!0}),date:t=>ga.create({...t,coerce:!0})},Tz=je;var os=Object.freeze({__proto__:null,defaultErrorMap:Kc,setErrorMap:T7,getErrorMap:hm,makeIssue:mm,EMPTY_PATH:P7,addIssueToContext:ie,ParseStatus:bn,INVALID:je,DIRTY:gc,OK:On,isAborted:C0,isDirty:T0,isValid:nd,isAsync:rd,get util(){return Ke},get objectUtil(){return k0},ZodParsedType:ce,getParsedType:Di,ZodType:Be,datetimeRegex:f2,ZodString:Vr,ZodNumber:po,ZodBigInt:go,ZodBoolean:sd,ZodDate:ga,ZodSymbol:gm,ZodUndefined:id,ZodNull:od,ZodAny:Qc,ZodUnknown:ra,ZodNever:ui,ZodVoid:ym,ZodArray:qr,ZodObject:jt,ZodUnion:ad,ZodDiscriminatedUnion:qp,ZodIntersection:cd,ZodTuple:_s,ZodRecord:ld,ZodMap:vm,ZodSet:ya,ZodFunction:Cc,ZodLazy:ud,ZodLiteral:dd,ZodEnum:yo,ZodNativeEnum:fd,ZodPromise:Yc,ZodEffects:Jr,ZodTransformer:Jr,ZodOptional:bs,ZodNullable:vo,ZodDefault:hd,ZodCatch:md,ZodNaN:xm,BRAND:q7,ZodBranded:Zw,ZodPipeline:Wd,ZodReadonly:pd,custom:m2,Schema:Be,ZodSchema:Be,late:K7,get ZodFirstPartyTypeKind(){return be},coerce:Cz,any:nz,array:oz,bigint:J7,boolean:y2,date:Z7,discriminatedUnion:uz,effect:zE,enum:xz,function:gz,instanceof:Q7,intersection:dz,lazy:yz,literal:vz,map:mz,nan:Y7,nativeEnum:wz,never:sz,null:tz,nullable:Ez,number:g2,object:az,oboolean:kz,onumber:Nz,optional:jz,ostring:Sz,pipeline:_z,preprocess:Az,promise:bz,record:hz,set:pz,strictObject:cz,string:p2,symbol:X7,transformer:zE,tuple:fz,undefined:ez,union:lz,unknown:rz,void:iz,NEVER:Tz,ZodIssueCode:J,quotelessJson:C7,ZodError:ur});const Pz=t=>t.message?t.message:"unspecified error";class Jc extends Ee{constructor(e){super(),this.code=ZH,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join(`
`)}`}_compileErrors(){return this.errors.map(Pz)}}const Iz=["bool","int","uint","bytes","string","address","tuple"],v2=t=>typeof t=="object"&&"type"in t&&"name"in t,Xw=t=>typeof t=="string",et=t=>typeof t=="string"&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(t);function x2(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const wm=t=>typeof t=="number"||typeof t=="bigint"||typeof t=="string"&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(t);function eb(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t.startsWith("0x")}const tb=function(t){for(const[e,n]of Object.entries(t))if(n!==void 0&&n.length>0&&n[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${n.toString()}`)},Rz=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],Ia=t=>{let e=t.replace(/ /,""),n,r=!1,s=[];if(t.includes("[")&&(e=e.slice(0,e.indexOf("[")),s=[...t.matchAll(/(?:\[(\d*)\])/g)].map(i=>parseInt(i[1],10)).map(i=>Number.isNaN(i)?-1:i),r=s.length>0),Iz.includes(e))return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s};if(e.startsWith("int"))n=parseInt(e.substring(3),10),e="int";else if(e.startsWith("uint"))n=parseInt(t.substring(4),10),e="uint";else if(e.startsWith("bytes"))n=parseInt(e.substring(5),10),e="bytes";else return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:s};return{baseType:e,isArray:r,baseTypeSize:n,arraySizes:s}},Ay=(t,e={})=>{if(Object.keys(e).includes("type"))throw new Jc([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:t},instancePath:"",schemaPath:""}]);const{baseType:r,baseTypeSize:s}=Ia(t);if(!r&&!Rz.includes(t))throw new Jc([{keyword:"eth",message:`Eth data type "${t}" is not valid`,params:{eth:t},instancePath:"",schemaPath:""}]);if(r){if(r==="tuple")throw new Error('"tuple" type is not implemented directly.');return{format:`${r}${s??""}`,required:!0}}return t?{format:t,required:!0}:{}},bm=(t,e="/0")=>{const n={type:"array",items:[],maxItems:t.length,minItems:t.length};for(const[r,s]of t.entries()){let i,a,c=[];v2(s)?(i=s.type,a=s.name||`${e}/${r}`,c=s.components):typeof s=="string"?(i=s,a=`${e}/${r}`):Array.isArray(s)&&(s[0]&&typeof s[0]=="string"&&s[0].startsWith("tuple")&&!Array.isArray(s[0])&&s[1]&&Array.isArray(s[1])?(i=s[0],a=`${e}/${r}`,c=s[1]):(i="tuple",a=`${e}/${r}`,c=s));const{baseType:l,isArray:u,arraySizes:d}=Ia(i);let f,h=n;for(let m=d.length-1;m>0;m-=1)f={type:"array",$id:a,items:[],maxItems:d[m],minItems:d[m]},d[m]<0&&(delete f.maxItems,delete f.minItems),Array.isArray(h.items)?h.items.length===0?h.items=[f]:h.items.push(f):h.items=[h.items,f],h=f;if(l==="tuple"&&!u){const m=bm(c,a);m.$id=a,h.items.push(m)}else if(l==="tuple"&&u){const m=d[0],g=Object.assign({type:"array",$id:a,items:bm(c,a)},m>=0&&{minItems:m,maxItems:m});h.items.push(g)}else if(u){const m=d[0],g=Object.assign({type:"array",$id:a,items:Ay(i)},m>=0&&{minItems:m,maxItems:m});h.items.push(g)}else Array.isArray(h.items)?h.items.push(Object.assign({$id:a},Ay(i))):h.items.push(Object.assign({$id:a},Ay(i)));h=n}return n},nb=t=>bm(t),rb=(t,e)=>e===1?t:rb(t[0],e-1),_u=(t,e,n)=>{const r=[];for(const[s,i]of t.entries()){let a,c,l=[];v2(i)?(a=i.type,c=i.name,l=i.components):typeof i=="string"?a=i:Array.isArray(i)&&(i[1]&&Array.isArray(i[1])?(a=i[0],l=i[1]):(a="tuple",l=i));const{baseType:u,isArray:d,arraySizes:f}=Ia(a),h=Array.isArray(e)?e[s]:e[c];if(u==="tuple"&&!d)r.push(_u(l,h,n));else if(u==="tuple"&&d){const m=[];for(const g of h)if(f.length>1){const p=rb(g,f.length-1),y=[];for(const x of p)y.push(_u(l,x,n));m.push(y)}else m.push(_u(l,g,n));r.push(m)}else r.push(h)}return n=n??[],n.push(...r),n},w2=t=>{if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-55;if(t>=97&&t<=102)return t-87;throw new Error(`Invalid code point: ${t}`)},Kp=t=>{if(!et(t))throw new Error("Invalid hex string");const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=BigInt(n);return r>Number.MAX_SAFE_INTEGER?e?-r:r:r<Number.MIN_SAFE_INTEGER?r:e?-1*Number(r):Number(r)},Qp=t=>{if((typeof t=="number"||typeof t=="bigint")&&t<0)return`-0x${t.toString(16).slice(1)}`;if((typeof t=="number"||typeof t=="bigint")&&t>=0)return`0x${t.toString(16)}`;if(typeof t=="string"&&et(t)){const[e,n]=t.startsWith("-")?[!0,t.slice(1)]:[!1,t],r=n.split(/^(-)?0(x|X)/).slice(-1)[0];return`${e?"-":""}0x${r.replace(/^0+/,"").toLowerCase()}`}if(typeof t=="string"&&!et(t))return Qp(BigInt(t));throw new Gw(t)},jm=(t,e,n="0")=>{if(typeof t=="string"&&!et(t))return t.padStart(e,n);const r=typeof t=="string"&&et(t)?t:Qp(t),[s,i]=r.startsWith("-")?["-0x",r.slice(3)]:["0x",r.slice(2)];return`${s}${i.padStart(e,n)}`};function pi(t){let e="0x";for(const n of t){const r=n.toString(16);e+=r.length===1?`0${r}`:r}return e}const Is={zero:48,nine:57,A:65,F:70,a:97,f:102};function VE(t){if(t>=Is.zero&&t<=Is.nine)return t-Is.zero;if(t>=Is.A&&t<=Is.F)return t-(Is.A-10);if(t>=Is.a&&t<=Is.f)return t-(Is.a-10)}function Ra(t){let e=0;if(t.startsWith("0")&&(t[1]==="x"||t[1]==="X")&&(e=2),t.length%2!==0)throw new kc(`hex string has odd length: ${t}`);const n=(t.length-e)/2,r=new Uint8Array(n);for(let s=0,i=e;s<n;s+=1){const a=VE(t.charCodeAt(i++)),c=VE(t.charCodeAt(i++));if(a===void 0||c===void 0)throw new kc(`Invalid byte sequence ("${t[i-2]}${t[i-1]}" in "${t}").`);r[s]=a*16+c}return r}function Yp(t){var e;return!(t instanceof Uint8Array)&&((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"?Uint8Array.from(t):t}const b2=Object.freeze(Object.defineProperty({__proto__:null,abiSchemaToJsonSchema:bm,codePointToInt:w2,ensureIfUint8Array:Yp,ethAbiToJsonSchema:nb,fetchArrayElement:rb,hexToNumber:Kp,hexToUint8Array:Ra,numberToHex:Qp,padLeft:jm,parseBaseType:Ia,transformJsonDataToAbiFormat:_u,uint8ArrayToHexString:pi},Symbol.toStringTag,{value:"Module"})),I0=t=>{var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"},So=(t,e={abiType:"bytes"})=>{if(typeof t!="string"&&!Array.isArray(t)&&!I0(t)||typeof t=="string"&&et(t)&&t.startsWith("-")||typeof t=="string"&&!et(t))return!1;let n;if(typeof t=="string"){if(t.length%2!==0)return!1;n=Ra(t)}else if(Array.isArray(t)){if(t.some(r=>r<0||r>255||!Number.isInteger(r)))return!1;n=new Uint8Array(t)}else n=t;if(e?.abiType){const{baseTypeSize:r}=Ia(e.abiType);return r?n.length===r:!0}return e?.size?n.length===e?.size:!0},j2=t=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(t))return!1;const e=t.slice(2),n=Wc(e.toLowerCase()),r=pi(Cn(Yp(n))).slice(2);for(let s=0;s<40;s+=1)if(parseInt(r[s],16)>7&&e[s].toUpperCase()!==e[s]||parseInt(r[s],16)<=7&&e[s].toLowerCase()!==e[s])return!1;return!0},mr=(t,e=!0)=>{if(typeof t!="string"&&!I0(t))return!1;let n;return I0(t)?n=pi(t):typeof t=="string"&&!et(t)?n=t.toLowerCase().startsWith("0x")?t:`0x${t}`:n=t,/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x|0X)?[0-9a-f]{40}$/.test(n)||/^(0x|0X)?[0-9A-F]{40}$/.test(n)?!0:e?j2(n):!0:!1},va=(t,e)=>{if(e===BigInt(0))return BigInt(1);let n=t;for(let r=1;r<e;r+=1)n*=t;return n},di=(t,e={abiType:"uint"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="string"&&t.length===0)return!1;let n;if(e?.abiType){const{baseTypeSize:s}=Ia(e.abiType);s&&(n=s)}else e.bitSize&&(n=e.bitSize);const r=va(BigInt(2),BigInt(n??256))-BigInt(1);try{const s=typeof t=="string"&&et(t)?BigInt(Kp(t)):BigInt(t);return s>=0&&s<=r}catch{return!1}},gd=(t,e={abiType:"int"})=>{if(!["number","string","bigint"].includes(typeof t)||typeof t=="number"&&t>Number.MAX_SAFE_INTEGER)return!1;let n;if(e?.abiType){const{baseTypeSize:i,baseType:a}=Ia(e.abiType);if(a!=="int")return!1;i&&(n=i)}else e.bitSize&&(n=e.bitSize);const r=va(BigInt(2),BigInt((n??256)-1)),s=BigInt(-1)*va(BigInt(2),BigInt((n??256)-1));try{const i=typeof t=="string"&&et(t)?BigInt(Kp(t)):BigInt(t);return i>=s&&i<=r}catch{return!1}},E2=t=>!!(gd(t)||typeof t=="string"&&/[0-9.]/.test(t)&&t.indexOf(".")===t.lastIndexOf(".")||typeof t=="number"),A2=t=>di(t),sn=t=>Object.values(Vs).includes(t),R0=t=>sn(t)||A2(t),El=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{512}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{512}$/.test(t)||/^(0x)?[0-9A-F]{512}$/.test(t)),Jp=(t,e)=>{if(typeof e=="string"&&!et(e)||!El(t))return!1;const n=typeof e=="string"?Ra(e):e,r=pi(Cn(n)).slice(2);for(let s=0;s<12;s+=4){const i=(parseInt(r.slice(s,s+2),16)<<8)+parseInt(r.slice(s+2,s+4),16)&2047,a=w2(t.charCodeAt(t.length-1-Math.floor(i/4))),c=1<<i%4;if((a&c)!==c)return!1}return!0},Oz=(t,e)=>{if(!El(t)||!mr(e))return!1;const n=jm(e,64);return Jp(t,n)},Mz=(t,e)=>!El(t)||!mr(e)?!1:Jp(t,e),Bz=t=>["number","string","boolean"].includes(typeof t)?typeof t=="boolean"?!0:typeof t=="string"&&!et(t)?t==="1"||t==="0":typeof t=="string"&&et(t)?t==="0x1"||t==="0x0":t===1||t===0:!1,H=t=>t==null,Zc=t=>typeof t=="object"&&!H(t)&&!Array.isArray(t)&&!(t instanceof zw),Em=t=>typeof t!="string"||!/^(0x)?[0-9a-f]{64}$/i.test(t)?!1:!!(/^(0x)?[0-9a-f]{64}$/.test(t)||/^(0x)?[0-9A-F]{64}$/.test(t)),Dz=(t,e)=>!El(t)||!Em(e)?!1:Jp(t,e),Lz=t=>{const e=["fromBlock","toBlock","address","topics","blockHash"];if(H(t)||typeof t!="object"||!Object.keys(t).every(n=>e.includes(n))||!H(t.fromBlock)&&!R0(t.fromBlock)||!H(t.toBlock)&&!R0(t.toBlock))return!1;if(!H(t.address)){if(Array.isArray(t.address)){if(!t.address.every(n=>mr(n)))return!1}else if(!mr(t.address))return!1}return!(!H(t.topics)&&!t.topics.every(n=>H(n)?!0:Array.isArray(n)?n.every(r=>Em(r)):!!Em(n)))},xa={address:t=>mr(t),bloom:t=>El(t),blockNumber:t=>A2(t),blockTag:t=>sn(t),blockNumberOrTag:t=>R0(t),bool:t=>Bz(t),bytes:t=>So(t),filter:t=>Lz(t),hex:t=>et(t),uint:t=>di(t),int:t=>gd(t),number:t=>E2(t),string:t=>Xw(t)};for(let t=8;t<=256;t+=8)xa[`int${t}`]=e=>gd(e,{bitSize:t}),xa[`uint${t}`]=e=>di(e,{bitSize:t});for(let t=1;t<=32;t+=1)xa[`bytes${t}`]=e=>So(e,{size:t});xa.bytes256=xa.bytes;const iu=t=>{if((!t?.type||t?.type==="object")&&t?.properties){const e={};for(const n of Object.keys(t.properties)){const r=iu(t.properties[n]);r&&(e[n]=r)}return Array.isArray(t.required)?os.object(e).partial().required(t.required.reduce((n,r)=>Object.assign(Object.assign({},n),{[r]:!0}),{})):os.object(e).partial()}if(t?.type==="array"&&t?.items){if(Array.isArray(t.items)&&t.items.length>1&&t.maxItems!==void 0&&new Set(t.items.map(r=>r.$id)).size===t.items.length){const r=[];for(const s of t.items){const i=iu(s);i&&r.push(i)}return os.tuple(r)}const e=Array.isArray(t.items)?t.items[0]:t.items;let n=os.array(iu(e));return n=t.minItems!==void 0?n.min(t.minItems):n,n=t.maxItems!==void 0?n.max(t.maxItems):n,n}if(t.oneOf&&Array.isArray(t.oneOf))return os.union(t.oneOf.map(e=>iu(e)));if(t?.format){if(!xa[t.format])throw new o7(t.format);return os.any().refine(xa[t.format],e=>({params:{value:e,format:t.format}}))}return t?.type&&t?.type!=="object"&&typeof os[String(t.type)]=="function"?os[String(t.type)]():os.object({data:os.any()}).partial()};class yc{static factory(){return yc.validatorInstance||(yc.validatorInstance=new yc),yc.validatorInstance}validate(e,n,r){var s,i;const c=iu(e).safeParse(n);if(!c.success){const l=this.convertErrors((i=(s=c.error)===null||s===void 0?void 0:s.issues)!==null&&i!==void 0?i:[]);if(l){if(r?.silent)return l;throw new Jc(l)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(n=>{var r;let s,i,a,c;c=n.path.join("/");const l=String(n.path[n.path.length-1]),u=n.path.join("/");if(n.code===J.too_big)i="maxItems",c=`${u}/maxItems`,a={limit:n.maximum},s=`must NOT have more than ${n.maximum} items`;else if(n.code===J.too_small)i="minItems",c=`${u}/minItems`,a={limit:n.minimum},s=`must NOT have fewer than ${n.minimum} items`;else if(n.code===J.custom){const{value:d,format:f}=(r=n.params)!==null&&r!==void 0?r:{};typeof d>"u"?s=`value at "/${c}" is required`:s=`value "${typeof d=="object"?JSON.stringify(d):d}" at "/${c}" must pass "${f}" validation`,a={value:d}}return{keyword:i??l,instancePath:u?`/${u}`:"",schemaPath:c?`#${c}`:"#",params:a??{value:n.message},message:s??n.message}})}}class Fz{constructor(){this._validator=yc.factory()}validateJSONSchema(e,n,r){return this._validator.validate(e,n,r)}validate(e,n,r={silent:!1}){var s,i;const a=nb(e);if(!(Array.isArray(a.items)&&((s=a.items)===null||s===void 0?void 0:s.length)===0&&n.length===0)){if(Array.isArray(a.items)&&((i=a.items)===null||i===void 0?void 0:i.length)===0&&n.length!==0)throw new Jc([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:n}]);return this._validator.validate(a,n,r)}}}const ve=new Fz;function No(t){var e,n;return t instanceof Uint8Array||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="Buffer"}function Mn(...t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Zp(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n+=1)if(t[n]!==e[n])return!1;return!0}const Xp={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},O0="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",Ss=t=>{if(ve.validate(["bytes"],[t]),No(t))return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="string")return Ra(t);throw new kc(t)},{uint8ArrayToHexString:Uz}=b2,Le=t=>Uz(Ss(t)),ut=t=>typeof t=="string"&&t.slice(0,2).toLowerCase()!=="0x"?Ss(`0x${t}`):Ss(t),qd=t=>(ve.validate(["hex"],[t]),Kp(t)),$z=qd,Qt=(t,e)=>{typeof t!="bigint"&&ve.validate(["int"],[t]);let n=Qp(t);return e&&(!n.startsWith("-")&&n.length%2===1?n="0x0".concat(n.slice(2)):n.length%2===0&&n.startsWith("-")&&(n="-0x0".concat(n.slice(3)))),n},Hz=Qt,zz=t=>qd(t).toString(),Zr=t=>{ve.validate(["string"],[t]);let e=t.replace(/^(?:\u0000)/,"");return e=e.replace(/(?:\u0000)$/,""),Le(new TextEncoder().encode(e))},_2=Zr,Vz=Zr,eg=t=>a2(ut(t)),Gz=t=>typeof t=="string"?eg(t):(ve.validate(["bytes"],[t]),a2(t)),sb=Wc,Wz=eg,S2=t=>{ve.validate(["string"],[t]);let e="";for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n).toString(16);e+=r.length%2!==0?`0${r}`:r}return`0x${e}`},qz=S2,N2=t=>new TextDecoder("ascii").decode(ut(t)),Kz=N2,fi=(t,e)=>{if(typeof t=="string"&&mr(t))return e?"address":`0x${t.toLowerCase().replace(/^0x/i,"")}`;if(typeof t=="boolean")return e?"bool":t?"0x01":"0x00";if(typeof t=="number")return e?t<0?"int256":"uint256":Qt(t);if(typeof t=="bigint")return e?"bigint":Qt(t);if(No(t))return e?"bytes":Le(t);if(typeof t=="object"&&t)return e?"string":Zr(JSON.stringify(t));if(typeof t=="string"){if(t.startsWith("-0x")||t.startsWith("-0X"))return e?"int256":Qt(t);if(et(t))return e?"bytes":t;if(wm(t)&&!gd(t)&&!di(t))return e?"bytes":`0x${t}`;if(wm(t)&&!gd(t)&&di(t))return e?"uint":Qt(t);if(!Number.isFinite(t))return e?"string":Zr(t)}throw new z9(t)},Kn=t=>{if(typeof t=="number")return t>1e20?(console.warn(O0),BigInt(t)):t;if(typeof t=="bigint")return t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER?Number(t):t;if(typeof t=="string"&&et(t))return qd(t);try{return Kn(BigInt(t))}catch{throw new Gw(t)}},Ko=t=>{if(typeof t=="number")return BigInt(t);if(typeof t=="bigint")return t;if(typeof t=="string"&&wm(t))return t.startsWith("-")?-BigInt(t.substring(1)):BigInt(t);throw new Gw(t)},Qz=(t,e)=>{let n;if(typeof e=="string"){if(n=Xp[e],!n)throw new JC(e)}else{if(e<0||!Number.isInteger(e))throw new ZC(e);n=va(BigInt(10),BigInt(e))}const r=String(Kn(t)),s=n.toString().length-1;if(s<=0)return r.toString();const i=r.padStart(s,"0"),a=i.slice(0,-s),c=i.slice(-s).replace(/\.?0+$/,"");return a===""?c?`0.${c}`:"0":c===""?a:`${a}.${c}`.slice(0,a.length+s+1)},Yz=(t,e)=>{ve.validate(["number"],[t]);let n;if(typeof e=="string"){if(n=Xp[e],!n)throw new JC(e)}else{if(e<0||!Number.isInteger(e))throw new ZC(e);n=va(BigInt(10),BigInt(e))}let r=t;typeof r=="number"&&(r<1e-15&&console.warn(O0),r>1e20?(console.warn(O0),r=BigInt(r)):r=r.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));const[s,i]=String(typeof r=="string"&&!et(r)?r:Kn(r)).split(".").concat(""),c=BigInt(`${s}${i}`)*n,l=i.length;return l===0?c.toString():c.toString().slice(0,-l)},Cs=t=>{if(!mr(t,!1))throw new Ww(t);const e=t.toLowerCase().replace(/^0x/i,""),n=pi(Cn(Yp(sb(e))));if(H(n)||n==="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470")return"";let r="0x";const s=n.replace(/^0x/i,"");for(let i=0;i<e.length;i+=1)parseInt(s[i],16)>7?r+=e[i].toUpperCase():r+=e[i];return r},k2=t=>{if(typeof t=="boolean")return t;if(typeof t=="number"&&(t===0||t===1)||typeof t=="bigint"&&(t===BigInt(0)||t===BigInt(1)))return!!t;if(typeof t=="string"&&!et(t)&&(t==="1"||t==="0"||t==="false"||t==="true"))return t==="true"?!0:t==="false"?!1:!!Number(t);if(typeof t=="string"&&et(t)&&(t==="0x1"||t==="0x0"))return!!Kn(t);throw new qw(t)};var C2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},c.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,m,g){var p=n?n+u:u;if(!this._events[p])return!1;var y=this._events[p],x=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var j=y.length,E;for(b=0;b<j;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];y[b].fn.apply(y[b].context,w)}}return!0},c.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var p=0,y=[],x=g.length;p<x;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:a(this,m)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(C2);var Jz=C2.exports;const T2=dl(Jz);class ib extends T2{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}const Zz=et,Xz=wm,eV=j2,tV=mr,nV=El,rV=Jp,sV=Oz,iV=Mz,oV=Em,aV=Dz,cV=(t,e)=>{const n=typeof t=="string"&&sn(t),r=typeof e=="string"&&sn(e);if(t===e||(t==="earliest"||t===0)&&(e==="earliest"||e===0))return 0;if(t==="earliest")return-1;if(e==="earliest")return 1;if(n&&r){const a={[Vs.EARLIEST]:1,[Vs.FINALIZED]:2,[Vs.SAFE]:3,[Vs.LATEST]:4,[Vs.PENDING]:5};return a[t]<a[e]?-1:1}if(n&&!r||!n&&r)throw new G9("Cannot compare blocktag with provided non-blocktag input.");const s=BigInt(t),i=BigInt(e);return s<i?-1:s===i?0:1},Hi=t=>typeof t=="object"&&!H(t)&&Object.keys(t).length!==0&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(e=>e in t),we=H,GE=t=>typeof t=="object"&&!H(t)&&!Array.isArray(t)&&!(t instanceof zw),ko=(t,...e)=>{if(!GE(t))return t;const n=Object.assign({},t);for(const r of e)for(const s in r)GE(r[s])?(n[s]||(n[s]={}),n[s]=ko(n[s],r[s])):!H(r[s])&&Object.hasOwnProperty.call(r,s)&&(Array.isArray(r[s])||r[s]instanceof zw?n[s]=r[s].slice(0):n[s]=r[s]);return n},Xc=(t,e,n="0")=>typeof t=="string"?et(t)?jm(t,e,n):t.padStart(e,n):(ve.validate(["int"],[t]),jm(t,e,n)),P2=(t,e,n="0")=>{if(typeof t=="string"&&!et(t))return t.padEnd(e,n);const r=typeof t=="string"&&et(t)?t:Qt(t),s=r.startsWith("-")?3:2;return ve.validate([r.startsWith("-")?"int":"uint"],[t]),r.padEnd(e+s,n)},I2=P2,yd=Xc,R2=(t,e=64)=>{ve.validate(["int"],[t]);const n=Kn(t);if(n>=0)return Xc(fi(n),e);const r=va(BigInt(2),BigInt(e*4));if(-n>=r)throw new XC(`value: ${t}, nibbleWidth: ${e}`);const i=BigInt(n)+r;return Xc(Qt(i),e)},lV=(t,e=64)=>{ve.validate(["int"],[t]);const n=Kn(t);if(n<0)return n;const r=Math.ceil(Math.log(Number(n))/Math.log(2));if(r>e*4)throw new XC(`value: "${t}", nibbleWidth: "${e}"`);if(e*4!==r)return n;const s=va(BigInt(2),BigInt(e)*BigInt(4));return Kn(BigInt(n)-s)},{parseBaseType:uV}=b2,zs=t=>typeof t=="object"&&!H(t)&&"number"in t&&"bytes"in t,dV=(t,e,n=[])=>{let r=Object.assign({},t),s;for(const i of e){if(r.oneOf&&s){const a=s,c=n.find(([l])=>l===a);c&&c[0]===s&&(r=r.oneOf[c[1]])}if(!r.properties&&!r.items)return;r.properties?r=r.properties[i]:r.items&&r.items.properties?r=r.items.properties[i]:r.items&&Zc(r.items)?r=r.items:r.items&&Array.isArray(r.items)&&(r=r.items[parseInt(i,10)]),r&&i&&(s=i)}return r},vd=(t,e,n)=>{try{const{baseType:r,baseTypeSize:s}=uV(e);if(r==="int"||r==="uint")switch(n.number){case Tr.NUMBER:return Number(Ko(t));case Tr.HEX:return Qt(Ko(t));case Tr.STR:return Ko(t).toString();case Tr.BIGINT:return Ko(t);default:throw new A0(`Invalid format: ${String(n.number)}`)}if(r==="bytes"){let i;switch(s?typeof t=="string"?i=Xc(t,s*2):No(t)&&(i=Mn(new Uint8Array(s-t.length),t)):i=t,n.bytes){case li.HEX:return Le(Ss(i));case li.UINT8ARRAY:return Ss(i);default:throw new A0(`Invalid format: ${String(n.bytes)}`)}}if(r==="string")return String(t)}catch{return t}return t},WE=({value:t,schemaProp:e,schema:n,object:r,key:s,dataPath:i,format:a,oneOfPath:c=[]})=>{var l,u;if(Array.isArray(t)){let d=e;if(e?.oneOf!==void 0&&e.oneOf.forEach((f,h)=>{var m,g;!Array.isArray(e?.items)&&(typeof t[0]=="object"&&((m=f?.items)===null||m===void 0?void 0:m.type)==="object"||typeof t[0]=="string"&&((g=f?.items)===null||g===void 0?void 0:g.type)!=="object")&&(d=f,c.push([s,h]))}),H(d?.items))return delete r[s],i.pop(),!0;if(Zc(d.items)&&!H(d.items.format)){for(let f=0;f<t.length;f+=1)r[s][f]=vd(t[f],(l=d?.items)===null||l===void 0?void 0:l.format,a);return i.pop(),!0}if(!Array.isArray(d?.items)&&((u=d?.items)===null||u===void 0?void 0:u.type)==="object"){for(const f of t)tg(f,n,i,a,c);return i.pop(),!0}if(Array.isArray(d?.items)){for(let f=0;f<t.length;f+=1)r[s][f]=vd(t[f],d.items[f].format,a);return i.pop(),!0}}return!1},tg=(t,e,n,r,s=[])=>{var i;if(!Zc(t)&&!Array.isArray(t))return vd(t,e?.format,r);const a=t;if(Array.isArray(a)&&e?.type==="array"&&((i=e?.items)===null||i===void 0?void 0:i.type)==="object")WE({value:a,schemaProp:e,schema:e,object:a,key:"",dataPath:n,format:r,oneOfPath:s});else for(const[c,l]of Object.entries(a)){n.push(c);let u=dV(e,n,s);if(H(u)){delete a[c],n.pop();continue}if(Zc(l)){tg(l,e,n,r,s),n.pop();continue}if(!WE({value:l,schemaProp:u,schema:e,object:a,key:c,dataPath:n,format:r,oneOfPath:s})){if(u?.format===void 0&&u?.oneOf!==void 0){for(const[d,f]of u.oneOf.entries())if(f?.format!==void 0){u=f;break}}a[c]=vd(l,u.format,r),n.pop()}}return a},Y=(t,e,n=Pn)=>{let r;Zc(e)?r=ko({},e):Array.isArray(e)?r=[...e]:r=e;const s=Zc(t)?t:nb(t);if(!s.properties&&!s.items&&!s.format)throw new A0("Invalid json schema for formatting");return tg(r,s,[],n)},O2="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",el=t=>{let e;return typeof t=="bigint"||typeof t=="number"?e=Wc(t.toString()):Array.isArray(t)?e=new Uint8Array(t):typeof t=="string"&&!et(t)?e=Wc(t):e=Ss(t),Le(Cn(Yp(e)))},Kd=t=>{let e;typeof t=="string"?t.startsWith("0x")&&et(t)?e=ut(t):e=Wc(t):e=t;const n=el(e);return n===O2?void 0:n},pr=t=>{const e=Kd(t);return H(e)?O2:e},fV=t=>{if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");let e,n;if(typeof t=="object"&&("t"in t||"type"in t)&&("v"in t||"value"in t))e="t"in t?t.t:t.type,n="v"in t?t.v:t.value,e=e.toLowerCase()==="bigint"?"int":e;else{if(typeof t=="bigint")return["int",t];e=fi(t,!0),n=fi(t),!e.startsWith("int")&&!e.startsWith("uint")&&(e="bytes")}return(e.startsWith("int")||e.startsWith("uint"))&&typeof n=="string"&&!/^(-)?0x/i.test(n)&&(n=Ko(n)),[e,n]},hV=t=>t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256'${t.slice(4)}`:t==="uint"?"uint256":t,_y=(t,e)=>{const n=/^(\d+).*$/.exec(t.slice(e));return n?parseInt(n[1],10):0},qE=t=>t.toString(2).length,KE=(t,e)=>{const n=e.toString();if(t==="string"){if(typeof e=="string")return Zr(e);throw new H9(e)}if(t==="bool"||t==="boolean"){if(typeof e=="boolean")return e?"01":"00";throw new qw(e)}if(t==="address"){if(!mr(n))throw new Ww(n);return n}const r=hV(t);if(t.startsWith("uint")){const s=_y(r,4);if(s%8||s<8||s>256)throw new RE(n);const i=Kn(n);if(qE(i)>s)throw new OE(n);if(i<BigInt(0))throw new V9(n);return s?yd(i.toString(16),s/8*2):i.toString(16)}if(t.startsWith("int")){const s=_y(r,3);if(s%8||s<8||s>256)throw new RE(t);const i=Kn(n);if(qE(i)>s)throw new OE(n);return i<BigInt(0)?R2(i.toString(),s/8*2):s?yd(i.toString(16),s/4):i.toString(16)}if(r==="bytes"){if(n.replace(/^0x/i,"").length%2!==0)throw new kc(n);return n}if(t.startsWith("bytes")){if(n.replace(/^0x/i,"").length%2!==0)throw new kc(n);const s=_y(t,5);if(!s||s<1||s>64||s<n.replace(/^0x/i,"").length/2)throw new kc(n);return I2(n,s*2)}return""},M2=t=>{const[e,n]=fV(t);return Array.isArray(n)?n.map(i=>KE(e,i).replace("0x","")).join(""):KE(e,n).replace("0x","")},ob=(...t)=>`0x${t.map(M2).join("").toLowerCase()}`,mV=(...t)=>Kd(ob(...t)),pV=(...t)=>pr(ob(...t)),gV=t=>Kd(`0x${(typeof t=="number"?t.toString():t).padStart(64,"0")}`);function yV(t){return y7(t)}const xd=t=>yV(t),vV=t=>Le(xd(t));var ng=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function B2(t){return(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function D2(t,e,n){return ng(this,void 0,void 0,function*(){let r;const s=yield Promise.race([t instanceof Promise?t:t(),new Promise((i,a)=>{r=setTimeout(()=>n?a(n):i(void 0),e)})]);if(r&&clearTimeout(r),s instanceof Error)throw s;return s})}function ab(t,e){let n;return[new Promise((s,i)=>{n=setInterval(function a(){return ng(this,void 0,void 0,function*(){try{const c=yield D2(t,e);H(c)||(clearInterval(n),s(c))}catch(c){clearInterval(n),i(c)}}),a}(),e)}),n]}function xV(t,e){return ng(this,void 0,void 0,function*(){return ab(t,e)[0]})}function cb(t,e){let n;const r=new Promise((s,i)=>{n=setTimeout(()=>{i(e)},t)});return[n,r]}function L2(t,e){let n;const r=new Promise((s,i)=>{n=setInterval(()=>{ng(this,void 0,void 0,function*(){const a=yield t();a&&(clearInterval(n),i(a))})},e)});return[n,r]}const lb=()=>{const t=xd(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=Le(t);return[e.substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")},ub=t=>{const e=t.error.code;return Rn.has(e)||e>=-32099&&e<=-32e3},eo=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"result"in t&&H(t.error)&&(typeof t.id=="number"||typeof t.id=="string"),to=t=>!Array.isArray(t)&&t.jsonrpc==="2.0"&&!!t&&H(t.result)&&"error"in t&&(typeof t.id=="number"||typeof t.id=="string"),rg=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&!H(t.params)&&!H(t.method),F2=t=>!Array.isArray(t)&&!!t&&t.jsonrpc==="2.0"&&"id"in t&&"result"in t,Am=t=>eo(t)||to(t),db=t=>Array.isArray(t)?t.every(Am):Am(t),wd=t=>Array.isArray(t)&&t.length>0&&db(t);let ch;const U2=t=>{ch=t},wa=t=>{var e,n,r,s;return typeof ch<"u"&&(ch+=1),{jsonrpc:(e=t.jsonrpc)!==null&&e!==void 0?e:"2.0",id:(r=(n=t.id)!==null&&n!==void 0?n:ch)!==null&&r!==void 0?r:lb(),method:t.method,params:(s=t.params)!==null&&s!==void 0?s:void 0}},fb=t=>t.map(e=>wa(e)),us=t=>Array.isArray(t)&&t.length>0,wV=Object.freeze(Object.defineProperty({__proto__:null,isBatchRequest:us,isBatchResponse:wd,isResponseRpcError:ub,isResponseWithError:to,isResponseWithNotification:rg,isResponseWithResult:eo,isSubscriptionResult:F2,isValidResponse:db,setRequestIdStart:U2,toBatchPayload:fb,toPayload:wa,validateResponse:Am},Symbol.toStringTag,{value:"Module"}));var Sy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},$2;class _m{constructor({timeout:e,eagerStart:n,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[$2]="Promise",this._state="pending",this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i}),this._timeoutMessage=r,this._timeoutInterval=e,n&&this.startTimer()}get state(){return this._state}then(e,n){return Sy(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Sy(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Sy(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){this._state==="pending"&&this._timeoutId&&this.reject(new zC(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}$2=Symbol.toStringTag;class H2{constructor(e,n){this.eventEmitter=e,this.autoReconnect=n,this.chunkTimeout=1e3*15}clearQueues(){typeof this._clearQueues=="function"&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){const n=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(s=>{let i=s;this.lastChunk&&(i=this.lastChunk+i);let a;try{a=JSON.parse(i)}catch{this.lastChunk=i,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new Wp({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,a&&n.push(a)}),n}}var QE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class hb extends Vd{constructor(){super(...arguments),this._eventEmitter=new T2,this._chainId="",this._accounts=[]}_getChainId(){return QE(this,void 0,void 0,function*(){var e;const n=yield this.request(wa({method:"eth_chainId",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:""})}_getAccounts(){return QE(this,void 0,void 0,function*(){var e;const n=yield this.request(wa({method:"eth_accounts",params:[]}));return(e=n?.result)!==null&&e!==void 0?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(n=>e.includes(n))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,n){this._eventEmitter.emit("disconnect",new q9(e,n))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var Ny=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const bV={autoReconnect:!0,delay:5e3,maxAttempts:5},jV=1e3;class z2 extends hb{get SocketConnection(){return this._socketConnection}constructor(e,n,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new _0(e);this._socketPath=e,this._socketOptions=n,this._reconnectOptions=Object.assign(Object.assign({},bV),r??{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new H2(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else throw this._connectionStatus="disconnected",e&&e.message?new Gd(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`):new _0(this._socketPath)}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,n){this._eventEmitter.on(e,n)}once(e,n){this._eventEmitter.once(e,n)}removeListener(e,n){this._eventEmitter.removeListener(e,n)}_onDisconnect(e,n){this._connectionStatus="disconnected",super._onDisconnect(e,n)}disconnect(e,n){const r=e??jV;this._removeSocketListeners(),this.getStatus()!=="disconnected"&&this._closeSocketConnection(r,n),this._onDisconnect(r,n)}safeDisconnect(e,n){return Ny(this,arguments,void 0,function*(r,s,i=!1,a=1e3){let c=0;yield Ny(this,void 0,void 0,function*(){return new Promise(u=>{const d=setInterval(()=>{i&&c>=5&&this.clearQueues(),this.getPendingRequestQueueSize()===0&&this.getSentRequestsQueueSize()===0&&(clearInterval(d),u(!0)),c+=1},a)})}),this.disconnect(r,s)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,n)=>{e.deferredPromise.reject(new c9),this._sentRequestsQueue.delete(n)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new a9(this._reconnectOptions.maxAttempts))))}request(e){return Ny(this,void 0,void 0,function*(){if(we(this._socketConnection))throw new Error("Connection is undefined");this.getStatus()==="disconnected"&&this.connect();const n=us(e)?e[0].id:e.id;if(!n)throw new p9("Request Id not defined");if(this._sentRequestsQueue.has(n))throw new l9(n);const r=new _m;r.catch(i=>{this._eventEmitter.emit("error",i)});const s={payload:e,deferredPromise:r};if(this.getStatus()==="connecting")return this._pendingRequestsQueue.set(n,s),s.deferredPromise;this._sentRequestsQueue.set(n,s);try{this._sendToSocket(s.payload)}catch(i){this._sentRequestsQueue.delete(n),this._eventEmitter.emit("error",i)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(const[e,n]of this._pendingRequestsQueue.entries())try{this._sendToSocket(n.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,n)}catch(r){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",r)}}_onMessage(e){const n=this._parseResponses(e);if(!(we(n)||n.length===0))for(const r of n){if(rg(r)&&r.method.endsWith("_subscription")){this._eventEmitter.emit("message",r);return}const s=wd(r)?r[0].id:r.id,i=this._sentRequestsQueue.get(s);if(!i)return;(wd(r)||eo(r)||to(r))&&(this._eventEmitter.emit("message",r),i.deferredPromise.resolve(r)),this._sentRequestsQueue.delete(s)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new E0(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((n,r)=>{n.deferredPromise.reject(new E0(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}const V2=Object.freeze(Object.defineProperty({__proto__:null,ChunkResponseParser:H2,Eip1193Provider:hb,EventEmitter:ib,SocketProvider:z2,Web3DeferredPromise:_m,asciiToHex:S2,bytesToHex:Le,bytesToUint8Array:Ss,checkAddressCheckSum:eV,compareBlockNumbers:cV,convert:tg,convertScalarValue:vd,encodePacked:ob,ethUnitMap:Xp,format:Y,fromAscii:qz,fromDecimal:Hz,fromTwosComplement:lV,fromUtf8:_2,fromWei:Qz,getStorageSlotNumForLongString:gV,hexToAscii:N2,hexToBytes:ut,hexToNumber:qd,hexToNumberString:zz,hexToString:Wz,hexToUtf8:eg,isAddress:tV,isBatchRequest:us,isBatchResponse:wd,isBloom:nV,isContractAddressInBloom:iV,isContractInitOptions:Hi,isDataFormat:zs,isHex:Xz,isHexStrict:Zz,isInBloom:rV,isNullish:we,isPromise:B2,isResponseRpcError:ub,isResponseWithError:to,isResponseWithNotification:rg,isResponseWithResult:eo,isSubscriptionResult:F2,isTopic:oV,isTopicInBloom:aV,isUint8Array:No,isUserEthereumAddressInBloom:sV,isValidResponse:db,jsonRpc:wV,keccak256:el,keccak256Wrapper:el,leftPad:yd,mergeDeep:ko,numberToHex:Qt,padLeft:Xc,padRight:P2,pollTillDefined:xV,pollTillDefinedAndReturnIntervalId:ab,processSolidityEncodePackedArgs:M2,randomBytes:xd,randomHex:vV,rejectIfConditionAtInterval:L2,rejectIfTimeout:cb,rightPad:I2,setRequestIdStart:U2,sha3:Kd,sha3Raw:pr,soliditySha3:mV,soliditySha3Raw:pV,stringToHex:Vz,toAscii:Kz,toBatchPayload:fb,toBigInt:Ko,toBool:k2,toChecksumAddress:Cs,toDecimal:$z,toHex:fi,toNumber:Kn,toPayload:wa,toTwosComplement:R2,toUtf8:Gz,toWei:Yz,uint8ArrayConcat:Mn,uint8ArrayEquals:Zp,utf8ToBytes:sb,utf8ToHex:Zr,uuidV4:lb,validateResponse:Am,waitWithTimeout:D2},Symbol.toStringTag,{value:"Module"}));class sg{constructor(){this._emitter=new ib}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,n){this._emitter.emit(e,n)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}var ba;(function(t){t.CONFIG_CHANGE="CONFIG_CHANGE"})(ba||(ba={}));class EV extends sg{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:750*1e3,transactionReceiptPollingInterval:void 0,transactionSendTimeout:750*1e3,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:fi(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Pn,ignoreGasPricing:!1},this.setConfig(e??{})}setConfig(e){const n=Object.keys(e);for(const r of n)this._triggerConfigChange(r,e[r]),!we(e[r])&&typeof e[r]=="number"&&r==="maxListenersWarningThreshold"&&this.setMaxListenerWarningThreshold(Number(e[r]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!we(this.config.defaultCommon)&&!we(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new DE(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!we(this.config.defaultCommon)&&!we(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new BE(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!we(this.config.defaultHardfork)&&!we(e)&&!we(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new BE(this.config.defaultHardfork,e.hardfork);if(!we(this.config.defaultChain)&&!we(e)&&!we(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new DE(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,n){this.emit(ba.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:n})}}var M0={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof qt<"u"&&qt,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(a){var c=typeof i<"u"&&i||typeof self<"u"&&self||typeof qt<"u"&&qt||{},l={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function u(A){return A&&DataView.prototype.isPrototypeOf(A)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(A){return A&&d.indexOf(Object.prototype.toString.call(A))>-1};function h(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function m(A){return typeof A!="string"&&(A=String(A)),A}function g(A){var k={next:function(){var D=A.shift();return{done:D===void 0,value:D}}};return l.iterable&&(k[Symbol.iterator]=function(){return k}),k}function p(A){this.map={},A instanceof p?A.forEach(function(k,D){this.append(D,k)},this):Array.isArray(A)?A.forEach(function(k){if(k.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+k.length);this.append(k[0],k[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(k){this.append(k,A[k])},this)}p.prototype.append=function(A,k){A=h(A),k=m(k);var D=this.map[A];this.map[A]=D?D+", "+k:k},p.prototype.delete=function(A){delete this.map[h(A)]},p.prototype.get=function(A){return A=h(A),this.has(A)?this.map[A]:null},p.prototype.has=function(A){return this.map.hasOwnProperty(h(A))},p.prototype.set=function(A,k){this.map[h(A)]=m(k)},p.prototype.forEach=function(A,k){for(var D in this.map)this.map.hasOwnProperty(D)&&A.call(k,this.map[D],D,this)},p.prototype.keys=function(){var A=[];return this.forEach(function(k,D){A.push(D)}),g(A)},p.prototype.values=function(){var A=[];return this.forEach(function(k){A.push(k)}),g(A)},p.prototype.entries=function(){var A=[];return this.forEach(function(k,D){A.push([D,k])}),g(A)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function y(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function x(A){return new Promise(function(k,D){A.onload=function(){k(A.result)},A.onerror=function(){D(A.error)}})}function w(A){var k=new FileReader,D=x(k);return k.readAsArrayBuffer(A),D}function b(A){var k=new FileReader,D=x(k),C=/charset=([A-Za-z0-9_-]+)/.exec(A.type),B=C?C[1]:"utf-8";return k.readAsText(A,B),D}function j(A){for(var k=new Uint8Array(A),D=new Array(k.length),C=0;C<k.length;C++)D[C]=String.fromCharCode(k[C]);return D.join("")}function E(A){if(A.slice)return A.slice(0);var k=new Uint8Array(A.byteLength);return k.set(new Uint8Array(A)),k.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:l.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:l.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():l.arrayBuffer&&l.blob&&u(A)?(this._bodyArrayBuffer=E(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||f(A))?this._bodyArrayBuffer=E(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=y(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=y(this);if(A)return A;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(A){var k=A.toUpperCase();return S.indexOf(k)>-1?k:A}function O(A,k){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');k=k||{};var D=k.body;if(A instanceof O){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,k.headers||(this.headers=new p(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!D&&A._bodyInit!=null&&(D=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=k.credentials||this.credentials||"same-origin",(k.headers||!this.headers)&&(this.headers=new p(k.headers)),this.method=_(k.method||this.method||"GET"),this.mode=k.mode||this.mode||null,this.signal=k.signal||this.signal||function(){if("AbortController"in c){var V=new AbortController;return V.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(k.cache==="no-store"||k.cache==="no-cache")){var C=/([?&])_=[^&]*/;if(C.test(this.url))this.url=this.url.replace(C,"$1_="+new Date().getTime());else{var B=/\?/;this.url+=(B.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function T(A){var k=new FormData;return A.trim().split("&").forEach(function(D){if(D){var C=D.split("="),B=C.shift().replace(/\+/g," "),V=C.join("=").replace(/\+/g," ");k.append(decodeURIComponent(B),decodeURIComponent(V))}}),k}function I(A){var k=new p,D=A.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(C){return C.indexOf(`
`)===0?C.substr(1,C.length):C}).forEach(function(C){var B=C.split(":"),V=B.shift().trim();if(V){var q=B.join(":").trim();try{k.append(V,q)}catch(ee){console.warn("Response "+ee.message)}}}),k}N.call(O.prototype);function R(A,k){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(k||(k={}),this.type="default",this.status=k.status===void 0?200:k.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=k.statusText===void 0?"":""+k.statusText,this.headers=new p(k.headers),this.url=k.url||"",this._initBody(A)}N.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},R.error=function(){var A=new R(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var z=[301,302,303,307,308];R.redirect=function(A,k){if(z.indexOf(k)===-1)throw new RangeError("Invalid status code");return new R(null,{status:k,headers:{location:A}})},a.DOMException=c.DOMException;try{new a.DOMException}catch{a.DOMException=function(k,D){this.message=k,this.name=D;var C=Error(k);this.stack=C.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function $(A,k){return new Promise(function(D,C){var B=new O(A,k);if(B.signal&&B.signal.aborted)return C(new a.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function q(){V.abort()}V.onload=function(){var de={statusText:V.statusText,headers:I(V.getAllResponseHeaders()||"")};B.url.indexOf("file://")===0&&(V.status<200||V.status>599)?de.status=200:de.status=V.status,de.url="responseURL"in V?V.responseURL:de.headers.get("X-Request-URL");var Fe="response"in V?V.response:V.responseText;setTimeout(function(){D(new R(Fe,de))},0)},V.onerror=function(){setTimeout(function(){C(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){C(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){C(new a.DOMException("Aborted","AbortError"))},0)};function ee(de){try{return de===""&&c.location.href?c.location.href:de}catch{return de}}if(V.open(B.method,ee(B.url),!0),B.credentials==="include"?V.withCredentials=!0:B.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(l.blob?V.responseType="blob":l.arrayBuffer&&(V.responseType="arraybuffer")),k&&typeof k.headers=="object"&&!(k.headers instanceof p||c.Headers&&k.headers instanceof c.Headers)){var he=[];Object.getOwnPropertyNames(k.headers).forEach(function(de){he.push(h(de)),V.setRequestHeader(de,m(k.headers[de]))}),B.headers.forEach(function(de,Fe){he.indexOf(Fe)===-1&&V.setRequestHeader(Fe,de)})}else B.headers.forEach(function(de,Fe){V.setRequestHeader(Fe,de)});B.signal&&(B.signal.addEventListener("abort",q),V.onreadystatechange=function(){V.readyState===4&&B.signal.removeEventListener("abort",q)}),V.send(typeof B._bodyInit>"u"?null:B._bodyInit)})}return $.polyfill=!0,c.fetch||(c.fetch=$,c.Headers=p,c.Request=O,c.Response=R),a.Headers=p,a.Request=O,a.Response=R,a.fetch=$,a})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(M0,M0.exports);var AV=M0.exports;const _V=dl(AV);var SV=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class ig extends Vd{constructor(e,n){if(super(),!ig.validateClientUrl(e))throw new _0(e);this.clientUrl=e,this.httpProviderOptions=n}static validateClientUrl(e){return typeof e=="string"?/^http(s)?:\/\//i.test(e):!1}getStatus(){throw new Ps}supportsSubscriptions(){return!1}request(e,n){var r;return SV(this,void 0,void 0,function*(){const s=Object.assign(Object.assign({},(r=this.httpProviderOptions)===null||r===void 0?void 0:r.providerOptions),n),i=yield _V(this.clientUrl,Object.assign(Object.assign({},s),{method:"POST",headers:Object.assign(Object.assign({},s.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new hs(yield i.json(),void 0,void 0,i.status);return yield i.json()})}on(){throw new Ps}removeListener(){throw new Ps}once(){throw new Ps}removeAllListeners(){throw new Ps}connect(){throw new Ps}disconnect(){throw new Ps}reset(){throw new Ps}reconnect(){throw new Ps}}var ec=null;typeof WebSocket<"u"?ec=WebSocket:typeof MozWebSocket<"u"?ec=MozWebSocket:typeof global<"u"?ec=global.WebSocket||global.MozWebSocket:typeof window<"u"?ec=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ec=self.WebSocket||self.MozWebSocket);const NV=ec;class G2 extends z2{constructor(e,n,r){super(e,n,r)}_validateProviderPath(e){return typeof e=="string"?/^ws(s)?:\/\//i.test(e):!1}getStatus(){if(this._socketConnection&&!we(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected";default:return"disconnected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new NV(this._socketPath,void 0,this._socketOptions&&Object.keys(this._socketOptions).length===0?void 0:this._socketOptions)}_closeSocketConnection(e,n){var r;(r=this._socketConnection)===null||r===void 0||r.close(e,n)}_sendToSocket(e){var n;if(this.getStatus()==="disconnected")throw new E0;(n=this._socketConnection)===null||n===void 0||n.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,n,r,s;(e=this._socketConnection)===null||e===void 0||e.addEventListener("open",this._onOpenHandler),(n=this._socketConnection)===null||n===void 0||n.addEventListener("message",this._onMessageHandler),(r=this._socketConnection)===null||r===void 0||r.addEventListener("close",i=>this._onCloseHandler(i)),(s=this._socketConnection)===null||s===void 0||s.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,n,r;(e=this._socketConnection)===null||e===void 0||e.removeEventListener("message",this._onMessageHandler),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("open",this._onOpenHandler),(r=this._socketConnection)===null||r===void 0||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var n;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),(n=this._socketConnection)===null||n===void 0||n.removeEventListener("error",this._onErrorHandler)}}const W2=t=>Vd.isWeb3Provider(t),q2=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="Function",K2=t=>typeof t!="string"&&"request"in t&&t.request.constructor.name==="AsyncFunction",Q2=t=>typeof t!="string"&&"send"in t,Y2=t=>typeof t!="string"&&"sendAsync"in t,Sm=t=>t&&(W2(t)||K2(t)||q2(t)||Y2(t)||Q2(t)),kV=t=>t&&"supportsSubscriptions"in t?t.supportsSubscriptions():!!(t&&typeof t!="string"&&"on"in t);var ky=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},tl;(function(t){t.PROVIDER_CHANGED="PROVIDER_CHANGED",t.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE"})(tl||(tl={}));const YE={HttpProvider:ig,WebsocketProvider:G2};class sa extends sg{constructor(e,n,r){super(),we(e)||this.setProvider(e),this.useRpcCallSpecification=n,we(r)||(this.middleware=r)}static get providers(){return YE}get provider(){return this._provider}get providers(){return YE}setProvider(e){let n;if(e&&typeof e=="string"&&this.providers)if(/^http(s)?:\/\//i.test(e))n=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))n=new this.providers.WebsocketProvider(e);else throw new sh(`Can't autodetect provider for "${e}"`);else we(e)?n=void 0:n=e;return this.emit(tl.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=n,this.emit(tl.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return ky(this,void 0,void 0,function*(){const n=Object.assign({},e);let r=yield this._sendRequest(n);if(we(this.middleware)||(r=yield this.middleware.processResponse(r)),eo(r))return r.result;throw new hs(r)})}sendBatch(e){return ky(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return ky(this,void 0,void 0,function*(){const{provider:n}=this;if(we(n))throw new sh("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=us(e)?fb(e):wa(e);if(we(this.middleware)||(r=yield this.middleware.processRequest(r)),W2(n)){let s;try{s=yield n.request(r)}catch(i){s=i}return this._processJsonRpcResponse(r,s,{legacy:!1,error:!1})}if(K2(n))return n.request(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));if(q2(n))return new Promise((s,i)=>{const a=u=>{i(this._processJsonRpcResponse(r,u,{legacy:!0,error:!0}))},c=u=>s(this._processJsonRpcResponse(r,u,{legacy:!0,error:!1})),l=n.request(r,(u,d)=>u?a(u):c(d));B2(l)&&l.then(c).catch(d=>{try{const f=this._processJsonRpcResponse(r,d,{legacy:!0,error:!0});i(f)}catch(f){i(f)}})});if(Q2(n))return new Promise((s,i)=>{n.send(r,(a,c)=>{if(a)return i(this._processJsonRpcResponse(r,a,{legacy:!0,error:!0}));if(we(c))throw new hs({},'Got a "nullish" response from provider.');return s(this._processJsonRpcResponse(r,c,{legacy:!0,error:!1}))})});if(Y2(n))return n.sendAsync(r).then(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!1})).catch(s=>this._processJsonRpcResponse(r,s,{legacy:!0,error:!0}));throw new sh("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,n,{legacy:r,error:s}){if(we(n))return this._buildResponse(e,null,s);if(to(n)){if(this.useRpcCallSpecification&&ub(n)){const i=n;if(Rn.get(i.error.code)){const a=Rn.get(i.error.code).error;throw new a(i)}else throw new xr(i)}else if(!sa._isReverted(n))throw new Wp(n,e)}if(eo(n))return n;if(n instanceof Error)throw sa._isReverted(n),n;if(!r&&us(e)&&wd(n)||r&&!s&&us(e))return n;if(r&&s&&us(e))throw n;if(r&&!to(n)&&!eo(n))return this._buildResponse(e,n,s);throw us(e)&&!Array.isArray(n)?new hs(n,"Got normal response for a batch request."):!us(e)&&Array.isArray(n)?new hs(n,"Got batch response for a normal request."):new hs(n,"Invalid response")}static _isReverted(e){let n;if(to(e)?n=e.error:e instanceof Error&&(n=e),n?.message.includes("revert"))throw new na(n);return!1}_buildResponse(e,n,r){const s={jsonrpc:"2.0",id:us(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},s),{error:n}):Object.assign(Object.assign({},s),{result:n})}}var zl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class Nm{constructor(e,n,r=!1){this.requestManager=e,this.registeredSubscriptions=n,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(tl.BEFORE_PROVIDER_CHANGE,()=>zl(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(tl.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;!this.requestManager.provider||typeof e?.supportsSubscriptions=="function"&&!e?.supportsSubscriptions()||typeof this.requestManager.provider.on=="function"&&(typeof this.requestManager.provider.request=="function"?this.requestManager.provider.on("message",n=>this.messageListener(n)):e.on("data",n=>this.messageListener(n)))}messageListener(e){var n,r,s;if(!e)throw new $s("Should not call messageListener with no data. Type was");const i=((n=e.params)===null||n===void 0?void 0:n.subscription)||((r=e.data)===null||r===void 0?void 0:r.subscription)||((s=e.id)===null||s===void 0?void 0:s.toString(16));if(i){const a=this._subscriptions.get(i);a?.processSubscriptionData(e)}}subscribe(e,n){return zl(this,arguments,void 0,function*(r,s,i=Pn){const a=this.registeredSubscriptions[r];if(!a)throw new $s("Invalid subscription type");const c=new a(s??void 0,{subscriptionManager:this,returnFormat:i});return yield this.addSubscription(c),c})}get subscriptions(){return this._subscriptions}addSubscription(e){return zl(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new sh("Provider not available");if(!this.supportsSubscriptions())throw new $s("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new $s(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),we(e.id))throw new $s("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return zl(this,void 0,void 0,function*(){const{id:n}=e;if(we(n))throw new $s("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(n)&&!this.tolerateUnlinkedSubscription)throw new $s(`Subscription with id "${n.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(n),n})}unsubscribe(e){return zl(this,void 0,void 0,function*(){const n=[];for(const[r,s]of this.subscriptions.entries())(!e||typeof e=="function"&&e({id:r,sub:s}))&&n.push(this.removeSubscription(s));return Promise.all(n)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return we(this.requestManager.provider)?!1:kV(this.requestManager.provider)}}var Vl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class Qd extends sg{constructor(e,n){var r;super(),this.args=e;const{requestManager:s}=n,{subscriptionManager:i}=n;s?this._subscriptionManager=new Nm(s,{},!0):this._subscriptionManager=i,this._returnFormat=(r=n?.returnFormat)!==null&&r!==void 0?r:Pn}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return Vl(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var n,r;e?.data?this._processSubscriptionResult((r=(n=e?.data)===null||n===void 0?void 0:n.result)!==null&&r!==void 0?r:e?.data):e&&rg(e)&&this._processSubscriptionResult(e?.params.result)}sendSubscriptionRequest(){return Vl(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return Vl(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return Vl(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return Vl(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}var za=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class km extends p${constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;const n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch(n){return n&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&!H(e)&&e.length!==0?e:void 0}}create(e){for(let n=0;n<e;n+=1)this.add(this._accountProvider.create());return this}add(e){var n;if(typeof e=="string")return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=(n=this._addressMap.get(e.address.toLowerCase()))!==null&&n!==void 0?n:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return H(n)?void 0:this[n]}return this[e]}remove(e){if(typeof e=="string"){const n=this._addressMap.get(e.toLowerCase());return H(n)?!1:(this._addressMap.delete(e.toLowerCase()),this.splice(n,1),!0)}return this[e]?(this.splice(e,1),!0):!1}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,n){return za(this,void 0,void 0,function*(){return Promise.all(this.map(r=>za(this,void 0,void 0,function*(){return r.encrypt(e,n)})))})}decrypt(e,n,r){return za(this,void 0,void 0,function*(){const s=yield Promise.all(e.map(i=>za(this,void 0,void 0,function*(){return this._accountProvider.decrypt(i,n,r)})));for(const i of s)this.add(i);return this})}save(e,n){return za(this,void 0,void 0,function*(){const r=km.getStorage();if(!r)throw new Error("Local storage not available.");return r.setItem(n??this._defaultKeyName,JSON.stringify(yield this.encrypt(e))),!0})}load(e,n){return za(this,void 0,void 0,function*(){const r=km.getStorage();if(!r)throw new Error("Local storage not available.");const s=r.getItem(n??this._defaultKeyName);return s&&(yield this.decrypt(JSON.parse(s)||[],e)),this})}}const ys={web:ih};function J2(t,e,n){if(!n.startsWith("aes-"))throw new Error(`AES submodule doesn't support mode ${n}`);if(e.length!==16)throw new Error("AES: wrong IV length");if(n.startsWith("aes-128")&&t.length!==16||n.startsWith("aes-256")&&t.length!==32)throw new Error("AES: wrong key length")}async function Z2(t,e,n){if(!ys.web)throw new Error("Browser crypto not available.");let r;if(["aes-128-cbc","aes-256-cbc"].includes(t)&&(r="cbc"),["aes-128-ctr","aes-256-ctr"].includes(t)&&(r="ctr"),!r)throw new Error("AES: unsupported mode");return[await ys.web.subtle.importKey("raw",e,{name:`AES-${r.toUpperCase()}`,length:e.length*8},!0,["encrypt","decrypt"]),{name:`aes-${r}`,iv:n,counter:n,length:128}]}async function mb(t,e,n,r="aes-128-ctr",s=!0){if(J2(e,n,r),ys.web){const[i,a]=await Z2(r,e,n),c=await ys.web.subtle.encrypt(a,i,t);let l=new Uint8Array(c);return!s&&a.name==="aes-cbc"&&!(t.length%16)&&(l=l.slice(0,-16)),l}else if(ys.node){const i=ys.node.createCipheriv(r,e,n);return i.setAutoPadding(s),N0(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}async function CV(t,e,n,r){const s=t.slice(-16);for(let a=0;a<16;a++)s[a]^=n[a]^16;return(await mb(s,e,n,r)).slice(0,16)}async function TV(t,e,n,r="aes-128-ctr",s=!0){if(J2(e,n,r),ys.web){const[i,a]=await Z2(r,e,n);if(!s&&a.name==="aes-cbc"){const u=await CV(t,e,n,r);t=N0(t,u)}const c=await ys.web.subtle.decrypt(a,i,t),l=new Uint8Array(c);if(a.name==="aes-cbc"){const u=await mb(l,e,n,r);if(!N7(u,t))throw new Error("AES: wrong padding")}return l}else if(ys.node){const i=ys.node.createDecipheriv(r,e,n);return i.setAutoPadding(s),N0(i.update(t),i.final())}else throw new Error("The environment doesn't have AES module")}let X2=class extends Yw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Kw(e);const r=qc(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return pa(this),this.iHash.update(e),this}digestInto(e){pa(this),jl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const eT=(t,e,n)=>new X2(t,e).update(n).digest();eT.create=(t,e)=>new X2(t,e);function PV(t,e,n,r){Kw(t);const s=n2({dkLen:32,asyncTick:10},r),{c:i,dkLen:a,asyncTick:c}=s;if(Gn(i),Gn(a),Gn(c),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=qc(e),u=qc(n),d=new Uint8Array(a),f=eT.create(t,l),h=f._cloneInto().update(u);return{c:i,dkLen:a,asyncTick:c,DK:d,PRF:f,PRFSalt:h}}function IV(t,e,n,r,s){return t.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),n}function pb(t,e,n,r){const{c:s,dkLen:i,DK:a,PRF:c,PRFSalt:l}=PV(t,e,n,r);let u;const d=new Uint8Array(4),f=ah(d),h=new Uint8Array(c.outputLen);for(let m=1,g=0;g<i;m++,g+=c.outputLen){const p=a.subarray(g,g+c.outputLen);f.setInt32(0,m,!1),(u=l._cloneInto(u)).update(d).digestInto(h),p.set(h.subarray(0,p.length));for(let y=1;y<s;y++){c._cloneInto(u).update(h).digestInto(h);for(let x=0;x<p.length;x++)p[x]^=h[x]}}return IV(c,l,a,u,h)}function RV(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,c,r)}const OV=(t,e,n)=>t&e^~t&n,MV=(t,e,n)=>t&e^t&n^e&n;let BV=class extends Yw{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ah(this.buffer)}update(e){pa(this);const{view:n,buffer:r,blockLen:s}=this;e=qc(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const l=ah(e);for(;s<=i-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pa(this),Qw(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;RV(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=ah(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}};const DV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Si=new Uint32Array(64);let LV=class extends BV{constructor(){super(64,32,8,!1),this.A=_i[0]|0,this.B=_i[1]|0,this.C=_i[2]|0,this.D=_i[3]|0,this.E=_i[4]|0,this.F=_i[5]|0,this.G=_i[6]|0,this.H=_i[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:c,H:l}=this;return[e,n,r,s,i,a,c,l]}set(e,n,r,s,i,a,c,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)Si[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Si[f-15],m=Si[f-2],g=is(h,7)^is(h,18)^h>>>3,p=is(m,17)^is(m,19)^m>>>10;Si[f]=p+Si[f-7]+g+Si[f-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const h=is(c,6)^is(c,11)^is(c,25),m=d+h+OV(c,l,u)+DV[f]+Si[f]|0,p=(is(r,2)^is(r,13)^is(r,22))+MV(r,s,i)|0;d=u,u=l,l=c,c=a+m|0,a=i,i=s,s=r,r=m+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,a,c,l,u,d)}roundClean(){Si.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const gb=r2(()=>new LV);function tT(t,e,n,r,s){if(!["sha256","sha512"].includes(s))throw new Error("Only sha256 and sha512 are supported");return fm(t),fm(e),pb(gb,t,e,{c:n,dkLen:r})}function JE(t,e,n,r,s,i){let a=t[e++]^n[r++],c=t[e++]^n[r++],l=t[e++]^n[r++],u=t[e++]^n[r++],d=t[e++]^n[r++],f=t[e++]^n[r++],h=t[e++]^n[r++],m=t[e++]^n[r++],g=t[e++]^n[r++],p=t[e++]^n[r++],y=t[e++]^n[r++],x=t[e++]^n[r++],w=t[e++]^n[r++],b=t[e++]^n[r++],j=t[e++]^n[r++],E=t[e++]^n[r++],N=a,S=c,_=l,O=u,T=d,I=f,R=h,z=m,$=g,A=p,k=y,D=x,C=w,B=b,V=j,q=E;for(let ee=0;ee<8;ee+=2)T^=Ze(N+C|0,7),$^=Ze(T+N|0,9),C^=Ze($+T|0,13),N^=Ze(C+$|0,18),A^=Ze(I+S|0,7),B^=Ze(A+I|0,9),S^=Ze(B+A|0,13),I^=Ze(S+B|0,18),V^=Ze(k+R|0,7),_^=Ze(V+k|0,9),R^=Ze(_+V|0,13),k^=Ze(R+_|0,18),O^=Ze(q+D|0,7),z^=Ze(O+q|0,9),D^=Ze(z+O|0,13),q^=Ze(D+z|0,18),S^=Ze(N+O|0,7),_^=Ze(S+N|0,9),O^=Ze(_+S|0,13),N^=Ze(O+_|0,18),R^=Ze(I+T|0,7),z^=Ze(R+I|0,9),T^=Ze(z+R|0,13),I^=Ze(T+z|0,18),D^=Ze(k+A|0,7),$^=Ze(D+k|0,9),A^=Ze($+D|0,13),k^=Ze(A+$|0,18),C^=Ze(q+V|0,7),B^=Ze(C+q|0,9),V^=Ze(B+C|0,13),q^=Ze(V+B|0,18);s[i++]=a+N|0,s[i++]=c+S|0,s[i++]=l+_|0,s[i++]=u+O|0,s[i++]=d+T|0,s[i++]=f+I|0,s[i++]=h+R|0,s[i++]=m+z|0,s[i++]=g+$|0,s[i++]=p+A|0,s[i++]=y+k|0,s[i++]=x+D|0,s[i++]=w+C|0,s[i++]=b+B|0,s[i++]=j+V|0,s[i++]=E+q|0}function Cy(t,e,n,r,s){let i=r+0,a=r+16*s;for(let c=0;c<16;c++)n[a+c]=t[e+(2*s-1)*16+c];for(let c=0;c<s;c++,i+=16,e+=16)JE(n,a,t,e,n,i),c>0&&(a+=16),JE(n,i,t,e+=16,n,a)}function FV(t,e,n){const r=n2({dkLen:32,asyncTick:10,maxmem:1073742848},n),{N:s,r:i,p:a,dkLen:c,asyncTick:l,maxmem:u,onProgress:d}=r;if(Gn(s),Gn(i),Gn(a),Gn(c),Gn(l),Gn(u),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const f=128*i,h=f/4;if(s<=1||s&s-1||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(c<0||c>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const m=f*(s+a);if(m>u)throw new Error(`Scrypt: parameters too large, ${m} (128 * r * (N + p)) > ${u} (maxmem)`);const g=pb(gb,t,e,{c:1,dkLen:f*a}),p=oh(g),y=oh(new Uint8Array(f*s)),x=oh(new Uint8Array(f));let w=()=>{};if(d){const b=2*s*a,j=Math.max(Math.floor(b/1e4),1);let E=0;w=()=>{E++,d&&(!(E%j)||E===b)&&d(E/b)}}return{N:s,r:i,p:a,dkLen:c,blockSize32:h,V:y,B32:p,B:g,tmp:x,blockMixCb:w,asyncTick:l}}function UV(t,e,n,r,s){const i=pb(gb,t,n,{c:1,dkLen:e});return n.fill(0),r.fill(0),s.fill(0),i}function $V(t,e,n){const{N:r,r:s,p:i,dkLen:a,blockSize32:c,V:l,B32:u,B:d,tmp:f,blockMixCb:h}=FV(t,e,n);um||dm(u);for(let m=0;m<i;m++){const g=c*m;for(let p=0;p<c;p++)l[p]=u[g+p];for(let p=0,y=0;p<r-1;p++)Cy(l,y,l,y+=c,s),h();Cy(l,(r-1)*c,u,g,s),h();for(let p=0;p<r;p++){const y=u[g+c-16]%r;for(let x=0;x<c;x++)f[x]=u[g+x]^l[y*c+x];Cy(f,0,u,g,s),h()}}return um||dm(u),UV(t,a,d,l,f)}function nT(t,e,n,r,s,i,a){return fm(t),fm(e),$V(t,e,{N:n,r:s,p:r,dkLen:i,onProgress:a})}function ZE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function HV(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function og(t,...e){if(!HV(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function zV(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ZE(t.outputLen),ZE(t.blockLen)}function Cm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function VV(t,e){og(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ty=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Py=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),as=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function GV(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function yb(t){return typeof t=="string"&&(t=GV(t)),og(t),t}function WV(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];og(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class rT{clone(){return this._cloneInto()}}function qV(t){const e=r=>t().update(yb(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function KV(t=32){if(Ty&&typeof Ty.getRandomValues=="function")return Ty.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function QV(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),c=Number(n&i),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,c,r)}const YV=(t,e,n)=>t&e^~t&n,JV=(t,e,n)=>t&e^t&n^e&n;class ZV extends rT{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Py(this.buffer)}update(e){Cm(this);const{view:n,buffer:r,blockLen:s}=this;e=yb(e);const i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){const l=Py(e);for(;s<=i-a;a+=s)this.process(l,a);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cm(this),VV(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;QV(r,s-8,BigInt(this.length*8),i),this.process(r,0);const c=Py(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)c.setUint32(4*f,d[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:c}=this;return e.length=s,e.pos=c,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}}const XV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ni=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ki=new Uint32Array(64);class eG extends ZV{constructor(){super(64,32,8,!1),this.A=Ni[0]|0,this.B=Ni[1]|0,this.C=Ni[2]|0,this.D=Ni[3]|0,this.E=Ni[4]|0,this.F=Ni[5]|0,this.G=Ni[6]|0,this.H=Ni[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:c,H:l}=this;return[e,n,r,s,i,a,c,l]}set(e,n,r,s,i,a,c,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=c|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)ki[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=ki[f-15],m=ki[f-2],g=as(h,7)^as(h,18)^h>>>3,p=as(m,17)^as(m,19)^m>>>10;ki[f]=p+ki[f-7]+g+ki[f-16]|0}let{A:r,B:s,C:i,D:a,E:c,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const h=as(c,6)^as(c,11)^as(c,25),m=d+h+YV(c,l,u)+XV[f]+ki[f]|0,p=(as(r,2)^as(r,13)^as(r,22))+JV(r,s,i)|0;d=u,u=l,l=c,c=a+m|0,a=i,i=s,s=r,r=m+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,c=c+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,a,c,l,u,d)}roundClean(){ki.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const tG=qV(()=>new eG);class sT extends rT{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,zV(e);const r=yb(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return Cm(this),this.iHash.update(e),this}digestInto(e){Cm(this),og(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const iT=(t,e,n)=>new sT(t,e).update(n).digest();iT.create=(t,e)=>new sT(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oT=BigInt(0),ag=BigInt(1),nG=BigInt(2);function ja(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Yd(t){if(!ja(t))throw new Error("Uint8Array expected")}const rG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nl(t){Yd(t);let e="";for(let n=0;n<t.length;n++)e+=rG[t[n]];return e}function aT(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function vb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Rs={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function XE(t){if(t>=Rs._0&&t<=Rs._9)return t-Rs._0;if(t>=Rs._A&&t<=Rs._F)return t-(Rs._A-10);if(t>=Rs._a&&t<=Rs._f)return t-(Rs._a-10)}function rl(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const a=XE(t.charCodeAt(i)),c=XE(t.charCodeAt(i+1));if(a===void 0||c===void 0){const l=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+i)}r[s]=a*16+c}return r}function ia(t){return vb(nl(t))}function xb(t){return Yd(t),vb(nl(Uint8Array.from(t).reverse()))}function sl(t,e){return rl(t.toString(16).padStart(e*2,"0"))}function wb(t,e){return sl(t,e).reverse()}function sG(t){return rl(aT(t))}function Fr(t,e,n){let r;if(typeof e=="string")try{r=rl(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(ja(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function bd(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Yd(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function iG(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function oG(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function aG(t){let e;for(e=0;t>oT;t>>=ag,e+=1);return e}function cG(t,e){return t>>BigInt(e)&ag}function lG(t,e,n){return t|(n?ag:oT)<<BigInt(e)}const bb=t=>(nG<<BigInt(t-1))-ag,Iy=t=>new Uint8Array(t),eA=t=>Uint8Array.from(t);function cT(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Iy(t),s=Iy(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},c=(...f)=>n(s,r,...f),l=(f=Iy())=>{s=c(eA([0]),f),r=c(),f.length!==0&&(s=c(eA([1]),f),r=c())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=c();const m=r.slice();h.push(m),f+=r.length}return bd(...h)};return(f,h)=>{a(),l(f);let m;for(;!(m=h(u()));)l();return a(),m}}const uG={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ja(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Jd(t,e,n={}){const r=(s,i,a)=>{const c=uG[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(a&&l===void 0)&&!c(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const dG=Object.freeze(Object.defineProperty({__proto__:null,abytes:Yd,bitGet:cG,bitLen:aG,bitMask:bb,bitSet:lG,bytesToHex:nl,bytesToNumberBE:ia,bytesToNumberLE:xb,concatBytes:bd,createHmacDrbg:cT,ensureBytes:Fr,equalBytes:iG,hexToBytes:rl,hexToNumber:vb,isBytes:ja,numberToBytesBE:sl,numberToBytesLE:wb,numberToHexUnpadded:aT,numberToVarBytesBE:sG,utf8ToBytes:oG,validateObject:Jd},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const en=BigInt(0),Mt=BigInt(1),zo=BigInt(2),fG=BigInt(3),B0=BigInt(4),tA=BigInt(5),nA=BigInt(8);BigInt(9);BigInt(16);function Hn(t,e){const n=t%e;return n>=en?n:e+n}function hG(t,e,n){if(n<=en||e<en)throw new Error("Expected power/modulo > 0");if(n===Mt)return en;let r=Mt;for(;e>en;)e&Mt&&(r=r*t%n),t=t*t%n,e>>=Mt;return r}function br(t,e,n){let r=t;for(;e-- >en;)r*=r,r%=n;return r}function D0(t,e){if(t===en||e<=en)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Hn(t,e),r=e,s=en,i=Mt;for(;n!==en;){const c=r/n,l=r%n,u=s-i*c;r=n,n=l,s=i,i=u}if(r!==Mt)throw new Error("invert: does not exist");return Hn(s,e)}function mG(t){const e=(t-Mt)/zo;let n,r,s;for(n=t-Mt,r=0;n%zo===en;n/=zo,r++);for(s=zo;s<t&&hG(s,e,t)!==t-Mt;s++);if(r===1){const a=(t+Mt)/B0;return function(l,u){const d=l.pow(u,a);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(n+Mt)/zo;return function(c,l){if(c.pow(l,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=r,d=c.pow(c.mul(c.ONE,s),n),f=c.pow(l,i),h=c.pow(l,n);for(;!c.eql(h,c.ONE);){if(c.eql(h,c.ZERO))return c.ZERO;let m=1;for(let p=c.sqr(h);m<u&&!c.eql(p,c.ONE);m++)p=c.sqr(p);const g=c.pow(d,Mt<<BigInt(u-m-1));d=c.sqr(g),f=c.mul(f,g),h=c.mul(h,d),u=m}return f}}function pG(t){if(t%B0===fG){const e=(t+Mt)/B0;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%nA===tA){const e=(t-tA)/nA;return function(r,s){const i=r.mul(s,zo),a=r.pow(i,e),c=r.mul(s,a),l=r.mul(r.mul(c,zo),a),u=r.mul(c,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return mG(t)}const gG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function yG(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=gG.reduce((r,s)=>(r[s]="function",r),e);return Jd(t,n)}function vG(t,e,n){if(n<en)throw new Error("Expected power > 0");if(n===en)return t.ONE;if(n===Mt)return e;let r=t.ONE,s=e;for(;n>en;)n&Mt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Mt;return r}function xG(t,e){const n=new Array(e.length),r=e.reduce((i,a,c)=>t.is0(a)?i:(n[c]=i,t.mul(i,a)),t.ONE),s=t.inv(r);return e.reduceRight((i,a,c)=>t.is0(a)?i:(n[c]=t.mul(i,n[c]),t.mul(i,a)),s),n}function lT(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wG(t,e,n=!1,r={}){if(t<=en)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=lT(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=pG(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:bb(s),ZERO:en,ONE:Mt,create:l=>Hn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return en<=l&&l<t},is0:l=>l===en,isOdd:l=>(l&Mt)===Mt,neg:l=>Hn(-l,t),eql:(l,u)=>l===u,sqr:l=>Hn(l*l,t),add:(l,u)=>Hn(l+u,t),sub:(l,u)=>Hn(l-u,t),mul:(l,u)=>Hn(l*u,t),pow:(l,u)=>vG(c,l,u),div:(l,u)=>Hn(l*D0(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>D0(l,t),sqrt:r.sqrt||(l=>a(c,l)),invertBatch:l=>xG(c,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?wb(l,i):sl(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?xb(l):ia(l)}});return Object.freeze(c)}function uT(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function dT(t){const e=uT(t);return e+Math.ceil(e/2)}function bG(t,e,n=!1){const r=t.length,s=uT(e),i=dT(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=n?ia(t):xb(t),c=Hn(a,e-Mt)+Mt;return n?wb(c,s):sl(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jG=BigInt(0),Ry=BigInt(1);function EG(t,e){const n=(s,i)=>{const a=i.negate();return s?a:i},r=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(s,i){let a=t.ZERO,c=s;for(;i>jG;)i&Ry&&(a=a.add(c)),c=c.double(),i>>=Ry;return a},precomputeWindow(s,i){const{windows:a,windowSize:c}=r(i),l=[];let u=s,d=u;for(let f=0;f<a;f++){d=u,l.push(d);for(let h=1;h<c;h++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(s,i,a){const{windows:c,windowSize:l}=r(s);let u=t.ZERO,d=t.BASE;const f=BigInt(2**s-1),h=2**s,m=BigInt(s);for(let g=0;g<c;g++){const p=g*l;let y=Number(a&f);a>>=m,y>l&&(y-=h,a+=Ry);const x=p,w=p+Math.abs(y)-1,b=g%2!==0,j=y<0;y===0?d=d.add(n(b,i[x])):u=u.add(n(j,i[w]))}return{p:u,f:d}},wNAFCached(s,i,a,c){const l=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,l),l!==1&&i.set(s,c(u))),this.wNAF(l,u,a)}}}function fT(t){return yG(t.Fp),Jd(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lT(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function AG(t){const e=fT(t);Jd(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:_G,hexToBytes:SG}=dG,Qo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Qo;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:_G(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Qo,n=typeof t=="string"?SG(t):t;Yd(n);let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Qo._parseInt(n.subarray(2)),{d:a,l:c}=Qo._parseInt(i);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,a=s.length/2,c=n(i),l=n(a);return`30${n(a+i+4)}02${l}${s}02${c}${r}`}},Gs=BigInt(0),Er=BigInt(1);BigInt(2);const rA=BigInt(3);BigInt(4);function NG(t){const e=AG(t),{Fp:n}=e,r=e.toBytes||((g,p,y)=>{const x=p.toAffine();return bd(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),s=e.fromBytes||(g=>{const p=g.subarray(1),y=n.fromBytes(p.subarray(0,n.BYTES)),x=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:y,y:x}});function i(g){const{a:p,b:y}=e,x=n.sqr(g),w=n.mul(x,g);return n.add(n.add(w,n.mul(g,p)),y)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return typeof g=="bigint"&&Gs<g&&g<e.n}function c(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(g){const{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:x,n:w}=e;if(p&&typeof g!="bigint"){if(ja(g)&&(g=nl(g)),typeof g!="string"||!p.includes(g.length))throw new Error("Invalid key");g=g.padStart(y*2,"0")}let b;try{b=typeof g=="bigint"?g:ia(Fr("private key",g,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof g}`)}return x&&(b=Hn(b,w)),c(b),b}const u=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(p,y,x){if(this.px=p,this.py=y,this.pz=x,p==null||!n.isValid(p))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required")}static fromAffine(p){const{x:y,y:x}=p||{};if(!p||!n.isValid(y)||!n.isValid(x))throw new Error("invalid affine point");if(p instanceof f)throw new Error("projective point not allowed");const w=b=>n.eql(b,n.ZERO);return w(y)&&w(x)?f.ZERO:new f(y,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const y=n.invertBatch(p.map(x=>x.pz));return p.map((x,w)=>x.toAffine(y[w])).map(f.fromAffine)}static fromHex(p){const y=f.fromAffine(s(Fr("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return f.BASE.multiply(l(p))}_setWindowSize(p){this._WINDOW_SIZE=p,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:p,y}=this.toAffine();if(!n.isValid(p)||!n.isValid(y))throw new Error("bad point: x or y not FE");const x=n.sqr(y),w=i(p);if(!n.eql(x,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){d(p);const{px:y,py:x,pz:w}=this,{px:b,py:j,pz:E}=p,N=n.eql(n.mul(y,E),n.mul(b,w)),S=n.eql(n.mul(x,E),n.mul(j,w));return N&&S}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:y}=e,x=n.mul(y,rA),{px:w,py:b,pz:j}=this;let E=n.ZERO,N=n.ZERO,S=n.ZERO,_=n.mul(w,w),O=n.mul(b,b),T=n.mul(j,j),I=n.mul(w,b);return I=n.add(I,I),S=n.mul(w,j),S=n.add(S,S),E=n.mul(p,S),N=n.mul(x,T),N=n.add(E,N),E=n.sub(O,N),N=n.add(O,N),N=n.mul(E,N),E=n.mul(I,E),S=n.mul(x,S),T=n.mul(p,T),I=n.sub(_,T),I=n.mul(p,I),I=n.add(I,S),S=n.add(_,_),_=n.add(S,_),_=n.add(_,T),_=n.mul(_,I),N=n.add(N,_),T=n.mul(b,j),T=n.add(T,T),_=n.mul(T,I),E=n.sub(E,_),S=n.mul(T,O),S=n.add(S,S),S=n.add(S,S),new f(E,N,S)}add(p){d(p);const{px:y,py:x,pz:w}=this,{px:b,py:j,pz:E}=p;let N=n.ZERO,S=n.ZERO,_=n.ZERO;const O=e.a,T=n.mul(e.b,rA);let I=n.mul(y,b),R=n.mul(x,j),z=n.mul(w,E),$=n.add(y,x),A=n.add(b,j);$=n.mul($,A),A=n.add(I,R),$=n.sub($,A),A=n.add(y,w);let k=n.add(b,E);return A=n.mul(A,k),k=n.add(I,z),A=n.sub(A,k),k=n.add(x,w),N=n.add(j,E),k=n.mul(k,N),N=n.add(R,z),k=n.sub(k,N),_=n.mul(O,A),N=n.mul(T,z),_=n.add(N,_),N=n.sub(R,_),_=n.add(R,_),S=n.mul(N,_),R=n.add(I,I),R=n.add(R,I),z=n.mul(O,z),A=n.mul(T,A),R=n.add(R,z),z=n.sub(I,z),z=n.mul(O,z),A=n.add(A,z),I=n.mul(R,A),S=n.add(S,I),I=n.mul(k,A),N=n.mul($,N),N=n.sub(N,I),I=n.mul($,R),_=n.mul(k,_),_=n.add(_,I),new f(N,S,_)}subtract(p){return this.add(p.negate())}is0(){return this.equals(f.ZERO)}wNAF(p){return m.wNAFCached(this,u,p,y=>{const x=n.invertBatch(y.map(w=>w.pz));return y.map((w,b)=>w.toAffine(x[b])).map(f.fromAffine)})}multiplyUnsafe(p){const y=f.ZERO;if(p===Gs)return y;if(c(p),p===Er)return this;const{endo:x}=e;if(!x)return m.unsafeLadder(this,p);let{k1neg:w,k1:b,k2neg:j,k2:E}=x.splitScalar(p),N=y,S=y,_=this;for(;b>Gs||E>Gs;)b&Er&&(N=N.add(_)),E&Er&&(S=S.add(_)),_=_.double(),b>>=Er,E>>=Er;return w&&(N=N.negate()),j&&(S=S.negate()),S=new f(n.mul(S.px,x.beta),S.py,S.pz),N.add(S)}multiply(p){c(p);let y=p,x,w;const{endo:b}=e;if(b){const{k1neg:j,k1:E,k2neg:N,k2:S}=b.splitScalar(y);let{p:_,f:O}=this.wNAF(E),{p:T,f:I}=this.wNAF(S);_=m.constTimeNegate(j,_),T=m.constTimeNegate(N,T),T=new f(n.mul(T.px,b.beta),T.py,T.pz),x=_.add(T),w=O.add(I)}else{const{p:j,f:E}=this.wNAF(y);x=j,w=E}return f.normalizeZ([x,w])[0]}multiplyAndAddUnsafe(p,y,x){const w=f.BASE,b=(E,N)=>N===Gs||N===Er||!E.equals(w)?E.multiplyUnsafe(N):E.multiply(N),j=b(this,y).add(b(p,x));return j.is0()?void 0:j}toAffine(p){const{px:y,py:x,pz:w}=this,b=this.is0();p==null&&(p=b?n.ONE:n.inv(w));const j=n.mul(y,p),E=n.mul(x,p),N=n.mul(w,p);if(b)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:j,y:E}}isTorsionFree(){const{h:p,isTorsionFree:y}=e;if(p===Er)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:y}=e;return p===Er?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),r(f,this,p)}toHex(p=!0){return nl(this.toRawBytes(p))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,m=EG(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:a}}function kG(t){const e=fT(t);return Jd(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function CG(t){const e=kG(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function a(A){return Gs<A&&A<n.ORDER}function c(A){return Hn(A,r)}function l(A){return D0(A,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=NG({...e,toBytes(A,k,D){const C=k.toAffine(),B=n.toBytes(C.x),V=bd;return D?V(Uint8Array.from([k.hasEvenY()?2:3]),B):V(Uint8Array.from([4]),B,n.toBytes(C.y))},fromBytes(A){const k=A.length,D=A[0],C=A.subarray(1);if(k===s&&(D===2||D===3)){const B=ia(C);if(!a(B))throw new Error("Point is not on curve");const V=f(B);let q;try{q=n.sqrt(V)}catch(de){const Fe=de instanceof Error?": "+de.message:"";throw new Error("Point is not on curve"+Fe)}const ee=(q&Er)===Er;return(D&1)===1!==ee&&(q=n.neg(q)),{x:B,y:q}}else if(k===i&&D===4){const B=n.fromBytes(C.subarray(0,n.BYTES)),V=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:B,y:V}}else throw new Error(`Point of length ${k} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),m=A=>nl(sl(A,e.nByteLength));function g(A){const k=r>>Er;return A>k}function p(A){return g(A)?c(-A):A}const y=(A,k,D)=>ia(A.slice(k,D));class x{constructor(k,D,C){this.r=k,this.s=D,this.recovery=C,this.assertValidity()}static fromCompact(k){const D=e.nByteLength;return k=Fr("compactSignature",k,D*2),new x(y(k,0,D),y(k,D,2*D))}static fromDER(k){const{r:D,s:C}=Qo.toSig(Fr("DER",k));return new x(D,C)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new x(this.r,this.s,k)}recoverPublicKey(k){const{r:D,s:C,recovery:B}=this,V=S(Fr("msgHash",k));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const q=B===2||B===3?D+e.n:D;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=B&1?"03":"02",he=u.fromHex(ee+m(q)),de=l(q),Fe=c(-V*de),ke=c(C*de),le=u.BASE.multiplyAndAddUnsafe(he,Fe,ke);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return rl(this.toDERHex())}toDERHex(){return Qo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rl(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const w={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=dT(e.n);return bG(e.randomBytes(A),e.n)},precompute(A=8,k=u.BASE){return k._setWindowSize(A),k.multiply(BigInt(3)),k}};function b(A,k=!0){return u.fromPrivateKey(A).toRawBytes(k)}function j(A){const k=ja(A),D=typeof A=="string",C=(k||D)&&A.length;return k?C===s||C===i:D?C===2*s||C===2*i:A instanceof u}function E(A,k,D=!0){if(j(A))throw new Error("first arg must be private key");if(!j(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(d(A)).toRawBytes(D)}const N=e.bits2int||function(A){const k=ia(A),D=A.length*8-e.nBitLength;return D>0?k>>BigInt(D):k},S=e.bits2int_modN||function(A){return c(N(A))},_=bb(e.nBitLength);function O(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(Gs<=A&&A<_))throw new Error(`bigint expected < 2^${e.nBitLength}`);return sl(A,e.nByteLength)}function T(A,k,D=I){if(["recovered","canonical"].some(Ye=>Ye in D))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:B}=e;let{lowS:V,prehash:q,extraEntropy:ee}=D;V==null&&(V=!0),A=Fr("msgHash",A),q&&(A=Fr("prehashed msgHash",C(A)));const he=S(A),de=d(k),Fe=[O(de),O(he)];if(ee!=null&&ee!==!1){const Ye=ee===!0?B(n.BYTES):ee;Fe.push(Fr("extraEntropy",Ye))}const ke=bd(...Fe),le=he;function Ve(Ye){const Me=N(Ye);if(!h(Me))return;const Je=l(Me),Ue=u.BASE.multiply(Me).toAffine(),yt=c(Ue.x);if(yt===Gs)return;const Yt=c(Je*c(le+yt*de));if(Yt===Gs)return;let es=(Ue.x===yt?0:2)|Number(Ue.y&Er),Ln=Yt;return V&&g(Yt)&&(Ln=p(Yt),es^=1),new x(yt,Ln,es)}return{seed:ke,k2sig:Ve}}const I={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function z(A,k,D=I){const{seed:C,k2sig:B}=T(A,k,D),V=e;return cT(V.hash.outputLen,V.nByteLength,V.hmac)(C,B)}u.BASE._setWindowSize(8);function $(A,k,D,C=R){const B=A;if(k=Fr("msgHash",k),D=Fr("publicKey",D),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:V,prehash:q}=C;let ee,he;try{if(typeof B=="string"||ja(B))try{ee=x.fromDER(B)}catch(Ue){if(!(Ue instanceof Qo.Err))throw Ue;ee=x.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:Ue,s:yt}=B;ee=new x(Ue,yt)}else throw new Error("PARSE");he=u.fromHex(D)}catch(Ue){if(Ue.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(V&&ee.hasHighS())return!1;q&&(k=e.hash(k));const{r:de,s:Fe}=ee,ke=S(k),le=l(Fe),Ve=c(ke*le),Ye=c(de*le),Me=u.BASE.multiplyAndAddUnsafe(he,Ve,Ye)?.toAffine();return Me?c(Me.x)===de:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:z,verify:$,ProjectivePoint:u,Signature:x,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function TG(t){return{hash:t,hmac:(e,...n)=>iT(t,e,WV(...n)),randomBytes:KV}}function PG(t,e){const n=r=>CG({...t,...TG(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sA=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),IG=BigInt(1),L0=BigInt(2),iA=(t,e)=>(t+e/L0)/e;function RG(t){const e=hT,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=br(d,n,e)*d%e,h=br(f,n,e)*d%e,m=br(h,L0,e)*u%e,g=br(m,s,e)*m%e,p=br(g,i,e)*g%e,y=br(p,c,e)*p%e,x=br(y,l,e)*y%e,w=br(x,c,e)*p%e,b=br(w,n,e)*d%e,j=br(b,a,e)*g%e,E=br(j,r,e)*u%e,N=br(E,L0,e);if(!F0.eql(F0.sqr(N),t))throw new Error("Cannot find square root");return N}const F0=wG(hT,void 0,void 0,{sqrt:RG}),jb=PG({a:BigInt(0),b:BigInt(7),Fp:F0,n:sA,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=sA,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-IG*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),c=iA(i*t,e),l=iA(-r*t,e);let u=Hn(t-c*n-l*s,e),d=Hn(-c*r-l*i,e);const f=u>a,h=d>a;if(f&&(u=e-u),h&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},tG);BigInt(0);jb.ProjectivePoint;const OG=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:jb},Symbol.toStringTag,{value:"Module"}));var Oy;const gi=(Oy=jb)!==null&&Oy!==void 0?Oy:OG,oA=BigInt("0xffffffffffffffff"),jd=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),MG=gi.CURVE.n,BG=MG/BigInt(2),DG={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};var Tm;(function(t){t[t.Mainnet=1]="Mainnet",t[t.Goerli=5]="Goerli",t[t.Sepolia=11155111]="Sepolia"})(Tm||(Tm={}));var lt;(function(t){t.Chainstart="chainstart",t.Homestead="homestead",t.Dao="dao",t.TangerineWhistle="tangerineWhistle",t.SpuriousDragon="spuriousDragon",t.Byzantium="byzantium",t.Constantinople="constantinople",t.Petersburg="petersburg",t.Istanbul="istanbul",t.MuirGlacier="muirGlacier",t.Berlin="berlin",t.London="london",t.ArrowGlacier="arrowGlacier",t.GrayGlacier="grayGlacier",t.MergeForkIdTransition="mergeForkIdTransition",t.Merge="merge",t.Shanghai="shanghai",t.ShardingForkDev="shardingFork"})(lt||(lt={}));var aA;(function(t){t.ProofOfStake="pos",t.ProofOfWork="pow",t.ProofOfAuthority="poa"})(aA||(aA={}));var cA;(function(t){t.Ethash="ethash",t.Clique="clique",t.Casper="casper"})(cA||(cA={}));var hn;(function(t){t.PolygonMainnet="polygon-mainnet",t.PolygonMumbai="polygon-mumbai",t.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",t.ArbitrumOne="arbitrum-one",t.xDaiChain="x-dai-chain",t.OptimisticKovan="optimistic-kovan",t.OptimisticEthereum="optimistic-ethereum"})(hn||(hn={}));var Nr;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Uint8Array=2]="Uint8Array",t[t.PrefixedHexString=3]="PrefixedHexString"})(Nr||(Nr={}));const mT=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return eb(t)?t.slice(2):t};function LG(t){return!t||t==="0x0"?"0x0000000000000000":eb(t)?`0x${mT(t).padStart(16,"0")}`:`0x${t.padStart(16,"0")}`}const pT=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};function FG(t,e=!0){var n,r;const{name:s,config:i,difficulty:a,mixHash:c,gasLimit:l,coinbase:u,baseFeePerGas:d}=t;let{extraData:f,timestamp:h,nonce:m}=t;const g=Number(h),{chainId:p}=i;if(f===""&&(f="0x"),eb(h)||(h=pT(parseInt(h))),m.length!==18&&(m=LG(m)),i.eip155Block!==i.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const y={name:s,chainId:p,networkId:p,genesis:{timestamp:h,gasLimit:parseInt(l),difficulty:parseInt(a),nonce:m,extraData:f,mixHash:c,coinbase:u,baseFeePerGas:d},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:i.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:(n=i.clique.period)!==null&&n!==void 0?n:i.clique.blockperiodseconds,epoch:(r=i.clique.epoch)!==null&&r!==void 0?r:i.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},x={[lt.Homestead]:{name:"homesteadBlock"},[lt.Dao]:{name:"daoForkBlock"},[lt.TangerineWhistle]:{name:"eip150Block"},[lt.SpuriousDragon]:{name:"eip155Block"},[lt.Byzantium]:{name:"byzantiumBlock"},[lt.Constantinople]:{name:"constantinopleBlock"},[lt.Petersburg]:{name:"petersburgBlock"},[lt.Istanbul]:{name:"istanbulBlock"},[lt.MuirGlacier]:{name:"muirGlacierBlock"},[lt.Berlin]:{name:"berlinBlock"},[lt.London]:{name:"londonBlock"},[lt.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[lt.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[lt.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},w=Object.keys(x).reduce((E,N)=>(E[x[N].name]=N,E),{}),b=Object.keys(i).filter(E=>w[E]!==void 0&&i[E]!==void 0&&i[E]!==null);if(y.hardforks=b.map(E=>({name:w[E],block:x[w[E]].isTimestamp===!0||typeof i[E]!="number"?null:i[E],timestamp:x[w[E]].isTimestamp===!0&&typeof i[E]=="number"?i[E]:void 0})).filter(E=>E.block!==null||E.timestamp!==void 0),y.hardforks.sort((E,N)=>{var S,_;return((S=E.block)!==null&&S!==void 0?S:1/0)-((_=N.block)!==null&&_!==void 0?_:1/0)}),y.hardforks.sort((E,N)=>{var S,_;return((S=E.timestamp)!==null&&S!==void 0?S:g)-((_=N.timestamp)!==null&&_!==void 0?_:g)}),i.terminalTotalDifficulty!==void 0){const E={name:lt.Merge,ttd:i.terminalTotalDifficulty,block:null},N=y.hardforks.findIndex(S=>{var _;return((_=x[S.name])===null||_===void 0?void 0:_.postMerge)===!0});N!==-1?y.hardforks.splice(N,0,E):y.hardforks.push(E)}const j=y.hardforks.length>0?y.hardforks.slice(-1)[0]:void 0;return y.hardfork=j?.name,y.hardforks.unshift({name:lt.Chainstart,block:0}),y}function UG(t,e,n){try{if(["config","difficulty","gasLimit","alloc"].some(r=>!(r in t)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(t.name=e),FG(t,n)}catch(r){throw new Error(`Error parsing parameters file: ${r.message}`)}}function gT(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}const $G=function(t){const e=pT(t);return ut(`0x${gT(e.slice(2))}`)},vt=function(t){var e;if(t==null)return new Uint8Array;if(t instanceof Uint8Array)return t;if(((e=t?.constructor)===null||e===void 0?void 0:e.name)==="Uint8Array"||Array.isArray(t))return Uint8Array.from(t);if(typeof t=="string"){if(!x2(t))throw new Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${t}`);return ut(gT(mT(t)))}if(typeof t=="number")return vt(Qt(t));if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${t}`);let n=t.toString(16);return n.length%2&&(n=`0${n}`),vt(`0x${n}`)}if(t.toArray)return Uint8Array.from(t.toArray());throw new Error("invalid type")};function ot(t){const e=Le(t);return BigInt(e==="0x"?0:e)}function HG(t){return vt(`0x${t.toString(16)}`)}const yT=function(t){return new Uint8Array(t).fill(0)},zG=function(t,e,n){const r=yT(e);return t.length<e?(r.set(t,e-t.length),r):t.subarray(-e)};function Eb(t){if(!No(t)){const e=`This method only supports Uint8Array but input was: ${t}`;throw new Error(e)}}const lA=function(t,e){return Eb(t),zG(t,e)};function VG(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t}const Pm=function(t){return Eb(t),VG(t)},xt=t=>`0x${t.toString(16)}`;function qe(t){return Pm(HG(t))}function GG(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function WG(t){return t===BigInt(0)||t===BigInt(1)}const Ab=function(t,e,n,r,s){const i=GG(e,s);if(!WG(i))throw new Error("Invalid signature v value");return new gi.Signature(ot(n),ot(r)).addRecoveryBit(Number(i)).recoverPublicKey(t).toRawBytes(!1).slice(1)};function Va(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!x2(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const n=vt(t);switch(e){case Nr.Uint8Array:return n;case Nr.BigInt:return ot(n);case Nr.Number:{const r=ot(n);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(r)}case Nr.PrefixedHexString:return Le(n);default:throw new Error("unknown outputType")}}var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});var or=Ks.RLP=Ks.utils=Ks.decode=Ks.encode=void 0;function _b(t){if(Array.isArray(t)){const n=[];let r=0;for(let s=0;s<t.length;s++){const i=_b(t[s]);n.push(i),r+=i.length}return $0(dA(r,192),...n)}const e=ET(t);return e.length===1&&e[0]<128?e:$0(dA(e.length,128),e)}Ks.encode=_b;function Ga(t,e,n){if(n>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,n)}function uA(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return wT(xT(t))}function dA(t,e){if(t<56)return Uint8Array.from([t+e]);const n=H0(t),r=n.length/2,s=H0(e+55+r);return Uint8Array.from(Im(s+n))}function vT(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const n=ET(t),r=U0(n);if(e)return r;if(r.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return r.data}Ks.decode=vT;function U0(t){let e,n,r,s,i;const a=[],c=t[0];if(c<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(c<=183){if(e=c-127,c===128?r=Uint8Array.from([]):r=Ga(t,1,e),e===2&&r[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:r,remainder:t.slice(e)}}else if(c<=191){if(n=c-182,t.length-1<n)throw new Error("invalid RLP: not enough bytes for string length");if(e=uA(Ga(t,1,n)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return r=Ga(t,n,e+n),{data:r,remainder:t.slice(e+n)}}else if(c<=247){for(e=c-191,s=Ga(t,1,e);s.length;)i=U0(s),a.push(i.data),s=i.remainder;return{data:a,remainder:t.slice(e)}}else{if(n=c-246,e=uA(Ga(t,1,n)),e<56)throw new Error("invalid RLP: encoded list too short");const l=n+e;if(l>t.length)throw new Error("invalid RLP: total length is larger than the data");for(s=Ga(t,n,l);s.length;)i=U0(s),a.push(i.data),s=i.remainder;return{data:a,remainder:t.slice(l)}}}const qG=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xT(t){let e="";for(let n=0;n<t.length;n++)e+=qG[t[n]];return e}function wT(t){const e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function Im(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2;e[n]=wT(t.slice(r,r+2))}return e}function $0(...t){if(t.length===1)return t[0];const e=t.reduce((r,s)=>r+s.length,0),n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}function bT(t){return new TextEncoder().encode(t)}function H0(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function KG(t){return t.length%2?`0${t}`:t}function jT(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function QG(t){return typeof t!="string"?t:jT(t)?t.slice(2):t}function ET(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return jT(t)?Im(KG(QG(t))):bT(t);if(typeof t=="number"||typeof t=="bigint")return t?Im(H0(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}Ks.utils={bytesToHex:xT,concatBytes:$0,hexToBytes:Im,utf8ToBytes:bT};or=Ks.RLP={encode:_b,decode:vT};var AT={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var _=0,O=new Array(256),T=0;T!=256;++T)_=T,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,O[T]=_;return typeof Int32Array<"u"?new Int32Array(O):O}var r=n();function s(_){var O=0,T=0,I=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)R[I]=_[I];for(I=0;I!=256;++I)for(T=_[I],O=256+I;O<4096;O+=256)T=R[O]=T>>>8^_[T&255];var z=[];for(I=1;I!=16;++I)z[I-1]=typeof Int32Array<"u"?R.subarray(I*256,I*256+256):R.slice(I*256,I*256+256);return z}var i=s(r),a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],f=i[5],h=i[6],m=i[7],g=i[8],p=i[9],y=i[10],x=i[11],w=i[12],b=i[13],j=i[14];function E(_,O){for(var T=O^-1,I=0,R=_.length;I<R;)T=T>>>8^r[(T^_.charCodeAt(I++))&255];return~T}function N(_,O){for(var T=O^-1,I=_.length-15,R=0;R<I;)T=j[_[R++]^T&255]^b[_[R++]^T>>8&255]^w[_[R++]^T>>16&255]^x[_[R++]^T>>>24]^y[_[R++]]^p[_[R++]]^g[_[R++]]^m[_[R++]]^h[_[R++]]^f[_[R++]]^d[_[R++]]^u[_[R++]]^l[_[R++]]^c[_[R++]]^a[_[R++]]^r[_[R++]];for(I+=15;R<I;)T=T>>>8^r[(T^_[R++])&255];return~T}function S(_,O){for(var T=O^-1,I=0,R=_.length,z=0,$=0;I<R;)z=_.charCodeAt(I++),z<128?T=T>>>8^r[(T^z)&255]:z<2048?(T=T>>>8^r[(T^(192|z>>6&31))&255],T=T>>>8^r[(T^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,$=_.charCodeAt(I++)&1023,T=T>>>8^r[(T^(240|z>>8&7))&255],T=T>>>8^r[(T^(128|z>>2&63))&255],T=T>>>8^r[(T^(128|$>>6&15|(z&3)<<4))&255],T=T>>>8^r[(T^(128|$&63))&255]):(T=T>>>8^r[(T^(224|z>>12&15))&255],T=T>>>8^r[(T^(128|z>>6&63))&255],T=T>>>8^r[(T^(128|z&63))&255]);return~T}e.table=r,e.bstr=E,e.buf=N,e.str=S})})(AT);const YG=dl(AT),JG={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},ZG={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},XG={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]},eW={name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},tW={name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},nW={name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},rW={name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},sW={name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},iW={name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},oW={name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},aW={name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},cW={name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},lW={name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},uW={name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},dW={name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},fW={name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},hW={name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},mW={name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},pW={name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},gW={name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},yW={name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},vW={name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},xW={name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},wW={name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},bW={name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}},Wa={1153:eW,1559:tW,2315:nW,2537:rW,2565:sW,2718:iW,2929:oW,2930:aW,3198:cW,3529:lW,3540:uW,3541:dW,3554:fW,3607:hW,3651:mW,3670:pW,3675:gW,3855:yW,3860:vW,4345:xW,4399:wW,5133:bW},jW={name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},EW={name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},AW={name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},_W={name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},SW={name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},NW={name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},kW={name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},CW={name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},TW={name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},PW={name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},IW={name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},RW={name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},OW={name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},MW={name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},BW={name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},DW={name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},LW={name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]},FW={chainstart:jW,homestead:AW,dao:EW,tangerineWhistle:_W,spuriousDragon:SW,byzantium:NW,constantinople:kW,petersburg:CW,istanbul:TW,muirGlacier:PW,berlin:IW,london:RW,shanghai:OW,arrowGlacier:MW,grayGlacier:BW,mergeForkIdTransition:DW,merge:LW},{buf:UW}=YG;class Gt extends ib{static custom(e,n={}){var r;const s=(r=n.baseChain)!==null&&r!==void 0?r:"mainnet",i=Object.assign({},Gt._getChainParams(s));if(i.name="custom-chain",typeof e!="string")return new Gt(Object.assign({chain:Object.assign(Object.assign({},i),e)},n));if(e===hn.PolygonMainnet)return Gt.custom({name:hn.PolygonMainnet,chainId:137,networkId:137},n);if(e===hn.PolygonMumbai)return Gt.custom({name:hn.PolygonMumbai,chainId:80001,networkId:80001},n);if(e===hn.ArbitrumRinkebyTestnet)return Gt.custom({name:hn.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},n);if(e===hn.ArbitrumOne)return Gt.custom({name:hn.ArbitrumOne,chainId:42161,networkId:42161},n);if(e===hn.xDaiChain)return Gt.custom({name:hn.xDaiChain,chainId:100,networkId:100},n);if(e===hn.OptimisticKovan)return Gt.custom({name:hn.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:lt.Berlin},n));if(e===hn.OptimisticEthereum)return Gt.custom({name:hn.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:lt.Berlin},n));throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:n,eips:r,genesisHash:s,hardfork:i,mergeForkIdPostMerge:a}){var c;const l=UG(e,n,a),u=new Gt({chain:(c=l.name)!==null&&c!==void 0?c:"custom",customChains:[l],eips:r,hardfork:i??l.hardfork});return s!==void 0&&u.setForkHashes(s),u}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,n){let r=e;const s=this._getInitializedChains(n);if(typeof r=="number"||typeof r=="bigint"){if(r=r.toString(),s.names[r]){const i=s.names[r];return s[i]}throw new Error(`Chain with ID ${r} not supported`)}if(s[r]!==void 0)return s[r];throw new Error(`Chain with name ${r} not supported`)}constructor(e){var n,r;super(),this._eips=[],this._customChains=(n=e.customChains)!==null&&n!==void 0?n:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=(r=this._chainParams.defaultHardfork)!==null&&r!==void 0?r:lt.Merge,this.HARDFORK_CHANGES=this.hardforks().map(s=>[s.name,FW[s.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Gt._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const n=["networkId","genesis","hardforks","bootstrapNodes"];for(const r of n)if(!(r in e))throw new Error(`Missing required chain parameter: ${r}`);this._chainParams=e}else throw new Error("Wrong input format");for(const n of this.hardforks())if(n.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let n=!1;for(const r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),n=!0);if(!n)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,n,r){const s=Va(e,Nr.BigInt),i=Va(n,Nr.BigInt),a=Va(r,Nr.Number),c=this.hardforks().filter(m=>m.block!==null||m.ttd!==null&&m.ttd!==void 0||m.timestamp!==void 0),l=c.findIndex(m=>m.ttd!==null&&m.ttd!==void 0);if(c.slice(l+1).findIndex(m=>m.ttd!==null&&m.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let d=c.findIndex(m=>m.block!==null&&m.block>s||a!==void 0&&Number(m.timestamp)>a);if(d===-1)d=c.length;else if(d===0)throw Error("Must have at least one hardfork at block 0");if(a===void 0){const m=c.slice(0,d).reverse().findIndex(g=>g.block!==null||g.ttd!==void 0);d-=m}if(d-=1,c[d].block===null&&c[d].timestamp===void 0)(i==null||BigInt(c[d].ttd)>i)&&(d-=1);else if(l>=0&&i!==void 0&&i!==null){if(d>=l&&BigInt(c[l].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(d<l&&BigInt(c[l].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const f=d;for(;d<c.length-1&&!(c[d].block!==c[d+1].block||c[d].timestamp!==c[d+1].timestamp);d+=1);if(a){if(c.slice(0,f).reduce((p,y)=>{var x;return Math.max(Number((x=y.timestamp)!==null&&x!==void 0?x:"0"),p)},0)>a)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(c.slice(d+1).reduce((p,y)=>{var x;return Math.min(Number((x=y.timestamp)!==null&&x!==void 0?x:a),p)},a)<a)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return c[d].name}setHardforkByBlockNumber(e,n,r){const s=this.getHardforkByBlockNumber(e,n,r);return this.setHardfork(s),s}_getHardfork(e){const n=this.hardforks();for(const r of n)if(r.name===e)return r;return null}setEIPs(e=[]){for(const n of e){if(!(n in Wa))throw new Error(`${n} not supported`);const r=this.gteHardfork(Wa[n].minimumHardfork);if(!r)throw new Error(`${n} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(Wa[n].requiredEIPs!==void 0){for(const s of Wa[n].requiredEIPs)if(!(e.includes(s)||this.isActivatedEIP(s)))throw new Error(`${n} requires EIP ${s}, but is not included in the EIP list`)}}this._eips=e}param(e,n){let r;for(const s of this._eips)if(r=this.paramByEIP(e,n,s),r!==void 0)return r;return this.paramByHardfork(e,n,this._hardfork)}paramByHardfork(e,n,r){let s=null;for(const i of this.HARDFORK_CHANGES){if("eips"in i[1]){const a=i[1].eips;for(const c of a){const l=this.paramByEIP(e,n,c);s=typeof l=="bigint"?l:s}}else{if(i[1][e]===void 0)throw new Error(`Topic ${e} not defined`);i[1][e][n]!==void 0&&(s=i[1][e][n].v)}if(i[0]===r)break}return BigInt(s??0)}paramByEIP(e,n,r){if(!(r in Wa))throw new Error(`${r} not supported`);const s=Wa[r];if(!(e in s))throw new Error(`Topic ${e} not defined`);if(s[e][n]===void 0)return;const i=s[e][n].v;return BigInt(i)}paramByBlock(e,n,r,s,i){const a=this.getHardforkByBlockNumber(r,s,i);return this.paramByHardfork(e,n,a)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const n of this.HARDFORK_CHANGES){const r=n[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,n){const r=Va(n,Nr.BigInt),s=e??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,n){const r=e??this._hardfork,s=this.hardforks();let i=-1,a=-1,c=0;for(const l of s)l.name===r&&(i=c),l.name===n&&(a=c),c+=1;return i>=a&&a!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.block;return s==null?null:BigInt(s)}hardforkTimestamp(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.timestamp;return s==null?null:BigInt(s)}eipBlock(e){for(const n of this.HARDFORK_CHANGES){const r=n[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock(typeof n[0]=="number"?String(n[0]):n[0])}return null}hardforkTTD(e){var n;const r=e??this._hardfork,s=(n=this._getHardfork(r))===null||n===void 0?void 0:n.ttd;return s==null?null:BigInt(s)}isHardforkBlock(e,n){const r=Va(e,Nr.BigInt),s=n??this._hardfork,i=this.hardforkBlock(s);return typeof i=="bigint"&&i!==BigInt(0)?i===r:!1}nextHardforkBlockOrTimestamp(e){var n,r,s;const i=(n=e)!==null&&n!==void 0?n:this._hardfork,a=this.hardforks();let c=a.findIndex(f=>f.name===i);if(i===lt.Merge&&(c-=1),c<0)return null;let l=(r=a[c].timestamp)!==null&&r!==void 0?r:a[c].block;l=l!=null?Number(l):null;const u=a.slice(c+1).find(f=>{var h;let m=(h=f.timestamp)!==null&&h!==void 0?h:f.block;return m=m!=null?Number(m):null,f.name!==lt.Merge&&m!==null&&m!==void 0&&m!==l});if(u===void 0)return null;const d=(s=u.timestamp)!==null&&s!==void 0?s:u.block;return d==null?null:BigInt(d)}nextHardforkBlock(e){var n;const r=(n=e)!==null&&n!==void 0?n:this._hardfork;let s=this.hardforkBlock(r);if(s===null&&r===lt.Merge){const a=this.hardforks(),c=a.findIndex(l=>l.ttd!==null&&l.ttd!==void 0);if(c<0)throw Error("Merge hardfork should have been found");s=this.hardforkBlock(a[c-1].name)}return s===null?null:this.hardforks().reduce((a,c)=>{const l=BigInt(c.block===null||c.ttd!==void 0&&c.ttd!==null?0:c.block);return l>s&&a===null?l:a},null)}isNextHardforkBlock(e,n){const r=Va(e,Nr.BigInt),s=n??this._hardfork,i=this.nextHardforkBlock(s);return i===null?!1:i===r}_calcForkHash(e,n){let r=new Uint8Array,s=0;for(const c of this.hardforks()){const{block:l,timestamp:u,name:d}=c;let f=u??l;if(f=f!==null?Number(f):null,typeof f=="number"&&f!==0&&f!==s&&d!==lt.Merge){const h=ut(f.toString(16).padStart(16,"0"));r=Mn(r,h),s=f}if(c.name===e)break}const i=Mn(n,r);return Le($G(UW(i)>>>0))}forkHash(e,n){const r=e??this._hardfork,s=this._getHardfork(r);if(s===null||s?.block===null&&s?.timestamp===void 0&&s?.ttd===void 0){const i="No fork hash calculation possible for future hardfork";throw new Error(i)}if(s?.forkHash!==null&&s?.forkHash!==void 0)return s.forkHash;if(!n)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,n)}hardforkForForkHash(e){const n=this.hardforks().filter(r=>r.forkHash===e);return n.length>=1?n[n.length-1]:null}setForkHashes(e){var n;for(const r of this.hardforks()){const s=(n=r.timestamp)!==null&&n!==void 0?n:r.block;(r.forkHash===null||r.forkHash===void 0)&&(s!=null||typeof r.ttd<"u")&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.type),r[0]===e)break;return n??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let n;for(const r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(n=r[1].consensus.algorithm),r[0]===e)break;return n??this._chainParams.consensus.algorithm}consensusConfig(){var e;const n=this.hardfork();let r;for(const s of this.HARDFORK_CHANGES)if("consensus"in s[1]&&(r=s[1].consensus[s[1].consensus.algorithm]),s[0]===n)break;return(e=r??this._chainParams.consensus[this.consensusAlgorithm()])!==null&&e!==void 0?e:{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const n={};for(const[s,i]of Object.entries(Tm))n[i]=s.toLowerCase();const r={mainnet:ZG,goerli:JG,sepolia:XG};if(e)for(const s of e){const{name:i}=s;n[s.chainId.toString()]=i,r[i]=s}return r.names=n,r}}var ms;(function(t){t[t.EIP155ReplayProtection=155]="EIP155ReplayProtection",t[t.EIP1559FeeMarket=1559]="EIP1559FeeMarket",t[t.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",t[t.EIP2930AccessLists=2930]="EIP2930AccessLists"})(ms||(ms={}));function $W(t){if(t.length===0)return!0;const e=t[0];return!!Array.isArray(e)}function HW(t){return!$W(t)}class Tc{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new Tc(yT(20))}equals(e){return Zp(this.buf,e.buf)}isZero(){return this.equals(Tc.zero())}toString(){return Le(this.buf)}toArray(){return this.buf}static publicToAddress(e,n=!1){let r=e;if(Eb(r),n&&r.length!==64&&(r=gi.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),r.length!==64)throw new Error("Expected pubKey to be of length 64");return Cn(r).slice(-20)}}const zW=(t,e)=>{const n=t.param("vm","maxInitCodeSize");if(n&&BigInt(e)>n)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${t.param("vm","maxInitCodeSize")}`)},_T=t=>{let e,n;if(HW(t)){e=t;const r=[];for(let s=0;s<t.length;s+=1){const i=t[s],a=vt(i.address),c=[];for(let l=0;l<i.storageKeys.length;l+=1)c.push(vt(i.storageKeys[l]));r.push([a,c])}n=r}else{n=t??[];const r=[];for(let s=0;s<n.length;s+=1){const i=n[s],a=Le(i[0]),c=[];for(let u=0;u<i[1].length;u+=1)c.push(Le(i[1][u]));const l={address:a,storageKeys:c};r.push(l)}e=r}return{AccessListJSON:e,accessList:n}},ST=t=>{for(let e=0;e<t.length;e+=1){const n=t[e],r=n[0],s=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(r.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let i=0;i<s.length;i+=1)if(s[i].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},NT=t=>{const e=[];for(let n=0;n<t.length;n+=1){const r=t[n],s={address:Le(lA(r[0],20)),storageKeys:[]},i=r&&r[1];for(let a=0;a<i.length;a+=1){const c=i[a];s.storageKeys.push(Le(lA(c,32)))}e.push(s)}return e},kT=(t,e)=>{const n=e.param("gasPrices","accessListStorageKeyCost"),r=e.param("gasPrices","accessListAddressCost");let s=0;for(let a=0;a<t.length;a+=1){const l=t[a][1];s+=l.length}return t.length*Number(r)+s*Number(n)};class il{constructor(e,n){var r,s;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Tm.Mainnet,this.DEFAULT_HARDFORK=lt.Merge;const{nonce:i,gasLimit:a,to:c,value:l,data:u,v:d,r:f,s:h,type:m}=e;this._type=Number(ot(vt(m))),this.txOptions=n;const g=vt(c===""?"0x":c),p=vt(d===""?"0x":d),y=vt(f===""?"0x":f),x=vt(h===""?"0x":h);this.nonce=ot(vt(i===""?"0x":i)),this.gasLimit=ot(vt(a===""?"0x":a)),this.to=g.length>0?new Tc(g):void 0,this.value=ot(vt(l===""?"0x":l)),this.data=vt(u===""?"0x":u),this.v=p.length>0?ot(p):void 0,this.r=y.length>0?ot(y):void 0,this.s=x.length>0?ot(x):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);const w=this.to===void 0||this.to===null,b=(r=n.allowUnlimitedInitCodeSize)!==null&&r!==void 0?r:!1,j=(s=n.common)!==null&&s!==void 0?s:this._getCommon();w&&j.isActivatedEIP(3860)&&!b&&zW(j,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const n=[];return this.getBaseFee()>this.gasLimit&&n.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&n.push("Invalid Signature"),e?n:n.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const n=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(n)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>BG){const n=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(n)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let n=this.getDataFee();if(e&&(n+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const r=this.common.param("gasPrices","txCreation");r&&(n+=r)}return n}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),n=this.common.param("gasPrices","txDataNonZero");let r=BigInt(0);for(let s=0;s<this.data.length;s+=1)this.data[s]===0?r+=e:r+=n;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const s=BigInt(Math.ceil(this.data.length/32)),i=this.common.param("gasPrices","initCodeWordCost")*s;r+=i}return r}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:n,s:r}=this;return!(e===void 0||n===void 0||r===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return Pm(e).length!==0}catch{return!1}}getSenderAddress(){return new Tc(Tc.publicToAddress(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const l=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(l)}let n=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(ms.EIP155ReplayProtection)&&(this.activeCapabilities.push(ms.EIP155ReplayProtection),n=!0);const r=this.getMessageToSign(!0),{v:s,r:i,s:a}=this._ecsign(r,e),c=this._processSignature(s,i,a);if(n){const l=this.activeCapabilities.indexOf(ms.EIP155ReplayProtection);l>-1&&this.activeCapabilities.splice(l,1)}return c}_getCommon(e,n){var r,s,i,a;if(n!==void 0){const c=ot(vt(n));if(e){if(e.chainId()!==c){const l=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(l)}return e.copy()}return Gt.isSupportedChainId(c)?new Gt({chain:c,hardfork:this.DEFAULT_HARDFORK}):Gt.custom({name:"custom-chain",networkId:c,chainId:c},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if(e?.copy&&typeof e?.copy=="function")return e.copy();if(e){const c=typeof e.hardfork=="function"?e.hardfork():e.hardfork;return Gt.custom({name:"custom-chain",networkId:e.networkId?e.networkId():(s=BigInt((r=e.customChain)===null||r===void 0?void 0:r.networkId))!==null&&s!==void 0?s:void 0,chainId:e.chainId?e.chainId():(a=BigInt((i=e.customChain)===null||i===void 0?void 0:i.chainId))!==null&&a!==void 0?a:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:c||this.DEFAULT_HARDFORK})}return new Gt({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,n=256,r=!1){for(const[s,i]of Object.entries(e))switch(n){case 64:if(r){if(i!==void 0&&i>=oA){const a=this._errorMsg(`${s} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>oA){const a=this._errorMsg(`${s} cannot exceed MAX_UINT64 (2^64-1), given ${i}`);throw new Error(a)}break;case 256:if(r){if(i!==void 0&&i>=jd){const a=this._errorMsg(`${s} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}}else if(i!==void 0&&i>jd){const a=this._errorMsg(`${s} cannot exceed MAX_INTEGER (2^256-1), given ${i}`);throw new Error(a)}break;default:{const a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}static _validateNotArray(e){const n=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[r,s]of Object.entries(e))if(n.includes(r)&&Array.isArray(s))throw new Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?Le(this.hash()):"not available (unsigned)"}catch{e="error"}let n="";try{n=this.isSigned().toString()}catch{e="error"}let r="";try{r=this.common.hardfork()}catch{r="error"}let s=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return s+=`signed=${n} hf=${r}`,s}_ecsign(e,n,r){const s=gi.sign(e,n),i=s.toCompactRawBytes(),a=i.subarray(0,32),c=i.subarray(32,64),l=r===void 0?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(r)*BigInt(2);return{r:a,s:c,v:l}}static fromSerializedTx(e,n={}){}static fromTxData(e,n={}){}}const z0=2,My=ut(z0.toString(16).padStart(2,"0"));class Yo extends il{static fromTxData(e,n={}){return new Yo(e,n)}static fromSerializedTx(e,n={}){if(!Zp(e.subarray(0,1),My))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${z0}, received: ${Le(e.subarray(0,1))}`);const r=or.decode(e.subarray(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Yo.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[r,s,i,a,c,l,u,d,f,h,m,g]=e;return this._validateNotArray({chainId:r,v:h}),tb({nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:c,value:u,v:h,r:m,s:g}),new Yo({chainId:ot(r),nonce:s,maxPriorityFeePerGas:i,maxFeePerGas:a,gasLimit:c,to:l,value:u,data:d,accessList:f??[],v:h!==void 0?ot(h):void 0,r:m,s:g},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:z0}),n),this.DEFAULT_HARDFORK="london";const{chainId:s,accessList:i,maxFeePerGas:a,maxPriorityFeePerGas:c}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const l=_T(i??[]);if(this.accessList=l.accessList,this.AccessListJSON=l.AccessListJSON,ST(this.accessList),this.maxFeePerGas=ot(vt(a===""?"0x":a)),this.maxPriorityFeePerGas=ot(vt(c===""?"0x":c)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),il._validateNotArray(e),this.gasLimit*this.maxFeePerGas>jd){const d=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(d)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const d=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(d)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(kT(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const n=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e,i=(n<r?n:r)+e;return this.gasLimit*i+this.value}raw(){return[qe(this.chainId),qe(this.nonce),qe(this.maxPriorityFeePerGas),qe(this.maxFeePerGas),qe(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),qe(this.value),this.data,this.accessList,this.v!==void 0?qe(this.v):Uint8Array.from([]),this.r!==void 0?qe(this.r):Uint8Array.from([]),this.s!==void 0?qe(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Mn(My,or.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,9),r=Mn(My,or.encode(n));return e?Cn(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Cn(this.serialize())),this.cache.hash):Cn(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return Ab(e,n+BigInt(27),qe(r),qe(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Yo.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:ot(n),s:ot(r)},s)}toJSON(){const e=NT(this.accessList);return{chainId:xt(this.chainId),nonce:xt(this.nonce),maxPriorityFeePerGas:xt(this.maxPriorityFeePerGas),maxFeePerGas:xt(this.maxFeePerGas),gasLimit:xt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:xt(this.value),data:Le(this.data),accessList:e,v:this.v!==void 0?xt(this.v):void 0,r:this.r!==void 0?xt(this.r):void 0,s:this.s!==void 0?xt(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const V0=1,By=ut(V0.toString(16).padStart(2,"0"));class Jo extends il{static fromTxData(e,n={}){return new Jo(e,n)}static fromSerializedTx(e,n={}){if(!Zp(e.subarray(0,1),By))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${V0}, received: ${Le(e.subarray(0,1))}`);const r=or.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Jo.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[r,s,i,a,c,l,u,d,f,h,m]=e;this._validateNotArray({chainId:r,v:f}),tb({nonce:s,gasPrice:i,gasLimit:a,value:l,v:f,r:h,s:m});const g=[];return new Jo({chainId:ot(r),nonce:s,gasPrice:i,gasLimit:a,to:c,value:l,data:u,accessList:d??g,v:f!==void 0?ot(f):void 0,r:h,s:m},n)}constructor(e,n={}){var r;super(Object.assign(Object.assign({},e),{type:V0}),n),this.DEFAULT_HARDFORK="berlin";const{chainId:s,accessList:i,gasPrice:a}=e;if(this.common=this._getCommon(n.common,s),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const c=_T(i??[]);if(this.accessList=c.accessList,this.AccessListJSON=c.AccessListJSON,ST(this.accessList),this.gasPrice=ot(vt(a===""?"0x":a)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),il._validateNotArray(e),this.gasPrice*this.gasLimit>jd){const u=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(u)}this._validateYParity(),this._validateHighS(),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(kT(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[qe(this.chainId),qe(this.nonce),qe(this.gasPrice),qe(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),qe(this.value),this.data,this.accessList,this.v!==void 0?qe(this.v):Uint8Array.from([]),this.r!==void 0?qe(this.r):Uint8Array.from([]),this.s!==void 0?qe(this.s):Uint8Array.from([])]}serialize(){const e=this.raw();return Mn(By,or.encode(e))}getMessageToSign(e=!0){const n=this.raw().slice(0,8),r=Mn(By,or.encode(n));return e?Cn(r):r}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Cn(this.serialize())),this.cache.hash):Cn(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const i=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(i)}const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return Ab(e,n+BigInt(27),qe(r),qe(s))}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){const s=Object.assign(Object.assign({},this.txOptions),{common:this.common});return Jo.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:ot(n),s:ot(r)},s)}toJSON(){const e=NT(this.accessList);return{chainId:xt(this.chainId),nonce:xt(this.nonce),gasPrice:xt(this.gasPrice),gasLimit:xt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:xt(this.value),data:Le(this.data),accessList:e,v:this.v!==void 0?xt(this.v):void 0,r:this.r!==void 0?xt(this.r):void 0,s:this.s!==void 0?xt(this.s):void 0}}errorStr(){var e,n;let r=this._getSharedErrorPostfix();return r+=` gasPrice=${this.gasPrice} accessListCount=${(n=(e=this.accessList)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}`,r}_errorMsg(e){return`${e} (${this.errorStr()})`}}const VW=0;function fA(t,e){const n=Number(t),r=Number(e)*2;return n===r+35||n===r+36}class zi extends il{static fromTxData(e,n={}){return new zi(e,n)}static fromSerializedTx(e,n={}){const r=or.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,n)}static fromValuesArray(e,n={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[r,s,i,a,c,l,u,d,f]=e;return tb({nonce:r,gasPrice:s,gasLimit:i,value:c,v:u,r:d,s:f}),new zi({nonce:r,gasPrice:s,gasLimit:i,to:a,value:c,data:l,v:u,r:d,s:f},n)}constructor(e,n={}){var r;if(super(Object.assign(Object.assign({},e),{type:VW}),n),this.common=this._validateTxV(this.v,n.common),this.gasPrice=ot(vt(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>jd){const i=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(i)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),il._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?fA(this.v,this.common.chainId())&&this.activeCapabilities.push(ms.EIP155ReplayProtection):this.activeCapabilities.push(ms.EIP155ReplayProtection)),((r=n?.freeze)!==null&&r!==void 0?r:!0)&&Object.freeze(this)}raw(){return[qe(this.nonce),qe(this.gasPrice),qe(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),qe(this.value),this.data,this.v!==void 0?qe(this.v):Uint8Array.from([]),this.r!==void 0?qe(this.r):Uint8Array.from([]),this.s!==void 0?qe(this.s):Uint8Array.from([])]}serialize(){return or.encode(this.raw())}_getMessageToSign(){const e=[qe(this.nonce),qe(this.gasPrice),qe(this.gasLimit),this.to!==void 0?this.to.buf:Uint8Array.from([]),qe(this.value),this.data];return this.supports(ms.EIP155ReplayProtection)&&(e.push(vt(this.common.chainId())),e.push(Pm(vt(0))),e.push(Pm(vt(0)))),e}getMessageToSign(e=!0){const n=this._getMessageToSign();return e?Cn(or.encode(n)):n}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=Cn(or.encode(this.raw()))),this.cache.hash):Cn(or.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned()){const n=this._errorMsg("This transaction is not signed");throw new Error(n)}const e=this._getMessageToSign();return Cn(or.encode(e))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:n,r,s}=this;this._validateHighS();try{return Ab(e,n,qe(r),qe(s),this.supports(ms.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const a=this._errorMsg("Invalid Signature");throw new Error(a)}}_processSignature(e,n,r){let s=e;this.supports(ms.EIP155ReplayProtection)&&(s+=this.common.chainId()*BigInt(2)+BigInt(8));const i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return zi.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:s,r:ot(n),s:ot(r)},i)}toJSON(){return{nonce:xt(this.nonce),gasPrice:xt(this.gasPrice),gasLimit:xt(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:xt(this.value),data:Le(this.data),v:this.v!==void 0?xt(this.v):void 0,r:this.r!==void 0?xt(this.r):void 0,s:this.s!==void 0?xt(this.s):void 0}}_validateTxV(e,n){let r;const s=e!==void 0?Number(e):void 0;if(s!==void 0&&s<37&&s!==27&&s!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${s}`);if(s!==void 0&&s!==0&&(!n||n.gteHardfork("spuriousDragon"))&&s!==27&&s!==28)if(n){if(!fA(BigInt(s),n.chainId()))throw new Error(`Incompatible EIP155-based V ${s} and chain id ${n.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let i;(s-35)%2===0?i=35:i=36,r=BigInt(s-i)/BigInt(2)}return this._getCommon(n,r)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}const Dy=new Map;class Ea{constructor(){}static typeToInt(e){return Number(ot(vt(e)))}static registerTransactionType(e,n){const r=Ea.typeToInt(e);Dy.set(r,n)}static fromTxData(e,n={}){if(!("type"in e)||e.type===void 0)return zi.fromTxData(e,n);const r=Ea.typeToInt(e.type);if(r===0)return zi.fromTxData(e,n);if(r===1)return Jo.fromTxData(e,n);if(r===2)return Yo.fromTxData(e,n);const s=Dy.get(r);if(s?.fromTxData)return s.fromTxData(e,n);throw new Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,n={}){if(e[0]<=127)switch(e[0]){case 1:return Jo.fromSerializedTx(e,n);case 2:return Yo.fromSerializedTx(e,n);default:{const r=Dy.get(Number(e[0]));if(r?.fromSerializedTx)return r.fromSerializedTx(e,n);throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}}else return zi.fromSerializedTx(e,n)}static fromBlockBodyData(e,n={}){if(No(e))return this.fromSerializedData(e,n);if(Array.isArray(e))return zi.fromValuesArray(e,n);throw new Error("Cannot decode transaction: unknown type input")}}var cg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const Al=(t,e)=>{let n;if(!e&&typeof t=="string"&&et(t)&&t.length!==66)throw new NE;try{n=No(t)?t:Ss(t)}catch{throw new e9}if(!e&&n.byteLength!==32)throw new NE;return n},Sb=(t,e=!1)=>{const n=et(t)?t:Zr(t),r=ut(n),s=ut(_2(`Ethereum Signed Message:
${r.byteLength}`)),i=e?r:Mn(s,r);return pr(i)},GW=(t,e)=>{const n=Al(e),r=gi.sign(t.substring(2),n),s=r.toCompactRawBytes(),i=r.r.toString(16).padStart(64,"0"),a=r.s.toString(16).padStart(64,"0"),c=r.recovery+27;return{messageHash:t,v:Qt(c),r:`0x${i}`,s:`0x${a}`,signature:`${Le(s)}${c.toString(16)}`}},CT=(t,e)=>{const n=Sb(t),{messageHash:r,v:s,r:i,s:a,signature:c}=GW(n,e);return{message:t,messageHash:r,v:s,r:i,s:a,signature:c}},WW=(t,e)=>cg(void 0,void 0,void 0,function*(){const n=t.sign(ut(e));if(H(n.v)||H(n.r)||H(n.s))throw new S0("Signer Error");const r=n.validate(!0);if(r.length>0){let a="Signer Error ";for(const c of r)a+=`${a} ${c}.`;throw new S0(a)}const s=Le(n.serialize()),i=pr(s);return{messageHash:Le(n.getMessageToSign(!0)),v:`0x${n.v.toString(16)}`,r:`0x${n.r.toString(16).padStart(64,"0")}`,s:`0x${n.s.toString(16).padStart(64,"0")}`,rawTransaction:s,transactionHash:Le(i)}}),qW=t=>{if(H(t))throw new y9;const e=Ea.fromSerializedData(ut(t));return Cs(e.getSenderAddress().toString())},G0=(t,e,n,r,s)=>{if(typeof t=="object"){const f=`${t.r}${t.s.slice(2)}${t.v.slice(2)}`;return G0(t.messageHash,f,n)}if(typeof e=="string"&&typeof n=="string"&&!H(r)){const f=`${n}${r.slice(2)}${e.slice(2)}`;return G0(t,f,s)}if(H(e))throw new t9("signature string undefined");const i=130,a=n?t:Sb(t);let c=parseInt(e.substring(i),16);c>26&&(c-=27);const l=gi.Signature.fromCompact(e.slice(2,i)).addRecoveryBit(c).recoverPublicKey(a.replace("0x","")).toRawBytes(!1),u=pr(l.subarray(1));return Cs(`0x${u.slice(-40)}`)},lg=t=>{const e=Al(t),n=gi.getPublicKey(e,!1),s=pr(n.slice(1)).slice(-40);return Cs(`0x${s}`)},KW=(t,e)=>{const n=Al(t);return`0x${Le(gi.getPublicKey(n,e)).slice(4)}`},TT=(t,e,n)=>cg(void 0,void 0,void 0,function*(){var r,s,i,a,c,l,u;const d=Al(t);let f;if(n?.salt?f=typeof n.salt=="string"?ut(n.salt):n.salt:f=xd(32),!(Xw(e)||No(e)))throw new s9;const h=typeof e=="string"?ut(Zr(e)):e;let m;if(n?.iv){if(m=typeof n.iv=="string"?ut(n.iv):n.iv,m.length!==16)throw new i9}else m=xd(16);const g=(r=n?.kdf)!==null&&r!==void 0?r:"scrypt";let p,y;if(g==="pbkdf2"){if(y={dklen:(s=n?.dklen)!==null&&s!==void 0?s:32,salt:Le(f).replace("0x",""),c:(i=n?.c)!==null&&i!==void 0?i:262144,prf:"hmac-sha256"},y.c<1e3)throw new o9;p=tT(h,f,y.c,y.dklen,"sha256")}else if(g==="scrypt")y={n:(a=n?.n)!==null&&a!==void 0?a:8192,r:(c=n?.r)!==null&&c!==void 0?c:8,p:(l=n?.p)!==null&&l!==void 0?l:1,dklen:(u=n?.dklen)!==null&&u!==void 0?u:32,salt:Le(f).replace("0x","")},p=nT(h,f,y.n,y.p,y.r,y.dklen);else throw new HC;const x=yield mb(d,p.slice(0,16),m,"aes-128-ctr"),w=Le(x).slice(2),b=pr(Mn(p.slice(16,32),x)).replace("0x","");return{version:3,id:lb(),address:lg(d).toLowerCase().replace("0x",""),crypto:{ciphertext:w,cipherparams:{iv:Le(m).replace("0x","")},cipher:"aes-128-ctr",kdf:g,kdfparams:y,mac:b}}}),Nb=(t,e)=>{const n=Al(t,e);return{address:lg(n),privateKey:Le(n),signTransaction:r=>{throw new S0("Do not have network access to sign the transaction")},sign:r=>CT(typeof r=="string"?r:JSON.stringify(r),n),encrypt:(r,s)=>cg(void 0,void 0,void 0,function*(){return TT(n,r,s)})}},QW=()=>{const t=gi.utils.randomPrivateKey();return Nb(`${Le(t)}`)},YW=(t,e,n)=>cg(void 0,void 0,void 0,function*(){const r=typeof t=="object"?t:JSON.parse(n?t.toLowerCase():t);if(ve.validateJSONSchema(DG,r),r.version!==3)throw new r9;const s=typeof e=="string"?ut(Zr(e)):e;ve.validate(["bytes"],[s]);let i;if(r.crypto.kdf==="scrypt"){const u=r.crypto.kdfparams,d=typeof u.salt=="string"?ut(u.salt):u.salt;i=nT(s,d,u.n,u.p,u.r,u.dklen)}else if(r.crypto.kdf==="pbkdf2"){const u=r.crypto.kdfparams,d=typeof u.salt=="string"?ut(u.salt):u.salt;i=tT(s,d,u.c,u.dklen,"sha256")}else throw new HC;const a=ut(r.crypto.ciphertext);if(pr(Mn(i.slice(16,32),a)).replace("0x","")!==r.crypto.mac)throw new n9;const l=yield TV(ut(r.crypto.ciphertext),i.slice(0,16),ut(r.crypto.cipherparams.iv));return Nb(l)});var hA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const JW=1e3;class ZW{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){const n=wa(e),r=new _m;return this._requests.set(n.id,{payload:n,promise:r}),r}execute(e){return hA(this,void 0,void 0,function*(){var n;if(this.requests.length===0)return Promise.resolve([]);const r=new _m({timeout:(n=e?.timeout)!==null&&n!==void 0?n:JW,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(s=>r.reject(s)),r.catch(s=>{s instanceof zC&&this._abortAllRequests("Batch request timeout"),r.reject(s)}),r})}_processBatchRequest(e){return hA(this,void 0,void 0,function*(){var n,r;const s=yield this._requestManager.sendBatch([...this._requests.values()].map(c=>c.payload));if(s.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new hs(s,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${s.length}`);const i=this.requests.map(c=>c.id).map(Number).sort((c,l)=>c-l),a=s.map(c=>c.id).map(Number).sort((c,l)=>c-l);if(JSON.stringify(i)!==JSON.stringify(a))throw this._abortAllRequests("Invalid batch response"),new hs(s,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${a.join()}]`);for(const c of s)eo(c)?(n=this._requests.get(c.id))===null||n===void 0||n.promise.resolve(c.result):to(c)&&((r=this._requests.get(c.id))===null||r===void 0||r.promise.reject(c.error));e.resolve(s)})}_abortAllRequests(e){for(const{promise:n}of this._requests.values())n.reject(new h9(e))}}var XW=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class Qn extends EV{constructor(e){var n;if(super(),this.providers=sa.providers,we(e)||typeof e=="string"&&e.trim()!==""||Sm(e)){this._requestManager=new sa(e),this._subscriptionManager=new Nm(this._requestManager,{});return}const{config:r,provider:s,requestManager:i,subscriptionManager:a,registeredSubscriptions:c,accountProvider:l,wallet:u,requestManagerMiddleware:d}=e;this.setConfig(r??{}),this._requestManager=i??new sa(s,(n=r?.enableExperimentalFeatures)===null||n===void 0?void 0:n.useSubscriptionWhenCheckingBlockTimeout,d),a?this._subscriptionManager=a:this._subscriptionManager=new Nm(this.requestManager,c??{}),l&&(this._accountProvider=l),u&&(this._wallet=u)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:(e=this.subscriptionManager)===null||e===void 0?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...n){const r=new e(...n,this.getContextObject());return this.on(ba.CONFIG_CHANGE,s=>{r.setConfig({[s.name]:s.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(ba.CONFIG_CHANGE,n=>{this.setConfig({[n.name]:n.newValue})})}registerPlugin(e){if(this[e.pluginNamespace]!==void 0)throw new m9(e.pluginNamespace);const n={[e.pluginNamespace]:e};n[e.pluginNamespace].link(this),Object.assign(this,n)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return Qn.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return ZW.bind(void 0,this._requestManager)}extend(e){var n;return e.property&&!this[e.property]&&(this[e.property]={}),(n=e.methods)===null||n===void 0||n.forEach(r=>{const s=(...i)=>XW(this,void 0,void 0,function*(){return this.requestManager.send({method:r.call,params:i})});e.property?this[e.property][r.name]=s:this[r.name]=s}),this}}Qn.providers=sa.providers;class Ft{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){const n=this._iban.slice(4),r=Ft._parseInt(n,36),s=yd(r,40);return Cs(s)}throw new Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},Ft.isIndirect(e)||Ft.isDirect(e))this._iban=e;else throw new Error("Invalid IBAN was provided")}static isDirect(e){return e.length===34||e.length===35}isDirect(){return Ft.isDirect(this._iban)}static isIndirect(e){return e.length===20}isIndirect(){return Ft.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&Ft._mod9710(Ft._iso13616Prepare(e))===1}isValid(){return Ft.isValid(this._iban)}static fromBban(e){const n="XE",s=`0${(98-this._mod9710(this._iso13616Prepare(`${n}00${e}`))).toString()}`.slice(-2);return new Ft(`${n}${s}${e}`)}static createIndirect(e){return Ft.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!mr(e))throw new Ww(e);const r=BigInt(qd(e)).toString(36),s=yd(r,15);return Ft.fromBban(s.toUpperCase())}static toIban(e){return Ft.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}Ft._iso13616Prepare=t=>{const r=t.toUpperCase();return`${r.slice(4)}${r.slice(0,4)}`.split("").map(i=>{const a=i.charCodeAt(0);return a>=65&&a<=90?a-65+10:i}).join("")};Ft._parseInt=(t,e)=>[...t].reduce((n,r)=>BigInt(parseInt(r,e))+BigInt(e)*n,BigInt(0));Ft._mod9710=t=>{let e=t,n;for(;e.length>2;)n=e.slice(0,9),e=`${(parseInt(n,10)%97).toString()}${e.slice(n.length)}`;return parseInt(e,10)%97};Ft.toAddress=t=>new Ft(t).toAddress();var Ly=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},PT;class IT extends sg{constructor(e){super(),this[PT]="Promise",this._promise=new Promise(e)}then(e,n){return Ly(this,void 0,void 0,function*(){return this._promise.then(e,n)})}catch(e){return Ly(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return Ly(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,n){return super.on(e,n),this}once(e,n){return super.once(e,n),this}}PT=Symbol.toStringTag;(function(t,e){if(t.setImmediate)return;var n=1,r={},s=!1,i=t.document,a;function c(w){typeof w!="function"&&(w=new Function(""+w));for(var b=new Array(arguments.length-1),j=0;j<b.length;j++)b[j]=arguments[j+1];var E={callback:w,args:b};return r[n]=E,a(n),n++}function l(w){delete r[w]}function u(w){var b=w.callback,j=w.args;switch(j.length){case 0:b();break;case 1:b(j[0]);break;case 2:b(j[0],j[1]);break;case 3:b(j[0],j[1],j[2]);break;default:b.apply(e,j);break}}function d(w){if(s)setTimeout(d,0,w);else{var b=r[w];if(b){s=!0;try{u(b)}finally{l(w),s=!1}}}}function f(){a=function(w){process.nextTick(function(){d(w)})}}function h(){if(t.postMessage&&!t.importScripts){var w=!0,b=t.onmessage;return t.onmessage=function(){w=!1},t.postMessage("","*"),t.onmessage=b,w}}function m(){var w="setImmediate$"+Math.random()+"$",b=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(w)===0&&d(+j.data.slice(w.length))};t.addEventListener?t.addEventListener("message",b,!1):t.attachEvent("onmessage",b),a=function(j){t.postMessage(w+j,"*")}}function g(){var w=new MessageChannel;w.port1.onmessage=function(b){var j=b.data;d(j)},a=function(b){w.port2.postMessage(b)}}function p(){var w=i.documentElement;a=function(b){var j=i.createElement("script");j.onreadystatechange=function(){d(b),j.onreadystatechange=null,w.removeChild(j),j=null},w.appendChild(j)}}function y(){a=function(w){setTimeout(d,0,w)}}var x=Object.getPrototypeOf&&Object.getPrototypeOf(t);x=x&&x.setTimeout?x:t,{}.toString.call(t.process)==="[object process]"?f():h()?m():t.MessageChannel?g():i&&"onreadystatechange"in i.createElement("script")?p():y(),x.setImmediate=c,x.clearImmediate=l})(typeof self>"u"?qt:self);var Ae=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function eq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_protocolVersion",params:[]})})}function RT(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_syncing",params:[]})})}function tq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_coinbase",params:[]})})}function nq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_mining",params:[]})})}function rq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_hashrate",params:[]})})}function sq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_gasPrice",params:[]})})}function iq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_maxPriorityFeePerGas",params:[]})})}function oq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_accounts",params:[]})})}function aq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_blockNumber",params:[]})})}function cq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getBalance",params:[e,n]})})}function lq(t,e,n,r){return Ae(this,void 0,void 0,function*(){return ve.validate(["address","hex","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getStorageAt",params:[e,n,r]})})}function uq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getTransactionCount",params:[e,n]})})}function dq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes32"],[e]),t.send({method:"eth_getBlockTransactionCountByHash",params:[e]})})}function fq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getBlockTransactionCountByNumber",params:[e]})})}function hq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes32"],[e]),t.send({method:"eth_getUncleCountByBlockHash",params:[e]})})}function mq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag"],[e]),t.send({method:"eth_getUncleCountByBlockNumber",params:[e]})})}function pq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["address","blockNumberOrTag"],[e,n]),t.send({method:"eth_getCode",params:[e,n]})})}function gq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["address","hex"],[e,n]),t.send({method:"eth_sign",params:[e,n]})})}function yq(t,e){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_signTransaction",params:[e]})})}function vq(t,e){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_sendTransaction",params:[e]})})}function OT(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["hex"],[e]),t.send({method:"eth_sendRawTransaction",params:[e]})})}function xq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_call",params:[e,n]})})}function wq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_estimateGas",params:[e,n]})})}function bq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes32","bool"],[e,n]),t.send({method:"eth_getBlockByHash",params:[e,n]})})}function MT(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag","bool"],[e,n]),t.send({method:"eth_getBlockByNumber",params:[e,n]})})}function jq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionByHash",params:[e]})})}function Eq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockHashAndIndex",params:[e,n]})})}function Aq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[e,n]})})}function _q(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes32"],[e]),t.send({method:"eth_getTransactionReceipt",params:[e]})})}function Sq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes32","hex"],[e,n]),t.send({method:"eth_getUncleByBlockHashAndIndex",params:[e,n]})})}function Nq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag","hex"],[e,n]),t.send({method:"eth_getUncleByBlockNumberAndIndex",params:[e,n]})})}function kq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["filter"],[e]),t.send({method:"eth_newFilter",params:[e]})})}function Cq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_newBlockFilter",params:[]})})}function Tq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_newPendingTransactionFilter",params:[]})})}function Pq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["hex"],[e]),t.send({method:"eth_uninstallFilter",params:[e]})})}function Iq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["hex"],[e]),t.send({method:"eth_getFilterChanges",params:[e]})})}function Rq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["hex"],[e]),t.send({method:"eth_getFilterLogs",params:[e]})})}function Oq(t,e){return Ae(this,void 0,void 0,function*(){return ve.validate(["filter"],[e]),t.send({method:"eth_getLogs",params:[e]})})}function Mq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_getWork",params:[]})})}function Bq(t,e,n,r){return Ae(this,void 0,void 0,function*(){return ve.validate(["bytes8","bytes32","bytes32"],[e,n,r]),t.send({method:"eth_submitWork",params:[e,n,r]})})}function Dq(t,e,n,r){return Ae(this,void 0,void 0,function*(){ve.validate(["hex","blockNumberOrTag"],[e,n]);for(const s of r)ve.validate(["number"],[s]);return t.send({method:"eth_feeHistory",params:[e,n,r]})})}function Lq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_pendingTransactions",params:[]})})}function Fq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_requestAccounts",params:[]})})}function Uq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"eth_chainId",params:[]})})}function $q(t,e,n,r){return Ae(this,void 0,void 0,function*(){return ve.validate(["address","bytes32[]","blockNumberOrTag"],[e,n,r]),t.send({method:"eth_getProof",params:[e,n,r]})})}function Hq(t){return Ae(this,void 0,void 0,function*(){return t.send({method:"web3_clientVersion",params:[]})})}function zq(t,e,n){return Ae(this,void 0,void 0,function*(){return ve.validate(["blockNumberOrTag"],[n]),t.send({method:"eth_createAccessList",params:[e,n]})})}function Vq(t,e,n,r=!1){return Ae(this,void 0,void 0,function*(){return ve.validate(["address"],[e]),t.send({method:`eth_signTypedData${r?"":"_v4"}`,params:[e,n]})})}var kb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function Gq(t){return kb(this,void 0,void 0,function*(){return t.send({method:"net_version",params:[]})})}function Wq(t){return kb(this,void 0,void 0,function*(){return t.send({method:"net_peerCount",params:[]})})}function qq(t){return kb(this,void 0,void 0,function*(){return t.send({method:"net_listening",params:[]})})}var yi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const Kq=t=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_listAccounts",params:[]})}),Qq=(t,e)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_newAccount",params:[e]})}),Yq=(t,e,n,r)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_unlockAccount",params:[e,n,r]})}),Jq=(t,e)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_lockAccount",params:[e]})}),Zq=(t,e,n)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_importRawKey",params:[e,n]})}),Xq=(t,e,n)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_sendTransaction",params:[e,n]})}),eK=(t,e,n)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_signTransaction",params:[e,n]})}),tK=(t,e,n,r)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_sign",params:[e,n,r]})}),nK=(t,e,n)=>yi(void 0,void 0,void 0,function*(){return t.send({method:"personal_ecRecover",params:[e,n]})}),mA={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},pA={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},gA={type:"object",properties:{gasPrice:{type:"null"}}},Rf=(t,e,n)=>{try{ve.validateJSONSchema(t,e)}catch(r){throw r instanceof Jc?new $9(r.errors,n):r}},rK=t=>{var e,n;const r=t;if(!H(r.type)){let i;switch(r.type){case"0x0":i=mA;break;case"0x1":i=pA;break;case"0x2":i=gA;break;default:return Y({format:"uint"},r.type,Se)}return Rf(i,r,r.type),Y({format:"uint"},r.type,Se)}if(!H(r.maxFeePerGas)||!H(r.maxPriorityFeePerGas))return Rf(gA,r,"0x2"),"0x2";if(!H(r.accessList))return Rf(pA,r,"0x1"),"0x1";const s=(e=r.hardfork)!==null&&e!==void 0?e:(n=r.common)===null||n===void 0?void 0:n.hardfork;if(!H(s)){const i=Object.keys(Eu).indexOf(s);if(i>=Object.keys(Eu).indexOf("london"))return H(r.gasPrice)?"0x2":"0x0";if(i===Object.keys(Eu).indexOf("berlin"))return"0x0"}if(!H(r.gasPrice))return Rf(mA,r,"0x0"),"0x0"},sK=(t,e)=>{var n;return((n=e?.transactionTypeParser)!==null&&n!==void 0?n:rK)(t)},iK=t=>t[0]>127?"0x0":fi(t[0]),oK={type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}},Cb={type:"array",items:Object.assign({},oK)},aK={type:"object",properties:{accessList:Object.assign({},Cb),gasUsed:{type:"string"}}},yA={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},vA={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},cK={type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}},BT={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Cb),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},yA),hardfork:Object.assign({},vA),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},cK),baseChain:Object.assign({},yA),hardfork:Object.assign({},vA)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},W0={type:"object",properties:Object.assign(Object.assign({},BT.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},Cb),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},DT={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},Rm={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},W0)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},DT)},withdrawalsRoot:{format:"bytes32"}}},lK={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},DT)},withdrawalsRoot:{format:"bytes32"}}},_l={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},uK={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},Sl={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},_l)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},dK={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},fK={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},hK={type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}},mK={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},hK)}}};function er(t,e=Pn,n={transactionSchema:W0,fillInputAndData:!1}){var r,s;let i=ko({},t);if(H(t?.common)||(i.common=Object.assign({},t.common),H((r=t.common)===null||r===void 0?void 0:r.customChain)||(i.common.customChain=Object.assign({},t.common.customChain))),i=Y((s=n.transactionSchema)!==null&&s!==void 0?s:W0,i,e),!H(i.data)&&!H(i.input)&&fi(i.data)!==fi(i.input))throw new qC({data:Le(i.data),input:Le(i.input)});return n.fillInputAndData&&(H(i.data)?H(i.input)||(i.data=i.input):i.input=i.data),H(i.gasLimit)||(i.gas=i.gasLimit,delete i.gasLimit),i}function pK(t,e,n={fillInputAndData:!1}){return{raw:Y({format:"bytes"},t,e),tx:er(Object.assign(Object.assign({},Ea.fromSerializedData(ut(t)).toJSON()),{hash:Le(el(ut(t))),type:iK(ut(t))}),e,{fillInputAndData:n.fillInputAndData,transactionSchema:n.transactionSchema})}}var Tb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function Pb(t,e){return Tb(this,void 0,void 0,function*(){const n=yield Gq(t.requestManager);return Y({format:"uint"},n,e)})}function gK(t,e){return Tb(this,void 0,void 0,function*(){const n=yield Wq(t.requestManager);return Y({format:"uint"},n,e)})}const yK=t=>Tb(void 0,void 0,void 0,function*(){return qq(t.requestManager)});var Fy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class LT extends Qn{getId(e=this.defaultReturnFormat){return Fy(this,void 0,void 0,function*(){return Pb(this,e)})}getPeerCount(e=this.defaultReturnFormat){return Fy(this,void 0,void 0,function*(){return gK(this,e)})}isListening(){return Fy(this,void 0,void 0,function*(){return yK(this)})}}const ol="ALLEVENTS",q0={name:ol,signature:"",type:"event",inputs:[]},ug={bytes:li.HEX,number:Tr.NUMBER};var FT=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function vK(t,e,n){return FT(this,void 0,void 0,function*(){var r,s,i,a;const c=yield mP(e,e.defaultBlock,!1,Se);if(H(c.baseFeePerGas))throw new D9;let l;if(H(t.gasPrice)&&BigInt(c.baseFeePerGas)===BigInt(0)&&(l=yield Ub(e,n)),!H(t.gasPrice)||!H(l)){const u=Y({format:"uint"},(r=t.gasPrice)!==null&&r!==void 0?r:l,n);return{maxPriorityFeePerGas:u,maxFeePerGas:u}}return{maxPriorityFeePerGas:Y({format:"uint"},(s=t.maxPriorityFeePerGas)!==null&&s!==void 0?s:e.defaultMaxPriorityFeePerGas,n),maxFeePerGas:Y({format:"uint"},(i=t.maxFeePerGas)!==null&&i!==void 0?i:BigInt(c.baseFeePerGas)*BigInt(2)+BigInt((a=t.maxPriorityFeePerGas)!==null&&a!==void 0?a:e.defaultMaxPriorityFeePerGas),n)}})}function UT(t,e,n){return FT(this,void 0,void 0,function*(){const r=$T(t,e);if(!H(r)){if(r.startsWith("-"))throw new PE(r);if(Number(r)<0||Number(r)>127)throw new PE(r);if(H(t.gasPrice)&&(r==="0x0"||r==="0x1"))return{gasPrice:yield Ub(e,n),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if(r==="0x2")return Object.assign({gasPrice:void 0},yield vK(t,e,n))}})}var Ib=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const K0=(t,e,n,r)=>{if(n!==void 0&&t in n&&n[t]!==void 0){if(typeof n[t]=="string"&&mr(n[t]))return n[t];if(!et(n[t])&&E2(n[t])){if(e.wallet){const s=e.wallet.get(Y({format:"uint"},n[t],ug));if(!H(s))return s.address;throw new IE}throw new IE}else throw t==="from"?new v9(n.from):new x9(n.to)}if(t==="from"){if(!H(r))return lg(r);if(!H(e.defaultAccount))return e.defaultAccount}},xK=(t,e,...n)=>Ib(void 0,[t,e,...n],void 0,function*(r,s,i=r.defaultReturnFormat){if(H(s))throw new B9;return gP(r,s,r.defaultBlock,i)}),$T=(t,e)=>{const n=sK(t,e);if(!H(n))return n;if(!H(e.defaultTransactionType))return Y({format:"uint"},e.defaultTransactionType,Se)};function wK(t){return Ib(this,void 0,void 0,function*(){var e,n;let r=Y(BT,t.transaction,t.web3Context.defaultReturnFormat);if(H(r.from)&&(r.from=K0("from",t.web3Context,void 0,t.privateKey)),H(r.nonce)&&(r.nonce=yield xK(t.web3Context,r.from,Se)),H(r.value)&&(r.value="0x0"),H(r.data))H(r.input)?r.input="0x":r.input.startsWith("0x")||(r.input=`0x${r.input}`);else{if(!H(r.input)&&r.data!==r.input)throw new qC({data:Le(r.data),input:Le(r.input)});r.data.startsWith("0x")||(r.data=`0x${r.data}`)}if(H(r.common)){if(t.web3Context.defaultCommon){const s=t.web3Context.defaultCommon,i=s.customChain.chainId,a=s.customChain.networkId,c=s.customChain.name;r.common=Object.assign(Object.assign({},s),{customChain:{chainId:i,networkId:a,name:c}})}H(r.chain)&&(r.chain=t.web3Context.defaultChain),H(r.hardfork)&&(r.hardfork=t.web3Context.defaultHardfork)}if(H(r.chainId)&&H((e=r.common)===null||e===void 0?void 0:e.customChain.chainId)&&(r.chainId=yield vP(t.web3Context,Se)),H(r.networkId)&&(r.networkId=(n=t.web3Context.defaultNetworkId)!==null&&n!==void 0?n:yield Pb(t.web3Context,Se)),H(r.gasLimit)&&!H(r.gas)&&(r.gasLimit=r.gas),r.type=$T(r,t.web3Context),H(r.accessList)&&(r.type==="0x1"||r.type==="0x2")&&(r.accessList=[]),t.fillGasPrice&&(r=Object.assign(Object.assign({},r),yield UT(r,t.web3Context,Se))),H(r.gas)&&H(r.gasLimit)&&t.fillGasLimit){const s=yield zb(t.web3Context,r,"latest",Se);r=Object.assign(Object.assign({},r),{gas:Y({format:"uint"},s,Se)})}return r})}const bK=t=>Ib(void 0,void 0,void 0,function*(){var e;return((e=t.web3Context.transactionBuilder)!==null&&e!==void 0?e:wK)(Object.assign(Object.assign({},t),{transaction:t.transaction}))});var Rb=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function Q0(t,e,n){const r=t.transactionPollingInterval,[s,i]=L2(()=>Rb(this,void 0,void 0,function*(){let c;try{c=yield $b(t,ug)}catch(u){console.warn("An error happen while trying to get the block number",u);return}const l=c-e;if(l>=t.transactionBlockTimeout)return new YC({starterBlockNumber:e,numberOfBlocks:l,transactionHash:n})}),r);return[i,{clean:()=>{clearInterval(s)}}]}function jK(t,e,n){return Rb(this,void 0,void 0,function*(){var r;let s=!0,i,a;function c(u,d){d&&console.warn("error happened at subscription. So revert to polling...",d),a.clean(),s=!1;const[f,h]=Q0(t,e,n);a.clean=h.clean,f.catch(m=>u(m))}try{i=yield(r=t.subscriptionManager)===null||r===void 0?void 0:r.subscribe("newHeads"),a={clean:()=>{var u;i.id&&((u=t.subscriptionManager)===null||u===void 0||u.removeSubscription(i).then(()=>{}).catch(()=>{}))}}}catch{return Q0(t,e,n)}return[new Promise((u,d)=>{try{i.on("data",f=>{if(s=!1,!f?.number)return;const h=Number(BigInt(f.number)-BigInt(e));h>=t.transactionBlockTimeout&&d(new YC({starterBlockNumber:e,numberOfBlocks:h,transactionHash:n}))}),i.on("error",f=>{c(d,f)})}catch(f){c(d,f)}setTimeout(()=>{s&&c(d)},t.blockHeaderTimeout*1e3)}),a]})}function HT(t,e){return Rb(this,void 0,void 0,function*(){var n,r;const{provider:s}=t.requestManager;let i;const a=yield $b(t,ug);return!((r=(n=s).supportsSubscriptions)===null||r===void 0)&&r.call(n)&&t.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?i=yield jK(t,a,e):i=Q0(t,a,e),i})}var EK=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function Y0(t,e,n){return EK(this,void 0,void 0,function*(){const[r,s]=cb(t.transactionSendTimeout,new L9({numberOfSeconds:t.transactionSendTimeout/1e3,transactionHash:n})),[i,a]=yield HT(t,n);try{return yield Promise.race([e(),s,i])}finally{clearTimeout(r),a.clean()}})}var xA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function zT(t,e,n,r){return xA(this,void 0,void 0,function*(){var s;const i=(s=t.transactionReceiptPollingInterval)!==null&&s!==void 0?s:t.transactionPollingInterval,[a,c]=ab(()=>xA(this,void 0,void 0,function*(){try{return(r??pP)(t,e,n)}catch(h){console.warn("An error happen while trying to get the transaction receipt",h);return}}),i),[l,u]=cb(t.transactionPollingTimeout,new QC({numberOfSeconds:t.transactionPollingTimeout/1e3,transactionHash:e})),[d,f]=yield HT(t,e);try{return yield Promise.race([a,u,d])}finally{l&&clearTimeout(l),c&&clearInterval(c),f.clean()}})}var AK=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const lh=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{var i;let a=1;const c=setInterval(()=>{AK(void 0,void 0,void 0,function*(){if(a>=t.transactionConfirmationBlocks){clearInterval(c);return}const l=yield MT(t.requestManager,Qt(BigInt(e.blockNumber)+BigInt(a)),!1);l?.hash&&(a+=1,n.emit("confirmation",{confirmations:Y({format:"uint"},a,s),receipt:Y(r??Sl,e,s),latestBlockHash:Y({format:"bytes32"},l.hash,s)}))})},(i=t.transactionReceiptPollingInterval)!==null&&i!==void 0?i:t.transactionPollingInterval)};var wA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const _K=({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})=>{let i=!0,a;setImmediate(()=>{var c;(c=t.subscriptionManager)===null||c===void 0||c.subscribe("newHeads").then(l=>{l.on("data",u=>wA(void 0,void 0,void 0,function*(){var d;if(i=!1,!u?.number||a===u?.parentHash)return;a=u?.parentHash;const f=BigInt(u.number)-BigInt(e.blockNumber)+BigInt(1);n.emit("confirmation",{confirmations:Y({format:"uint"},f,s),receipt:Y(r??Sl,e,s),latestBlockHash:Y({format:"bytes32"},u.parentHash,s)}),f>=t.transactionConfirmationBlocks&&(yield(d=t.subscriptionManager)===null||d===void 0?void 0:d.removeSubscription(l))})),l.on("error",()=>wA(void 0,void 0,void 0,function*(){var u;yield(u=t.subscriptionManager)===null||u===void 0?void 0:u.removeSubscription(l),i=!1,lh({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,customTransactionReceiptSchema:r,returnFormat:s})}))}).catch(()=>{i=!1,lh({web3Context:t,transactionReceipt:e,customTransactionReceiptSchema:r,transactionPromiEvent:n,returnFormat:s})})}),setTimeout(()=>{i&&lh({web3Context:t,transactionReceipt:e,transactionPromiEvent:n,returnFormat:s})},t.blockHeaderTimeout*1e3)};function SK(t,e,n,r,s,i){if(H(n)||H(n.blockHash))throw new F9({receipt:n,blockHash:Y({format:"bytes32"},n?.blockHash,s),transactionHash:Y({format:"bytes32"},r,s)});if(!n.blockNumber)throw new U9({receipt:n});e.emit("confirmation",{confirmations:Y({format:"uint"},1,s),receipt:Y(i??Sl,n,s),latestBlockHash:Y({format:"bytes32"},n.blockHash,s)});const a=t.requestManager.provider;a&&"supportsSubscriptions"in a&&a.supportsSubscriptions()?_K({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s}):lh({web3Context:t,transactionReceipt:n,transactionPromiEvent:e,customTransactionReceiptSchema:i,returnFormat:s})}const dg=t=>!we(t)&&typeof t=="object"&&!we(t.type)&&t.type==="error",Ob=t=>!we(t)&&typeof t=="object"&&!we(t.type)&&t.type==="event",fg=t=>!we(t)&&typeof t=="object"&&!we(t.type)&&t.type==="function",NK=t=>!we(t)&&typeof t=="object"&&!we(t.type)&&t.type==="constructor",kK=t=>typeof t=="object"&&typeof t.components>"u"&&typeof t.name>"u",VT=t=>t.includes("[]")?{type:"tuple[]",name:t.slice(0,-2)}:{type:"tuple",name:t},GT=t=>{const e=[];for(const n of Object.keys(t)){const r=t[n];typeof r=="object"?e.push(Object.assign(Object.assign({},VT(n)),{components:GT(r)})):e.push({name:n,type:t[n]})}return e},J0=(t,e)=>{const n=[];return e.forEach(r=>{if(typeof r.components=="object"){if(!r.type.startsWith("tuple"))throw new We(`Invalid value given "${r.type}". Error: components found but type is not tuple.`);const s=r.type.indexOf("["),i=s>=0?r.type.substring(s):"",a=J0(t,r.components);Array.isArray(a)&&t?n.push(`tuple(${a.join(",")})${i}`):n.push(`(${a.join(",")})${i}`)}else n.push(r.type)}),n},Js=t=>{var e,n,r,s;return dg(t)||Ob(t)||fg(t)?!((e=t.name)===null||e===void 0)&&e.includes("(")?t.name:`${(n=t.name)!==null&&n!==void 0?n:""}(${J0(!1,(r=t.inputs)!==null&&r!==void 0?r:[]).join(",")})`:`(${J0(!1,(s=t.inputs)!==null&&s!==void 0?s:[]).join(",")})`},CK=t=>{if(typeof t!="string"&&!dg(t))throw new We("Invalid parameter value in encodeErrorSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Js(t):e=t,pr(e)},Mb=t=>{if(typeof t!="string"&&!Ob(t))throw new We("Invalid parameter value in encodeEventSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Js(t):e=t,pr(e)};function Bb(t,e){return t.exec(e)?.groups}var WT=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qT=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,KT=/^\(.+?\).*?$/,TK=Object.defineProperty,PK=(t,e,n)=>e in t?TK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gl=(t,e,n)=>(PK(t,typeof e!="symbol"?e+"":e,n),n),IK="abitype",RK="0.7.1",Wn=class extends Error{constructor(t,e={}){const n=e.cause instanceof Wn?e.cause.details:e.cause?.message?e.cause.message:e.details,r=e.cause instanceof Wn&&e.cause.docsPath||e.docsPath,s=[t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...r?[`Docs: https://abitype.dev${r}`]:[],...n?[`Details: ${n}`]:[],`Version: ${IK}@${RK}`].join(`
`);super(s),Gl(this,"details"),Gl(this,"docsPath"),Gl(this,"metaMessages"),Gl(this,"shortMessage"),Gl(this,"name","AbiTypeError"),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=r,this.metaMessages=e.metaMessages,this.shortMessage=t}},QT=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/;function YT(t){return QT.test(t)}function OK(t){return Bb(QT,t)}var bA=new Set(["memory","indexed","storage","calldata"]),MK=new Set(["calldata","memory","storage"]);function BK(t,e){return e?`${e}:${t}`:t}var Uy=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),DK=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,LK=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,FK=/^u?int$/;function Om(t,e){const n=BK(t,e?.type);if(Uy.has(n))return Uy.get(n);const r=KT.test(t),s=Bb(r?LK:DK,t);if(!s)throw new Wn("Invalid ABI parameter.",{details:t});if(s.name&&$K(s.name))throw new Wn("Invalid ABI parameter.",{details:t,metaMessages:[`"${s.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});const i=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},c=e?.structs??{};let l,u={};if(r){l="tuple";const f=tc(s.type),h=[],m=f.length;for(let g=0;g<m;g++)h.push(Om(f[g],{structs:c}));u={components:h}}else if(s.type in c)l="tuple",u={components:c[s.type]};else if(FK.test(s.type))l=`${s.type}256`;else if(l=s.type,e?.type!=="struct"&&!JT(l))throw new Wn("Unknown type.",{metaMessages:[`Type "${l}" is not a valid ABI type.`]});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new Wn("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`]});if(MK.has(s.modifier)&&!HK(l,!!s.array))throw new Wn("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${s.modifier}" not allowed${e?.type?` in "${e.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${s.modifier}" was given.`]})}const d={type:`${l}${s.array??""}`,...i,...a,...u};return Uy.set(n,d),d}function tc(t,e=[],n="",r=0){if(t===""){if(n==="")return e;if(r!==0)throw new Wn("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`});return[...e,n.trim()]}const s=t.length;for(let i=0;i<s;i++){const a=t[i],c=t.slice(i+1);switch(a){case",":return r===0?tc(c,[...e,n.trim()]):tc(c,e,`${n}${a}`,r);case"(":return tc(c,e,`${n}${a}`,r+1);case")":return tc(c,e,`${n}${a}`,r-1);default:return tc(c,e,`${n}${a}`,r)}}return[]}function JT(t){return t==="address"||t==="bool"||t==="function"||t==="string"||WT.test(t)||qT.test(t)}var UK=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function $K(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||WT.test(t)||qT.test(t)||UK.test(t)}function HK(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function zK(t){const e={},n=t.length;for(let a=0;a<n;a++){const c=t[a];if(!YT(c))continue;const l=OK(c);if(!l)throw new Wn("Invalid struct signature.",{details:c});const u=l.properties.split(";"),d=[],f=u.length;for(let h=0;h<f;h++){const g=u[h].trim();if(!g)continue;const p=Om(g,{type:"struct"});d.push(p)}if(!d.length)throw new Wn("Invalid struct signature.",{details:c,metaMessages:["No properties exist."]});e[l.name]=d}const r={},s=Object.entries(e),i=s.length;for(let a=0;a<i;a++){const[c,l]=s[a];r[c]=ZT(l,e)}return r}var VK=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function ZT(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const a=t[i];if(KT.test(a.type))r.push(a);else{const l=Bb(VK,a.type);if(!l?.type)throw new Wn("Invalid ABI parameter.",{details:JSON.stringify(a,null,2),metaMessages:["ABI parameter type is invalid."]});const{array:u,type:d}=l;if(d in e){if(n.has(d))throw new Wn("Circular reference detected.",{metaMessages:[`Struct "${d}" is a circular reference.`]});r.push({...a,type:`tuple${u??""}`,components:ZT(e[d]??[],e,new Set([...n,d]))})}else if(JT(d))r.push(a);else throw new Wn("Unknown type.",{metaMessages:[`Type "${d}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return r}function GK(t){let e;if(typeof t=="string")e=Om(t,{modifiers:bA});else{const n=zK(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!YT(i)){e=Om(i,{modifiers:bA,structs:n});break}}}if(!e)throw new Wn("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return e}const Pt=32;function Z0(t=0){var e;if(((e=globalThis.Buffer)===null||e===void 0?void 0:e.alloc)!==void 0){const n=globalThis.Buffer.alloc(t);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}return new Uint8Array(t)}function XT(t){var e,n;return Object.assign(Object.assign({},t),{name:(e=t.name)!==null&&e!==void 0?e:"",components:(n=t.components)===null||n===void 0?void 0:n.map(r=>XT(r))})}function WK(t){return!we(t)&&typeof t=="object"&&!we(t.type)&&typeof t.type=="string"}function eP(t){return t.map(e=>{var n;if(WK(e))return e;if(typeof e=="string")return XT(GK(e.replace(/tuple/,"")));if(kK(e)){const r=Object.keys(e)[0],s=VT(r);return s.name=(n=s.name)!==null&&n!==void 0?n:"",Object.assign(Object.assign({},s),{components:GT(e[r])})}throw new We("Invalid abi")})}function Db(t){const e=t.type.lastIndexOf("["),n=t.type.substring(0,e),r=t.type.substring(e);let s=-1;if(r!=="[]"&&(s=Number(r.slice(1,-1)),isNaN(s)))throw new We("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:t.components},size:s}}function Mm(t){var e,n;return t.type==="string"||t.type==="bytes"||t.type.endsWith("[]")?!0:t.type==="tuple"?(n=(e=t.components)===null||e===void 0?void 0:e.some(Mm))!==null&&n!==void 0?n:!1:t.type.endsWith("]")?Mm(Db(t).param):!1}const tP=20,nP=Pt-tP;function qK(t,e){if(typeof e!="string")throw new We("address type expects string as input type",{value:e,name:t.name,type:t.type});let n=e.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!mr(n))throw new We("provided input is not valid address",{value:e,name:t.name,type:t.type});const r=Ra(n),s=Z0(Pt);return s.set(r,nP),{dynamic:!1,encoded:s}}function KK(t,e){const n=e.subarray(nP,Pt);if(n.length!==tP)throw new We("Invalid decoding input, not enough bytes to decode address",{bytes:e});const r=pi(n);return{result:Cs(r),encoded:e.subarray(Pt),consumed:Pt}}const xo=new Map;let Of=BigInt(256);for(let t=8;t<=256;t+=8)xo.set(`uint${t}`,{min:BigInt(0),max:Of-BigInt(1)}),xo.set(`int${t}`,{min:-Of/BigInt(2),max:Of/BigInt(2)-BigInt(1)}),Of*=BigInt(256);xo.set("int",xo.get("int256"));xo.set("uint",xo.get("uint256"));const rP=BigInt(1)<<BigInt(256);function QK(t,e=Pt){let n;return t<0?n=(rP+t).toString(16):n=t.toString(16),n=Xc(n,e*2),Ra(n)}function YK(t,e){const n=pi(t),r=BigInt(n);return r<=e?r:r-rP}function Zd(t,e){let n;try{n=Ko(e)}catch{throw new We("provided input is not number value",{type:t.type,value:e,name:t.name})}const r=xo.get(t.type);if(!r)throw new We("provided abi contains invalid number datatype",{type:t.type});if(n<r.min)throw new We("provided input is less then minimum for given type",{type:t.type,value:e,name:t.name,minimum:r.min.toString()});if(n>r.max)throw new We("provided input is greater then maximum for given type",{type:t.type,value:e,name:t.name,maximum:r.max.toString()});return{dynamic:!1,encoded:QK(n)}}function al(t,e){if(e.length<Pt)throw new We("Not enough bytes left to decode",{param:t,bytesLeft:e.length});const n=e.subarray(0,Pt),r=xo.get(t.type);if(!r)throw new We("provided abi contains invalid number datatype",{type:t.type});const s=YK(n,r.max);if(s<r.min)throw new We("decoded value is less then minimum for given type",{type:t.type,value:s,name:t.name,minimum:r.min.toString()});if(s>r.max)throw new We("decoded value is greater then maximum for given type",{type:t.type,value:s,name:t.name,maximum:r.max.toString()});return{result:s,encoded:e.subarray(Pt),consumed:Pt}}function JK(t,e){let n;try{n=k2(e)}catch(r){if(r instanceof qw)throw new We("provided input is not valid boolean value",{type:t.type,value:e,name:t.name})}return Zd({type:"uint8",name:""},Number(n))}function ZK(t,e){const n=al({type:"uint8",name:""},e);if(n.result>1||n.result<0)throw new We("Invalid boolean value encoded",{boolBytes:e.subarray(0,Pt),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:Pt}}const XK=32;function sP(t,e){if(typeof e=="string"&&e.length%2!==0&&(e+="0"),!So(e))throw new We("provided input is not valid bytes value",{type:t.type,value:e,name:t.name});const n=Ss(e),[,r]=t.type.split("bytes");if(r){if(Number(r)>XK||Number(r)<1)throw new We("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:t.type});if(Number(r)<n.length)throw new We("provided input size is different than type size",{type:t.type,value:e,name:t.name});const a=Z0(Pt);return a.set(n),{dynamic:!1,encoded:a}}const s=Math.ceil(n.length/Pt),i=Z0(Pt+s*Pt);return i.set(Zd({type:"uint32",name:""},n.length).encoded),i.set(n,Pt),{dynamic:!0,encoded:i}}function iP(t,e){const[,n]=t.type.split("bytes");let r=Number(n),s=e,i=1,a=0;if(!r){const c=al({type:"uint32",name:""},s);r=Number(c.result),a+=c.consumed,s=c.encoded,i=Math.ceil(r/Pt)}if(r>e.length)throw new We("there is not enough data to decode",{type:t.type,encoded:e,size:r});return{result:Le(s.subarray(0,r)),encoded:s.subarray(i*Pt),consumed:a+i*Pt}}function eQ(t,e){if(typeof e!="string")throw new We("invalid input, should be string",{input:e});const n=sb(e);return sP({type:"bytes",name:""},n)}function tQ(t,e){const n=iP({type:"bytes",name:""},e);return{result:eg(n.result),encoded:n.encoded,consumed:n.consumed}}function oP(t){let e=0,n=0;const r=[],s=[];for(const i of t)i.dynamic?e+=Pt:e+=i.encoded.length;for(const i of t)i.dynamic?(r.push(Zd({type:"uint256",name:""},e+n)),s.push(i),n+=i.encoded.length):r.push(i);return Mn(...r.map(i=>i.encoded),...s.map(i=>i.encoded))}function nQ(t,e){if(!Array.isArray(e))throw new We("Expected value to be array",{abi:t,values:e});const{size:n,param:r}=Db(t),s=e.map(c=>X0(r,c)),i=n===-1,a=s.length>0&&s[0].dynamic;if(!i&&e.length!==n)throw new We("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:e.length});if(i||a){const c=oP(s);if(i){const l=Zd({type:"uint256",name:""},s.length).encoded;return{dynamic:!0,encoded:s.length>0?Mn(l,c):l}}return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Mn(...s.map(c=>c.encoded))}}function rQ(t,e){let{size:n,param:r}=Db(t);const s=n===-1;let i=0;const a=[];let c=e;if(s){const u=al({type:"uint32",name:""},e);n=Number(u.result),i=u.consumed,c=u.encoded}if(Mm(r)){for(let u=0;u<n;u+=1){const d=al({type:"uint32",name:""},c.subarray(u*Pt));i+=d.consumed;const f=Bm(r,c.subarray(Number(d.result)));i+=f.consumed,a.push(f.result)}return{result:a,encoded:c.subarray(i),consumed:i}}for(let u=0;u<n;u+=1){const d=Bm(r,e.subarray(i));i+=d.consumed,a.push(d.result)}return{result:a,encoded:e.subarray(i),consumed:i}}function X0(t,e){if(t.type==="string")return eQ(t,e);if(t.type==="bool")return JK(t,e);if(t.type==="address")return qK(t,e);if(t.type==="tuple")return Lb(t,e);if(t.type.endsWith("]"))return nQ(t,e);if(t.type.startsWith("bytes"))return sP(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return Zd(t,e);throw new We("Unsupported",{param:t,value:e})}function Bm(t,e){if(t.type==="string")return tQ(t,e);if(t.type==="bool")return ZK(t,e);if(t.type==="address")return KK(t,e);if(t.type==="tuple")return aP(t,e);if(t.type.endsWith("]"))return rQ(t,e);if(t.type.startsWith("bytes"))return iP(t,e);if(t.type.startsWith("uint")||t.type.startsWith("int"))return al(t,e);throw new We("Unsupported",{param:t,bytes:e})}function Lb(t,e){var n,r,s;let i=!1;if(!Array.isArray(e)&&typeof e!="object")throw new We("param must be either Array or Object",{param:t,input:e});const a=e,c=[];for(let l=0;l<((r=(n=t.components)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0);l+=1){const u=t.components[l];let d;if(Array.isArray(a)){if(l>=a.length)throw new We("input param length missmatch",{param:t,input:e});d=X0(u,a[l])}else{const f=a[(s=u.name)!==null&&s!==void 0?s:""];if(f==null)throw new We("missing input defined in abi",{param:t,input:e,paramName:u.name});d=X0(u,f)}d.dynamic&&(i=!0),c.push(d)}return i?{dynamic:!0,encoded:oP(c)}:{dynamic:!1,encoded:Mn(...c.map(l=>l.encoded))}}function aP(t,e){const n={__length__:0};let r=0;if(!t.components)return{result:n,encoded:e,consumed:r};let s=0;for(const[i,a]of t.components.entries()){let c;if(Mm(a)){const l=al({type:"uint32",name:""},e.subarray(r));c=Bm(a,e.subarray(Number(l.result))),r+=l.consumed,s+=c.consumed}else c=Bm(a,e.subarray(r)),r+=c.consumed;n.__length__+=1,n[i]=c.result,a.name&&a.name!==""&&(n[a.name]=c.result)}return{encoded:e.subarray(r+s),result:n,consumed:r+s}}function sQ(t,e,n){const r=eP(t),s=Ra(e);return aP({type:"tuple",name:"",components:r},s).result}function cP(t){const e=[];return t.forEach(n=>{if(Array.isArray(n)){const r=cP(n);e.push({type:"tuple",components:r,name:""})}else e.push({type:fi(n,!0)})}),e}function hg(t,e){if(t?.length!==e.length)throw new We("Invalid number of values received for given ABI",{expected:t?.length,received:e.length});const n=eP(t);return pi(Lb({type:"tuple",name:"",components:n},e).encoded)}function iQ(t){try{const e=cP(t);return pi(Lb({type:"tuple",name:"",components:e},t).encoded)}catch{throw new We("Could not infer types from given params",{params:t})}}const ex=(t,e)=>hg([t],[e]),lP=(t,e,n)=>{try{if(t.length>0&&(!e||e==="0x"||e==="0X"))throw new We("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return sQ(t,`0x${e.replace(/0x/i,"")}`,n)}catch(r){throw new We(`Parameter decoding error: ${r.message}`,{internalErr:r})}},oa=(t,e)=>lP(t,e,!1),uP=(t,e)=>oa([t],e)[0],Ed=t=>{if(typeof t!="string"&&!fg(t))throw new We("Invalid parameter value in encodeFunctionSignature");let e;return t&&(typeof t=="function"||typeof t=="object")?e=Js(t):e=t,pr(e).slice(0,10)},oQ=(t,e)=>{var n;if(!fg(t))throw new We("Invalid parameter value in encodeFunctionCall");return`${Ed(t)}${hg((n=t.inputs)!==null&&n!==void 0?n:[],e??[]).replace("0x","")}`},tx=(t,e,n=!0)=>{const r=n&&e&&e.length>=10&&e.startsWith("0x")?e.slice(10):e;if(!t.inputs)throw new In("No inputs found in the ABI");const s=oa([...t.inputs],r);return Object.assign(Object.assign({},s),{__method__:Js(t)})},aQ=(t,e)=>{if(t.type==="constructor")return e;if(!e)return null;const n=e.length>=2?e.slice(2):e;if(!t.outputs)return null;const r=oa([...t.outputs],n);return r.__length__===1?r[0]:r},cQ=["bool","string","int","uint","address","fixed","ufixed"],lQ=(t,e)=>t==="string"?e:uP(t,e),dP=(t,e,n)=>{const r=Array.isArray(n)?n:[n],s={},i={};for(const[h,m]of t.entries())m.indexed?s[h]=m:i[h]=m;const a=e?lP(Object.values(i),e,!0):{__length__:0},c=r.length-Object.keys(s).length,l=Object.values(s).map((h,m)=>cQ.some(g=>h.type.startsWith(g))?lQ(h.type,r[m+c]):r[m+c]),u={__length__:0};let d=0,f=0;for(const[h,m]of t.entries())u[h]=m.type==="string"?"":void 0,s[h]&&(u[h]=l[d],d+=1),i[h]&&(u[h]=a[String(f)],f+=1),m.name&&(u[m.name]=u[h]),u.__length__+=1;return u},uh=(t,e)=>{if(e?.data){let n,r,s;try{const i=e.data.slice(0,10),a=t.find(c=>CK(c).startsWith(i));a?.inputs?(n=a.name,r=Js(a),s=oa([...a.inputs],e.data.substring(10))):e.data.startsWith("0x08c379a0")?(n="Error",r="Error(string)",s=oa([{name:"message",type:"string"}],e.data.substring(10))):e.data.startsWith("0x4e487b71")?(n="Panic",r="Panic(uint256)",s=oa([{name:"code",type:"uint256"}],e.data.substring(10))):console.error("No matching error abi found for error data",e.data)}catch(i){console.error(i)}n&&e.setDecodedProperties(n,r,s)}};var uQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const dQ=(t,e)=>{var n,r,s,i,a;if(t instanceof na&&t.cause instanceof Gp){if(e!==void 0){const c=e.filter(l=>dg(l));return uh(c,t.cause),{reason:t.cause.message,signature:(n=t.cause.data)===null||n===void 0?void 0:n.slice(0,10),data:(r=t.cause.data)===null||r===void 0?void 0:r.substring(10),customErrorName:t.cause.errorName,customErrorDecodedSignature:t.cause.errorSignature,customErrorArguments:t.cause.errorArgs}}return{reason:t.cause.message,signature:(s=t.cause.data)===null||s===void 0?void 0:s.slice(0,10),data:(i=t.cause.data)===null||i===void 0?void 0:i.substring(10)}}if(t instanceof Wp&&!Array.isArray((a=t.cause)===null||a===void 0?void 0:a.errors)&&t.cause!==void 0)return t.cause.message;throw t};function fP(t,e,n){return uQ(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){try{yield Hb(r,s,r.defaultBlock,a);return}catch(c){return dQ(c,i)}})}var fQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function $y(t,e,n,r,s,i){return fQ(this,void 0,void 0,function*(){let a=i;a===void 0&&t.handleRevert&&e!==void 0&&(a=yield fP(t,e,s));let c;if(a===void 0)c=new GC(n);else if(typeof a=="string")c=new lm(a,void 0,n);else if(a.customErrorName!==void 0&&a.customErrorDecodedSignature!==void 0&&a.customErrorArguments!==void 0){const l=a;c=new VC(l.reason,l.customErrorName,l.customErrorDecodedSignature,l.customErrorArguments,l.signature,n,l.data)}else c=new lm(a.reason,a.signature,n,a.data);return c})}const Fb=(t,e,n,r=Pn)=>{var s,i,a,c,l,u;let d=Object.assign({},t);const f=Y(_l,e,r);if([ol,"allEvents"].includes(d.name)){const m=n.find(g=>g.signature===e.topics[0]);m?d=m:d={anonymous:!0}}if(d.inputs=(i=(s=d.inputs)!==null&&s!==void 0?s:t.inputs)!==null&&i!==void 0?i:[],!d.anonymous){let m=0;((a=d.inputs)!==null&&a!==void 0?a:[]).forEach(g=>{g.indexed&&(m+=1)}),m>0&&e?.topics&&e?.topics.length!==m+1&&(d=Object.assign(Object.assign({},d),{anonymous:!0,inputs:[]}))}const h=d.anonymous?e.topics:((c=e.topics)!==null&&c!==void 0?c:[]).slice(1);return Object.assign(Object.assign({},f),{returnValues:dP([...(l=d.inputs)!==null&&l!==void 0?l:[]],e.data,h),event:d.name,signature:!d.anonymous&&((u=e.topics)===null||u===void 0?void 0:u.length)>0&&e.topics[0]?e.topics[0]:void 0,raw:{data:e.data,topics:e.topics}})};var Ro=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class hP{constructor({options:e,web3Context:n,promiEvent:r,returnFormat:s}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=n,this.promiEvent=r,this.returnFormat=s}getReceiptWithEvents(e){var n,r;const s=Object.assign({},e??{});if(!((n=this.options)===null||n===void 0)&&n.contractAbi&&s.logs&&s.logs.length>0){s.events={};for(const i of s.logs){const a=Fb(q0,i,(r=this.options)===null||r===void 0?void 0:r.contractAbi,this.returnFormat);a.event&&(s.events[a.event]=a)}}return s}checkRevertBeforeSending(e){return Ro(this,void 0,void 0,function*(){if(this.options.checkRevertBeforeSending!==!1){let n=e;H(e.data)&&H(e.input)&&H(e.gas)&&(n=Object.assign(Object.assign({},e),{gas:21e3}));const r=yield fP(this.web3Context,n,this.options.contractAbi);if(r!==void 0)throw yield $y(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){return Ro(this,arguments,void 0,function*({transactionFormatted:n,transaction:r}){var s;let i=n;return!this.web3Context.config.ignoreGasPricing&&!(!((s=this.options)===null||s===void 0)&&s.ignoreGasPricing)&&H(n.gasPrice)&&(H(r.maxPriorityFeePerGas)||H(r.maxFeePerGas))&&(i=Object.assign(Object.assign({},n),yield UT(n,this.web3Context,Se))),i})}signAndSend(e){return Ro(this,arguments,void 0,function*({wallet:n,tx:r}){if(n){const s=yield n.signTransaction(r);return Y0(this.web3Context,()=>Ro(this,void 0,void 0,function*(){return OT(this.web3Context.requestManager,s.rawTransaction)}),s.transactionHash)}return Y0(this.web3Context,()=>Ro(this,void 0,void 0,function*(){return vq(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){return Ro(this,arguments,void 0,function*({error:n,tx:r}){var s;let i=n;return i instanceof na&&this.web3Context.handleRevert&&(i=yield $y(this.web3Context,r,void 0,void 0,(s=this.options)===null||s===void 0?void 0:s.contractAbi)),(i instanceof Wp||i instanceof na||i instanceof VC||i instanceof GC||i instanceof lm||i instanceof QC)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",i),i})}emitConfirmation({receipt:e,transactionHash:n,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&SK(this.web3Context,this.promiEvent,e,n,this.returnFormat,r)}handleResolve(e){return Ro(this,arguments,void 0,function*({receipt:n,tx:r}){var s,i,a;if(!((s=this.options)===null||s===void 0)&&s.transactionResolver)return(i=this.options)===null||i===void 0?void 0:i.transactionResolver(n);if(n.status===BigInt(0)){const c=yield $y(this.web3Context,r,n,void 0,(a=this.options)===null||a===void 0?void 0:a.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",c),c}else return n})}}var tt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},hQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const mQ=t=>tt(void 0,void 0,void 0,function*(){return RT(t.requestManager)});function pQ(t,e){return tt(this,void 0,void 0,function*(){const n=yield rq(t.requestManager);return Y({format:"uint"},n,e??t.defaultReturnFormat)})}function Ub(t,e){return tt(this,void 0,void 0,function*(){const n=yield sq(t.requestManager);return Y({format:"uint"},n,e??t.defaultReturnFormat)})}function gQ(t,e){return tt(this,void 0,void 0,function*(){const n=yield iq(t.requestManager);return Y({format:"uint"},n,e??t.defaultReturnFormat)})}function $b(t,e){return tt(this,void 0,void 0,function*(){const n=yield aq(t.requestManager);return Y({format:"uint"},n,e??t.defaultReturnFormat)})}function yQ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=sn(s)?s:Y({format:"uint"},s,Se),c=yield cq(n.requestManager,r,a);return Y({format:"uint"},c,i??n.defaultReturnFormat)})}function vQ(t,e,n){return tt(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,c){const l=Y({format:"uint"},i,Se),u=sn(a)?a:Y({format:"uint"},a,Se),d=yield lq(r.requestManager,s,l,u);return Y({format:"bytes"},d,c??r.defaultReturnFormat)})}function xQ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=sn(s)?s:Y({format:"uint"},s,Se),c=yield pq(n.requestManager,r,a);return Y({format:"bytes"},c,i??n.defaultReturnFormat)})}function mP(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r=!1,s){var i;let a;if(So(n)){const l=Y({format:"bytes32"},n,Se);a=yield bq(e.requestManager,l,r)}else{const l=sn(n)?n:Y({format:"uint"},n,Se);a=yield MT(e.requestManager,l,r)}const c=Y(Rm,a,s??e.defaultReturnFormat);return H(c)?c:Object.assign(Object.assign({},c),{transactions:(i=c.transactions)!==null&&i!==void 0?i:[]})})}function wQ(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(So(n)){const i=Y({format:"bytes32"},n,Se);s=yield dq(e.requestManager,i)}else{const i=sn(n)?n:Y({format:"uint"},n,Se);s=yield fq(e.requestManager,i)}return Y({format:"uint"},s,r??e.defaultReturnFormat)})}function bQ(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r){let s;if(So(n)){const i=Y({format:"bytes32"},n,Se);s=yield hq(e.requestManager,i)}else{const i=sn(n)?n:Y({format:"uint"},n,Se);s=yield mq(e.requestManager,i)}return Y({format:"uint"},s,r??e.defaultReturnFormat)})}function jQ(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=Y({format:"uint"},r,Se);let a;if(So(n)){const c=Y({format:"bytes32"},n,Se);a=yield Sq(e.requestManager,c,i)}else{const c=sn(n)?n:Y({format:"uint"},n,Se);a=yield Nq(e.requestManager,c,i)}return Y(Rm,a,s??e.defaultReturnFormat)})}function EQ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=Y({format:"bytes32"},r,Pn),a=yield jq(n.requestManager,i);return H(a)?a:er(a,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})})}function AQ(t,e){return tt(this,void 0,void 0,function*(){return(yield Lq(t.requestManager)).map(r=>er(r,e??t.defaultReturnFormat,{transactionSchema:t.config.customTransactionSchema,fillInputAndData:!0}))})}function _Q(t){return tt(this,arguments,void 0,function*(e,n=e.defaultBlock,r,s){const i=Y({format:"uint"},r,Se);let a;if(So(n)){const c=Y({format:"bytes32"},n,Se);a=yield Eq(e.requestManager,c,i)}else{const c=sn(n)?n:Y({format:"uint"},n,Se);a=yield Aq(e.requestManager,c,i)}return H(a)?a:er(a,s??e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}function pP(t,e,n){return tt(this,void 0,void 0,function*(){const r=Y({format:"bytes32"},e,Pn);let s;try{s=yield _q(t.requestManager,r)}catch(i){if(typeof i=="object"&&!H(i)&&"message"in i&&i.message==="transaction indexing is in progress")console.warn("Transaction indexing is in progress.");else throw i}return H(s)?s:Y(Sl,s,n??t.defaultReturnFormat)})}function gP(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=sn(s)?s:Y({format:"uint"},s,Se),c=yield uq(n.requestManager,r,a);return Y({format:"uint"},c,i??n.defaultReturnFormat)})}function Ad(t,e,n,r={checkRevertBeforeSending:!0},s){const i=new IT((a,c)=>{setImmediate(()=>{tt(this,void 0,void 0,function*(){const l=new hP({web3Context:t,promiEvent:i,options:r,returnFormat:n});let u=Object.assign({},e);H(s)||(u=yield s.processTransaction(u));let d=er(Object.assign(Object.assign({},u),{from:K0("from",t,u),to:K0("to",t,u)}),Se,{transactionSchema:t.config.customTransactionSchema});try{d=yield l.populateGasPrice({transaction:u,transactionFormatted:d}),yield l.checkRevertBeforeSending(d),l.emitSending(d);let f;t.wallet&&!H(d.from)&&(f=t.wallet.get(d.from));const h=yield l.signAndSend({wallet:f,tx:d}),m=Y({format:"bytes32"},h,n??t.defaultReturnFormat);l.emitSent(d),l.emitTransactionHash(m);const g=yield zT(t,h,n??t.defaultReturnFormat),p=l.getReceiptWithEvents(Y(Sl,g,n??t.defaultReturnFormat));l.emitReceipt(p),a(yield l.handleResolve({receipt:p,tx:d})),l.emitConfirmation({receipt:p,transactionHash:h})}catch(f){c(yield l.handleError({error:f,tx:d}))}})})});return i}function SQ(t,e,n,r={checkRevertBeforeSending:!0}){const s=new IT((i,a)=>{setImmediate(()=>{tt(this,void 0,void 0,function*(){const c=new hP({web3Context:t,promiEvent:s,options:r,returnFormat:n}),l=Y({format:"bytes"},e,Se),u=Ea.fromSerializedData(Ss(ut(l))),d=Object.assign(Object.assign({},u.toJSON()),{from:u.getSenderAddress().toString()});try{const{v:f,r:h,s:m}=d,g=hQ(d,["v","r","s"]);yield c.checkRevertBeforeSending(g),c.emitSending(l);const p=yield Y0(t,()=>tt(this,void 0,void 0,function*(){return OT(t.requestManager,l)}));c.emitSent(l);const y=Y({format:"bytes32"},p,n??t.defaultReturnFormat);c.emitTransactionHash(y);const x=yield zT(t,p,n??t.defaultReturnFormat),w=c.getReceiptWithEvents(Y(Sl,x,n??t.defaultReturnFormat));c.emitReceipt(w),i(yield c.handleResolve({receipt:w,tx:d})),c.emitConfirmation({receipt:w,transactionHash:p})}catch(f){a(yield c.handleError({error:f,tx:d}))}})})});return s}function NQ(t,e,n){return tt(this,arguments,void 0,function*(r,s,i,a=r.defaultReturnFormat){var c;const l=Y({format:"bytes"},s,Pn);if(!((c=r.wallet)===null||c===void 0)&&c.get(i)){const f=r.wallet.get(i).sign(l);return Y(dK,f,a)}if(typeof i=="number")throw new g9(s,'RPC method "eth_sign" does not support index signatures');const u=yield gq(r.requestManager,i,l);return Y({format:"bytes"},u,a)})}function kQ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultReturnFormat){const i=yield yq(n.requestManager,er(r,Se,{transactionSchema:n.config.customTransactionSchema}));return Xw(i)?pK(i,s,{fillInputAndData:!0}):{raw:Y({format:"bytes"},i.raw,s),tx:er(i.tx,s,{transactionSchema:n.config.customTransactionSchema,fillInputAndData:!0})}})}function Hb(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i=n.defaultReturnFormat){const a=sn(s)?s:Y({format:"uint"},s,Se),c=yield xq(n.requestManager,er(r,Se,{transactionSchema:n.config.customTransactionSchema}),a);return Y({format:"bytes"},c,i)})}function zb(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=er(r,Se,{transactionSchema:n.config.customTransactionSchema}),c=sn(s)?s:Y({format:"uint"},s,Se),l=yield wq(n.requestManager,a,c);return Y({format:"uint"},l,i??n.defaultReturnFormat)})}function yP(t,e,n){return tt(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;H(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Qt(r)),H(s)||(typeof s=="number"||typeof s=="bigint")&&(s=Qt(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r});return(yield Oq(t.requestManager,i)).map(l=>typeof l=="string"?l:Y(_l,l,n??t.defaultReturnFormat))})}function vP(t,e){return tt(this,void 0,void 0,function*(){const n=yield Uq(t.requestManager);return Y({format:"uint"},n,e??t.defaultReturnFormat)})}function CQ(t,e,n){return tt(this,arguments,void 0,function*(r,s,i,a=r.defaultBlock,c){const l=i.map(f=>Y({format:"bytes"},f,Se)),u=sn(a)?a:Y({format:"uint"},a,Se),d=yield $q(r.requestManager,s,l,u);return Y(mK,d,c??r.defaultReturnFormat)})}function TQ(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i,a){const c=Y({format:"uint"},r,Se),l=sn(s)?s:Y({format:"uint"},s,Se),u=Y({type:"array",items:{format:"uint"}},i,ug),d=yield Dq(n.requestManager,c,l,u);return Y(fK,d,a??n.defaultReturnFormat)})}function xP(t,e){return tt(this,arguments,void 0,function*(n,r,s=n.defaultBlock,i){const a=sn(s)?s:Y({format:"uint"},s,Se),c=yield zq(n.requestManager,er(r,Se,{transactionSchema:n.config.customTransactionSchema}),a);return Y(aK,c,i??n.defaultReturnFormat)})}function PQ(t,e,n,r,s){return tt(this,void 0,void 0,function*(){const i=yield Vq(t.requestManager,e,n,r);return Y({format:"bytes"},i,s??t.defaultReturnFormat)})}var Nl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};function IQ(t,e){return Nl(this,void 0,void 0,function*(){const n=yield Tq(t.requestManager);return Y({format:"uint"},n,e??t.defaultReturnFormat)})}function RQ(t,e,n){return Nl(this,void 0,void 0,function*(){let{toBlock:r,fromBlock:s}=e;H(r)||(typeof r=="number"||typeof r=="bigint")&&(r=Qt(r)),H(s)||(typeof s=="number"||typeof s=="bigint")&&(s=Qt(s));const i=Object.assign(Object.assign({},e),{fromBlock:s,toBlock:r}),a=yield kq(t.requestManager,i);return Y({format:"uint"},a,n??t.defaultReturnFormat)})}function OQ(t,e){return Nl(this,void 0,void 0,function*(){const n=yield Cq(t.requestManager);return Y({format:"uint"},n,e??t.defaultReturnFormat)})}function MQ(t,e){return Nl(this,void 0,void 0,function*(){return yield Pq(t.requestManager,Qt(e))})}function BQ(t,e,n){return Nl(this,void 0,void 0,function*(){return(yield Iq(t.requestManager,Qt(e))).map(i=>typeof i=="string"?i:Y(_l,i,n??t.defaultReturnFormat))})}function DQ(t,e,n){return Nl(this,void 0,void 0,function*(){return(yield Rq(t.requestManager,Qt(e))).map(i=>typeof i=="string"?i:Y(_l,i,n??t.defaultReturnFormat))})}class wP extends Qd{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return Y(_l,e,super.returnFormat)}}class jA extends Qd{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return Y({format:"string"},e,super.returnFormat)}}class Dm extends Qd{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return Y(lK,e,super.returnFormat)}}class bP extends Qd{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if(typeof e=="boolean")this.emit("changed",e);else{const n=Object.fromEntries(Object.entries(e?.status||e).map(([r,s])=>[r.charAt(0).toLowerCase()+r.substring(1),s]));this.emit("changed",e.syncing),this.emit("data",Y(uK,n,super.returnFormat))}}}var Ce=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const nx={logs:wP,newPendingTransactions:jA,newHeads:Dm,syncing:bP,pendingTransactions:jA,newBlockHeaders:Dm};class mg extends Qn{constructor(e){if(typeof e=="string"||Sm(e)){super({provider:e,registeredSubscriptions:nx});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:nx})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return Ce(this,void 0,void 0,function*(){return eq(this.requestManager)})}isSyncing(){return Ce(this,void 0,void 0,function*(){return RT(this.requestManager)})}getCoinbase(){return Ce(this,void 0,void 0,function*(){return tq(this.requestManager)})}isMining(){return Ce(this,void 0,void 0,function*(){return nq(this.requestManager)})}getHashrate(e){return Ce(this,void 0,void 0,function*(){var n;return e===void 0&&(e=(n=this.defaultReturnFormat)!==null&&n!==void 0?n:Pn),this.getHashRate(e)})}getHashRate(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return pQ(this,e)})}getGasPrice(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return Ub(this,e)})}getMaxPriorityFeePerGas(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return gQ(this,e)})}calculateFeeData(){return Ce(this,arguments,void 0,function*(e=BigInt(2),n=Xp.Gwei){var r;const s=yield this.getBlock(void 0,!1),i=(r=s?.baseFeePerGas)!==null&&r!==void 0?r:void 0;let a;try{a=yield this.getGasPrice()}catch{}let c;try{c=yield this.getMaxPriorityFeePerGas()}catch{}let l;if(i){c=c??n;let u;typeof e=="number"?u=BigInt(Math.floor(e*1e3))/BigInt(1e3):u=e,l=i*u+c}return{gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,baseFeePerGas:i}})}getAccounts(){return Ce(this,void 0,void 0,function*(){var e;return((e=yield oq(this.requestManager))!==null&&e!==void 0?e:[]).map(r=>Cs(r))})}getBlockNumber(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return $b(this,e)})}getBalance(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return yQ(this,n,r,s)})}getStorageAt(e,n){return Ce(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return vQ(this,r,s,i,a)})}getCode(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return xQ(this,n,r,s)})}getBlock(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n=!1,r=this.defaultReturnFormat){return mP(this,e,n,r)})}getBlockTransactionCount(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return wQ(this,e,n)})}getBlockUncleCount(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n=this.defaultReturnFormat){return bQ(this,e,n)})}getUncle(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return jQ(this,e,n,r)})}getTransaction(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield EQ(this,n,r);if(!s)throw new TE;return s})}getPendingTransactions(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return AQ(this,e)})}getTransactionFromBlock(){return Ce(this,arguments,void 0,function*(e=this.defaultBlock,n,r=this.defaultReturnFormat){return _Q(this,e,n,r)})}getTransactionReceipt(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){const s=yield pP(this,n,r);if(!s)throw new TE;return s})}getTransactionCount(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return gP(this,n,r,s)})}sendTransaction(e,n=this.defaultReturnFormat,r){return Ad(this,e,n,r,this.transactionMiddleware)}sendSignedTransaction(e,n=this.defaultReturnFormat,r){return SQ(this,e,n,r)}sign(e,n){return Ce(this,arguments,void 0,function*(r,s,i=this.defaultReturnFormat){return NQ(this,r,s,i)})}signTransaction(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return kQ(this,n,r)})}call(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return Hb(this,n,r,s)})}estimateGas(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return zb(this,n,r,s)})}getPastLogs(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return yP(this,n,r)})}getWork(){return Ce(this,void 0,void 0,function*(){return Mq(this.requestManager)})}submitWork(e,n,r){return Ce(this,void 0,void 0,function*(){return Bq(this.requestManager,e,n,r)})}requestAccounts(){return Ce(this,void 0,void 0,function*(){return Fq(this.requestManager)})}getChainId(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return vP(this,e)})}getNodeInfo(){return Ce(this,void 0,void 0,function*(){return Hq(this.requestManager)})}getProof(e,n){return Ce(this,arguments,void 0,function*(r,s,i=this.defaultBlock,a=this.defaultReturnFormat){return CQ(this,r,s,i,a)})}getFeeHistory(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s,i=this.defaultReturnFormat){return TQ(this,n,r,s,i)})}createAccessList(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultBlock,s=this.defaultReturnFormat){return xP(this,n,r,s)})}signTypedData(e,n,r,s){return Ce(this,void 0,void 0,function*(){var i;return r===void 0&&(r=!1),s===void 0&&(s=(i=this.defaultReturnFormat)!==null&&i!==void 0?i:Pn),PQ(this,e,n,r,s)})}subscribe(e,n,r){return Ce(this,void 0,void 0,function*(){var s,i;r===void 0&&(r=(s=this.defaultReturnFormat)!==null&&s!==void 0?s:Pn);const a=yield(i=this.subscriptionManager)===null||i===void 0?void 0:i.subscribe(e,n,r);return a instanceof wP&&e==="logs"&&typeof n=="object"&&!we(n.fromBlock)&&Number.isFinite(Number(n.fromBlock))&&setImmediate(()=>{this.getPastLogs(n).then(c=>{for(const l of c)a._processSubscriptionResult(l)}).catch(c=>{a._processSubscriptionError(c)})}),a})}static shouldClearSubscription({sub:e}){return!(e instanceof bP)}clearSubscriptions(e=!1){var n;return(n=this.subscriptionManager)===null||n===void 0?void 0:n.unsubscribe(e?mg.shouldClearSubscription:void 0)}createNewPendingTransactionFilter(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return IQ(this,e)})}createNewFilter(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return RQ(this,n,r)})}createNewBlockFilter(){return Ce(this,arguments,void 0,function*(e=this.defaultReturnFormat){return OQ(this,e)})}uninstallFilter(e){return Ce(this,void 0,void 0,function*(){return MQ(this,e)})}getFilterChanges(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return BQ(this,n,r)})}getFilterLogs(e){return Ce(this,arguments,void 0,function*(n,r=this.defaultReturnFormat){return DQ(this,n,r)})}}const LQ=t=>{if(!H(t.common)){if(H(t.common.customChain))throw new w9;if(H(t.common.customChain.chainId))throw new b9;if(!H(t.chainId)&&t.chainId!==t.common.customChain.chainId)throw new j9({txChainId:t.chainId,customChainId:t.common.customChain.chainId})}},FQ=t=>{if(!H(t.common)&&!H(t.chain)&&!H(t.hardfork))throw new _9;if(!H(t.chain)&&H(t.hardfork)||!H(t.hardfork)&&H(t.chain))throw new S9({chain:t.chain,hardfork:t.hardfork})},UQ=t=>{if(!H(t.common)&&!H(t.common.baseChain)&&!H(t.chain)&&t.chain!==t.common.baseChain)throw new E9({txChain:t.chain,baseChain:t.common.baseChain})},$Q=t=>{if(!H(t.common)&&!H(t.common.hardfork)&&!H(t.hardfork)&&t.hardfork!==t.common.hardfork)throw new A9({txHardfork:t.hardfork,commonHardfork:t.common.hardfork})},EA=t=>{if(H(t.gas)||!di(t.gas)||H(t.gasPrice)||!di(t.gasPrice))throw new P9({gas:t.gas,gasPrice:t.gasPrice});if(!H(t.maxFeePerGas)||!H(t.maxPriorityFeePerGas))throw new WC({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas})},AA=t=>{if(!H(t.gasPrice)&&t.type==="0x2")throw new R9(t.gasPrice);if(t.type==="0x0"||t.type==="0x1")throw new WC({maxFeePerGas:t.maxFeePerGas,maxPriorityFeePerGas:t.maxPriorityFeePerGas});if(H(t.maxFeePerGas)||!di(t.maxFeePerGas)||H(t.maxPriorityFeePerGas)||!di(t.maxPriorityFeePerGas))throw new I9({maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},HQ=t=>{const e=!H(t.gas)||!H(t.gasLimit),n=e&&!H(t.gasPrice),r=e&&!H(t.maxPriorityFeePerGas)&&!H(t.maxFeePerGas);if(!n&&!r)throw new k9({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});if(n&&r)throw new T9({gas:t.gas,gasPrice:t.gasPrice,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas});(n?EA:AA)(t),(!H(t.type)&&t.type>"0x1"?AA:EA)(t)},zQ=(t,e,n={transactionSchema:void 0})=>{if(!H(e)){e(t);return}if(typeof t!="object"||H(t))throw new O9(t);LQ(t),FQ(t),UQ(t),$Q(t);const r=er(t,Se,{transactionSchema:n.transactionSchema});if(HQ(r),H(r.nonce)||H(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new M9({nonce:t.nonce,chainId:t.chainId})};var VQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const GQ=t=>{var e,n;return Object.assign(Object.assign({},t),{nonce:t.nonce,gasPrice:t.gasPrice,gasLimit:(e=t.gasLimit)!==null&&e!==void 0?e:t.gas,to:t.to,value:t.value,data:(n=t.data)!==null&&n!==void 0?n:t.input,type:t.type,chainId:t.chainId,accessList:t.accessList,maxPriorityFeePerGas:t.maxPriorityFeePerGas,maxFeePerGas:t.maxFeePerGas})},WQ=(t,e)=>{var n,r,s,i,a,c,l,u,d,f,h,m,g,p,y,x,w,b;const j=!H(t.chain)&&!H(t.hardfork)||!H(t.common);let E;if(!j)e.defaultCommon?(E=Object.assign({},e.defaultCommon),H(E.hardfork)&&(E.hardfork=(n=t.hardfork)!==null&&n!==void 0?n:e.defaultHardfork),H(E.baseChain)&&(E.baseChain=e.defaultChain)):E=Gt.custom({name:"custom-network",chainId:Kn(t.chainId),networkId:H(t.networkId)?void 0:Kn(t.networkId),defaultHardfork:(r=t.hardfork)!==null&&r!==void 0?r:e.defaultHardfork},{baseChain:e.defaultChain});else{const N=(c=(a=(i=(s=t?.common)===null||s===void 0?void 0:s.customChain)===null||i===void 0?void 0:i.name)!==null&&a!==void 0?a:t.chain)!==null&&c!==void 0?c:"custom-network",S=Kn((d=(u=(l=t?.common)===null||l===void 0?void 0:l.customChain)===null||u===void 0?void 0:u.chainId)!==null&&d!==void 0?d:t?.chainId),_=Kn((m=(h=(f=t?.common)===null||f===void 0?void 0:f.customChain)===null||h===void 0?void 0:h.networkId)!==null&&m!==void 0?m:t?.networkId),O=(y=(p=(g=t?.common)===null||g===void 0?void 0:g.hardfork)!==null&&p!==void 0?p:t?.hardfork)!==null&&y!==void 0?y:e.defaultHardfork,T=(b=(w=(x=t.common)===null||x===void 0?void 0:x.baseChain)!==null&&w!==void 0?w:t.chain)!==null&&b!==void 0?b:e.defaultChain;S&&_&&N&&(E=Gt.custom({name:N,chainId:S,networkId:_,defaultHardfork:O},{baseChain:T}))}return{common:E}},qQ=(t,e,n,...r)=>VQ(void 0,[t,e,n,...r],void 0,function*(s,i,a,c=!1,l=!0){const u=yield bK({transaction:s,web3Context:i,privateKey:a,fillGasPrice:c,fillGasLimit:l}),d=er(u,Se,{transactionSchema:i.config.customTransactionSchema});return zQ(d,void 0,{transactionSchema:i.config.customTransactionSchema}),Ea.fromTxData(GQ(d),WQ(d,i))}),_A=({address:t},e,n)=>{var r,s;const i=n?.topics,a=(r=n?.filter)!==null&&r!==void 0?r:{},c={};if(we(n?.fromBlock)||(c.fromBlock=Y(Rm.properties.number,n?.fromBlock,{number:Tr.HEX,bytes:li.HEX})),we(n?.toBlock)||(c.toBlock=Y(Rm.properties.number,n?.toBlock,{number:Tr.HEX,bytes:li.HEX})),i&&Array.isArray(i))c.topics=[...i];else if(c.topics=[],e&&!e.anonymous&&![ol,"allEvents"].includes(e.name)&&c.topics.push((s=e.signature)!==null&&s!==void 0?s:Mb(Js(e))),![ol,"allEvents"].includes(e.name)&&e.inputs)for(const l of e.inputs){if(!l.indexed)continue;const u=a[l.name];if(!u){c.topics.push(null);continue}Array.isArray(u)?c.topics.push(u.map(d=>ex(l.type,d))):l.type==="string"?c.topics.push(el(u)):c.topics.push(ex(l.type,u))}return c.topics.length||delete c.topics,t&&(c.address=t.toLowerCase()),c},Su=(t,e,n)=>{const r=Array.isArray(t.inputs)?t.inputs.length:0;if(t.inputs&&r!==e.length)throw new In(`The number of arguments is not matching the methods required number. You need to pass ${r} arguments.`);let s;if(t.inputs?s=hg(Array.isArray(t.inputs)?t.inputs:[],e).replace("0x",""):s=iQ(e).replace("0x",""),NK(t)){if(!n)throw new In("The contract has no contract data option set. This is necessary to append the constructor parameters.");return n.startsWith("0x")?`${n}${s}`:`0x${n}${s}`}return`${Ed(t)}${s}`};class jP extends Qd{constructor(e,n){super(e,n),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return Fb(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const pg=(t,e,n,r)=>{var s,i;const a={};return(!we(t.data)||r==="both")&&(a.data=Su(e,n,(s=t.data)!==null&&s!==void 0?s:t.input)),(!we(t.input)||r==="both")&&(a.input=Su(e,n,(i=t.input)!==null&&i!==void 0?i:t.data)),we(a.input)&&we(a.data)&&(a[r]=Su(e,n)),{data:a.data,input:a.input}},rx=({abi:t,params:e,options:n,contractOptions:r})=>{var s,i,a;if(!((a=(i=(s=n?.input)!==null&&s!==void 0?s:n?.data)!==null&&i!==void 0?i:r.input)!==null&&a!==void 0?a:r.data)&&!n?.to&&!r.address)throw new In("Contract address not specified");if(!n?.from&&!r.from)throw new In('Contract "from" address not specified');let l=ko({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const u=pg(l,t,e,n?.dataInputFill);return l=Object.assign(Object.assign({},l),{data:u.data,input:u.input}),l},KQ=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new In("Contract address not specified");let s=ko({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=pg(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},QQ=({abi:t,params:e,options:n,contractOptions:r})=>{let s=ko({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,data:r.data},n);const i=pg(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s},SA=t=>typeof t=="object"&&!we(t)&&Object.keys(t).length!==0&&!Hi(t),YQ=({abi:t,params:e,options:n,contractOptions:r})=>{if(!n?.to&&!r.address)throw new In("Contract address not specified");if(!n?.from&&!r.from)throw new In('Contract "from" address not specified');let s=ko({to:r.address,gas:r.gas,gasPrice:r.gasPrice,from:r.from,input:r.input,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,data:r.data},n);const i=pg(s,t,e,n?.dataInputFill);return s=Object.assign(Object.assign({},s),{data:i.data,input:i.input}),s};var JQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class ZQ{_contractMethodDeploySend(e){const n={transactionResolver:r=>{if(r.status===BigInt(0))throw new In("code couldn't be stored",r);const s=this.parent.clone();return s.options.address=r.contractAddress,s},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return H(this.parent.getTransactionMiddleware())?Ad(this.parent,e,this.parent.defaultReturnFormat,n):Ad(this.parent,e,this.parent.defaultReturnFormat,n,this.parent.getTransactionMiddleware())}constructor(e,n){this.parent=e,this.deployOptions=n;const{args:r,abi:s,contractOptions:i,deployData:a}=this.calculateDeployParams();this.args=r,this.constructorAbi=s,this.contractOptions=i,this.deployData=a}send(e){const n=Object.assign({},e),r=this.populateTransaction(n);return this._contractMethodDeploySend(r)}populateTransaction(e){var n,r;const s=Object.assign(Object.assign({},this.contractOptions),{from:(r=(n=this.contractOptions.from)!==null&&n!==void 0?n:this.parent.defaultAccount)!==null&&r!==void 0?r:void 0}),i=rx({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:s});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,n,r,s,i,a;let c=this.parent.options.jsonInterface.find(m=>m.type==="constructor");c||(c={type:"constructor",stateMutability:""});const l=Y({format:"bytes"},(n=(e=this.deployOptions)===null||e===void 0?void 0:e.input)!==null&&n!==void 0?n:this.parent.options.input,Pn),u=Y({format:"bytes"},(s=(r=this.deployOptions)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:this.parent.options.data,Pn);if((!l||l.trim()==="0x")&&(!u||u.trim()==="0x"))throw new In("contract creation without any data provided.");const d=(a=(i=this.deployOptions)===null||i===void 0?void 0:i.arguments)!==null&&a!==void 0?a:[],f=Object.assign(Object.assign({},this.parent.options),{input:l,data:u});return{args:d,abi:c,contractOptions:f,deployData:l??u}}estimateGas(e){return JQ(this,arguments,void 0,function*(n,r=this.parent.defaultReturnFormat){const s=Object.assign({},n);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:r,options:s,contractOptions:this.contractOptions})})}encodeABI(){return Su(this.constructorAbi,this.args,Y({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},tx(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var XQ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class eY extends Nm{constructor(e,n){super(e.requestManager,e.registeredSubscriptions),this.parentContract=n}subscribe(e,n){const r=Object.create(null,{subscribe:{get:()=>super.subscribe}});return XQ(this,arguments,void 0,function*(s,i,a=Pn){return r.subscribe.call(this,s,i??this.parentContract.options,a)})}}var Oo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const tY={logs:jP,newHeads:Dm,newBlockHeaders:Dm};class aa extends Qn{get subscriptionManager(){return this._subscriptionManager}constructor(e,n,r,s,i){var a,c,l;const u=Hi(n)?n:Hi(r)?r:void 0;let d;SA(n)?d=n:SA(r)?d=r:d=s;let f;if(typeof n=="object"&&"provider"in n?f=n.provider:typeof r=="object"&&"provider"in r?f=r.provider:typeof s=="object"&&"provider"in s?f=s.provider:f=aa.givenProvider,super(Object.assign(Object.assign({},d),{provider:f,registeredSubscriptions:tY})),this.syncWithContext=!1,this._functions={},this._subscriptionManager=new eY(super.subscriptionManager,this),d?.wallet&&(this._wallet=d.wallet),d?.accountProvider&&(this._accountProvider=d.accountProvider),!H(u)&&!H(u.data)&&!H(u.input)&&this.config.contractDataInputFill!=="both")throw new u9({data:u.data,input:u.input});this._overloadedMethodAbis=new Map;const h=zs(s)?s:zs(r)?r:i??this.defaultReturnFormat,m=typeof n=="string"?n:void 0;this.config.contractDataInputFill=(a=u?.dataInputFill)!==null&&a!==void 0?a:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,h),this.defaultReturnFormat!==h&&(this.defaultReturnFormat=h),H(m)||this._parseAndSetAddress(m,h),this.options={address:m,jsonInterface:this._jsonInterface,gas:(c=u?.gas)!==null&&c!==void 0?c:u?.gasLimit,gasPrice:u?.gasPrice,from:u?.from,input:u?.input,data:u?.data},this.syncWithContext=(l=u?.syncWithContext)!==null&&l!==void 0?l:!1,d instanceof Qn&&this.subscribeToContextEvents(d),Object.defineProperty(this.options,"address",{set:g=>this._parseAndSetAddress(g,h),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:g=>this._parseAndSetJsonInterface(g,h),get:()=>this._jsonInterface}),d instanceof Qn&&d.on(ba.CONFIG_CHANGE,g=>{this.setConfig({[g.name]:g.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return this.options.address?e=new aa([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):e=new aa([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new ZQ(this,e)}getPastEvents(e,n,r){return Oo(this,void 0,void 0,function*(){var s;const i=typeof e=="string"?e:ol,a=typeof e!="string"&&!zs(e)?e:zs(n)?{}:n,c=zs(e)?e:zs(n)?n:r??this.defaultReturnFormat,l=i==="allEvents"||i===ol?q0:this._jsonInterface.find(x=>"name"in x&&x.name===i);if(!l)throw new In(`Event ${String(i)} not found.`);const{fromBlock:u,toBlock:d,topics:f,address:h}=_A(this.options,l,a??{}),m=yield yP(this,{fromBlock:u,toBlock:d,topics:f,address:h},c),g=m?m.map(x=>typeof x=="string"?x:Fb(l,x,this._jsonInterface,c)):[],p=(s=a?.filter)!==null&&s!==void 0?s:{},y=Object.keys(p);return y.length>0?g.filter(x=>typeof x=="string"?!0:y.every(w=>{var b;if(Array.isArray(p[w]))return p[w].some(E=>String(x.returnValues[w]).toUpperCase()===String(E).toUpperCase());const j=(b=l.inputs)===null||b===void 0?void 0:b.filter(E=>E.name===w)[0];return j?.indexed&&j.type==="string"&&el(p[w])===String(x.returnValues[w])?!0:String(x.returnValues[w]).toUpperCase()===String(p[w]).toUpperCase()})):g})}_parseAndSetAddress(e,n=this.defaultReturnFormat){this._address=e&&Cs(Y({format:"address"},e,n))}decodeMethodData(e){const n=e.slice(0,10),s=this._jsonInterface.filter(i=>i.type!=="error").find(i=>n===Ed(Js(i)));if(!s)throw new In(`The ABI for the provided method signature ${n} was not found.`);return tx(s,e)}_parseAndSetJsonInterface(e,n=this.defaultReturnFormat){var r,s;this._functions={},this._methods={},this._events={};let i=[];const a=e.filter(l=>l.type!=="error"),c=e.filter(l=>dg(l));for(const l of a){const u=Object.assign(Object.assign({},l),{signature:""});if(fg(u)){const d=Js(u),f=Ed(d);u.methodNameWithInputs=d,u.signature=f,u.constant=u.stateMutability==="view"||u.stateMutability==="pure"||u.constant,u.payable=u.stateMutability==="payable"||u.payable,this._overloadedMethodAbis.set(u.name,[...(r=this._overloadedMethodAbis.get(u.name))!==null&&r!==void 0?r:[],u]);const h=(s=this._overloadedMethodAbis.get(u.name))!==null&&s!==void 0?s:[],m=this._createContractMethod(h,c),g=this._createContractMethod(h,c,!0);this._functions[d]={signature:f,method:g},this._methods[u.name]=m,this._methods[d]=g,this._methods[f]=g}else if(Ob(u)){const d=Js(u),f=Mb(d),h=this._createContractEvent(u,n);u.signature=f,(!(d in this._events)||u.name==="bound")&&(this._events[d]=h),this._events[u.name]=h,this._events[f]=h}i=[...i,u]}this._events.allEvents=this._createContractEvent(q0,n),this._jsonInterface=[...i],this._errorsInterface=c}_getAbiParams(e,n){var r;try{return _u((r=e.inputs)!==null&&r!==void 0?r:[],n)}catch(s){throw new In(`Invalid parameters for method ${e.name}: ${s.message}`)}}_createContractMethod(e,n,r=!1){const s=e[e.length-1];return(...i)=>{var a,c,l;let u;const d=(c=r?(a=this._overloadedMethodAbis.get(s.name))===null||a===void 0?void 0:a.filter(p=>p.signature===s.signature):this._overloadedMethodAbis.get(s.name))!==null&&c!==void 0?c:[];let f=d[0];const h=n,m=d.filter(p=>{var y;return((y=p.inputs)!==null&&y!==void 0?y:[]).length===i.length});if(d.length===1||m.length===0)u=this._getAbiParams(f,i),ve.validate((l=s.inputs)!==null&&l!==void 0?l:[],u);else{const p=[],y=[];for(const x of m)try{u=this._getAbiParams(x,i),ve.validate(x.inputs,u),y.push(x)}catch(w){p.push(w)}if(y.length===1?[f]=y:y.length>1&&([f]=y,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${y.length} compatible methods: ${JSON.stringify(y.map(x=>`${x.methodNameWithInputs} (signature: ${x.signature})`))} 
	The first one will be used: ${f.methodNameWithInputs}`)),p.length===m.length)throw new Jc(p)}const g={arguments:u,call:(p,y)=>Oo(this,void 0,void 0,function*(){return this._contractMethodCall(f,u,h,p,y)}),send:p=>this._contractMethodSend(f,u,h,p),populateTransaction:(p,y)=>{var x,w;let b=y??this.options;b=Object.assign(Object.assign({},b),{input:void 0,from:(w=(x=b?.from)!==null&&x!==void 0?x:this.defaultAccount)!==null&&w!==void 0?w:void 0});const j=rx({abi:s,params:i,options:Object.assign(Object.assign({},p),{dataInputFill:this.config.contractDataInputFill}),contractOptions:b});return j.dataInputFill&&delete j.dataInputFill,j},estimateGas:(p,...y)=>Oo(this,[p,...y],void 0,function*(x,w=this.defaultReturnFormat){return this.contractMethodEstimateGas({abi:f,params:u,returnFormat:w,options:x})}),encodeABI:()=>Su(f,u),decodeData:p=>tx(f,p),createAccessList:(p,y)=>Oo(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(f,u,h,p,y)})};return f.stateMutability==="payable",g}}_contractMethodCall(e,n,r,s,i){return Oo(this,void 0,void 0,function*(){var a;const c=KQ({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{const l=yield Hb(this,c,i,this.defaultReturnFormat);return aQ(e,l)}catch(l){throw l instanceof na&&uh(r,l.cause),l}})}_contractMethodCreateAccessList(e,n,r,s,i){return Oo(this,void 0,void 0,function*(){var a;const c=YQ({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:(a=this.options.from)!==null&&a!==void 0?a:this.config.defaultAccount})});try{return xP(this,c,i,this.defaultReturnFormat)}catch(l){throw l instanceof na&&uh(r,l.cause),l}})}_contractMethodSend(e,n,r,s,i){var a,c;let l=i??this.options;l=Object.assign(Object.assign({},l),{input:void 0,from:(c=(a=l.from)!==null&&a!==void 0?a:this.defaultAccount)!==null&&c!==void 0?c:void 0});const u=rx({abi:e,params:n,options:Object.assign(Object.assign({},s),{dataInputFill:this.config.contractDataInputFill}),contractOptions:l}),d=H(this.transactionMiddleware)?Ad(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):Ad(this,u,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return d.on("error",f=>{f instanceof na&&uh(r,f.cause)}),d}contractMethodEstimateGas(e){return Oo(this,arguments,void 0,function*({abi:n,params:r,returnFormat:s,options:i,contractOptions:a}){const c=QQ({abi:n,params:r,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a??this.options});return zb(this,c,Vs.LATEST,s??this.defaultReturnFormat)})}_createContractEvent(e,n=this.defaultReturnFormat){return(...r)=>{var s;const{topics:i,fromBlock:a}=_A(this.options,e,r[0]),c=new jP({address:this.options.address,topics:i,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:n});return H(a)||this.getPastEvents(e.name,{fromBlock:a,topics:i},n).then(l=>{l&&l.forEach(u=>c.emit("data",u))}).catch(l=>{c.emit("error",new $s("Failed to get past events.",l))}),(s=this.subscriptionManager)===null||s===void 0||s.addSubscription(c).catch(l=>{c.emit("error",new $s("Failed to subscribe.",l))}),c}}subscribeToContextEvents(e){const n=this;this.context=e,n.syncWithContext&&e.on(ba.CONFIG_CHANGE,r=>{n.setConfig({[r.name]:r.newValue})})}}const NA={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},qa={setAddr:"addr",addr:"addr",setPubkey:"pubkey",pubkey:"pubkey",setContenthash:"contenthash",contenthash:"contenthash",text:"text",name:"name"},Lm={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},nY={"0x1":"main","0x5":"goerli"},rY=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],sY=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var iY="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const kA=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),CA=4;function oY(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let E=1;E<r;E++)i.push(s+=n());let a=n(),c=e;e+=a;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,h=2**f,m=h>>>1,g=m>>1,p=h-1;let y=0;for(let E=0;E<f;E++)y=y<<1|d();let x=[],w=0,b=h;for(;;){let E=Math.floor(((y-w+1)*s-1)/b),N=0,S=r;for(;S-N>1;){let T=N+S>>>1;E<i[T]?S=T:N=T}if(N==0)break;x.push(N);let _=w+Math.floor(b*i[N]/s),O=w+Math.floor(b*i[N+1]/s)-1;for(;!((_^O)&m);)y=y<<1&p|d(),_=_<<1&p,O=O<<1&p|1;for(;_&~O&g;)y=y&m|y<<1&p>>>1|d(),_=_<<1^m,O=(O^m)<<1|m|1;w=_,b=1+O-_}let j=r-4;return x.map(E=>{switch(E-j){case 3:return j+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return j+256+(t[c++]<<8|t[c++]);case 1:return j+t[c++];default:return E-1}})}function aY(t){let e=0;return()=>t[e++]}function EP(t){return aY(oY(cY(t)))}function cY(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,a=0,c=0;s<n;s++)c=c<<6|e[t.charCodeAt(s)],a+=6,a>=8&&(r[i++]=c>>(a-=8));return r}function lY(t){return t&1?~t>>1:t>>1}function uY(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=lY(e());return n}function _d(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function AP(t){return Sd(()=>{let e=_d(t);if(e.length)return e})}function _P(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(dY(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(fY(n,t))}return e.flat()}function Sd(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function SP(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)uY(t,n).forEach((i,a)=>r[a].push(i));return r}function dY(t,e){let n=1+e(),r=e(),s=Sd(e);return SP(s.length,1+t,e).flatMap((a,c)=>{let[l,...u]=a;return Array(s[c]).fill().map((d,f)=>{let h=f*r;return[l+f*n,u.map(m=>m+h)]})})}function fY(t,e){let n=1+e();return SP(n,1+t,e).map(s=>[s[0],s.slice(1)])}function hY(t){let e=[],n=_d(t);return s(r([]),[]),e;function r(i){let a=t(),c=Sd(()=>{let l=_d(t).map(u=>n[u]);if(l.length)return r(l)});return{S:a,B:c,Q:i}}function s({S:i,B:a},c,l){if(!(i&4&&l===c[c.length-1])){i&2&&(l=c[c.length-1]),i&1&&e.push(c);for(let u of a)for(let d of u.Q)s(u,[...c,d],l)}}}function mY(t){return t.toString(16).toUpperCase().padStart(2,"0")}function NP(t){return`{${mY(t)}}`}function pY(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function cl(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function gY(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var yY="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const Nd=44032,Fm=4352,Um=4449,$m=4519,kP=19,CP=21,ll=28,Hm=CP*ll,vY=kP*Hm,xY=Nd+vY,wY=Fm+kP,bY=Um+CP,jY=$m+ll;function ou(t){return t>>24&255}function TP(t){return t&16777215}let sx,TA,ix,dh;function EY(){let t=EP(yY);sx=new Map(AP(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),TA=new Set(_d(t)),ix=new Map,dh=new Map;for(let[e,n]of _P(t)){if(!TA.has(e)&&n.length==2){let[r,s]=n,i=dh.get(r);i||(i=new Map,dh.set(r,i)),i.set(s,e)}ix.set(e,n.reverse())}}function PP(t){return t>=Nd&&t<xY}function AY(t,e){if(t>=Fm&&t<wY&&e>=Um&&e<bY)return Nd+(t-Fm)*Hm+(e-Um)*ll;if(PP(t)&&e>$m&&e<jY&&(t-Nd)%ll==0)return t+(e-$m);{let n=dh.get(t);return n&&(n=n.get(e),n)?n:-1}}function IP(t){sx||EY();let e=[],n=[],r=!1;function s(i){let a=sx.get(i);a&&(r=!0,i|=a),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(PP(i)){let a=i-Nd,c=a/Hm|0,l=a%Hm/ll|0,u=a%ll;s(Fm+c),s(Um+l),u>0&&s($m+u)}else{let a=ix.get(i);a?n.push(...a):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=ou(e[0]);for(let a=1;a<e.length;a++){let c=ou(e[a]);if(c==0||i<=c){i=c;continue}let l=a-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(i=ou(e[--l]),i<=c))break}i=ou(e[a])}}return e}function _Y(t){let e=[],n=[],r=-1,s=0;for(let i of t){let a=ou(i),c=TP(i);if(r==-1)a==0?r=c:e.push(c);else if(s>0&&s>=a)a==0?(e.push(r,...n),n.length=0,r=c):n.push(c),s=a;else{let l=AY(r,c);l>=0?r=l:s==0&&a==0?(e.push(r),r=c):(n.push(c),s=a)}}return r>=0&&e.push(r,...n),e}function RP(t){return IP(t).map(TP)}function SY(t){return _Y(IP(t))}const PA=45,OP=".",MP=65039,BP=1,zm=t=>Array.from(t);function kd(t,e){return t.P.has(e)||t.Q.has(e)}class NY extends Array{get is_emoji(){return!0}}let ox,DP,Zo,ax,LP,Pc,Hy,nc,Lo,IA,cx;function Vb(){if(ox)return;let t=EP(iY);const e=()=>_d(t),n=()=>new Set(e()),r=(d,f)=>f.forEach(h=>d.add(h));ox=new Map(_P(t)),DP=n(),Zo=e(),ax=new Set(e().map(d=>Zo[d])),Zo=new Set(Zo),LP=n(),n();let s=AP(t),i=t();const a=()=>{let d=new Set;return e().forEach(f=>r(d,s[f])),r(d,e()),d};Pc=Sd(d=>{let f=Sd(t).map(h=>h+96);if(f.length){let h=d>=i;f[0]-=32,f=cl(f),h&&(f=`Restricted[${f}]`);let m=a(),g=a(),p=!t();return{N:f,P:m,Q:g,M:p,R:h}}}),Hy=n(),nc=new Map;let c=e().concat(zm(Hy)).sort((d,f)=>d-f);c.forEach((d,f)=>{let h=t(),m=c[f]=h?c[f-h]:{V:[],M:new Map};m.V.push(d),Hy.has(d)||nc.set(d,m)});for(let{V:d,M:f}of new Set(nc.values())){let h=[];for(let g of d){let p=Pc.filter(x=>kd(x,g)),y=h.find(({G:x})=>p.some(w=>x.has(w)));y||(y={G:new Set,V:[]},h.push(y)),y.V.push(g),r(y.G,p)}let m=h.flatMap(g=>zm(g.G));for(let{G:g,V:p}of h){let y=new Set(m.filter(x=>!g.has(x)));for(let x of p)f.set(x,y)}}Lo=new Set;let l=new Set;const u=d=>Lo.has(d)?l.add(d):Lo.add(d);for(let d of Pc){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of Lo)!nc.has(d)&&!l.has(d)&&nc.set(d,BP);r(Lo,RP(Lo)),IA=hY(t).map(d=>NY.from(d)).sort(gY),cx=new Map;for(let d of IA){let f=[cx];for(let h of d){let m=f.map(g=>{let p=g.get(h);return p||(p=new Map,g.set(h,p)),p});h===MP?f.push(...m):f=m}for(let h of f)h.V=d}}function Gb(t){return(FP(t)?"":`${Wb(gg([t]))} `)+NP(t)}function Wb(t){return`"${t}"`}function kY(t){if(t.length>=4&&t[2]==PA&&t[3]==PA)throw new Error(`invalid label extension: "${cl(t.slice(0,4))}"`)}function CY(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function TY(t){let e=t[0],n=kA.get(e);if(n)throw Nu(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let a=kA.get(e);if(a){if(s==i)throw Nu(`${n} + ${a}`);s=i+1,n=a}}if(s==r)throw Nu(`trailing ${n}`)}function gg(t,e=1/0,n=NP){let r=[];PY(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let a=0;a<i;a++){let c=t[a];FP(c)&&(r.push(cl(t.slice(s,a))),r.push(n(c)),s=a+1)}return r.push(cl(t.slice(s,i))),r.join("")}function PY(t,e){return Vb(),Zo.has(t)}function FP(t){return Vb(),LP.has(t)}function IY(t){return BY(RY(t,SY,FY))}function RY(t,e,n){if(!t)return[];Vb();let r=0;return t.split(OP).map(s=>{let i=pY(s),a={input:i,offset:r};r+=i.length+1;try{let c=a.tokens=LY(i,e,n),l=c.length,u;if(!l)throw new Error("empty label");let d=a.output=c.flat();if(CY(d),!(a.emoji=l>1||c[0].is_emoji)&&d.every(h=>h<128))kY(d),u="ASCII";else{let h=c.flatMap(m=>m.is_emoji?[]:m);if(!h.length)u="Emoji";else{if(Zo.has(d[0]))throw Nu("leading combining mark");for(let p=1;p<l;p++){let y=c[p];if(!y.is_emoji&&Zo.has(y[0]))throw Nu(`emoji + combining mark: "${cl(c[p-1])} + ${gg([y[0]])}"`)}TY(d);let m=zm(new Set(h)),[g]=MY(m);DY(g,h),OY(g,m),u=g.N}}a.type=u}catch(c){a.error=c}return a})}function OY(t,e){let n,r=[];for(let s of e){let i=nc.get(s);if(i===BP)return;if(i){let a=i.M.get(s);if(n=n?n.filter(c=>a.has(c)):zm(a),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>kd(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function MY(t){let e=Pc;for(let n of t){let r=e.filter(s=>kd(s,n));if(!r.length)throw Pc.some(s=>kd(s,n))?$P(e[0],n):UP(n);if(e=r,r.length==1)break}return e}function BY(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${Wb(gg(e,63))}: ${s}`)}return cl(r)}).join(OP)}function UP(t){return new Error(`disallowed character: ${Gb(t)}`)}function $P(t,e){let n=Gb(e),r=Pc.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Nu(t){return new Error(`illegal placement: ${t}`)}function DY(t,e){for(let n of e)if(!kd(t,n))throw $P(t,n);if(t.M){let n=RP(e);for(let r=1,s=n.length;r<s;r++)if(ax.has(n[r])){let i=r+1;for(let a;i<s&&ax.has(a=n[i]);i++)for(let c=r;c<i;c++)if(n[c]==a)throw new Error(`duplicate non-spacing marks: ${Gb(a)}`);if(i-r>CA)throw new Error(`excessive non-spacing marks: ${Wb(gg(n.slice(r-1,i)))} (${i-r}/${CA})`);r=i}}}function LY(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=UY(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let a=t.pop();if(Lo.has(a))s.push(a);else{let c=ox.get(a);if(c)s.push(...c);else if(!DP.has(a))throw UP(a)}}}return s.length&&r.push(e(s)),r}function FY(t){return t.filter(e=>e!=MP)}function UY(t,e){let n=cx,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const $Y=t=>IY(t),ds=t=>{let e="";for(let n=0;n<32;n+=1)e+="00";if(t){const r=$Y(t).split(".");for(let s=r.length-1;s>=0;s-=1){const i=pr(r[s]).slice(2);e=pr(`0x${e}${i}`).slice(2)}}return`0x${e}`};var Mf=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class HY{constructor(e,n){this.contract=new aa(rY,n??Lm.main,e),this.context=e}getOwner(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.owner(ds(e)).call()}catch{throw new Error}})}getTTL(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(ds(e)).call()}catch{throw new Error}})}recordExists(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(ds(e)).call()}catch{throw new Error}})}getResolver(e){return Mf(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(ds(e)).call().then(n=>{if(typeof n=="string")return new aa(sY,n,this.context);throw new Error})}catch{throw new Error}})}get events(){return this.contract.events}}var Os=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class zY{constructor(e){this.registry=e}getResolverContractAdapter(e){return Os(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,n){var r,s;return Os(this,void 0,void 0,function*(){if(we(NA[n]))throw new kE((r=e.options.address)!==null&&r!==void 0?r:"",n);if(!(yield e.methods.supportsInterface(NA[n]).call()))throw new kE((s=e.options.address)!==null&&s!==void 0?s:"",n)})}supportsInterface(e,n){var r;return Os(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);let i=n;if(!et(i)){if(i=(r=Kd(n))!==null&&r!==void 0?r:"",n==="")throw new Error("Invalid interface Id");i=i.slice(0,10)}return s.methods.supportsInterface(i).call()})}getAddress(e,n=60){return Os(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,qa.addr),r.methods.addr(ds(e),n).call()})}getPubkey(e){return Os(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,qa.pubkey),n.methods.pubkey(ds(e)).call()})}getContenthash(e){return Os(this,void 0,void 0,function*(){const n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,qa.contenthash),n.methods.contenthash(ds(e)).call()})}setAddress(e,n,r){return Os(this,void 0,void 0,function*(){const s=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(s,qa.setAddr),s.methods.setAddr(ds(e),n).send(r)})}getText(e,n){return Os(this,void 0,void 0,function*(){const r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,qa.text),r.methods.text(ds(e),n).call()})}getName(e,n=!0){return Os(this,void 0,void 0,function*(){const r=`${e.toLowerCase().substring(2)}.addr.reverse`,s=yield this.getResolverContractAdapter(r);return n&&(yield this.checkInterfaceSupport(s,qa.name)),s.methods.name(ds(r)).call()})}}var jr=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class HP extends Qn{constructor(e,n){super(n??""),this.registryAddress=e??Lm.main,this._registry=new HY(this.getContextObject(),e),this._resolver=new zY(this._registry)}getResolver(e){return jr(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return jr(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return jr(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return jr(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,n=60){return jr(this,void 0,void 0,function*(){return this._resolver.getAddress(e,n)})}getText(e,n){return jr(this,void 0,void 0,function*(){return mr(e)?this._resolver.getText(yield this._resolver.getName(e,!1),n):this._resolver.getText(e,n)})}getName(e,n=!0){return jr(this,void 0,void 0,function*(){return this._resolver.getName(e,n)})}getPubkey(e){return jr(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return jr(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return jr(this,void 0,void 0,function*(){const e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){const s=yield mQ(this);if(!(typeof s=="boolean"&&!s))throw new f9;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;const n=yield Pb(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:Tr.HEX})),r=Lm[nY[n]];if(typeof r>"u")throw new d9(n);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,n){return jr(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,n)})}get events(){return this._registry.events}setAddress(e,n,r){return jr(this,void 0,void 0,function*(){return this._resolver.setAddress(e,n,r)})}}var vi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const VY=t=>vi(void 0,void 0,void 0,function*(){return(yield Kq(t)).map(Cs)}),GY=(t,e)=>vi(void 0,void 0,void 0,function*(){ve.validate(["string"],[e]);const n=yield Qq(t,e);return Cs(n)}),WY=(t,e,n,r)=>vi(void 0,void 0,void 0,function*(){return ve.validate(["address","string","uint"],[e,n,r]),Yq(t,e,n,r)}),qY=(t,e)=>vi(void 0,void 0,void 0,function*(){return ve.validate(["address"],[e]),Jq(t,e)}),KY=(t,e,n)=>vi(void 0,void 0,void 0,function*(){return ve.validate(["string","string"],[e,n]),Zq(t,e,n)}),QY=(t,e,n,r)=>vi(void 0,void 0,void 0,function*(){const s=er(e,Se,{transactionSchema:r?.customTransactionSchema});return Xq(t,s,n)}),YY=(t,e,n,r)=>vi(void 0,void 0,void 0,function*(){const s=er(e,Se,{transactionSchema:r?.customTransactionSchema});return eK(t,s,n)}),JY=(t,e,n,r)=>vi(void 0,void 0,void 0,function*(){ve.validate(["string","address","string"],[e,n,r]);const s=et(e)?e:Zr(e);return tK(t,s,n,r)}),ZY=(t,e,n)=>vi(void 0,void 0,void 0,function*(){ve.validate(["string","string"],[e,n]);const r=et(e)?e:Zr(e);return nK(t,r,n)});var Ms=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class zP extends Qn{getAccounts(){return Ms(this,void 0,void 0,function*(){return VY(this.requestManager)})}newAccount(e){return Ms(this,void 0,void 0,function*(){return GY(this.requestManager,e)})}unlockAccount(e,n,r){return Ms(this,void 0,void 0,function*(){return WY(this.requestManager,e,n,r)})}lockAccount(e){return Ms(this,void 0,void 0,function*(){return qY(this.requestManager,e)})}importRawKey(e,n){return Ms(this,void 0,void 0,function*(){return KY(this.requestManager,e,n)})}sendTransaction(e,n){return Ms(this,void 0,void 0,function*(){return QY(this.requestManager,e,n,this.config)})}signTransaction(e,n){return Ms(this,void 0,void 0,function*(){return YY(this.requestManager,e,n,this.config)})}sign(e,n,r){return Ms(this,void 0,void 0,function*(){return JY(this.requestManager,e,n,r)})}ecRecover(e,n){return Ms(this,void 0,void 0,function*(){return ZY(this.requestManager,e,n)})}}var ps;(function(t){t.HTTPS="https",t.WebSocket="wss"})(ps||(ps={}));var oe;(function(t){t.ETH_MAINNET="eth_mainnet",t.ETH_SEPOLIA="eth_sepolia",t.ETH_HOLESKY="eth_holesky",t.POLYGON_MAINNET="polygon_mainnet",t.POLYGON_AMOY="polygon_amoy",t.AVALANCHE_C_MAINNET="avalanche_c_mainnet",t.AVALANCHE_P_MAINNET="avalanche_p_mainnet",t.AVALANCHE_X_MAINNET="avalanche_x_mainnet",t.ARBITRUM_MAINNET="arbitrum_mainnet",t.ARBITRUM_SEPOLIA="arbitrum_sepolia",t.BASE_MAINNET="base_mainnet",t.BASE_SEPOLIA="base_sepolia",t.OPTIMISM_MAINNET="optimism_mainnet",t.OPTIMISM_SEPOLIA="optimism_sepolia",t.FANTOM_MAINNET="fantom_mainnet",t.FANTOM_TESTNET="fantom_testnet",t.DYMENSION_MAINNET="dymension_mainnet",t.DYMENSION_TESTNET="dymension_testnet",t.BNB_MAINNET="bnb_mainnet",t.BNB_TESTNET="bnb_testnet",t.BSC_MAINNET="bsc_mainnet",t.BSC_TESTNET="bsc_testnet",t.ARBITRUM_ONE="arbitrum_one",t.ARBITRUM_NOVA="arbitrum_nova",t.AVALANCHE_FUJI_C="avalanche_fuji_c",t.AVALANCHE_FUJI_P="avalanche_fuji_p",t.AVALANCHE_FUJI_X="avalanche_fuji_x",t.BLAST_MAINNET="blast_mainnet",t.OPBNB_MAINNET="opbnb_mainnet",t.OPBNB_TESTNET="opbnb_testnet",t.GNOSIS_MAINNET="gnosis_mainnet",t.GNOSIS_CHIADO="gnosis_chiado",t.PULSECHAIN_MAINNET="pulsechain_mainnet",t.PULSECHAIN_TESTNET="pulsechain_testnet",t.KAVA_MAINNET="kava_mainnet",t.CRONOS_MAINNET="cronos_mainnet",t.MANTLE_MAINNET="mantle_mainnet",t.CHILIZ_MAINNET="chiliz_mainnet",t.CHILIZ_SPICY="chiliz_spicy",t.MOONBEAM_MAINNET="moonbeam_mainnet",t.TAIKO_MAINNET="taiko_mainnet",t.TAIKO_HEKLA="taiko_hekla",t.LINEA_MAINNET="linea_mainnet",t.LINEA_SEPOLIA="linea_sepolia",t.BAHAMUT_MAINNET="bahamut_mainnet",t.SCROLL_MAINNET="scroll_mainnet",t.SCROLL_SEPOLIA="scroll_sepolia",t.TRON_MAINNET="tron_mainnet",t.SYSCOIN_MAINNET="syscoin_mainnet",t.SYSCOIN_TANENBAUM="syscoin_tanenbaum",t.MOONRIVER_MAINNET="moonriver_mainnet",t.HAQQ_MAINNET="haqq_mainnet",t.EVMOS_MAINNET="evmos_mainnet",t.EVMOS_TESTNET="evmos_testnet",t.BERACHAIN_TESTNET="berachain_testnet"})(oe||(oe={}));const XY=1300;class eJ extends Ee{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=XY}}const tJ=1301;class RA extends Ee{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=tJ}}var nJ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};class VP extends hb{constructor(e,n,r,s,i){if(super(),i!==void 0&&n===ps.HTTPS&&!("providerOptions"in i))throw new RA("HTTP Provider");if(i!==void 0&&n===ps.WebSocket&&!("socketOptions"in i||"reconnectOptions"in i))throw new RA("Websocket Provider");this.transport=n,n===ps.HTTPS?this.provider=new ig(this.getRPCURL(e,n,r,s),i):n===ps.WebSocket&&(this.provider=new G2(this.getRPCURL(e,n,r,s),i?.socketOptions,i?.reconnectOptions))}request(e,n){return nJ(this,void 0,void 0,function*(){return this.transport===ps.HTTPS?yield this.provider.request(e,n):this.provider.request(e)})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.once&&this.provider.once(e,n)}removeAllListeners(e){var n;!((n=this.provider)===null||n===void 0)&&n.removeAllListeners&&this.provider.removeAllListeners(e)}connect(){var e;!((e=this.provider)===null||e===void 0)&&e.connect&&this.provider.connect()}disconnect(e,n){var r;!((r=this.provider)===null||r===void 0)&&r.disconnect&&this.provider.disconnect(e,n)}reset(){var e;!((e=this.provider)===null||e===void 0)&&e.reset&&this.provider.reset()}on(e,n){this.provider&&this.provider.on(e,n)}removeListener(e,n){this.provider&&this.provider.removeListener(e,n)}}var rJ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const Jt=t=>t!==void 0&&t.trim().length>0;class sJ extends VP{constructor(e=oe.ETH_MAINNET,n=ps.HTTPS,r="",s="",i){super(e,n,r,s,i)}request(e,n){const r=Object.create(null,{request:{get:()=>super.request}});return rJ(this,void 0,void 0,function*(){try{return yield r.request.call(this,e,n)}catch(s){throw s instanceof hs&&s.statusCode===429?new eJ(s):s}})}getRPCURL(e,n,r,s){let i="",a="";switch(e){case oe.ETH_MAINNET:i=Jt(s)?s:"powerful-holy-bush.quiknode.pro",a=Jt(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case oe.ETH_SEPOLIA:i=Jt(s)?s:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",a=Jt(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case oe.ETH_HOLESKY:i=Jt(s)?s:"yolo-morning-card.ethereum-holesky.quiknode.pro",a=Jt(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case oe.ARBITRUM_MAINNET:i=Jt(s)?s:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",a=Jt(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case oe.ARBITRUM_SEPOLIA:i=Jt(s)?s:"few-patient-pond.arbitrum-sepolia.quiknode.pro",a=Jt(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case oe.BNB_MAINNET:i=Jt(s)?s:"purple-empty-reel.bsc.quiknode.pro",a=Jt(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case oe.BNB_TESTNET:i=Jt(s)?s:"floral-rough-scion.bsc-testnet.quiknode.pro",a=Jt(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case oe.POLYGON_MAINNET:i=Jt(s)?s:"small-chaotic-moon.matic.quiknode.pro",a=Jt(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case oe.POLYGON_AMOY:i=Jt(s)?s:"prettiest-side-shape.matic-amoy.quiknode.pro",a=Jt(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw new Error("Network info not avalible.")}return`${n}://${i}/${a}`}}const iJ=t=>t!==void 0&&t.trim().length>0,oJ=[oe.DYMENSION_MAINNET,oe.DYMENSION_TESTNET,oe.KAVA_MAINNET,oe.CRONOS_MAINNET,oe.POLYGON_MAINNET];class Vm extends VP{constructor(e=oe.ETH_MAINNET,n=ps.HTTPS,r="",s){super(e,n,"",r,s)}getRPCURL(e,n,r,s){if(!Vm.networkHostMap[e])throw new Error("Network info not avalible.");const i=`${Vm.networkHostMap[e]}.publicnode.com`,a=iJ(s)?s:i;return oJ.includes(e)&&n===ps.WebSocket?`${n}://${a}/websocket`:`${n}://${a}`}}Vm.networkHostMap={[oe.POLYGON_AMOY]:"polygon-amoy-bor-rpc",[oe.DYMENSION_MAINNET]:"dymension-evm-rpc",[oe.DYMENSION_TESTNET]:"dymension-testnet-evm-rpc",[oe.BLAST_MAINNET]:"blast-rpc",[oe.GNOSIS_MAINNET]:"gnosis-rpc",[oe.PULSECHAIN_MAINNET]:"pulsechain-rpc",[oe.PULSECHAIN_TESTNET]:"pulsechain-testnet-rpc",[oe.KAVA_MAINNET]:"kava-evm-rpc",[oe.CRONOS_MAINNET]:"cronos-evm-rpc",[oe.MANTLE_MAINNET]:"mantle-rpc",[oe.TAIKO_MAINNET]:"taiko-rpc",[oe.TAIKO_HEKLA]:"taiko-hekla-rpc",[oe.LINEA_MAINNET]:"linea-rpc",[oe.LINEA_SEPOLIA]:"linea-sepolia-rpc",[oe.SCROLL_MAINNET]:"scroll-rpc",[oe.SCROLL_SEPOLIA]:"scroll-sepolia-rpc",[oe.SYSCOIN_MAINNET]:"syscoin-evm-rpc",[oe.SYSCOIN_TANENBAUM]:"syscoin-tanenbaum-evm-rpc",[oe.HAQQ_MAINNET]:"haqq-evm-rpc",[oe.EVMOS_MAINNET]:"evmos-evm-rpc",[oe.EVMOS_TESTNET]:"evmos-testnet-evm-rpc",[oe.BERACHAIN_TESTNET]:"berachain-testnet-evm-rpc",[oe.ETH_MAINNET]:"ethereum-rpc",[oe.ETH_SEPOLIA]:"ethereum-sepolia-rpc",[oe.ETH_HOLESKY]:"ethereum-holesky-rpc",[oe.BSC_MAINNET]:"bsc-rpc",[oe.BSC_TESTNET]:"bsc-testnet-rpc",[oe.POLYGON_MAINNET]:"polygon-bor-rpc",[oe.BASE_MAINNET]:"base-rpc",[oe.BASE_SEPOLIA]:"base-sepolia-rpc",[oe.ARBITRUM_ONE]:"arbitrum-one-rpc",[oe.ARBITRUM_NOVA]:"arbitrum-nova-rpc",[oe.ARBITRUM_SEPOLIA]:"arbitrum-sepolia-rpc",[oe.AVALANCHE_C_MAINNET]:"avalanche-c-chain-rpc",[oe.AVALANCHE_P_MAINNET]:"avalanche-p-chain-rpc",[oe.AVALANCHE_X_MAINNET]:"avalanche-x-chain-rpc",[oe.AVALANCHE_FUJI_C]:"avalanche-fuji-c-chain-rpc",[oe.AVALANCHE_FUJI_P]:"avalanche-fuji-p-chain-rpc",[oe.AVALANCHE_FUJI_X]:"avalanche-fuji-x-chain-rpc",[oe.OPTIMISM_MAINNET]:"optimism-rpc",[oe.OPTIMISM_SEPOLIA]:"optimism-sepolia-rpc",[oe.FANTOM_MAINNET]:"fantom-rpc",[oe.FANTOM_TESTNET]:"fantom-testnet-rpc",[oe.OPBNB_MAINNET]:"opbnb-rpc",[oe.OPBNB_TESTNET]:"opbnb-testnet-rpc",[oe.GNOSIS_CHIADO]:"gnosis-chiado-rpc",[oe.CHILIZ_MAINNET]:"chiliz-rpc",[oe.CHILIZ_SPICY]:"chiliz-spicy-rpc",[oe.MOONBEAM_MAINNET]:"moonbeam-rpc",[oe.BAHAMUT_MAINNET]:"bahamut-rpc",[oe.TRON_MAINNET]:"tron-evm-rpc",[oe.MOONRIVER_MAINNET]:"moonriver-rpc"};const aJ=new sJ,cJ={encodeEventSignature:Mb,encodeFunctionCall:oQ,encodeFunctionSignature:Ed,encodeParameter:ex,encodeParameters:hg,decodeParameter:uP,decodeParameters:oa,decodeLog:dP};var Wl=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})};const lJ=t=>{const e=(a,c)=>Wl(void 0,void 0,void 0,function*(){const l=yield qQ(a,t),u=Y({format:"bytes"},c,Se);return WW(l,u)}),n=a=>{const c=Nb(a);return Object.assign(Object.assign({},c),{signTransaction:l=>Wl(void 0,void 0,void 0,function*(){return e(l,c.privateKey)})})},r=(a,c,l)=>Wl(void 0,void 0,void 0,function*(){var u;const d=yield YW(a,c,(u=l?.nonStrict)!==null&&u!==void 0?u:!0);return Object.assign(Object.assign({},d),{signTransaction:f=>Wl(void 0,void 0,void 0,function*(){return e(f,d.privateKey)})})}),s=()=>{const a=QW();return Object.assign(Object.assign({},a),{signTransaction:c=>Wl(void 0,void 0,void 0,function*(){return e(c,a.privateKey)})})},i=new km({create:s,privateKeyToAccount:n,decrypt:r});return{signTransaction:e,create:s,privateKeyToAccount:n,decrypt:r,recoverTransaction:qW,hashMessage:Sb,sign:CT,recover:G0,encrypt:TT,wallet:i,privateKeyToAddress:lg,parseAndValidatePrivateKey:Al,privateKeyToPublicKey:KW}},uJ={version:"4.16.0"};var dJ=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(d){try{u(r.next(d))}catch(f){a(f)}}function l(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})},Gm;(function(t){t.eip6963announceProvider="eip6963:announceProvider",t.eip6963requestProvider="eip6963:requestProvider"})(Gm||(Gm={}));const zy=new Map,GP="web3:providersMapUpdated",fJ=()=>dJ(void 0,void 0,void 0,function*(){return new Promise((t,e)=>{typeof window>"u"&&e(new Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(Gm.eip6963announceProvider,n=>{zy.set(n.detail.info.uuid,n.detail);const r=new CustomEvent(GP,{detail:zy});window.dispatchEvent(r),t(zy)}),window.dispatchEvent(new Event(Gm.eip6963requestProvider))})}),hJ=t=>{if(typeof window>"u")throw new Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(GP,t)};class kr extends Qn{constructor(e=aJ){var n;(we(e)||typeof e=="string"&&e.trim()===""||typeof e!="string"&&!Sm(e)&&!e.provider)&&console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};typeof e=="string"||Sm(e)?r.provider=e:e?r=e:r={},r.registeredSubscriptions=Object.assign(Object.assign({},nx),(n=r.registeredSubscriptions)!==null&&n!==void 0?n:{}),super(r);const s=lJ(this);this._wallet=s.wallet,this._accountProvider=s,this.utils=V2;const i=this;class a extends aa{constructor(u,d,f,h,m){if(Hi(d)&&Hi(f))throw new CE("Should not provide options at both 2nd and 3rd parameters");let g,p={},y,x;if(!we(d)&&typeof d!="object"&&typeof d!="string")throw new CE;if(typeof d=="string"&&(g=d),Hi(d)?p=d:Hi(f)?p=f:p={},d instanceof Qn?y=d:f instanceof Qn?y=f:h instanceof Qn?y=h:y=i.getContextObject(),m?x=m:zs(f)?x=f:zs(h)&&(x=h),super(u,g,p,y,x),super.subscribeToContextEvents(i),!we(c)){const w=c.getTransactionMiddleware();we(w)||super.setTransactionMiddleware(w)}}}const c=i.use(mg);this.eth=Object.assign(c,{ens:i.use(HP,Lm.main),Iban:Ft,net:i.use(LT),personal:i.use(zP),Contract:a,abi:cJ,accounts:s})}}kr.version=uJ.version;kr.utils=V2;kr.requestEIP6963Providers=fJ;kr.onNewProviderDiscovered=hJ;kr.modules={Web3Eth:mg,Iban:Ft,Net:LT,ENS:HP,Personal:zP};class mJ{web3=null;contracts=new Map;currentNetwork="mainnet";networkConfigs={ethereum:{chainId:"0x1",rpcUrl:"https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},polygon:{chainId:"0x89",rpcUrl:"https://polygon-rpc.com"},binance:{chainId:"0x38",rpcUrl:"https://bsc-dataseed1.binance.org"},avalanche:{chainId:"0xa86a",rpcUrl:"https://api.avax.network/ext/bc/C/rpc"},arbitrum:{chainId:"0xa4b1",rpcUrl:"https://arb1.arbitrum.io/rpc"},optimism:{chainId:"0xa",rpcUrl:"https://mainnet.optimism.io"}};async initializeWeb3(e){try{if(typeof window<"u"&&window.ethereum)this.web3=new kr(window.ethereum),console.log("Using wallet provider");else if(kr.givenProvider)this.web3=new kr(kr.givenProvider),console.log("Using Web3.givenProvider");else{const n=e?.rpcUrl||"http://localhost:8545";this.web3=new kr(n),console.log("Using custom RPC:",n)}return typeof window<"u"&&window.ethereum&&await window.ethereum.request({method:"eth_requestAccounts"}),this.web3}catch(n){throw console.error("Failed to initialize Web3:",n),new Error("Failed to connect to blockchain network")}}getWeb3(){if(!this.web3)throw new Error("Web3 not initialized. Call initializeWeb3() first.");return this.web3}createContract(e){if(!this.web3)throw new Error("Web3 not initialized");const{address:n,abi:r}=e,s=new this.web3.eth.Contract(r,n),i=`${n}_${this.currentNetwork}`;return this.contracts.set(i,s),console.log("Contract instance created:",{address:n,network:this.currentNetwork}),s}getContract(e){const n=`${e}_${this.currentNetwork}`;return this.contracts.get(n)||null}async getAccounts(){if(!this.web3)throw new Error("Web3 not initialized");return await this.web3.eth.getAccounts()}async getNetworkId(){if(!this.web3)throw new Error("Web3 not initialized");const e=await this.web3.eth.net.getId();return Number(e)}async getBalance(e){if(!this.web3)throw new Error("Web3 not initialized");const n=await this.web3.eth.getBalance(e);return this.web3.utils.fromWei(n,"ether")}async callContractMethod(e,n,r=[]){const s=this.getContract(e);if(!s)throw new Error("Contract not found. Create contract instance first.");return await s.methods[n](...r).call()}async sendContractTransaction(e,n,r=[],s={from:""}){const i=this.getContract(e);if(!i)throw new Error("Contract not found. Create contract instance first.");if(!s.from){const a=await this.getAccounts();if(a.length===0)throw new Error("No accounts available");s.from=a[0]}return await i.methods[n](...r).send(s)}subscribeToEvent(e,n,r,s={}){const i=this.getContract(e);if(!i)throw new Error("Contract not found. Create contract instance first.");const a=i.events[n](s);return a.on("data",r),a.on("error",console.error),a}async switchNetwork(e){const n=this.networkConfigs[e];if(!n)throw new Error(`Unsupported network: ${e}`);if(typeof window<"u"&&window.ethereum)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n.chainId}]}),this.currentNetwork=e}catch(r){if(r.code===4902)try{await this.addNetwork(e)}catch(s){throw console.error("Failed to add network:",s),s}else throw console.error("Failed to switch network:",r),r}}async addNetwork(e){const n=this.networkConfigs[e];if(!n)throw new Error(`Unsupported network: ${e}`);const r={chainId:n.chainId,chainName:this.getNetworkDisplayName(e),rpcUrls:[n.rpcUrl],nativeCurrency:this.getNativeCurrency(e),blockExplorerUrls:[this.getBlockExplorer(e)]};typeof window<"u"&&window.ethereum&&(await window.ethereum.request({method:"wallet_addEthereumChain",params:[r]}),this.currentNetwork=e)}getNetworkDisplayName(e){return{ethereum:"Ethereum Mainnet",polygon:"Polygon Mainnet",binance:"Binance Smart Chain",avalanche:"Avalanche Network",arbitrum:"Arbitrum One",optimism:"Optimism"}[e]||e}getNativeCurrency(e){return{ethereum:{name:"Ethereum",symbol:"ETH",decimals:18},polygon:{name:"MATIC",symbol:"MATIC",decimals:18},binance:{name:"Binance Coin",symbol:"BNB",decimals:18},avalanche:{name:"Avalanche",symbol:"AVAX",decimals:18},arbitrum:{name:"Ethereum",symbol:"ETH",decimals:18},optimism:{name:"Ethereum",symbol:"ETH",decimals:18}}[e]||{name:"ETH",symbol:"ETH",decimals:18}}getBlockExplorer(e){return{ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",binance:"https://bscscan.com",avalanche:"https://snowtrace.io",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"}[e]||"https://etherscan.io"}async isWalletConnected(){try{return(await this.getAccounts()).length>0}catch{return!1}}}const cs=new mJ,Xd=()=>{const[t,e]=v.useState(null),[n,r]=v.useState([]),[s,i]=v.useState(null),[a,c]=v.useState(!1),[l,u]=v.useState(!1),{toast:d}=_e(),f=v.useCallback(async x=>{u(!0);try{const w=await cs.initializeWeb3({rpcUrl:x});e(w);const b=await cs.getAccounts();r(b);const j=await cs.getNetworkId();i(j);const E=await cs.isWalletConnected();c(E),d({title:"Wallet Connected",description:`Connected to network ${j} with ${b.length} account(s)`}),console.log("Web3 connected:",{accounts:b,networkId:j})}catch(w){console.error("Web3 connection error:",w),d({title:"Connection Failed",description:w instanceof Error?w.message:"Failed to connect to Web3",variant:"destructive"})}finally{u(!1)}},[d]),h=v.useCallback(x=>{try{return cs.createContract(x)}catch(w){return console.error("Contract creation error:",w),d({title:"Contract Error",description:w instanceof Error?w.message:"Failed to create contract",variant:"destructive"}),null}},[d]),m=v.useCallback(async x=>{try{return await cs.getBalance(x)}catch(w){return console.error("Balance fetch error:",w),d({title:"Balance Error",description:w instanceof Error?w.message:"Failed to get balance",variant:"destructive"}),"0"}},[d]),g=v.useCallback(async(x,w,b=[])=>{try{return await cs.callContractMethod(x,w,b)}catch(j){throw console.error("Contract call error:",j),d({title:"Contract Call Failed",description:j instanceof Error?j.message:"Failed to call contract method",variant:"destructive"}),j}},[d]),p=v.useCallback(async(x,w,b=[],j={})=>{try{const E={from:j.from||(n.length>0?n[0]:""),value:j.value,gas:j.gas};if(!E.from)throw new Error("No account available for transaction");return await cs.sendContractTransaction(x,w,b,E)}catch(E){throw console.error("Transaction error:",E),d({title:"Transaction Failed",description:E instanceof Error?E.message:"Failed to send transaction",variant:"destructive"}),E}},[n,d]),y=v.useCallback(async x=>{try{await cs.switchNetwork(x);const w=await cs.getNetworkId();i(w),d({title:"Network Switched",description:`Switched to ${x}`})}catch(w){console.error("Network switch error:",w),d({title:"Network Switch Failed",description:w instanceof Error?w.message:"Failed to switch network",variant:"destructive"})}},[d]);return v.useEffect(()=>{if(typeof window<"u"&&window.ethereum){const x=b=>{r(b),c(b.length>0)},w=b=>{i(parseInt(b,16)),window.location.reload()};return window.ethereum.on("accountsChanged",x),window.ethereum.on("chainChanged",w),()=>{window.ethereum.removeListener("accountsChanged",x),window.ethereum.removeListener("chainChanged",w)}}},[]),{web3:t,accounts:n,networkId:s,isConnected:a,isLoading:l,connectWallet:f,createContract:h,getBalance:m,callContractMethod:g,sendContractTransaction:p,switchNetwork:y}},pJ=()=>{const{connectWallet:t,isConnected:e,isLoading:n,accounts:r}=Xd(),s=async()=>{try{await t()}catch(i){console.error("Failed to connect MetaMask:",i)}};return e&&r.length>0?o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[o.jsx(un,{className:"h-4 w-4"}),o.jsx("span",{children:"Connected"})]}),o.jsxs("span",{className:"text-muted-foreground",children:[r[0].slice(0,6),"...",r[0].slice(-4)]})]}):o.jsxs(W,{variant:"outline",size:"sm",onClick:s,disabled:n,children:[n?o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(un,{className:"h-4 w-4 mr-2"}),n?"Connecting...":"Connect MetaMask"]})},gJ=({userEmail:t,onShowPrivacyPolicy:e})=>{const{signOut:n}=vr();return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:" Commission Payout Dashboard"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pJ,{}),o.jsx(Ut,{to:"/bitcoin-wallet",children:o.jsxs(W,{variant:"outline",size:"sm",children:[o.jsx(js,{className:"h-4 w-4 mr-2"}),"Full Bitcoin Wallet"]})}),o.jsxs(W,{variant:"outline",size:"sm",onClick:e,children:[o.jsx(rn,{className:"h-4 w-4 mr-2"}),"Privacy Policy"]}),o.jsxs(W,{variant:"outline",size:"sm",onClick:n,children:[o.jsx(fD,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})}),o.jsx(U,{children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Signed in as: ",o.jsx("span",{className:"font-medium",children:t})]})})]})},yJ=()=>{const[t,e]=v.useState(new Date);return v.useEffect(()=>{const n=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(n)},[]),o.jsx(F,{children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(oi,{className:"h-5 w-5 text-primary"}),o.jsxs("span",{className:"text-xl font-mono",children:[t.toLocaleString("en-US",{timeZone:"America/New_York",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})," ET"]})]})})})},vJ=({earnings:t,tasksCompleted:e,maxTasks:n,onResetTasks:r,todaysEarnings:s=0})=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Commission Earnings"}),o.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",(s/100).toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Today's commissions"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"BTC Earnings"}),o.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[t.toFixed(8)," BTC"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Task completions"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Tasks Completed"}),o.jsx(_p,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[e,"/",n]}),e>=n&&o.jsxs(W,{onClick:r,size:"sm",variant:"outline",className:"mt-2 w-full",children:[o.jsx(ww,{className:"h-4 w-4 mr-2"}),"Reset Tasks"]})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Bitcoin Wallet"}),o.jsx(un,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(U,{children:o.jsx("div",{className:"text-xs text-muted-foreground break-all",children:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"})})]})]}),xJ=({earnings:t,tasksCompleted:e,maxTasks:n,onResetTasks:r,todaysEarnings:s})=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(yJ,{}),o.jsx(vJ,{earnings:t,tasksCompleted:e,maxTasks:n,onResetTasks:r,todaysEarnings:s})]});var wJ=Object.defineProperty,Wm=Object.getOwnPropertySymbols,WP=Object.prototype.hasOwnProperty,qP=Object.prototype.propertyIsEnumerable,OA=(t,e,n)=>e in t?wJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lx=(t,e)=>{for(var n in e||(e={}))WP.call(e,n)&&OA(t,n,e[n]);if(Wm)for(var n of Wm(e))qP.call(e,n)&&OA(t,n,e[n]);return t},ux=(t,e)=>{var n={};for(var r in t)WP.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wm)for(var r of Wm(t))e.indexOf(r)<0&&qP.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Aa;(t=>{const e=class $e{constructor(l,u,d,f){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<$e.MIN_VERSION||l>$e.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let h=[];for(let g=0;g<this.size;g++)h.push(!1);for(let g=0;g<this.size;g++)this.modules.push(h.slice()),this.isFunction.push(h.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(d);if(this.drawCodewords(m),f==-1){let g=1e9;for(let p=0;p<8;p++){this.applyMask(p),this.drawFormatBits(p);const y=this.getPenaltyScore();y<g&&(f=p,g=y),this.applyMask(p)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,u){const d=t.QrSegment.makeSegments(l);return $e.encodeSegments(d,u)}static encodeBinary(l,u){const d=t.QrSegment.makeBytes(l);return $e.encodeSegments([d],u)}static encodeSegments(l,u,d=1,f=40,h=-1,m=!0){if(!($e.MIN_VERSION<=d&&d<=f&&f<=$e.MAX_VERSION)||h<-1||h>7)throw new RangeError("Invalid value");let g,p;for(g=d;;g++){const b=$e.getNumDataCodewords(g,u)*8,j=a.getTotalBits(l,g);if(j<=b){p=j;break}if(g>=f)throw new RangeError("Data too long")}for(const b of[$e.Ecc.MEDIUM,$e.Ecc.QUARTILE,$e.Ecc.HIGH])m&&p<=$e.getNumDataCodewords(g,b)*8&&(u=b);let y=[];for(const b of l){n(b.mode.modeBits,4,y),n(b.numChars,b.mode.numCharCountBits(g),y);for(const j of b.getData())y.push(j)}s(y.length==p);const x=$e.getNumDataCodewords(g,u)*8;s(y.length<=x),n(0,Math.min(4,x-y.length),y),n(0,(8-y.length%8)%8,y),s(y.length%8==0);for(let b=236;y.length<x;b^=253)n(b,8,y);let w=[];for(;w.length*8<y.length;)w.push(0);return y.forEach((b,j)=>w[j>>>3]|=b<<7-(j&7)),new $e(g,u,w,h)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(l[d],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let h=0;h<10;h++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;s(f>>>15==0);for(let h=0;h<=5;h++)this.setFunctionModule(8,h,r(f,h));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let h=9;h<15;h++)this.setFunctionModule(14-h,8,r(f,h));for(let h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,r(f,h));for(let h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,r(f,h));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;s(u>>>18==0);for(let d=0;d<18;d++){const f=r(u,d),h=this.size-11+d%3,m=Math.floor(d/3);this.setFunctionModule(h,m,f),this.setFunctionModule(m,h,f)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const h=Math.max(Math.abs(f),Math.abs(d)),m=l+f,g=u+d;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,h!=2&&h!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=$e.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=$e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],h=$e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],m=Math.floor($e.getNumRawDataModules(u)/8),g=f-m%f,p=Math.floor(m/f);let y=[];const x=$e.reedSolomonComputeDivisor(h);for(let b=0,j=0;b<f;b++){let E=l.slice(j,j+p-h+(b<g?0:1));j+=E.length;const N=$e.reedSolomonComputeRemainder(E,x);b<g&&E.push(0),y.push(E.concat(N))}let w=[];for(let b=0;b<y[0].length;b++)y.forEach((j,E)=>{(b!=p-h||E>=g)&&w.push(j[b])});return s(w.length==m),w}drawCodewords(l){if(l.length!=Math.floor($e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let h=0;h<2;h++){const m=d-h,p=(d+1&2)==0?this.size-1-f:f;!this.isFunction[p][m]&&u<l.length*8&&(this.modules[p][m]=r(l[u>>>3],7-(u&7)),u++)}}s(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(l){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let h=0;h<this.size;h++){let m=!1,g=0,p=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[h][y]==m?(g++,g==5?l+=$e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,p),m||(l+=this.finderPenaltyCountPatterns(p)*$e.PENALTY_N3),m=this.modules[h][y],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,p)*$e.PENALTY_N3}for(let h=0;h<this.size;h++){let m=!1,g=0,p=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][h]==m?(g++,g==5?l+=$e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,p),m||(l+=this.finderPenaltyCountPatterns(p)*$e.PENALTY_N3),m=this.modules[y][h],g=1);l+=this.finderPenaltyTerminateAndCount(m,g,p)*$e.PENALTY_N3}for(let h=0;h<this.size-1;h++)for(let m=0;m<this.size-1;m++){const g=this.modules[h][m];g==this.modules[h][m+1]&&g==this.modules[h+1][m]&&g==this.modules[h+1][m+1]&&(l+=$e.PENALTY_N2)}let u=0;for(const h of this.modules)u=h.reduce((m,g)=>m+(g?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=f&&f<=9),l+=f*$e.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let f=this.size-7;d.length<l;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(l){if(l<$e.MIN_VERSION||l>$e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor($e.getNumRawDataModules(l)/8)-$e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*$e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<l-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<l;f++){for(let h=0;h<u.length;h++)u[h]=$e.reedSolomonMultiply(u[h],d),h+1<u.length&&(u[h]^=u[h+1]);d=$e.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(f=>0);for(const f of l){const h=f^d.shift();d.push(0),u.forEach((m,g)=>d[g]^=$e.reedSolomonMultiply(m,h))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];s(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(c,l,u){if(l<0||l>31||c>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(c>>>d&1)}function r(c,l){return(c>>>l&1)!=0}function s(c){if(!c)throw new Error("Assertion error")}const i=class kt{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new kt(kt.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!kt.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const f=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+f),10),f*3+1,u),d+=f}return new kt(kt.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!kt.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let f=kt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;f+=kt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(f,11,u)}return d<l.length&&n(kt.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new kt(kt.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:kt.isNumeric(l)?[kt.makeNumeric(l)]:kt.isAlphanumeric(l)?[kt.makeAlphanumeric(l)]:[kt.makeBytes(kt.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new kt(kt.Mode.ECI,0,u)}static isNumeric(l){return kt.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return kt.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const f of l){const h=f.mode.numCharCountBits(u);if(f.numChars>=1<<h)return 1/0;d+=4+h+f.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=i;t.QrSegment=i})(Aa||(Aa={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Aa||(Aa={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Aa||(Aa={}));var vc=Aa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var bJ={L:vc.QrCode.Ecc.LOW,M:vc.QrCode.Ecc.MEDIUM,Q:vc.QrCode.Ecc.QUARTILE,H:vc.QrCode.Ecc.HIGH},KP=128,QP="L",YP="#FFFFFF",JP="#000000",ZP=!1,XP=1,jJ=4,EJ=0,AJ=.1;function eI(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(a,c){if(!a&&i!==null){n.push(`M${i+e} ${s+e}h${c-i}v1H${i+e}z`),i=null;return}if(c===r.length-1){if(!a)return;i===null?n.push(`M${c+e},${s+e} h1v1H${c+e}z`):n.push(`M${i+e},${s+e} h${c+1-i}v1H${i+e}z`);return}a&&i===null&&(i=c)})}),n.join("")}function tI(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function _J(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*AJ),a=s/e,c=(r.width||i)*a,l=(r.height||i)*a,u=r.x==null?t.length/2-c/2:r.x*a,d=r.y==null?t.length/2-l/2:r.y*a,f=r.opacity==null?1:r.opacity;let h=null;if(r.excavate){let g=Math.floor(u),p=Math.floor(d),y=Math.ceil(c+u-g),x=Math.ceil(l+d-p);h={x:g,y:p,w:y,h:x}}const m=r.crossOrigin;return{x:u,y:d,h:l,w:c,excavation:h,opacity:f,crossOrigin:m}}function SJ(t,e){return e!=null?Math.max(Math.floor(e),0):t?jJ:EJ}function nI({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:a,boostLevel:c}){let l=M.useMemo(()=>{const g=(Array.isArray(t)?t:[t]).reduce((p,y)=>(p.push(...vc.QrSegment.makeSegments(y)),p),[]);return vc.QrCode.encodeSegments(g,bJ[e],n,void 0,void 0,c)},[t,e,n,c]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:h}=M.useMemo(()=>{let m=l.getModules();const g=SJ(r,s),p=m.length+g*2,y=_J(m,a,g,i);return{cells:m,margin:g,numCells:p,calculatedImageSettings:y}},[l,a,i,r,s]);return{qrcode:l,margin:d,cells:u,numCells:f,calculatedImageSettings:h}}var NJ=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),kJ=M.forwardRef(function(e,n){const r=e,{value:s,size:i=KP,level:a=QP,bgColor:c=YP,fgColor:l=JP,includeMargin:u=ZP,minVersion:d=XP,boostLevel:f,marginSize:h,imageSettings:m}=r,p=ux(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:y}=p,x=ux(p,["style"]),w=m?.src,b=M.useRef(null),j=M.useRef(null),E=M.useCallback($=>{b.current=$,typeof n=="function"?n($):n&&(n.current=$)},[n]),[N,S]=M.useState(!1),{margin:_,cells:O,numCells:T,calculatedImageSettings:I}=nI({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:m,size:i});M.useEffect(()=>{if(b.current!=null){const $=b.current,A=$.getContext("2d");if(!A)return;let k=O;const D=j.current,C=I!=null&&D!==null&&D.complete&&D.naturalHeight!==0&&D.naturalWidth!==0;C&&I.excavation!=null&&(k=tI(O,I.excavation));const B=window.devicePixelRatio||1;$.height=$.width=i*B;const V=i/T*B;A.scale(V,V),A.fillStyle=c,A.fillRect(0,0,T,T),A.fillStyle=l,NJ?A.fill(new Path2D(eI(k,_))):O.forEach(function(q,ee){q.forEach(function(he,de){he&&A.fillRect(de+_,ee+_,1,1)})}),I&&(A.globalAlpha=I.opacity),C&&A.drawImage(D,I.x+_,I.y+_,I.w,I.h)}}),M.useEffect(()=>{S(!1)},[w]);const R=lx({height:i,width:i},y);let z=null;return w!=null&&(z=M.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{S(!0)},ref:j,crossOrigin:I?.crossOrigin})),M.createElement(M.Fragment,null,M.createElement("canvas",lx({style:R,height:i,width:i,ref:E,role:"img"},x)),z)});kJ.displayName="QRCodeCanvas";var qb=M.forwardRef(function(e,n){const r=e,{value:s,size:i=KP,level:a=QP,bgColor:c=YP,fgColor:l=JP,includeMargin:u=ZP,minVersion:d=XP,boostLevel:f,title:h,marginSize:m,imageSettings:g}=r,p=ux(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:y,cells:x,numCells:w,calculatedImageSettings:b}=nI({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:g,size:i});let j=x,E=null;g!=null&&b!=null&&(b.excavation!=null&&(j=tI(x,b.excavation)),E=M.createElement("image",{href:g.src,height:b.h,width:b.w,x:b.x+y,y:b.y+y,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const N=eI(j,y);return M.createElement("svg",lx({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},p),!!h&&M.createElement("title",null,h),M.createElement("path",{fill:c,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),M.createElement("path",{fill:l,d:N,shapeRendering:"crispEdges"}),E)});qb.displayName="QRCodeSVG";const CJ=({wallet:t,onWalletGenerated:e})=>{const[n,r]=v.useState(!1),{toast:s}=_e(),i=async()=>{r(!0);try{const{data:c,error:l}=await re.functions.invoke("generate-wallet");if(l)throw l;console.log("Generated wallet:",c),e(c),s({title:"Bitcoin Wallet Generated!",description:"Your new Bitcoin wallet has been created."})}catch(c){console.error("Error generating wallet:",c),s({title:"Error",description:`Failed to generate wallet: ${c.message}`,variant:"destructive"})}finally{r(!1)}},a=c=>{navigator.clipboard.writeText(c),s({title:"Copied!",description:"Address copied to clipboard"})};return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(js,{className:"h-5 w-5 text-orange-500"}),"Bitcoin Mainnet Wallet"]})}),o.jsxs(U,{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate a Bitcoin wallet to receive cryptocurrency payouts and manage your Bitcoin earnings directly from your dashboard."}),t?o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Bitcoin Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{value:t.address,readOnly:!0,className:"font-mono text-xs"}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>a(t.address),children:o.jsx(lo,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Private Key (WIF)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{value:t.privateKey,readOnly:!0,className:"font-mono text-xs",type:"password"}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>a(t.privateKey),children:o.jsx(lo,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-amber-600",children:" Keep this private key secure and never share it with anyone!"})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(qb,{value:t.address,size:100})})]})}):o.jsxs(W,{onClick:i,disabled:n,className:"w-full",children:[o.jsx(un,{className:"h-4 w-4 mr-2"}),n?"Generating...":"Generate Bitcoin Wallet"]})]})]})},rI=({wallet:t,balance:e,onBalanceUpdated:n})=>{const[r,s]=v.useState(!1),{toast:i}=_e(),a=async()=>{if(t){s(!0);try{const{data:c,error:l}=await re.functions.invoke("get-balance",{body:{address:t.address}});if(l)throw l;console.log("Balance data:",c),n(c),i({title:"Balance Updated",description:`Balance: ${c.balanceBTC} BTC (${c.balanceSats} sats)`})}catch(c){console.error("Error getting balance:",c),i({title:"Error",description:`Failed to get balance: ${c.message}`,variant:"destructive"})}finally{s(!1)}}};return t?o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Bitcoin Balance"}),o.jsx(W,{variant:"outline",size:"sm",onClick:a,disabled:r,children:o.jsx(Eo,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})}),o.jsx(U,{children:e?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-2xl font-bold",children:[e.balanceBTC," BTC"]}),o.jsxs("p",{className:"text-muted-foreground",children:[e.balanceSats," satoshis"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transactions: ",e.transactions]})]}):o.jsx("p",{className:"text-muted-foreground",children:"Click refresh to get balance"})})]}):null},sI=({wallet:t})=>{const[e,n]=v.useState(null),[r,s]=v.useState(!1),[i,a]=v.useState(""),{toast:c}=_e(),l=async()=>{s(!0);try{const{data:d,error:f}=await re.from("commissions").select("amount_earned_cents").eq("paid_out",!1);if(f)throw f;let m=(d?.reduce((w,b)=>w+b.amount_earned_cents,0)||0)/100;try{const{data:w}=await re.functions.invoke("income-affiliate",{body:{action:"calculate_earnings",data:{affiliateId:"YOUR_AFFILIATE_ID",timeframe:"monthly"}}});w?.earnings?.total&&(m+=parseFloat(w.earnings.total))}catch(w){console.log("No affiliate earnings found:",w)}const{data:g,error:p}=await re.functions.invoke("get-btc-price");if(p)throw p;const y=g.price,x=m/y;n({totalEarnings:m,btcEquivalent:x,btcPrice:y}),c({title:"Earnings Converted",description:`$${m.toFixed(2)} = ${x.toFixed(8)} BTC`})}catch(d){console.error("Error getting earnings:",d),c({title:"Error",description:`Failed to convert earnings: ${d.message}`,variant:"destructive"})}finally{s(!1)}},u=async()=>{if(!e||e.totalEarnings===0){c({title:"No Earnings",description:"You don't have any USD earnings to convert",variant:"destructive"});return}if(!t){c({title:"No Wallet",description:"Please generate a Bitcoin wallet first",variant:"destructive"});return}if(!i){c({title:"No Recipient Address",description:"Please enter a Bitcoin address to receive the funds",variant:"destructive"});return}s(!0);try{const d=Math.floor(e.btcEquivalent*1e8);if(d<1e3)throw new Error("Amount too small - minimum 1000 satoshis required");console.log("Processing real Bitcoin transaction:",{recipientAddress:i,amountSats:d,btcAmount:e.btcEquivalent});const{data:f,error:h}=await re.functions.invoke("send-btc",{body:{privateKeyWIF:t.privateKey,recipientAddress:i,amountSats:d}});if(h)throw h;console.log("Bitcoin transaction successful:",f);const{error:m}=await re.from("commissions").update({paid_out:!0,paid_at:new Date().toISOString(),description:`Paid out as Bitcoin - TXID: ${f.txid}`}).eq("paid_out",!1);m&&console.error("Error updating commissions after successful Bitcoin tx:",m);try{await re.functions.invoke("income-affiliate",{body:{action:"process_payout",data:{affiliateId:"YOUR_AFFILIATE_ID",amount:e.totalEarnings,paymentMethod:"bitcoin",txid:f.txid}}})}catch(g){console.log("No affiliate earnings to process:",g)}c({title:"Bitcoin Sent Successfully!",description:`Sent ${e.btcEquivalent.toFixed(8)} BTC to ${i}. TXID: ${f.txid}`}),n(null),a("")}catch(d){console.error("Error processing Bitcoin payout:",d),c({title:"Bitcoin Transaction Failed",description:`Failed to send Bitcoin: ${d.message}`,variant:"destructive"})}finally{s(!1)}};return t?o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(js,{className:"h-5 w-5"}),"Convert USD Earnings to BTC"]}),o.jsx(W,{variant:"outline",size:"sm",onClick:l,disabled:r,children:o.jsx(Eo,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]})}),o.jsx(U,{className:"space-y-4",children:e?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-lg font-semibold",children:["USD Earnings: $",e.totalEarnings.toFixed(2)]}),o.jsxs("p",{className:"text-xl font-bold text-orange-600",children:[e.btcEquivalent.toFixed(8)," BTC"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["BTC Price: $",e.btcPrice.toLocaleString()]})]}),e.totalEarnings>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Bitcoin Address (Recipient)"}),o.jsx(fe,{value:i,onChange:d=>a(d.target.value),placeholder:"Enter Bitcoin address to receive funds",className:"font-mono text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This should be your personal Bitcoin address or exchange deposit address"})]}),o.jsx("div",{className:"p-3 bg-orange-50 rounded-md border border-orange-200",children:o.jsxs("p",{className:"text-sm text-orange-800",children:[o.jsx("strong",{children:"Warning:"})," This will send real Bitcoin to the address above. Make sure the address is correct and belongs to you."]})}),o.jsx(W,{onClick:u,disabled:r||!i,className:"w-full",children:r?"Sending Bitcoin...":`Send ${e.btcEquivalent.toFixed(8)} BTC`})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"Click refresh to check your USD earnings"})})]}):o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(js,{className:"h-5 w-5"}),"Convert USD Earnings to BTC"]})}),o.jsx(U,{children:o.jsx("p",{className:"text-muted-foreground",children:"Please generate a Bitcoin wallet first to convert your earnings to Bitcoin."})})]})};function MA(t,[e,n]){return Math.min(n,Math.max(e,t))}var TJ=v.createContext(void 0);function yg(t){const e=v.useContext(TJ);return t||e||"ltr"}var Vy=0;function iI(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??BA()),document.body.insertAdjacentElement("beforeend",t[1]??BA()),Vy++,()=>{Vy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Vy--}},[])}function BA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gy="focusScope.autoFocusOnMount",Wy="focusScope.autoFocusOnUnmount",DA={bubbles:!1,cancelable:!0},PJ="FocusScope",Kb=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,l]=v.useState(null),u=Xn(s),d=Xn(i),f=v.useRef(null),h=Xe(e,p=>l(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let p=function(b){if(m.paused||!c)return;const j=b.target;c.contains(j)?f.current=j:Ti(f.current,{select:!0})},y=function(b){if(m.paused||!c)return;const j=b.relatedTarget;j!==null&&(c.contains(j)||Ti(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&Ti(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const w=new MutationObserver(x);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),w.disconnect()}}},[r,c,m.paused]),v.useEffect(()=>{if(c){FA.add(m);const p=document.activeElement;if(!c.contains(p)){const x=new CustomEvent(Gy,DA);c.addEventListener(Gy,u),c.dispatchEvent(x),x.defaultPrevented||(IJ(DJ(oI(c)),{select:!0}),document.activeElement===p&&Ti(c))}return()=>{c.removeEventListener(Gy,u),setTimeout(()=>{const x=new CustomEvent(Wy,DA);c.addEventListener(Wy,d),c.dispatchEvent(x),x.defaultPrevented||Ti(p??document.body,{select:!0}),c.removeEventListener(Wy,d),FA.remove(m)},0)}}},[c,u,d,m]);const g=v.useCallback(p=>{if(!n&&!r||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(y&&x){const w=p.currentTarget,[b,j]=RJ(w);b&&j?!p.shiftKey&&x===j?(p.preventDefault(),n&&Ti(b,{select:!0})):p.shiftKey&&x===b&&(p.preventDefault(),n&&Ti(j,{select:!0})):x===w&&p.preventDefault()}},[n,r,m.paused]);return o.jsx(Ne.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Kb.displayName=PJ;function IJ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ti(r,{select:e}),document.activeElement!==n)return}function RJ(t){const e=oI(t),n=LA(e,t),r=LA(e.reverse(),t);return[n,r]}function oI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function LA(t,e){for(const n of t)if(!OJ(n,{upTo:e}))return n}function OJ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MJ(t){return t instanceof HTMLInputElement&&"select"in t}function Ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MJ(t)&&e&&t.select()}}var FA=BJ();function BJ(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=UA(t,e),t.unshift(e)},remove(e){t=UA(t,e),t[0]?.resume()}}}function UA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function DJ(t){return t.filter(e=>e.tagName!=="A")}function vg(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var LJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ka=new WeakMap,Bf=new WeakMap,Df={},qy=0,aI=function(t){return t&&(t.host||aI(t.parentNode))},FJ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=aI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UJ=function(t,e,n,r){var s=FJ(e,Array.isArray(t)?t:[t]);Df[n]||(Df[n]=new WeakMap);var i=Df[n],a=[],c=new Set,l=new Set(s),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var m=h.getAttribute(r),g=m!==null&&m!=="false",p=(Ka.get(h)||0)+1,y=(i.get(h)||0)+1;Ka.set(h,p),i.set(h,y),a.push(h),p===1&&g&&Bf.set(h,!0),y===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),c.clear(),qy++,function(){a.forEach(function(f){var h=Ka.get(f)-1,m=i.get(f)-1;Ka.set(f,h),i.set(f,m),h||(Bf.has(f)||f.removeAttribute(r),Bf.delete(f)),m||f.removeAttribute(n)}),qy--,qy||(Ka=new WeakMap,Ka=new WeakMap,Bf=new WeakMap,Df={})}},cI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=LJ(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UJ(r,s,n,"aria-hidden")):function(){return null}},gs=function(){return gs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gs.apply(this,arguments)};function lI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $J(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var fh="right-scroll-bar-position",hh="width-before-scroll-bar",HJ="with-scroll-bars-hidden",zJ="--removed-body-scroll-bar-size";function Ky(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function VJ(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var GJ=typeof window<"u"?v.useLayoutEffect:v.useEffect,$A=new WeakMap;function WJ(t,e){var n=VJ(null,function(r){return t.forEach(function(s){return Ky(s,r)})});return GJ(function(){var r=$A.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||Ky(c,null)}),i.forEach(function(c){s.has(c)||Ky(c,a)})}$A.set(n,t)},[t]),n}function qJ(t){return t}function KJ(t,e){e===void 0&&(e=qJ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var l=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function QJ(t){t===void 0&&(t={});var e=KJ(null);return e.options=gs({async:!0,ssr:!1},t),e}var uI=function(t){var e=t.sideCar,n=lI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,gs({},n))};uI.isSideCarExport=!0;function YJ(t,e){return t.useMedium(e),uI}var dI=QJ(),Qy=function(){},xg=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Qy,onWheelCapture:Qy,onTouchMoveCapture:Qy}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,g=t.inert,p=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,w=t.gapMode,b=lI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,E=WJ([n,e]),N=gs(gs({},b),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:dI,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:w}),a?v.cloneElement(v.Children.only(c),gs(gs({},N),{ref:E})):v.createElement(x,gs({},N,{className:l,ref:E}),c))});xg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xg.classNames={fullWidth:hh,zeroRight:fh};var JJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JJ();return e&&t.setAttribute("nonce",e),t}function XJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function eZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var tZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ZJ())&&(XJ(e,n),eZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nZ=function(){var t=tZ();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},fI=function(){var t=nZ(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},rZ={left:0,top:0,right:0,gap:0},Yy=function(t){return parseInt(t||"",10)||0},sZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Yy(n),Yy(r),Yy(s)]},iZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return rZ;var e=sZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},oZ=fI(),Ic="data-scroll-locked",aZ=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(HJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Ic,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fh,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(hh,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(fh," .").concat(fh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hh," .").concat(hh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ic,`] {
    `).concat(zJ,": ").concat(c,`px;
  }
`)},HA=function(){var t=parseInt(document.body.getAttribute(Ic)||"0",10);return isFinite(t)?t:0},cZ=function(){v.useEffect(function(){return document.body.setAttribute(Ic,(HA()+1).toString()),function(){var t=HA()-1;t<=0?document.body.removeAttribute(Ic):document.body.setAttribute(Ic,t.toString())}},[])},lZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;cZ();var i=v.useMemo(function(){return iZ(s)},[s]);return v.createElement(oZ,{styles:aZ(i,!e,s,n?"":"!important")})},dx=!1;if(typeof window<"u")try{var Lf=Object.defineProperty({},"passive",{get:function(){return dx=!0,!0}});window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,Lf)}catch{dx=!1}var Qa=dx?{passive:!1}:!1,uZ=function(t){return t.tagName==="TEXTAREA"},hI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!uZ(t)&&n[e]==="visible")},dZ=function(t){return hI(t,"overflowY")},fZ=function(t){return hI(t,"overflowX")},zA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mI(t,r);if(s){var i=pI(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},mZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},mI=function(t,e){return t==="v"?dZ(e):fZ(e)},pI=function(t,e){return t==="v"?hZ(e):mZ(e)},pZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},gZ=function(t,e,n,r,s){var i=pZ(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,l=e.contains(c),u=!1,d=a>0,f=0,h=0;do{var m=pI(t,c),g=m[0],p=m[1],y=m[2],x=p-y-i*g;(g||x)&&mI(t,c)&&(f+=x,h+=g),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(e.contains(c)||e===c));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Ff=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},VA=function(t){return[t.deltaX,t.deltaY]},GA=function(t){return t&&"current"in t?t.current:t},yZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},vZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xZ=0,Ya=[];function wZ(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(xZ++)[0],i=v.useState(fI)[0],a=v.useRef(t);v.useEffect(function(){a.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var p=$J([t.lockRef.current],(t.shards||[]).map(GA),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=v.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!a.current.allowPinchZoom;var x=Ff(p),w=n.current,b="deltaX"in p?p.deltaX:w[0]-x[0],j="deltaY"in p?p.deltaY:w[1]-x[1],E,N=p.target,S=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in p&&S==="h"&&N.type==="range")return!1;var _=zA(S,N);if(!_)return!0;if(_?E=S:(E=S==="v"?"h":"v",_=zA(S,N)),!_)return!1;if(!r.current&&"changedTouches"in p&&(b||j)&&(r.current=E),!E)return!0;var O=r.current||E;return gZ(O,y,p,O==="h"?b:j,!0)},[]),l=v.useCallback(function(p){var y=p;if(!(!Ya.length||Ya[Ya.length-1]!==i)){var x="deltaY"in y?VA(y):Ff(y),w=e.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&yZ(E.delta,x)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var b=(a.current.shards||[]).map(GA).filter(Boolean).filter(function(E){return E.contains(y.target)}),j=b.length>0?c(y,b[0]):!a.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=v.useCallback(function(p,y,x,w){var b={name:p,delta:y,target:x,should:w,shadowParent:bZ(x)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(j){return j!==b})},1)},[]),d=v.useCallback(function(p){n.current=Ff(p),r.current=void 0},[]),f=v.useCallback(function(p){u(p.type,VA(p),p.target,c(p,t.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,Ff(p),p.target,c(p,t.lockRef.current))},[]);v.useEffect(function(){return Ya.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Qa),document.addEventListener("touchmove",l,Qa),document.addEventListener("touchstart",d,Qa),function(){Ya=Ya.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Qa),document.removeEventListener("touchmove",l,Qa),document.removeEventListener("touchstart",d,Qa)}},[]);var m=t.removeScrollBar,g=t.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:vZ(s)}):null,m?v.createElement(lZ,{gapMode:t.gapMode}):null)}function bZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jZ=YJ(dI,wZ);var Qb=v.forwardRef(function(t,e){return v.createElement(xg,gs({},t,{ref:e,sideCar:jZ}))});Qb.classNames=xg.classNames;var EZ=[" ","Enter","ArrowUp","ArrowDown"],AZ=[" ","Enter"],ef="Select",[wg,bg,_Z]=gw(ef),[kl,Yre]=Ns(ef,[_Z,Ip]),jg=Ip(),[SZ,Co]=kl(ef),[NZ,kZ]=kl(ef),gI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=t,p=jg(e),[y,x]=v.useState(null),[w,b]=v.useState(null),[j,E]=v.useState(!1),N=yg(u),[S=!1,_]=si({prop:r,defaultProp:s,onChange:i}),[O,T]=si({prop:a,defaultProp:c,onChange:l}),I=v.useRef(null),R=y?g||!!y.closest("form"):!0,[z,$]=v.useState(new Set),A=Array.from(z).map(k=>k.props.value).join(";");return o.jsx(zL,{...p,children:o.jsxs(SZ,{required:m,scope:e,trigger:y,onTriggerChange:x,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:E,contentId:Zi(),value:O,onValueChange:T,open:S,onOpenChange:_,dir:N,triggerPointerDownPosRef:I,disabled:h,children:[o.jsx(wg.Provider,{scope:e,children:o.jsx(NZ,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(k=>{$(D=>new Set(D).add(k))},[]),onNativeOptionRemove:v.useCallback(k=>{$(D=>{const C=new Set(D);return C.delete(k),C})},[]),children:n})}),R?o.jsxs($I,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:k=>T(k.target.value),disabled:h,form:g,children:[O===void 0?o.jsx("option",{value:""}):null,Array.from(z)]},A):null]})})};gI.displayName=ef;var yI="SelectTrigger",vI=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=jg(n),a=Co(yI,n),c=a.disabled||r,l=Xe(e,a.onTriggerChange),u=bg(n),d=v.useRef("touch"),[f,h,m]=HI(p=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===a.value),w=zI(y,p,x);w!==void 0&&a.onValueChange(w.value)}),g=p=>{c||(a.onOpenChange(!0),m()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(Ok,{asChild:!0,...i,children:o.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":UI(a.value)?"":void 0,...s,ref:l,onClick:ge(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:ge(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:ge(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&EZ.includes(p.key)&&(g(),p.preventDefault())})})})});vI.displayName=yI;var xI="SelectValue",wI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...c}=t,l=Co(xI,n),{onValueNodeHasChildrenChange:u}=l,d=i!==void 0,f=Xe(e,l.onValueNodeChange);return wn(()=>{u(d)},[u,d]),o.jsx(Ne.span,{...c,ref:f,style:{pointerEvents:"none"},children:UI(l.value)?o.jsx(o.Fragment,{children:a}):i})});wI.displayName=xI;var CZ="SelectIcon",bI=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(Ne.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});bI.displayName=CZ;var TZ="SelectPortal",jI=t=>o.jsx(vp,{asChild:!0,...t});jI.displayName=TZ;var _a="SelectContent",EI=v.forwardRef((t,e)=>{const n=Co(_a,t.__scopeSelect),[r,s]=v.useState();if(wn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ca.createPortal(o.jsx(AI,{scope:t.__scopeSelect,children:o.jsx(wg.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(_I,{...t,ref:e})});EI.displayName=_a;var Br=10,[AI,To]=kl(_a),PZ="SelectContentImpl",_I=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...x}=t,w=Co(_a,n),[b,j]=v.useState(null),[E,N]=v.useState(null),S=Xe(e,le=>j(le)),[_,O]=v.useState(null),[T,I]=v.useState(null),R=bg(n),[z,$]=v.useState(!1),A=v.useRef(!1);v.useEffect(()=>{if(b)return cI(b)},[b]),iI();const k=v.useCallback(le=>{const[Ve,...Ye]=R().map(Ue=>Ue.ref.current),[Me]=Ye.slice(-1),Je=document.activeElement;for(const Ue of le)if(Ue===Je||(Ue?.scrollIntoView({block:"nearest"}),Ue===Ve&&E&&(E.scrollTop=0),Ue===Me&&E&&(E.scrollTop=E.scrollHeight),Ue?.focus(),document.activeElement!==Je))return},[R,E]),D=v.useCallback(()=>k([_,b]),[k,_,b]);v.useEffect(()=>{z&&D()},[z,D]);const{onOpenChange:C,triggerPointerDownPosRef:B}=w;v.useEffect(()=>{if(b){let le={x:0,y:0};const Ve=Me=>{le={x:Math.abs(Math.round(Me.pageX)-(B.current?.x??0)),y:Math.abs(Math.round(Me.pageY)-(B.current?.y??0))}},Ye=Me=>{le.x<=10&&le.y<=10?Me.preventDefault():b.contains(Me.target)||C(!1),document.removeEventListener("pointermove",Ve),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[b,C,B]),v.useEffect(()=>{const le=()=>C(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[C]);const[V,q]=HI(le=>{const Ve=R().filter(Je=>!Je.disabled),Ye=Ve.find(Je=>Je.ref.current===document.activeElement),Me=zI(Ve,le,Ye);Me&&setTimeout(()=>Me.ref.current.focus())}),ee=v.useCallback((le,Ve,Ye)=>{const Me=!A.current&&!Ye;(w.value!==void 0&&w.value===Ve||Me)&&(O(le),Me&&(A.current=!0))},[w.value]),he=v.useCallback(()=>b?.focus(),[b]),de=v.useCallback((le,Ve,Ye)=>{const Me=!A.current&&!Ye;(w.value!==void 0&&w.value===Ve||Me)&&I(le)},[w.value]),Fe=r==="popper"?fx:SI,ke=Fe===fx?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return o.jsx(AI,{scope:n,content:b,viewport:E,onViewportChange:N,itemRefCallback:ee,selectedItem:_,onItemLeave:he,itemTextRefCallback:de,focusSelectedItem:D,selectedItemText:T,position:r,isPositioned:z,searchRef:V,children:o.jsx(Qb,{as:co,allowPinchZoom:!0,children:o.jsx(Kb,{asChild:!0,trapped:w.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:ge(s,le=>{w.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:o.jsx(Md,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Fe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:le=>le.preventDefault(),...x,...ke,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ge(x.onKeyDown,le=>{const Ve=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Ve&&le.key.length===1&&q(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Me=R().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Je=le.target,Ue=Me.indexOf(Je);Me=Me.slice(Ue+1)}setTimeout(()=>k(Me)),le.preventDefault()}})})})})})})});_I.displayName=PZ;var IZ="SelectItemAlignedPosition",SI=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Co(_a,n),a=To(_a,n),[c,l]=v.useState(null),[u,d]=v.useState(null),f=Xe(e,S=>d(S)),h=bg(n),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:x,focusSelectedItem:w}=a,b=v.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&p&&y&&x){const S=i.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const Je=T.left-_.left,Ue=O.left-Je,yt=S.left-Ue,Yt=S.width+yt,es=Math.max(Yt,_.width),Ln=window.innerWidth-Br,Ma=MA(Ue,[Br,Math.max(Br,Ln-es)]);c.style.minWidth=Yt+"px",c.style.left=Ma+"px"}else{const Je=_.right-T.right,Ue=window.innerWidth-O.right-Je,yt=window.innerWidth-S.right-Ue,Yt=S.width+yt,es=Math.max(Yt,_.width),Ln=window.innerWidth-Br,Ma=MA(Ue,[Br,Math.max(Br,Ln-es)]);c.style.minWidth=Yt+"px",c.style.right=Ma+"px"}const I=h(),R=window.innerHeight-Br*2,z=p.scrollHeight,$=window.getComputedStyle(u),A=parseInt($.borderTopWidth,10),k=parseInt($.paddingTop,10),D=parseInt($.borderBottomWidth,10),C=parseInt($.paddingBottom,10),B=A+k+z+C+D,V=Math.min(y.offsetHeight*5,B),q=window.getComputedStyle(p),ee=parseInt(q.paddingTop,10),he=parseInt(q.paddingBottom,10),de=S.top+S.height/2-Br,Fe=R-de,ke=y.offsetHeight/2,le=y.offsetTop+ke,Ve=A+k+le,Ye=B-Ve;if(Ve<=de){const Je=I.length>0&&y===I[I.length-1].ref.current;c.style.bottom="0px";const Ue=u.clientHeight-p.offsetTop-p.offsetHeight,yt=Math.max(Fe,ke+(Je?he:0)+Ue+D),Yt=Ve+yt;c.style.height=Yt+"px"}else{const Je=I.length>0&&y===I[0].ref.current;c.style.top="0px";const yt=Math.max(de,A+p.offsetTop+(Je?ee:0)+ke)+Ye;c.style.height=yt+"px",p.scrollTop=Ve-de+p.offsetTop}c.style.margin=`${Br}px 0`,c.style.minHeight=V+"px",c.style.maxHeight=R+"px",r?.(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,c,u,p,y,x,i.dir,r]);wn(()=>b(),[b]);const[j,E]=v.useState();wn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const N=v.useCallback(S=>{S&&g.current===!0&&(b(),w?.(),g.current=!1)},[b,w]);return o.jsx(OZ,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:o.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:o.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});SI.displayName=IZ;var RZ="SelectPopperPosition",fx=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Br,...i}=t,a=jg(n);return o.jsx(Mk,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fx.displayName=RZ;var[OZ,Yb]=kl(_a,{}),hx="SelectViewport",NI=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=To(hx,n),a=Yb(hx,n),c=Xe(e,i.onViewportChange),l=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(wg.Slot,{scope:n,children:o.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h?.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const g=window.innerHeight-Br*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),x=Math.max(p,y);if(x<g){const w=x+m,b=Math.min(g,w),j=w-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});NI.displayName=hx;var kI="SelectGroup",[MZ,BZ]=kl(kI),DZ=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Zi();return o.jsx(MZ,{scope:n,id:s,children:o.jsx(Ne.div,{role:"group","aria-labelledby":s,...r,ref:e})})});DZ.displayName=kI;var CI="SelectLabel",TI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=BZ(CI,n);return o.jsx(Ne.div,{id:s.id,...r,ref:e})});TI.displayName=CI;var qm="SelectItem",[LZ,PI]=kl(qm),II=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,c=Co(qm,n),l=To(qm,n),u=c.value===r,[d,f]=v.useState(i??""),[h,m]=v.useState(!1),g=Xe(e,w=>l.itemRefCallback?.(w,r,s)),p=Zi(),y=v.useRef("touch"),x=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(LZ,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(w=>{f(b=>b||(w?.textContent??"").trim())},[]),children:o.jsx(wg.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(Ne.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:ge(a.onFocus,()=>m(!0)),onBlur:ge(a.onBlur,()=>m(!1)),onClick:ge(a.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ge(a.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ge(a.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:ge(a.onPointerMove,w=>{y.current=w.pointerType,s?l.onItemLeave?.():y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(a.onPointerLeave,w=>{w.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ge(a.onKeyDown,w=>{l.searchRef?.current!==""&&w.key===" "||(AZ.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});II.displayName=qm;var au="SelectItemText",RI=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Co(au,n),c=To(au,n),l=PI(au,n),u=kZ(au,n),[d,f]=v.useState(null),h=Xe(e,x=>f(x),l.onItemTextChange,x=>c.itemTextRefCallback?.(x,l.value,l.disabled)),m=d?.textContent,g=v.useMemo(()=>o.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return wn(()=>(p(g),()=>y(g)),[p,y,g]),o.jsxs(o.Fragment,{children:[o.jsx(Ne.span,{id:l.textId,...i,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ca.createPortal(i.children,a.valueNode):null]})});RI.displayName=au;var OI="SelectItemIndicator",MI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return PI(OI,n).isSelected?o.jsx(Ne.span,{"aria-hidden":!0,...r,ref:e}):null});MI.displayName=OI;var mx="SelectScrollUpButton",BI=v.forwardRef((t,e)=>{const n=To(mx,t.__scopeSelect),r=Yb(mx,t.__scopeSelect),[s,i]=v.useState(!1),a=Xe(e,r.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(LI,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});BI.displayName=mx;var px="SelectScrollDownButton",DI=v.forwardRef((t,e)=>{const n=To(px,t.__scopeSelect),r=Yb(px,t.__scopeSelect),[s,i]=v.useState(!1),a=Xe(e,r.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;i(d)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?o.jsx(LI,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=n;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});DI.displayName=px;var LI=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=To("SelectScrollButton",n),a=v.useRef(null),c=bg(n),l=v.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),wn(()=>{c().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),o.jsx(Ne.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ge(s.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{l()})})}),FZ="SelectSeparator",FI=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(Ne.div,{"aria-hidden":!0,...r,ref:e})});FI.displayName=FZ;var gx="SelectArrow",UZ=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jg(n),i=Co(gx,n),a=To(gx,n);return i.open&&a.position==="popper"?o.jsx(Bk,{...s,...r,ref:e}):null});UZ.displayName=gx;function UI(t){return t===""||t===void 0}var $I=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=Xe(e,s),a=vg(n);return v.useEffect(()=>{const c=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(c,n),c.dispatchEvent(f)}},[a,n]),o.jsx(Bd,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});$I.displayName="BubbleSelect";function HI(t){const e=Xn(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(a=>{const c=n.current+a;e(c),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(c)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function zI(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=$Z(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function $Z(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HZ=gI,VI=vI,zZ=wI,VZ=bI,GZ=jI,GI=EI,WZ=NI,WI=TI,qI=II,qZ=RI,KZ=MI,KI=BI,QI=DI,YI=FI;const no=HZ,ro=zZ,Zs=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(VI,{ref:r,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(VZ,{asChild:!0,children:o.jsx(tk,{className:"h-4 w-4 opacity-50"})})]}));Zs.displayName=VI.displayName;const JI=v.forwardRef(({className:t,...e},n)=>o.jsx(KI,{ref:n,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(nD,{className:"h-4 w-4"})}));JI.displayName=KI.displayName;const ZI=v.forwardRef(({className:t,...e},n)=>o.jsx(QI,{ref:n,className:me("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(tk,{className:"h-4 w-4"})}));ZI.displayName=QI.displayName;const Xs=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(GZ,{children:o.jsxs(GI,{ref:s,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(JI,{}),o.jsx(WZ,{className:me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(ZI,{})]})}));Xs.displayName=GI.displayName;const QZ=v.forwardRef(({className:t,...e},n)=>o.jsx(WI,{ref:n,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));QZ.displayName=WI.displayName;const Rt=v.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(qI,{ref:r,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(KZ,{children:o.jsx(ek,{className:"h-4 w-4"})})}),o.jsx(qZ,{children:e})]}));Rt.displayName=qI.displayName;const YZ=v.forwardRef(({className:t,...e},n)=>o.jsx(YI,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));YZ.displayName=YI.displayName;const XI=({wallet:t,balance:e,onBalanceUpdate:n})=>{const[r,s]=v.useState(""),[i,a]=v.useState(""),[c,l]=v.useState(!1),[u,d]=v.useState(""),{toast:f}=_e(),h=[{name:"Electrum Wallet",address:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"},{name:"Coinbase",address:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{name:"Binance",address:"1NDyJtNTjmwk5xPNhjgAMu4HDHigtobu1s"},{name:"Kraken",address:"1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2"},{name:"Custom Exchange",value:"custom"}],m=p=>{if(d(p),p!=="custom"){const y=h.find(x=>x.address===p);y&&s(y.address)}else s("")},g=async()=>{if(!t||!r||!i){f({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}l(!0);try{const p={privateKeyWIF:t.privateKey,recipientAddress:r,amountSats:parseInt(i)};console.log("Sending request to send-btc:",p);const{data:y,error:x}=await re.functions.invoke("send-btc",{body:p});if(x)throw x;console.log("Transaction result:",y),f({title:"Bitcoin Sent!",description:`TXID: ${y.txid}`}),s(""),a(""),d(""),n()}catch(p){console.error("Error sending BTC:",p),f({title:"Transaction Failed",description:`${p.message}`,variant:"destructive"})}finally{l(!1)}};return t?o.jsx("div",{className:"space-y-6",children:e&&e.balanceSats>0&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Ld,{className:"h-5 w-5"}),"Quick Withdrawal to Exchange"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Select Exchange"}),o.jsxs(no,{value:u,onValueChange:m,children:[o.jsx(Zs,{children:o.jsx(ro,{placeholder:"Choose exchange"})}),o.jsx(Xs,{children:h.map(p=>o.jsx(Rt,{value:p.address||p.value,children:p.name},p.address||p.value))})]})]}),u==="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Custom Address"}),o.jsx(fe,{value:r,onChange:p=>s(p.target.value),placeholder:"Enter Bitcoin address",className:"font-mono"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Amount (satoshis)"}),o.jsx(fe,{type:"number",value:i,onChange:p=>a(p.target.value),placeholder:`Max: ${e.balanceSats-1e3} sats`,min:"1",max:e.balanceSats-1e3})]}),o.jsxs(W,{onClick:g,disabled:c||!r||!i,className:"w-full",children:[o.jsx(Ap,{className:"h-4 w-4 mr-2"}),c?"Sending...":"Send Bitcoin"]})]})]})}):null},JZ=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(null),s=c=>{e(c),r(null)},i=c=>{r(c)},a=()=>{r(null)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx(CJ,{wallet:t,onWalletGenerated:s}),o.jsx(sI,{wallet:t}),o.jsx(rI,{wallet:t,balance:n,onBalanceUpdated:i}),o.jsx(XI,{wallet:t,balance:n,onBalanceUpdate:a})]})},Eg=()=>{const{web3:t,networkId:e}=Xd(),[n,r]=v.useState(new Map),s=e===1,i=v.useCallback(async l=>{if(!l||!t||!s)return{name:null,avatar:null,isLoading:!1};const u=n.get(l.toLowerCase());if(u&&!u.isLoading)return u;const d={name:null,avatar:null,isLoading:!0};r(f=>new Map(f.set(l.toLowerCase(),d)));try{const f=await t.eth.ens.getName(l);let h=null;if(f)try{h=await t.eth.ens.getText(f,"avatar")}catch{console.debug("Avatar resolution failed for",f)}const m={name:f||null,avatar:h||null,isLoading:!1};return r(g=>new Map(g.set(l.toLowerCase(),m))),m}catch{const h={name:null,avatar:null,isLoading:!1};return r(m=>new Map(m.set(l.toLowerCase(),h))),h}},[t,s,n]),a=v.useCallback(l=>{if(!l)return"";const u=n.get(l.toLowerCase());return u?.name?u.name:`${l.slice(0,6)}...${l.slice(-4)}`},[n]),c=v.useCallback(async l=>{if(!l||!t||!s)return null;try{const u=await t.eth.ens.getAddress(l);return typeof u=="string"?u:null}catch(u){return console.error("ENS address resolution failed:",u),null}},[t,s]);return{resolveENS:i,getDisplayName:a,resolveAddress:c,isMainnet:s,ensCache:n}},so=({address:t,showAvatar:e=!1,showFullAddress:n=!1,className:r=""})=>{const{resolveENS:s,getDisplayName:i,isMainnet:a}=Eg(),[c,l]=v.useState({name:null,avatar:null,isLoading:!0});if(v.useEffect(()=>{t&&a?s(t).then(l):l({name:null,avatar:null,isLoading:!1})},[t,s,a]),!t)return null;const u=c.name||i(t),d=!!c.name;return o.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[e&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-muted flex items-center justify-center",children:c.avatar?o.jsx("img",{src:c.avatar,alt:"ENS Avatar",className:"w-full h-full rounded-full object-cover",onError:f=>{f.currentTarget.style.display="none"}}):o.jsx(Np,{className:"w-3 h-3 text-muted-foreground"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`font-mono text-sm ${d?"text-blue-600":"text-muted-foreground"}`,children:u}),d&&o.jsx(Ge,{variant:"secondary",className:"text-xs",children:"ENS"}),!a&&t&&o.jsx(Ge,{variant:"outline",className:"text-xs",children:i(t)})]}),n&&t&&o.jsxs("a",{href:`https://etherscan.io/address/${t}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-blue-600 flex items-center gap-1",children:[o.jsx(fr,{className:"w-3 h-3"}),"View"]})]})},ZZ=()=>{const[t,e]=v.useState("ethereum"),[n,r]=v.useState(""),[s,i]=v.useState(""),[a,c]=v.useState("0"),[l,u]=v.useState(!1),{toast:d}=_e(),{accounts:f,networkId:h,isConnected:m,isLoading:g,connectWallet:p,getBalance:y,switchNetwork:x}=Xd(),{resolveAddress:w}=Eg(),b=[{id:"ethereum",name:"Ethereum",symbol:"ETH",chainId:1,color:"bg-blue-500",explorer:"https://etherscan.io"},{id:"polygon",name:"Polygon",symbol:"MATIC",chainId:137,color:"bg-purple-500",explorer:"https://polygonscan.com"},{id:"binance",name:"BSC",symbol:"BNB",chainId:56,color:"bg-yellow-500",explorer:"https://bscscan.com"},{id:"avalanche",name:"Avalanche",symbol:"AVAX",chainId:43114,color:"bg-red-500",explorer:"https://snowtrace.io"},{id:"arbitrum",name:"Arbitrum",symbol:"ETH",chainId:42161,color:"bg-blue-400",explorer:"https://arbiscan.io"},{id:"optimism",name:"Optimism",symbol:"ETH",chainId:10,color:"bg-red-400",explorer:"https://optimistic.etherscan.io"}],j=b.find(O=>O.chainId===h);v.useEffect(()=>{m&&f.length>0&&E()},[m,f,h]);const E=async()=>{if(f.length){u(!0);try{const O=await y(f[0]);c(O)}catch(O){console.error("Failed to fetch balance:",O)}finally{u(!1)}}},N=async O=>{e(O),await x(O)},S=O=>{navigator.clipboard.writeText(O),d({title:"Copied!",description:"Address copied to clipboard"})},_=async()=>{if(!n||!s){d({title:"Error",description:"Please enter recipient address and amount",variant:"destructive"});return}let O=n;if(n.endsWith(".eth")){const T=await w(n);if(!T){d({title:"Error",description:"Could not resolve ENS name",variant:"destructive"});return}O=T}d({title:"Transaction Initiated",description:`Sending ${s} ${j?.symbol||"ETH"} to ${n.endsWith(".eth")?n:`${O.slice(0,10)}...`}`})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Uh,{className:"h-5 w-5"}),"EVM Network Integration"]})}),o.jsx(U,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:m?"Connected":"Not Connected"}),m?o.jsx(At,{className:"h-4 w-4 text-green-500"}):o.jsx(ii,{className:"h-4 w-4 text-red-500"})]}),j&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${j.color}`}),o.jsx("span",{className:"text-sm",children:j.name}),o.jsx(Ge,{variant:"secondary",children:j.symbol})]}),f.length>0&&o.jsx(so,{address:f[0],showAvatar:!0,className:"text-sm text-muted-foreground"})]})})]}),!m&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Connect Wallet"})}),o.jsx(U,{children:o.jsx(W,{onClick:()=>p(),disabled:g,className:"w-full",children:g?"Connecting...":"Connect MetaMask/Web3 Wallet"})})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Network Selection"})}),o.jsx(U,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:b.map(O=>o.jsxs(W,{variant:j?.id===O.id?"default":"outline",size:"sm",onClick:()=>N(O.id),disabled:!m,className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${O.color}`}),O.name]},O.id))})})]}),m&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:["Wallet Balance",o.jsx(W,{variant:"ghost",size:"sm",onClick:E,disabled:l,children:o.jsx(Eo,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]})}),o.jsxs(U,{children:[o.jsx("div",{className:"text-3xl font-bold",children:l?"...":`${a} ${j?.symbol||"ETH"}`}),j&&o.jsxs("a",{href:`${j.explorer}/address/${f[0]}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1 mt-2",children:["View on ",j.name," Explorer",o.jsx(fr,{className:"h-3 w-3"})]})]})]}),m&&f.length>0&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(ZN,{className:"h-5 w-5"}),"Receive ",j?.symbol||"ETH"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Your Wallet Address"}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[o.jsx(so,{address:f[0],showAvatar:!0,showFullAddress:!1,className:"flex-1"}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>S(f[0]),children:o.jsx(lo,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ik,{className:"h-4 w-4 mt-0.5 text-blue-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:["How to receive ",j?.symbol||"ETH",":"]}),o.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700 dark:text-blue-300",children:[o.jsx("li",{children:" Share your address above with the sender"}),o.jsxs("li",{children:[" Make sure they send to the correct network (",j?.name||"Ethereum",")"]}),o.jsx("li",{children:" Transactions may take a few minutes to confirm"})]})]})]})}),j&&o.jsxs("a",{href:`${j.explorer}/address/${f[0]}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1",children:["View transactions on ",j.name," Explorer",o.jsx(fr,{className:"h-3 w-3"})]})]})]}),m&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(eD,{className:"h-5 w-5"}),"Send Transaction"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Recipient Address or ENS"}),o.jsx(fe,{placeholder:"0x... or alice.eth",value:n,onChange:O=>r(O.target.value),className:"font-mono"}),n&&o.jsx("div",{className:"mt-2",children:o.jsx(so,{address:n,showAvatar:!0,className:"text-xs"})})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium",children:["Amount (",j?.symbol||"ETH",")"]}),o.jsx(fe,{type:"number",step:"0.000001",placeholder:"0.001",value:s,onChange:O=>i(O.target.value)})]}),o.jsx(W,{onClick:_,disabled:!n||!s,className:"w-full",children:"Send Transaction"})]})]})]})},XZ=({earnings:t,onWithdraw:e})=>{const{isConnected:n,accounts:r}=Xd(),{user:s}=vr(),[i,a]=v.useState(""),[c,l]=v.useState(!1),{toast:u}=_e(),d=async()=>{if(!n||!r.length){u({title:"Wallet Not Connected",description:"Please connect your MetaMask wallet first.",variant:"destructive"});return}if(!s){u({title:"Authentication Required",description:"Please sign in to continue.",variant:"destructive"});return}const h=parseFloat(i);if(isNaN(h)||h<=0){u({title:"Invalid Amount",description:"Please enter a valid amount to withdraw.",variant:"destructive"});return}if(h>t){u({title:"Insufficient Balance",description:"You don't have enough earnings to withdraw this amount.",variant:"destructive"});return}l(!0);try{u({title:"Processing Transfer",description:`Initiating transfer of ${h} ETH to your wallet...`});const{data:m,error:g}=await re.functions.invoke("send-eth-to-wallet",{body:{toAddress:r[0],amountEth:h.toString(),userId:s.id}});if(g)throw console.error("Transfer error:",g),new Error(g.message||"Transfer failed");if(!m.success)throw new Error(m.error||"Transfer failed");e(h),a(""),u({title:"Transfer Successful! ",description:`${h} ETH sent to your wallet. Transaction: ${m.transactionHash.slice(0,10)}...`})}catch(m){console.error("Transfer error:",m),u({title:"Transfer Failed",description:m.message||"Failed to send earnings to your wallet. Please try again.",variant:"destructive"})}finally{l(!1)}},f=()=>{a(t.toString())};return n?o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(un,{className:"h-5 w-5"}),"Send to MetaMask Wallet"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Connected Wallet:"}),o.jsxs("p",{className:"font-mono text-sm",children:[r[0].slice(0,6),"...",r[0].slice(-4)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"withdrawal-amount",children:"Amount (ETH)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{id:"withdrawal-amount",type:"number",step:"0.000001",min:"0",max:t,value:i,onChange:h=>a(h.target.value),placeholder:"0.0",disabled:c}),o.jsx(W,{variant:"outline",onClick:f,disabled:c||t===0,children:"Max"})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Available: ",t.toFixed(6)," ETH"]})]}),o.jsx(W,{onClick:d,disabled:c||!i||parseFloat(i)<=0||t===0,className:"w-full",children:c?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ap,{className:"h-4 w-4 mr-2"}),"Send to Wallet"]})})]})]}):o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(un,{className:"h-5 w-5"}),"MetaMask Withdrawal"]})}),o.jsx(U,{children:o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Connect your MetaMask wallet to withdraw earnings"})})]})},eX=()=>{const{user:t}=vr(),[e,n]=v.useState(""),[r,s]=v.useState(!1),[i,a]=v.useState(null),{toast:c}=_e(),l="1LJmPcYx6occVUs4h1ENrkN4L3pS7y7VAh",u="0x5Dd9529Bb5387bd64A2bEeb490ed417675e11d98",d=async()=>{try{const g=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd")).json(),p=g.bitcoin.usd,y=g.ethereum.usd,x=p/y;return a(x),x}catch(m){return console.error("Failed to fetch exchange rate:",m),c({title:"Exchange Rate Error",description:"Could not fetch current exchange rates. Please try again.",variant:"destructive"}),null}},f=async()=>{if(!t){c({title:"Authentication Required",description:"Please sign in to continue.",variant:"destructive"});return}const m=parseFloat(e);if(isNaN(m)||m<=0){c({title:"Invalid Amount",description:"Please enter a valid BTC amount.",variant:"destructive"});return}s(!0);try{const g=await d();if(!g)return;const p=m*g*.98;c({title:"Processing Bridge Transfer",description:`Converting ${m} BTC to ${p.toFixed(6)} ETH...`});const{data:y,error:x}=await re.functions.invoke("get-wallet-private-key",{body:{address:l,userId:t.id}});if(x||!y.privateKey)throw new Error("Could not retrieve private key for BTC address");const w=Math.round(m*1e8),{data:b,error:j}=await re.functions.invoke("send-btc",{body:{privateKeyWIF:y.privateKey,recipientAddress:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",amountSats:w}});if(j||!b.success)throw new Error(b?.error||j?.message||"BTC transfer failed");const{data:E,error:N}=await re.functions.invoke("send-eth-to-wallet",{body:{toAddress:u,amountEth:p.toString(),userId:t.id},headers:{Authorization:`Bearer ${(await re.auth.getSession()).data.session?.access_token}`}});if(N||!E.success)throw new Error(E?.error||N?.message||"ETH transfer failed");n(""),c({title:"Bridge Transfer Successful! ",description:`Converted ${m} BTC to ${p.toFixed(6)} ETH and sent to your Ethereum address.`})}catch(g){console.error("Bridge transfer error:",g),c({title:"Bridge Transfer Failed",description:g.message||"Failed to complete cross-chain transfer. Please try again.",variant:"destructive"})}finally{s(!1)}};M.useEffect(()=>{d()},[]);const h=e&&i?(parseFloat(e)*i*.98).toFixed(6):"0";return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(uy,{className:"h-5 w-5"}),"Cross-Chain Bridge"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(js,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"From (Bitcoin)"})]}),o.jsxs("p",{className:"font-mono text-xs text-muted-foreground",children:[l.slice(0,10),"...",l.slice(-6)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"btc-amount",children:"BTC Amount"}),o.jsx(fe,{id:"btc-amount",type:"number",step:"0.00000001",min:"0",value:e,onChange:m=>n(m.target.value),placeholder:"0.00000000",disabled:r}),i&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Rate: 1 BTC = ",i.toFixed(4)," ETH"]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(uy,{className:"h-6 w-6 text-muted-foreground"})}),o.jsxs("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rD,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"To (Ethereum)"})]}),o.jsxs("p",{className:"font-mono text-xs text-muted-foreground",children:[u.slice(0,10),"...",u.slice(-6)]}),o.jsxs("p",{className:"font-mono text-sm",children:[" ",h," ETH"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"(includes 2% bridge fee)"})]}),o.jsx(W,{onClick:f,disabled:r||!e||parseFloat(e)<=0||!i,className:"w-full",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Bridging..."]}):o.jsxs(o.Fragment,{children:[o.jsx(uy,{className:"h-4 w-4 mr-2"}),"Bridge BTC to ETH"]})}),o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsx("p",{children:" Cross-chain bridge converts BTC to ETH automatically"}),o.jsx("p",{children:" 2% bridge fee included in conversion"}),o.jsx("p",{children:" Transaction may take 10-30 minutes to complete"})]})]})]})},tX=Dd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Km=v.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:me(tX({variant:e}),t),...n}));Km.displayName="Alert";const nX=v.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:me("mb-1 font-medium leading-none tracking-tight",t),...e}));nX.displayName="AlertTitle";const Qm=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("text-sm [&_p]:leading-relaxed",t),...e}));Qm.displayName="AlertDescription";const rX=()=>{const{user:t}=vr(),[e,n]=v.useState("1LJmPcYx6occVUs4h1ENrkN4L3pS7y7VAh"),[r,s]=v.useState(""),[i,a]=v.useState(!1),[c,l]=v.useState(!1),{toast:u}=_e(),d=async()=>{if(!t){u({title:"Authentication Required",description:"Please sign in to retrieve your private key.",variant:"destructive"});return}l(!0);try{const{data:m,error:g}=await re.functions.invoke("get-wallet-private-key",{body:{address:e,userId:t.id}});if(g)throw new Error(g.message||"Failed to retrieve private key");if(!m.privateKey)throw new Error("Private key not found for this address");s(m.privateKey),u({title:"Private Key Retrieved",description:"Your Bitcoin wallet private key has been retrieved successfully."})}catch(m){console.error("Private key retrieval error:",m),u({title:"Retrieval Failed",description:m.message||"Could not retrieve private key. The address may not be associated with your account.",variant:"destructive"})}finally{l(!1)}},f=m=>{navigator.clipboard.writeText(m),u({title:"Copied!",description:"Private key copied to clipboard"})},h=async()=>{l(!0);try{const{data:m,error:g}=await re.functions.invoke("generate-wallet");if(g)throw g;n(m.address),s(m.privateKey),u({title:"New Wallet Generated!",description:"Your new Bitcoin wallet has been created with full access."})}catch(m){console.error("Error generating wallet:",m),u({title:"Generation Failed",description:m.message||"Failed to generate new wallet.",variant:"destructive"})}finally{l(!1)}};return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(lD,{className:"h-5 w-5"}),"Bitcoin Wallet Manager"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs(Km,{children:[o.jsx(rn,{className:"h-4 w-4"}),o.jsx(Qm,{children:"This tool helps you retrieve the private key for Bitcoin addresses generated in this app, or create a new wallet with full access."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"btc-address",children:"Bitcoin Address"}),o.jsx(fe,{id:"btc-address",value:e,onChange:m=>n(m.target.value),placeholder:"Enter your Bitcoin address",className:"font-mono text-sm"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{onClick:d,disabled:c||!e,variant:"outline",className:"flex-1",children:c?"Retrieving...":"Retrieve Private Key"}),o.jsx(W,{onClick:h,disabled:c,className:"flex-1",children:c?"Generating...":"Generate New Wallet"})]}),r&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"private-key",children:"Private Key (WIF Format)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{id:"private-key",type:i?"text":"password",value:r,readOnly:!0,className:"font-mono text-sm"}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>a(!i),children:i?o.jsx(iD,{className:"h-4 w-4"}):o.jsx(Ep,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>f(r),children:o.jsx(lo,{className:"h-4 w-4"})})]}),o.jsx(Km,{children:o.jsx(Qm,{className:"text-amber-600",children:" Keep this private key secure! Anyone with access to it can control your Bitcoin."})})]}),o.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[o.jsx("p",{children:" If the address was generated in this app, you can retrieve its private key"}),o.jsx("p",{children:' Use "Generate New Wallet" to create a fresh wallet with full access'}),o.jsx("p",{children:" Never share your private key with anyone"})]})]})]})};function sX(t,e=[]){let n=[];function r(i,a){const c=v.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:m,...g}=f,p=h?.[t][l]||c,y=v.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:y,children:m})}function d(f,h){const m=h?.[t][l]||c,g=v.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>v.createContext(a));return function(c){const l=c?.[t]||i;return v.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return s.scopeName=t,[r,iX(s,...e)]}function iX(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...c,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Jy="rovingFocusGroup.onEntryFocus",oX={bubbles:!1,cancelable:!0},Ag="RovingFocusGroup",[yx,eR,aX]=gw(Ag),[cX,_g]=sX(Ag,[aX]),[lX,uX]=cX(Ag),tR=v.forwardRef((t,e)=>o.jsx(yx.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(yx.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(dX,{...t,ref:e})})}));tR.displayName=Ag;var dX=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=v.useRef(null),m=Xe(e,h),g=yg(i),[p=null,y]=si({prop:a,defaultProp:c,onChange:l}),[x,w]=v.useState(!1),b=Xn(u),j=eR(n),E=v.useRef(!1),[N,S]=v.useState(0);return v.useEffect(()=>{const _=h.current;if(_)return _.addEventListener(Jy,b),()=>_.removeEventListener(Jy,b)},[b]),o.jsx(lX,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(_=>y(_),[y]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(_=>_+1),[]),onFocusableItemRemove:v.useCallback(()=>S(_=>_-1),[]),children:o.jsx(Ne.div,{tabIndex:x||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:ge(t.onMouseDown,()=>{E.current=!0}),onFocus:ge(t.onFocus,_=>{const O=!E.current;if(_.target===_.currentTarget&&O&&!x){const T=new CustomEvent(Jy,oX);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=j().filter(k=>k.focusable),R=I.find(k=>k.active),z=I.find(k=>k.id===p),A=[R,z,...I].filter(Boolean).map(k=>k.ref.current);sR(A,d)}}E.current=!1}),onBlur:ge(t.onBlur,()=>w(!1))})})}),nR="RovingFocusGroupItem",rR=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,c=Zi(),l=i||c,u=uX(nR,n),d=u.currentTabStopId===l,f=eR(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return v.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),o.jsx(yx.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:o.jsx(Ne.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:ge(t.onMouseDown,g=>{r?u.onItemFocus(l):g.preventDefault()}),onFocus:ge(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ge(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=mX(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(w=>w.focusable).map(w=>w.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const w=x.indexOf(g.currentTarget);x=u.loop?pX(x,w+1):x.slice(w+1)}setTimeout(()=>sR(x))}})})})});rR.displayName=nR;var fX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mX(t,e,n){const r=hX(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fX[r]}function sR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function pX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var iR=tR,oR=rR,Jb="Tabs",[gX,Jre]=Ns(Jb,[_g]),aR=_g(),[yX,Zb]=gX(Jb),cR=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:l="automatic",...u}=t,d=yg(c),[f,h]=si({prop:r,onChange:s,defaultProp:i});return o.jsx(yX,{scope:n,baseId:Zi(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:o.jsx(Ne.div,{dir:d,"data-orientation":a,...u,ref:e})})});cR.displayName=Jb;var lR="TabsList",uR=v.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Zb(lR,n),a=aR(n);return o.jsx(iR,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(Ne.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});uR.displayName=lR;var dR="TabsTrigger",fR=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Zb(dR,n),c=aR(n),l=pR(a.baseId,r),u=gR(a.baseId,r),d=r===a.value;return o.jsx(oR,{asChild:!0,...c,focusable:!s,active:d,children:o.jsx(Ne.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ge(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ge(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ge(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});fR.displayName=dR;var hR="TabsContent",mR=v.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,c=Zb(hR,n),l=pR(c.baseId,r),u=gR(c.baseId,r),d=r===c.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(mi,{present:s||d,children:({present:h})=>o.jsx(Ne.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});mR.displayName=hR;function pR(t,e){return`${t}-trigger-${e}`}function gR(t,e){return`${t}-content-${e}`}var vX=cR,yR=uR,vR=fR,xR=mR;const Oa=vX,Po=v.forwardRef(({className:t,...e},n)=>o.jsx(yR,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Po.displayName=yR.displayName;const rt=v.forwardRef(({className:t,...e},n)=>o.jsx(vR,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));rt.displayName=vR.displayName;const st=v.forwardRef(({className:t,...e},n)=>o.jsx(xR,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));st.displayName=xR.displayName;const xX=({userId:t,earnings:e,onWithdraw:n})=>o.jsx("div",{className:"space-y-6",children:o.jsxs(Oa,{defaultValue:"metamask",className:"w-full",children:[o.jsxs(Po,{className:"grid w-full grid-cols-5",children:[o.jsx(rt,{value:"keys",children:"Keys"}),o.jsx(rt,{value:"bridge",children:"Bridge"}),o.jsx(rt,{value:"metamask",children:"MetaMask"}),o.jsx(rt,{value:"bitcoin",children:"Bitcoin"}),o.jsx(rt,{value:"evm",children:"EVM Networks"})]}),o.jsx(st,{value:"keys",className:"space-y-6",children:o.jsx(rX,{})}),o.jsx(st,{value:"bridge",className:"space-y-6",children:o.jsx(eX,{})}),o.jsx(st,{value:"metamask",className:"space-y-6",children:o.jsx(XZ,{earnings:e,onWithdraw:n})}),o.jsx(st,{value:"bitcoin",className:"space-y-6",children:o.jsx(JZ,{})}),o.jsx(st,{value:"evm",className:"space-y-6",children:o.jsx(ZZ,{})})]})}),wX=({tasksCompleted:t,maxTasks:e,hasWithdrawn:n,onTaskComplete:r,onResetAccount:s,userEmail:i="",userId:a=""})=>{const[c,l]=v.useState(0),[u,d]=v.useState(!1),{toast:f}=_e(),h=Mw.filter(b=>b.billingPeriod==="one-time").map(b=>({name:b.name,product:b.product,price:b.price,description:b.description,commissionRate:b.commissionRate,isRealAffiliate:!0,affiliateUrl:b.affiliateUrl,cjAffiliateId:b.cjAffiliateId})),m=[{name:"StreamMax Pro",product:"Premium Streaming Service",price:29.99,description:"Unlimited 4K streaming with exclusive content",commissionRate:.05,isRealAffiliate:!1},{name:"FitTracker Elite",product:"Advanced Fitness Tracker",price:199.99,description:"Monitor your health with precision sensors",commissionRate:.05,isRealAffiliate:!1},{name:"CloudSync Business",product:"Enterprise Cloud Storage",price:49.99,description:"Secure your data with 1TB cloud storage",commissionRate:.05,isRealAffiliate:!1}],g=()=>{if(Math.random()<.9&&h.length>0){const j=Math.floor(Math.random()*h.length);return h[j]}else{const j=Math.floor(Math.random()*m.length);return m[j]}},p=()=>{if(u||t>=e)return;const b=g(),E=[...h,...m].findIndex(S=>S.name===b.name&&S.isRealAffiliate===b.isRealAffiliate);l(E>=0?E:0),d(!0);const N=b.isRealAffiliate?Math.random()*15+10:Math.random()*8+5;setTimeout(()=>{r(N),d(!1),b.isRealAffiliate?f({title:" Ad Revenue Earned!",description:`You earned $${N.toFixed(2)} in ad revenue from ${b.name} optimization! (Your CJ Affiliate Partner)`}):f({title:"Ad Revenue Earned!",description:`You earned $${N.toFixed(2)} in ad revenue from ${b.name} optimization!`})},3e3),f({title:"Optimization Started!",description:`Running ${b.name} optimization task. Advertisers are paying for this exposure!`})},y=[...h,...m],x=y[c]||y[0],w=t<e&&!u&&!n;return o.jsxs(o.Fragment,{children:[u&&o.jsxs(F,{className:`border-2 animate-pulse ${x?.isRealAffiliate?"border-green-500 bg-green-50":"border-primary"}`,children:[o.jsx(K,{children:o.jsxs(Q,{className:"text-center text-xl flex items-center justify-center gap-2",children:[x?.name,x?.isRealAffiliate&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500 text-white font-bold animate-pulse",children:" YOUR CJ PARTNER"}),x?.cjAffiliateId&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-500 text-white",children:"CJ ID: 7602933"})]})}),o.jsxs(U,{className:"text-center space-y-4",children:[o.jsxs("div",{className:`${x?.isRealAffiliate?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-blue-500 to-purple-500"} text-white p-6 rounded-lg`,children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:x?.product}),o.jsx("p",{className:"text-lg mb-4",children:x?.description}),o.jsxs("div",{className:"text-3xl font-bold",children:["$",x?.price]}),o.jsxs("div",{className:"text-sm mt-2 opacity-90",children:["Product Value: $",x?.price]}),o.jsxs("div",{className:"text-sm mt-2 opacity-75",children:["Ad Revenue Rate: $",x?.isRealAffiliate?"$10-25":"$5-13"," per optimization"]}),x?.isRealAffiliate&&o.jsx("div",{className:"text-sm mt-3 bg-white/20 rounded p-2 font-semibold",children:" Generating ad revenue from your CJ partnership..."})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x?.isRealAffiliate?"Optimizing your CJ affiliate partner site...":"Processing optimization task..."})]})]}),o.jsx(F,{children:o.jsx(U,{className:"p-8 text-center space-y-6",children:n?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-lg text-green-600 font-semibold",children:" Daily earnings completed!"}),o.jsx(W,{onClick:s,size:"lg",variant:"outline",children:"Reset Account for Tomorrow"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-800",children:[o.jsx(It,{className:"h-5 w-5"}),o.jsx("span",{className:"font-semibold",children:"Ad-Sponsored Optimization Tasks"})]}),o.jsx("p",{className:"text-sm text-green-700 mt-2",children:"Advertisers pay you $5-25 per optimization task. Run optimizations to earn ad revenue from your affiliate partnerships."})]}),o.jsx(W,{onClick:p,disabled:!w,size:"lg",className:"w-full md:w-auto px-12 py-6 text-xl bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:u?"Processing...":t>=e?"Complete 20/20 - Reset to Continue":`Run Ad-Sponsored Optimization (${t}/${e})`}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:t>=e?"You've completed all daily tasks. Reset to continue earning!":"Advertisers pay you to run optimization tasks that showcase your affiliate partners"}),o.jsx("p",{className:"text-xs text-green-600 font-medium",children:" 90% chance of YOUR CJ affiliate partners (ID: 7602933) - Higher ad revenue rates!"})]})]})})})]})},bX=({service:t,onPurchase:e})=>o.jsxs("div",{className:"relative p-6 border rounded-lg hover:shadow-lg transition-all duration-200 bg-white",children:[t.popularBadge&&o.jsx("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs px-3 py-1 rounded-full font-semibold",children:"Popular Choice"}),o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx("h4",{className:"font-bold text-lg",children:t.name}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${BC(t.category)}`,children:t.category}),t.cjAffiliateId&&o.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"CJ Affiliate"})]})]}),o.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:t.product}),o.jsx("p",{className:"text-xs text-gray-600 mb-4 line-clamp-2",children:t.description}),o.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[o.jsx(_p,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),o.jsx("span",{className:"text-sm font-medium",children:t.rating}),o.jsx("span",{className:"text-xs text-gray-500",children:"(Real reviews)"}),t.epc&&o.jsxs("span",{className:"text-xs text-blue-600 ml-2",children:["EPC: ",t.epc]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Key Features:"}),o.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:t.features.slice(0,3).map((n,r)=>o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full"}),n]},r))})]}),o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[t.originalPrice&&o.jsxs("p",{className:"text-xs text-gray-500 line-through",children:["$",t.originalPrice]}),o.jsx("p",{className:"text-xl font-bold text-green-600",children:MC(t)})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-orange-600",children:[o.jsx(hr,{className:"h-3 w-3"}),o.jsxs("span",{children:["We earn $",e$(t.price,t.commissionRate)]})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[(t.commissionRate*100).toFixed(0),"% commission"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(oi,{className:"h-3 w-3 text-blue-500"}),o.jsx("span",{className:"text-xs text-blue-600 capitalize",children:t.billingPeriod==="one-time"?"One-time purchase":`${t.billingPeriod} billing`})]}),o.jsxs(W,{onClick:()=>e(t),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"sm",children:[o.jsx(fr,{className:"h-4 w-4 mr-2"}),t.billingPeriod==="one-time"?"Buy Now":"Start Subscription"]}),o.jsxs("div",{className:"mt-3 flex items-center justify-center gap-1 text-xs text-gray-500",children:[o.jsx(rn,{className:"h-3 w-3"}),o.jsxs("span",{children:["Secure checkout via ",t.name]})]})]}),jX=()=>o.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[o.jsxs("h5",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[o.jsx(hr,{className:"h-5 w-5"}),"Real Affiliate Partnership Program"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h6",{className:"font-semibold text-blue-800 mb-2",children:"For You:"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Access real premium services at competitive prices"}),o.jsx("li",{children:" Verified partnerships with trusted brands"}),o.jsx("li",{children:" Exclusive deals through our affiliate network"}),o.jsx("li",{children:" Support our platform at no additional cost"})]})]}),o.jsxs("div",{children:[o.jsx("h6",{className:"font-semibold text-blue-800 mb-2",children:"Our Partnership Model:"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Real commission earnings (4-25%)"}),o.jsx("li",{children:" Commission Junction (CJ Affiliate) integration"}),o.jsx("li",{children:" Direct partnerships with service providers"}),o.jsx("li",{children:" Monthly payout processing"})]})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-white rounded border-l-4 border-green-500",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" ACTIVE INTEGRATION:"})," Your CJ Affiliate Publisher ID ",o.jsx("strong",{children:"7602933"})," is now integrated! All 1-800-FLORALS affiliate links and optimization tasks are using YOUR actual CJ Publisher ID to ensure you earn real commissions."]})}),o.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded border border-green-200",children:o.jsxs("p",{className:"text-xs text-green-700",children:[o.jsx("strong",{children:"Publisher ID 7602933"})," | All affiliate tracking and commission earning is now configured with your actual CJ Affiliate account."]})})]}),wR=()=>{const{handlePurchase:t}=OC();return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(ha,{className:"h-5 w-5"}),"Partner Affiliate Services",o.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:"(Real affiliate partnerships - including CJ Affiliate network!)"})]})}),o.jsxs(U,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Mw.map(e=>o.jsx(bX,{service:e,onPurchase:t},e.id))}),o.jsx(jX,{})]})]})},EX=({tasksCompleted:t,maxTasks:e,hasWithdrawn:n,earnings:r,userEmail:s,userId:i,onTaskComplete:a,onResetAccount:c})=>o.jsxs("div",{className:"space-y-6",children:[o.jsx(wX,{tasksCompleted:t,maxTasks:e,hasWithdrawn:n,onTaskComplete:a,onResetAccount:c,userEmail:s,userId:i}),o.jsx(wR,{})]}),bR=v.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",t),...e})}));bR.displayName="Table";const jR=v.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:me("[&_tr]:border-b",t),...e}));jR.displayName="TableHeader";const ER=v.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",t),...e}));ER.displayName="TableBody";const AX=v.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));AX.displayName="TableFooter";const Xb=v.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Xb.displayName="TableRow";const Fo=v.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Fo.displayName="TableHead";const Uo=v.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:me("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Uo.displayName="TableCell";const _X=v.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",t),...e}));_X.displayName="TableCaption";const SX=t=>{switch(t){case"pending":return oi;case"confirmed":return At;case"failed":return ii;default:return oi}},NX=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},kX=(t,e="mainnet")=>e==="mainnet"?`https://mempool.space/tx/${t}`:`https://mempool.space/testnet/tx/${t}`,CX=(t,e="mainnet")=>{window.open(kX(t,e),"_blank")},ql=t=>t.type==="withdrawal"&&t.address==="Bank Account Transfer",TX=({transaction:t})=>{const e=SX(t.status);return o.jsxs(Xb,{children:[o.jsx(Uo,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[ql(t)?o.jsx(XN,{className:"h-4 w-4 text-blue-500"}):t.type==="withdrawal"?o.jsx(js,{className:"h-4 w-4 text-orange-500"}):o.jsx("div",{className:"h-4 w-4 bg-green-500 rounded-full"}),o.jsx("span",{className:"capitalize",children:ql(t)?"Bank Deposit":t.type})]})}),o.jsx(Uo,{children:o.jsxs("span",{className:t.type==="withdrawal"?"text-red-600":"text-green-600",children:[t.type==="withdrawal"?"-":"+","$",t.amount.toFixed(2)]})}),o.jsx(Uo,{children:t.address?o.jsx("div",{className:`text-xs ${ql(t)?"text-blue-600 font-medium":"font-mono break-all max-w-[200px]"}`,children:t.address}):o.jsx("span",{className:"text-muted-foreground",children:"Task completion"})}),o.jsx(Uo,{children:o.jsx(Ge,{className:NX(t.status),children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(e,{className:"h-4 w-4"}),o.jsx("span",{className:"capitalize",children:t.status})]})})}),o.jsx(Uo,{children:o.jsxs("div",{className:"text-sm",children:[t.timestamp.toLocaleDateString(),o.jsx("div",{className:"text-xs text-muted-foreground",children:t.timestamp.toLocaleTimeString()})]})}),o.jsx(Uo,{children:t.txHash&&!ql(t)?o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>CX(t.txHash,t.network||"mainnet"),className:"flex items-center gap-1",children:[o.jsx(fr,{className:"h-3 w-3"}),"View"]}):ql(t)?o.jsx("span",{className:"text-blue-600 text-sm",children:"Bank Transfer"}):o.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})})]})},PX=()=>o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(js,{className:"h-5 w-5"}),"Transaction History"]})}),o.jsx(U,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(js,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No transactions yet"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your withdrawals and earnings will appear here"})]})})]}),IX=({transactions:t})=>{const e=t.some(n=>n.status==="pending");return o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Pending Transactions:"})," Bitcoin mainnet transactions typically take 10-60 minutes to confirm. Bank deposits take 1-2 business days to process. You can track Bitcoin transactions in real-time on mempool.space."]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("strong",{children:"Block Explorer:"})," Bitcoin transactions can be viewed on"," ",o.jsx("a",{href:"https://mempool.space",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"mempool.space"})," ","for detailed blockchain information. Bank deposits are processed through Stripe and will appear in your bank account within 1-2 business days."]})})]})},RX=({transactions:t})=>t.length===0?o.jsx(PX,{}):o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(js,{className:"h-5 w-5"}),"Transaction History",o.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-auto",children:"Powered by mempool.space"})]})}),o.jsxs(U,{children:[o.jsxs(bR,{children:[o.jsx(jR,{children:o.jsxs(Xb,{children:[o.jsx(Fo,{children:"Type"}),o.jsx(Fo,{children:"Amount"}),o.jsx(Fo,{children:"Address/Details"}),o.jsx(Fo,{children:"Status"}),o.jsx(Fo,{children:"Date"}),o.jsx(Fo,{children:"Explorer"})]})}),o.jsx(ER,{children:t.map(e=>o.jsx(TX,{transaction:e},e.id))})]}),o.jsx(IX,{transactions:t})]})]}),OX=({transactions:t})=>o.jsx(RX,{transactions:t}),MX=()=>{const{user:t,loading:e}=vr(),{toast:n}=_e(),r=async s=>{try{await navigator.clipboard.writeText(s),n({title:"Copied!",description:"UUID copied to clipboard"})}catch{n({title:"Failed to copy",description:"Could not copy UUID to clipboard",variant:"destructive"})}};return e?o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Your UUID"})}),o.jsx(U,{children:o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})})]}):t?o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Your UUID"})}),o.jsxs(U,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm font-mono",children:t.id}),o.jsx("button",{onClick:()=>r(t.id),className:"p-1 hover:bg-muted rounded",title:"Copy to clipboard",children:o.jsx(lo,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This is your unique user identifier"})]})]}):o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Your UUID"})}),o.jsx(U,{children:o.jsx("p",{className:"text-muted-foreground",children:"Please sign in to view your UUID"})})]})},BX=()=>{const{user:t}=vr(),[e,n]=v.useState(0),[r,s]=v.useState(0),[i,a]=v.useState(!1),[c,l]=v.useState([]),[u,d]=v.useState(!1),{toast:f}=_e(),h=20,m=t?.email||"",g=t?.id||"",{addCommission:p}=h$(g),{todaysEarnings:y,refreshTodaysEarnings:x}=m$(g);console.log("Dashboard Debug - userId:",g),console.log("Dashboard Debug - user:",t),console.log("Dashboard Debug - todaysEarnings:",y),console.log("Dashboard Debug - todaysEarnings type:",typeof y);const{resetTasks:w,resetAccount:b}=f$(r,h,()=>{s(0)},()=>{n(0),s(0),a(!1),l([])}),j=O=>{const T={...O,id:Math.random().toString(36).substr(2,9),timestamp:new Date};return l(I=>[T,...I]),T.id},E=(O,T)=>{l(I=>I.map(R=>R.id===O?{...R,...T}:R))},N=async O=>{try{const{data:T,error:I}=await re.functions.invoke("get-btc-price");if(I){console.error("Error getting BTC price:",I),f({title:"Error",description:"Failed to convert earnings to BTC. Please try again.",variant:"destructive"});return}const R=T.price,z=O/R;n($=>$+z),s($=>$+1),j({type:"earning",amount:z,status:"confirmed"}),g&&(await p(Math.round(O*100),`Task completion earnings converted to BTC: ${z.toFixed(8)} BTC (from $${O.toFixed(2)})`,"task_completion"),await re.from("commissions").update({paid_out:!0,paid_at:new Date().toISOString()}).eq("user_id",g).eq("paid_out",!1),x()),f({title:"Earned Bitcoin!",description:`Converted $${O.toFixed(2)} directly to ${z.toFixed(8)} BTC`})}catch(T){console.error("Error processing task completion:",T),f({title:"Error",description:"Failed to process earnings. Please try again.",variant:"destructive"})}},S=()=>{const O=j({type:"withdrawal",amount:e,status:"pending"});n(0),a(!0),setTimeout(()=>{E(O,{status:"confirmed"})},1e3)},_=O=>{const T=j({type:"withdrawal",amount:O,status:"pending",address:"Verified Bank Account Transfer"});n(I=>I-O),f({title:"Secure Deposit Initiated",description:`$${O.toFixed(2)} securely transferred to your verified bank account.`}),setTimeout(()=>{E(T,{status:"confirmed"})},2e3)};return t?u?o.jsx(UC,{onBack:()=>d(!1)}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(gJ,{userEmail:m,onShowPrivacyPolicy:()=>d(!0)}),o.jsx(xJ,{earnings:e,tasksCompleted:r,maxTasks:h,onResetTasks:w,userEmail:m,userId:g,todaysEarnings:y}),o.jsx(xX,{userId:g,earnings:e,onWithdraw:O=>{n(T=>T-O),j({type:"withdrawal",amount:O,status:"confirmed",address:"MetaMask Wallet"})}}),o.jsx(EX,{tasksCompleted:r,maxTasks:h,hasWithdrawn:i,earnings:e,userEmail:m,userId:g,onTaskComplete:N,onResetAccount:b,onWithdraw:S,onSecureBankDeposit:_}),o.jsx(MX,{}),o.jsx(OX,{transactions:c})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"max-w-md w-full space-y-6",children:o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Please sign in to access your dashboard"})]})})})},DX=()=>{const{trackImpression:t,trackClick:e}=$w(),n=()=>{t({adSlot:"3941685758",placementId:"dashboard_multiplex",adType:"multiplex"})},r=()=>{e({adSlot:"3941685758",placementId:"dashboard_multiplex",adType:"multiplex"})};return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx(BX,{}),o.jsx("div",{className:"my-8 w-full flex justify-center px-4",children:o.jsx(Ho,{adSlot:"3941685758",adFormat:"autorelaxed",className:"w-full",style:{display:"block"},onImpression:n,onAdClick:r})})]})})},LX=({connectAccountId:t})=>{const e={totalRevenue:12543.5,monthlyRevenue:3240.75,activePartners:8,pendingPayouts:1250};return o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Total Revenue"}),o.jsx(It,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",e.totalRevenue.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"This Month"}),o.jsx(hr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",e.monthlyRevenue.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% from last month"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Active Partners"}),o.jsx(ha,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(U,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e.activePartners}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 new this month"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Pending Payouts"}),o.jsx(Ku,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:["$",e.pendingPayouts.toLocaleString()]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Next payout in 3 days"})]})]})]})},FX=({connectAccountId:t})=>{const e=[{id:"1",partner:"Google AdSense",amount:1250,date:"2024-01-15",status:"completed",campaign:"Banner Ads Q1"},{id:"2",partner:"Facebook Audience Network",amount:875.5,date:"2024-01-14",status:"completed",campaign:"Video Ads"},{id:"3",partner:"Amazon Associates",amount:432.25,date:"2024-01-13",status:"pending",campaign:"Product Recommendations"}];return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-5 w-5"}),"Payment History"]})}),o.jsx(U,{children:o.jsx("div",{className:"space-y-4",children:e.map(n=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(qu,{className:"h-8 w-8 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:n.partner}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.campaign}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Ku,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:n.date})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-lg",children:["$",n.amount.toFixed(2)]}),o.jsx(Ge,{variant:n.status==="completed"?"default":"secondary",children:n.status})]})]},n.id))})})]})},UX=({connectAccountId:t})=>{const[e,n]=v.useState(!1),[r,s]=v.useState(""),[i,a]=v.useState(""),{toast:c}=_e(),l=[{id:"1",name:"Google AdSense",email:"partner@google.com",totalRevenue:8450.75,status:"active",apiKey:"pk_partner_google_..."},{id:"2",name:"Facebook Audience Network",email:"partner@facebook.com",totalRevenue:3240.5,status:"active",apiKey:"pk_partner_facebook_..."}],u=()=>{if(!r||!i){c({title:"Missing Information",description:"Please provide both partner name and email.",variant:"destructive"});return}c({title:"Partner Added",description:`${r} has been added as an advertising partner.`}),s(""),a(""),n(!1)},d=()=>{const f=`${window.location.origin}/api/ad-revenue/payment`;navigator.clipboard.writeText(f),c({title:"Copied!",description:"API endpoint copied to clipboard."})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(qu,{className:"h-5 w-5"}),"Advertising Partners"]}),o.jsxs(W,{onClick:()=>n(!0),size:"sm",children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Partner"]})]})}),o.jsx(U,{children:o.jsx("div",{className:"space-y-4",children:l.map(f=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(qu,{className:"h-8 w-8 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:f.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:f.email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(It,{className:"h-3 w-3"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Total: $",f.totalRevenue.toFixed(2)]})]})]})]}),o.jsxs("div",{className:"text-right space-y-2",children:[o.jsx(Ge,{variant:f.status==="active"?"default":"secondary",children:f.status}),o.jsx("div",{children:o.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:f.apiKey})})]})]},f.id))})})]}),e&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Add New Partner"})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"partnerName",children:"Partner Name"}),o.jsx(fe,{id:"partnerName",placeholder:"e.g., Google AdSense",value:r,onChange:f=>s(f.target.value)})]}),o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"partnerEmail",children:"Contact Email"}),o.jsx(fe,{id:"partnerEmail",type:"email",placeholder:"partner@company.com",value:i,onChange:f=>a(f.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{onClick:u,children:"Add Partner"}),o.jsx(W,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(nk,{className:"h-5 w-5"}),"API Integration"]})}),o.jsx(U,{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(xe,{children:"Payment API Endpoint"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx(fe,{value:`${window.location.origin}/api/ad-revenue/payment`,readOnly:!0,className:"font-mono text-sm"}),o.jsx(W,{variant:"outline",size:"sm",onClick:d,children:"Copy"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Partners can send POST requests to this endpoint to submit payments."})]})})]})]})};class $X{async createExpressAccount(e){try{console.log("Creating Express account for ad revenue:",e);const{data:n,error:r}=await re.functions.invoke("create-ad-revenue-account",{body:e});if(r)throw new Error(r.message||"Express account creation failed");return n}catch(n){return console.error("Ad Revenue Account Creation Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async receivePayment(e){try{console.log("Processing ad revenue payment:",e);const{data:n,error:r}=await re.functions.invoke("receive-ad-payment",{body:e});if(r)throw new Error(r.message||"Payment processing failed");return n}catch(n){return console.error("Ad Revenue Payment Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getAccountBalance(e){try{const{data:n,error:r}=await re.functions.invoke("get-ad-revenue-balance",{body:{accountId:e}});if(r)throw new Error(r.message||"Failed to get balance");return n}catch(n){throw console.error("Balance fetch error:",n),n}}async requestPayout(e,n){try{const{data:r,error:s}=await re.functions.invoke("request-ad-revenue-payout",{body:{accountId:e,amount:n}});if(s)throw new Error(s.message||"Payout request failed");return r}catch(r){throw console.error("Payout request error:",r),r}}}const AR=new $X,HX=({connectAccountId:t})=>{const[e,n]=v.useState(""),[r,s]=v.useState(!1),{toast:i}=_e(),a={available:1250,pending:875.5},c=[{id:"1",amount:1200,date:"2024-01-20",status:"scheduled",method:"ACH Transfer"},{id:"2",amount:800,date:"2024-01-15",status:"completed",method:"Wire Transfer"}],l=async()=>{const u=parseFloat(e);if(!u||u<=0){i({title:"Invalid Amount",description:"Please enter a valid payout amount.",variant:"destructive"});return}if(u>a.available){i({title:"Insufficient Balance",description:"Requested amount exceeds available balance.",variant:"destructive"});return}s(!0);try{await AR.requestPayout(t,u*100),i({title:"Payout Requested",description:`Payout of $${u.toFixed(2)} has been requested.`}),n("")}catch(d){console.error("Payout request error:",d),i({title:"Payout Failed",description:"Failed to request payout. Please try again.",variant:"destructive"})}finally{s(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-5 w-5"}),"Available Balance"]})}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",a.available.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready for withdrawal"})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(oi,{className:"h-5 w-5"}),"Pending Balance"]})}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:["$",a.pending.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing, available soon"})]})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Request Payout"})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"payoutAmount",children:"Amount ($)"}),o.jsx(fe,{id:"payoutAmount",type:"number",placeholder:"0.00",value:e,onChange:u=>n(u.target.value),min:"0",max:a.available,step:"0.01"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: $",a.available.toFixed(2)]})]}),o.jsxs(W,{onClick:l,disabled:r||!e,className:"w-full",children:[r?"Processing...":"Request Payout",o.jsx(qo,{className:"h-4 w-4 ml-2"})]})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Ku,{className:"h-5 w-5"}),"Payout History"]})}),o.jsx(U,{children:o.jsx("div",{className:"space-y-4",children:c.map(u=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(It,{className:"h-8 w-8 text-muted-foreground"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:["$",u.amount.toFixed(2)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:u.method}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Ku,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:u.date})]})]})]}),o.jsx(Ge,{variant:u.status==="completed"?"default":"secondary",children:u.status})]},u.id))})})]})]})},zX=({onAccountCreated:t})=>{const[e,n]=v.useState(!1),[r,s]=v.useState(""),[i,a]=v.useState(""),{toast:c}=_e(),l=async()=>{if(!r||!i){c({title:"Missing Information",description:"Please provide both business email and name.",variant:"destructive"});return}n(!0);try{const u=await AR.createExpressAccount({email:r,businessName:i,businessType:"company",country:"US"});if(u.success&&u.data)t(u.data.accountId),u.data.onboardingUrl&&window.open(u.data.onboardingUrl,"_blank"),c({title:"Account Created Successfully",description:"Your ad revenue collection account has been set up. Complete the onboarding process in the new tab."});else throw new Error(u.error||"Failed to create account")}catch(u){console.error("Account creation error:",u),c({title:"Setup Failed",description:u instanceof Error?u.message:"Failed to set up account",variant:"destructive"})}finally{n(!1)}};return o.jsxs(F,{className:"max-w-2xl mx-auto",children:[o.jsx(K,{className:"text-center",children:o.jsxs(Q,{className:"flex items-center justify-center gap-2",children:[o.jsx(qu,{className:"h-6 w-6"}),"Set Up Ad Revenue Collection"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground text-center",children:"Create a Stripe Connect Express account to start receiving payments from advertising partners."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"businessEmail",children:"Business Email"}),o.jsx(fe,{id:"businessEmail",type:"email",placeholder:"your-business@example.com",value:r,onChange:u=>s(u.target.value),disabled:e})]}),o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"businessName",children:"Business Name"}),o.jsx(fe,{id:"businessName",placeholder:"Your Business Name",value:i,onChange:u=>a(u.target.value),disabled:e})]}),o.jsx(W,{onClick:l,disabled:e,className:"w-full",size:"lg",children:e?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating account..."]}):o.jsxs(o.Fragment,{children:[o.jsx(an,{className:"h-4 w-4 mr-2"}),"Create Ad Revenue Account"]})})]}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"What happens next:"})," We'll create a Stripe Connect Express account for your business. This allows you to receive payments from advertising partners and manage payouts to your bank account. You'll be redirected to complete the onboarding process."]})})]})]})},VX=()=>{const[t,e]=v.useState(null);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-7xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Ad Revenue Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage payments from advertising partners and track your revenue"})]}),t?o.jsxs(Oa,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(Po,{className:"grid w-full grid-cols-4",children:[o.jsx(rt,{value:"overview",children:"Overview"}),o.jsx(rt,{value:"payments",children:"Payment History"}),o.jsx(rt,{value:"partners",children:"Partners"}),o.jsx(rt,{value:"payouts",children:"Payouts"})]}),o.jsx(st,{value:"overview",children:o.jsx(LX,{connectAccountId:t})}),o.jsx(st,{value:"payments",children:o.jsx(FX,{connectAccountId:t})}),o.jsx(st,{value:"partners",children:o.jsx(UX,{connectAccountId:t})}),o.jsx(st,{value:"payouts",children:o.jsx(HX,{connectAccountId:t})})]}):o.jsx(zX,{onAccountCreated:e})]})})},GX=()=>o.jsx(VX,{}),WX=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(null),[s,i]=v.useState(!0),{toast:a}=_e();v.useEffect(()=>{c()},[]);const c=async()=>{i(!0);try{const{data:u,error:d}=await re.functions.invoke("affiliate-tracking",{body:{affiliateId:"YOUR_AFFILIATE_ID",action:"get_stats"}});d?console.error("Error loading affiliate stats:",d):e(u);const{data:f,error:h}=await re.functions.invoke("income-affiliate",{body:{action:"calculate_earnings",data:{affiliateId:"YOUR_AFFILIATE_ID",timeframe:"monthly"}}});h?console.error("Error loading earnings:",h):r(f)}catch(u){console.error("Error loading affiliate data:",u),a({title:"Loading Error",description:"Failed to load affiliate dashboard data",variant:"destructive"})}finally{i(!1)}},l=async()=>{try{const{data:u,error:d}=await re.functions.invoke("stripe-affiliate-payout",{body:{}});if(d)throw d;if(u.success)a({title:"Payout Requested Successfully!",description:`$${u.amount} payout initiated. ${u.estimated_arrival}`}),await c();else throw new Error(u.error||"Payout failed")}catch(u){console.error("Error requesting payout:",u),a({title:"Payout Error",description:u instanceof Error?u.message:"Failed to process payout request",variant:"destructive"})}};return s?o.jsx(F,{children:o.jsx(U,{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading affiliate dashboard..."})]})})}):o.jsx("div",{className:"space-y-6",children:o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(hr,{className:"h-6 w-6 text-green-500"}),"Affiliate Revenue Dashboard"]})}),o.jsx(U,{children:o.jsxs(Oa,{defaultValue:"overview",className:"w-full",children:[o.jsxs(Po,{className:"grid w-full grid-cols-3",children:[o.jsx(rt,{value:"overview",children:"Overview"}),o.jsx(rt,{value:"performance",children:"Performance"}),o.jsx(rt,{value:"payouts",children:"Payouts"})]}),o.jsxs(st,{value:"overview",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Clicks"}),o.jsx("p",{className:"text-2xl font-bold",children:t?.totalClicks||0})]}),o.jsx(pD,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversions"}),o.jsx("p",{className:"text-2xl font-bold",children:t?.totalConversions||0})]}),o.jsx(t0,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Commission"}),o.jsxs("p",{className:"text-2xl font-bold",children:["$",t?.totalCommission||"0.00"]})]}),o.jsx(It,{className:"h-8 w-8 text-yellow-500"})]})})}),o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),o.jsx("p",{className:"text-2xl font-bold",children:t?.conversionRate||"0%"})]}),o.jsx(hr,{className:"h-8 w-8 text-purple-500"})]})})})]}),n&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Monthly Earnings Breakdown"})}),o.jsx(U,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-green-700",children:"Base Earnings"}),o.jsxs("p",{className:"text-xl font-bold text-green-900",children:["$",n.earnings?.base||"0.00"]})]}),o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-blue-700",children:"Bonus Earnings"}),o.jsxs("p",{className:"text-xl font-bold text-blue-900",children:["$",n.earnings?.bonus||"0.00"]})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx("p",{className:"text-sm text-purple-700",children:"Total Earnings"}),o.jsxs("p",{className:"text-xl font-bold text-purple-900",children:["$",n.earnings?.total||"0.00"]})]})]})})]})]}),o.jsx(st,{value:"performance",className:"space-y-4",children:o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Top Performing Services"})}),o.jsx(U,{children:t?.topPerformingServices?o.jsx("div",{className:"space-y-3",children:t.topPerformingServices.map((u,d)=>o.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:u.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.conversions," conversions"]})]}),o.jsxs("p",{className:"font-bold text-green-600",children:["$",u.commission]})]},d))}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No performance data available yet"})})]})}),o.jsx(st,{value:"payouts",className:"space-y-4",children:o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Payout Management"})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Available for Payout:"}),o.jsxs("span",{className:"text-lg font-bold",children:["$",n?.earnings?.total||"0.00"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Minimum Payout:"}),o.jsx("span",{className:"text-sm",children:"$50.00"})]})]}),o.jsx(W,{onClick:l,className:"w-full",disabled:!n?.earnings?.total||n.earnings.total<50,children:"Request Stripe Bank Payout"}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Payouts are processed within 2-3 business days via Stripe to your bank account."})]})]})})]})})]})})},qX=()=>{const t=[{title:"Total Revenue",value:"$24,567.89",change:"+12.5%",icon:It,color:"text-green-600"},{title:"Active Partners",value:"48",change:"+8.3%",icon:ha,color:"text-blue-600"},{title:"Monthly Growth",value:"15.2%",change:"+2.1%",icon:hr,color:"text-purple-600"},{title:"Daily Payouts",value:"24/7",change:"Processing",icon:oi,color:"text-orange-600"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((e,n)=>{const r=e.icon;return o.jsx(F,{children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e.title}),o.jsx("p",{className:"text-2xl font-bold",children:e.value}),o.jsx("p",{className:`text-xs ${e.color}`,children:e.change})]}),o.jsx(r,{className:`h-8 w-8 ${e.color}`})]})})},n)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-5 w-5"}),"Our Payout Model"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[o.jsx(At,{className:"h-5 w-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-800",children:"Daily Payout Processing"}),o.jsx("p",{className:"text-sm text-green-700",children:"Automated daily transfers to your account"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Processing Schedule:"}),o.jsx(Ge,{className:"bg-blue-100 text-blue-800",children:"Every 24 Hours"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Minimum Payout:"}),o.jsx("span",{className:"text-sm font-semibold",children:"$10.00"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Payment Method:"}),o.jsx("span",{className:"text-sm",children:"Stripe Transfer"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Processing Time:"}),o.jsx("span",{className:"text-sm",children:"1-3 Business Days"})]})]}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Daily Processing:"})," Earnings are automatically processed and transferred to your connected Stripe account every day at 6 PM EST, provided you've reached the minimum payout threshold."]})})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Ku,{className:"h-5 w-5"}),"Recent Payout Activity"]})}),o.jsx(U,{children:o.jsx("div",{className:"space-y-4",children:[{date:"Today",amount:"$245.67",status:"Processing",color:"bg-yellow-100 text-yellow-800"},{date:"Yesterday",amount:"$189.34",status:"Completed",color:"bg-green-100 text-green-800"},{date:"Jan 23",amount:"$298.12",status:"Completed",color:"bg-green-100 text-green-800"},{date:"Jan 22",amount:"$156.89",status:"Completed",color:"bg-green-100 text-green-800"}].map((e,n)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(It,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:e.amount}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.date})]})]}),o.jsx(Ge,{className:e.color,children:e.status})]},n))})})]})]})]})},KX=()=>o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[o.jsx("header",{className:"bg-white shadow-md",children:o.jsxs("div",{className:"container mx-auto px-4 py-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-purple-800",children:"Affiliate Revenue Center"}),o.jsx("p",{className:"text-purple-600 mt-1",children:"Real partner integrations with detailed analytics and commission tracking"})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-8 space-y-8",children:[o.jsx(wR,{}),o.jsx(qX,{}),o.jsx(WX,{})]})]}),QX=()=>{const[t,e]=v.useState(null),[n,r]=v.useState(null),[s,i]=v.useState(!1),{toast:a}=_e(),c=async()=>{i(!0);try{const{data:d,error:f}=await re.functions.invoke("generate-wallet");if(f)throw f;console.log("Generated wallet:",d),e(d),r(null),a({title:"Wallet Generated!",description:"Your new Bitcoin mainnet wallet has been created."})}catch(d){console.error("Error generating wallet:",d),a({title:"Error",description:`Failed to generate wallet: ${d.message}`,variant:"destructive"})}finally{i(!1)}},l=d=>{r(d)},u=d=>{navigator.clipboard.writeText(d),a({title:"Copied!",description:"Address copied to clipboard"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(un,{className:"h-5 w-5"}),"Bitcoin Mainnet Wallet"]})}),o.jsx(U,{className:"space-y-4",children:t?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Public Address"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{value:t.address,readOnly:!0,className:"font-mono text-xs"}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>u(t.address),children:o.jsx(lo,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(qb,{value:t.address,size:120})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Private Key (WIF)"}),o.jsx(fe,{value:t.privateKey,readOnly:!0,className:"font-mono text-xs",type:"password"})]})]}):o.jsx(W,{onClick:c,disabled:s,className:"w-full",children:s?"Generating...":"Generate New Wallet"})})]}),o.jsx(rI,{wallet:t,balance:n,onBalanceUpdated:l}),o.jsx(sI,{wallet:t}),o.jsx(XI,{wallet:t,balance:n,onBalanceUpdate:()=>l})]})},YX=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Bitcoin Mainnet Wallet"}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"Generate wallets, check balances, and send Bitcoin on mainnet"})]}),o.jsx(QX,{})]})}),Sg=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!1),{toast:s}=_e(),i=(h,m)=>`${h}-${m}`,a=v.useCallback(async(h,m,g,p)=>{r(!0);try{let y,x="0.0000",w=null,b=null;if(h==="custom"&&p)y=p,x="0.0000";else if(h==="metamask"||h==="web3")if(typeof window<"u"&&window.ethereum){w=new kr(window.ethereum),await window.ethereum.request({method:"eth_requestAccounts"});const S=await w.eth.getAccounts();if(S.length===0)throw new Error("No accounts available");y=S[0],b=Number(await w.eth.getChainId());const _=await w.eth.getBalance(y);x=w.utils.fromWei(_,"ether")}else throw new Error("MetaMask or Web3 provider not available");else if(y=`0x${Math.random().toString(16).substr(2,40)}`,x=(Math.random()*10).toFixed(4),g){w=new kr(g);try{b=Number(await w.eth.getChainId())}catch(S){console.warn("Failed to get network ID from RPC:",S)}}const j=i(y,m);if(t.find(S=>S.id===j))return s({title:"Already Connected",description:`This wallet is already connected to ${m}`,variant:"destructive"}),null;const N={id:j,address:y,balance:x,network:m,networkId:b,web3Instance:w,provider:h,connected:!0};return e(S=>[...S,N]),s({title:"Wallet Connected",description:`Connected ${y.slice(0,10)}... to ${m}`}),N}catch(y){return console.error("Wallet connection failed:",y),s({title:"Connection Failed",description:y instanceof Error?y.message:"Failed to connect wallet",variant:"destructive"}),null}finally{r(!1)}},[t,s]),c=v.useCallback(h=>{e(m=>m.filter(g=>g.id!==h)),s({title:"Wallet Disconnected",description:"Wallet has been disconnected"})},[s]),l=v.useCallback(h=>t.find(m=>m.address.toLowerCase()===h.toLowerCase()),[t]),u=v.useCallback(h=>t.filter(m=>m.network===h),[t]),d=v.useCallback(async h=>{const m=t.find(g=>g.id===h);if(!(!m||!m.web3Instance))try{const g=await m.web3Instance.eth.getBalance(m.address),p=m.web3Instance.utils.fromWei(g,"ether");e(y=>y.map(x=>x.id===h?{...x,balance:p}:x))}catch(g){console.error("Failed to update balance:",g)}},[t]),f=v.useCallback(async(h,m)=>{const g=t.find(p=>p.id===h);if(!(!g||!g.web3Instance))try{e(p=>p.map(y=>y.id===h?{...y,network:m}:y)),s({title:"Network Updated",description:`Wallet network updated to ${m}`})}catch(p){console.error("Failed to switch network:",p),s({title:"Network Switch Failed",description:"Failed to update wallet network",variant:"destructive"})}},[t,s]);return{connectedWallets:t,isLoading:n,connectWallet:a,disconnectWallet:c,getWalletByAddress:l,getWalletsByNetwork:u,updateWalletBalance:d,switchWalletNetwork:f}},JX=[{id:"metamask",name:"MetaMask",icon:""},{id:"walletconnect",name:"WalletConnect",icon:""},{id:"coinbase",name:"Coinbase Wallet",icon:""},{id:"web3",name:"Web3 Direct",icon:""},{id:"custom",name:"Custom Address",icon:""}],ZX=({selectedNetwork:t,onWalletConnect:e})=>{const[n,r]=v.useState(null),[s,i]=v.useState(""),[a,c]=v.useState(""),{toast:l}=_e(),{connectWallet:u,isLoading:d}=Sg(),{resolveAddress:f}=Eg(),h=async m=>{if(m==="custom"){if(!s.trim()){l({title:"Error",description:"Please enter a valid address or ENS name",variant:"destructive"});return}let g=s;if(s.endsWith(".eth")){const y=await f(s);if(!y){l({title:"Error",description:"Could not resolve ENS name",variant:"destructive"});return}g=y}await u("custom",t,a||void 0,g)&&(i(""),e?.());return}r(m);try{await u(m,t,a||void 0)&&e?.()}catch(g){console.error("Wallet connection failed:",g)}finally{r(null)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Hc,{className:"h-4 w-4 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Add New Wallet Connection"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:JX.filter(m=>m.id!=="custom").map(m=>o.jsxs(W,{variant:"outline",className:"h-16 flex flex-col gap-2 hover:bg-gray-50",onClick:()=>h(m.id),disabled:n===m.id||d,children:[o.jsx("span",{className:"text-2xl",children:m.icon}),o.jsx("span",{className:"text-sm",children:n===m.id?"Connecting...":m.name})]},m.id))}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(bD,{className:"h-4 w-4"}),"Web3 RPC Configuration (Optional)"]}),o.jsx("div",{className:"flex gap-2 mb-4",children:o.jsx(fe,{placeholder:"RPC URL (e.g., https://mainnet.infura.io/v3/YOUR_PROJECT_ID)",value:a,onChange:m=>c(m.target.value),className:"flex-1"})}),o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Providing an RPC URL enables additional features like custom networks and better balance fetching."})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(jp,{className:"h-4 w-4"}),"Connect Custom Address (Read-Only)"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(fe,{placeholder:"Enter wallet address (0x...) or ENS name (alice.eth)",value:s,onChange:m=>i(m.target.value),className:"flex-1"}),o.jsxs(W,{onClick:()=>h("custom"),disabled:!s.trim()||d,children:[o.jsx(un,{className:"h-4 w-4 mr-2"}),"Add"]})]}),s&&o.jsx(so,{address:s,showAvatar:!0,className:"text-xs text-muted-foreground"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Custom addresses are added in read-only mode for portfolio tracking."})]})]})},XX=()=>{const{connectedWallets:t,disconnectWallet:e,updateWalletBalance:n,getWalletsByNetwork:r}=Sg(),{toast:s}=_e(),i=h=>({ethereum:"bg-blue-500",bitcoin:"bg-orange-500",polygon:"bg-purple-500",binance:"bg-yellow-500",avalanche:"bg-red-500",solana:"bg-green-500",arbitrum:"bg-blue-400",optimism:"bg-red-400"})[h]||"bg-gray-500",a=h=>({metamask:"",walletconnect:"",coinbase:"",web3:"",custom:""})[h]||"",c=h=>`${h.slice(0,8)}...${h.slice(-6)}`,l=(h,m)=>{navigator.clipboard.writeText(h),s({title:"Copied!",description:`${m} copied to clipboard`})},u=async h=>{await n(h.id),s({title:"Balance Updated",description:`Refreshed balance for ${c(h.address)}`})},d=h=>({ethereum:"https://etherscan.io",polygon:"https://polygonscan.com",binance:"https://bscscan.com",avalanche:"https://snowtrace.io",arbitrum:"https://arbiscan.io",optimism:"https://optimistic.etherscan.io"})[h]||"https://etherscan.io",f=t.reduce((h,m)=>(h[m.network]=(h[m.network]||0)+1,h),{});return t.length===0?o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-8",children:o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(un,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Wallets Connected"}),o.jsx("p",{className:"text-sm",children:"Connect multiple wallets to manage your portfolio across different networks"})]})})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Wallets"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),o.jsx(un,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Networks"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:Object.keys(f).length})]}),o.jsx(Uh,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Active Connections"}),o.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.filter(h=>h.web3Instance).length})]}),o.jsx(At,{className:"h-8 w-8 text-purple-500"})]})})})]}),o.jsxs(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5"}),"Connected Wallets"]})}),o.jsx(U,{children:o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:t.map(h=>o.jsx(F,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ge,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${i(h.network)}`}),h.network]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-lg",children:a(h.provider)}),h.web3Instance&&o.jsx(jp,{className:"h-3 w-3 text-green-500 fill-current"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Address"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(so,{address:h.address,showAvatar:!0,showFullAddress:!1,className:"flex-1 text-sm"}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>l(h.address,"Address"),className:"h-7 w-7 p-0",children:o.jsx(lo,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Balance"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-lg font-semibold",children:h.balance}),h.web3Instance&&o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>u(h),className:"h-7 w-7 p-0",children:o.jsx(Eo,{className:"h-3 w-3"})})]})]}),h.networkId&&o.jsx("div",{children:o.jsxs("p",{className:"text-xs text-gray-600",children:["Chain ID: ",h.networkId]})}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const m=d(h.network);window.open(`${m}/address/${h.address}`,"_blank")},children:[o.jsx(fr,{className:"h-3 w-3 mr-1"}),"Explorer"]}),h.provider!=="custom"&&o.jsxs(W,{variant:"outline",size:"sm",className:"flex-1",children:[o.jsx(Ep,{className:"h-3 w-3 mr-1"}),"Details"]}),o.jsx(W,{variant:"destructive",size:"sm",onClick:()=>e(h.id),className:"h-8 w-8 p-0",children:o.jsx(xD,{className:"h-3 w-3"})})]})]})})},h.id))})})]}),Object.keys(f).length>0&&o.jsxs(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Uh,{className:"h-5 w-5"}),"Networks Overview"]})}),o.jsx(U,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.entries(f).map(([h,m])=>o.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${i(h)}`}),o.jsx("span",{className:"text-sm font-medium capitalize",children:h}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",m,")"]})]},h))})})]})]})},Zy=[{id:"ethereum",name:"Ethereum",symbol:"ETH",color:"bg-blue-500",chainId:"0x1",rpcUrl:"https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161",blockExplorer:"https://etherscan.io"},{id:"polygon",name:"Polygon",symbol:"MATIC",color:"bg-purple-500",chainId:"0x89",rpcUrl:"https://polygon-rpc.com",blockExplorer:"https://polygonscan.com"},{id:"binance",name:"Binance Smart Chain",symbol:"BNB",color:"bg-yellow-500",chainId:"0x38",rpcUrl:"https://bsc-dataseed1.binance.org",blockExplorer:"https://bscscan.com"},{id:"avalanche",name:"Avalanche",symbol:"AVAX",color:"bg-red-500",chainId:"0xa86a",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",blockExplorer:"https://snowtrace.io"},{id:"arbitrum",name:"Arbitrum One",symbol:"ETH",color:"bg-blue-400",chainId:"0xa4b1",rpcUrl:"https://arb1.arbitrum.io/rpc",blockExplorer:"https://arbiscan.io"},{id:"optimism",name:"Optimism",symbol:"ETH",color:"bg-red-400",chainId:"0xa",rpcUrl:"https://mainnet.optimism.io",blockExplorer:"https://optimistic.etherscan.io"}],eee=({selectedNetwork:t,onNetworkChange:e})=>{const n=Zy.find(r=>r.id===t);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(no,{value:t,onValueChange:e,children:[o.jsx(Zs,{className:"w-64",children:o.jsx(ro,{placeholder:"Select network"})}),o.jsx(Xs,{children:Zy.map(r=>o.jsx(Rt,{value:r.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${r.color}`}),r.name," (",r.symbol,")"]})},r.id))})]}),n&&o.jsxs(Ge,{variant:"secondary",className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${n.color}`}),n.name]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:Zy.map(r=>o.jsxs("button",{onClick:()=>e(r.id),className:`p-3 rounded-lg border-2 transition-all ${t===r.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("div",{className:`w-4 h-4 rounded-full ${r.color} mx-auto mb-1`}),o.jsx("p",{className:"text-xs font-medium",children:r.symbol})]},r.id))})]})},Ng=v.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ng.displayName="Textarea";const tee=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[a,c]=v.useState(""),[l,u]=v.useState(null),[d,f]=v.useState(!1),{createContract:h,callContractMethod:m,sendContractTransaction:g,accounts:p,isConnected:y}=Xd(),{toast:x}=_e(),w=()=>{try{const j=JSON.parse(n);h({address:t,abi:j})&&x({title:"Contract Created",description:`Contract instance created for ${t}`})}catch{x({title:"Invalid ABI",description:"Please provide a valid JSON ABI",variant:"destructive"})}},b=async(j=!0)=>{if(!t||!s){x({title:"Missing Information",description:"Please provide contract address and method name",variant:"destructive"});return}f(!0);try{const E=a?JSON.parse(a):[];let N;if(j)N=await m(t,s,E);else{if(!y||p.length===0)throw new Error("Wallet not connected");N=await g(t,s,E)}u(N),x({title:`Method ${j?"Called":"Executed"}`,description:`${s} executed successfully`})}catch(E){console.error("Contract method error:",E),x({title:"Method Failed",description:E instanceof Error?E.message:"Failed to execute method",variant:"destructive"})}finally{f(!1)}};return o.jsxs(F,{className:"w-full",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(nk,{className:"h-5 w-5"}),"Smart Contract Interaction"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Contract Address"}),o.jsx(fe,{placeholder:"0x...",value:t,onChange:j=>e(j.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Contract ABI (JSON)"}),o.jsx(Ng,{placeholder:'[{"inputs":[],"name":"balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]',value:n,onChange:j=>r(j.target.value),rows:4}),o.jsx(W,{onClick:w,variant:"outline",size:"sm",children:"Create Contract Instance"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method Name"}),o.jsx(fe,{placeholder:"balances",value:s,onChange:j=>i(j.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Method Parameters (JSON Array)"}),o.jsx(fe,{placeholder:'["0x123..."]',value:a,onChange:j=>c(j.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(W,{onClick:()=>b(!0),disabled:d,variant:"outline",children:[o.jsx(Ep,{className:"h-4 w-4 mr-2"}),d?"Calling...":"Call (Read)"]}),o.jsxs(W,{onClick:()=>b(!1),disabled:d||!y,children:[o.jsx(Ap,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Transaction"]})]}),l&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Result"}),o.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:o.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(l,null,2)})})]}),!y&&o.jsx("div",{className:"text-sm text-muted-foreground bg-yellow-50 p-3 rounded-md",children:"Connect your wallet to send transactions"})]})]})},nee=()=>{const[t,e]=v.useState("ethereum"),[n,r]=v.useState(!1),{connectedWallets:s}=Sg(),{toast:i}=_e(),a=()=>{r(!1),i({title:"Wallet Connected",description:`Successfully connected to ${t}`})};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Connected Wallets"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s.length})]}),o.jsx(un,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Active Networks"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:new Set(s.map(c=>c.network)).size})]}),o.jsx(jp,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Security Status"}),o.jsx("p",{className:"text-lg font-semibold text-purple-600",children:"Protected"})]}),o.jsx(rn,{className:"h-8 w-8 text-purple-500"})]})})})]}),o.jsxs(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(nr,{className:"h-5 w-5"}),"Network Configuration"]})}),o.jsx(U,{children:o.jsx(eee,{selectedNetwork:t,onNetworkChange:e})})]}),o.jsx(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:o.jsx(U,{className:"p-6",children:o.jsx("div",{className:"text-center",children:o.jsxs(W,{onClick:()=>r(!n),className:"flex items-center gap-2",size:"lg",children:[o.jsx(Hc,{className:"h-5 w-5"}),n?"Hide Wallet Connector":"Connect New Wallet"]})})})}),n&&o.jsxs(F,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(un,{className:"h-5 w-5"}),"Connect New Wallet"]})}),o.jsx(U,{children:o.jsx(ZX,{selectedNetwork:t,onWalletConnect:a})})]}),o.jsx(tee,{}),o.jsx(XX,{})]})},ree=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"Decentralized Wallet Hub"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Connect, manage, and interact with multiple blockchain networks through a unified interface"})]}),o.jsx(nee,{})]})}),see=()=>{const[t,e]=v.useState("ethereum"),[n,r]=v.useState(""),[s,i]=v.useState(""),[a,c]=v.useState(""),{toast:l}=_e(),{connectedWallets:u,connectWallet:d,updateWalletBalance:f,getWalletsByNetwork:h,isLoading:m}=Sg(),{resolveAddress:g}=Eg(),p=[{id:"ethereum",name:"Ethereum",symbol:"ETH",chainId:1,color:"bg-blue-500",explorer:"https://etherscan.io"},{id:"polygon",name:"Polygon",symbol:"MATIC",chainId:137,color:"bg-purple-500",explorer:"https://polygonscan.com"},{id:"binance",name:"BSC",symbol:"BNB",chainId:56,color:"bg-yellow-500",explorer:"https://bscscan.com"},{id:"avalanche",name:"Avalanche",symbol:"AVAX",chainId:43114,color:"bg-red-500",explorer:"https://snowtrace.io"},{id:"arbitrum",name:"Arbitrum",symbol:"ETH",chainId:42161,color:"bg-blue-400",explorer:"https://arbiscan.io"},{id:"optimism",name:"Optimism",symbol:"ETH",chainId:10,color:"bg-red-400",explorer:"https://optimistic.etherscan.io"}],y=p.find(S=>S.id===t),x=h(t),w=u.find(S=>S.id===n),b=S=>{e(S),r("")},j=async S=>{const _=await d(S,t);_&&r(_.id)},E=S=>{navigator.clipboard.writeText(S),l({title:"Copied!",description:"Address copied to clipboard"})},N=async()=>{if(!s||!a||!w){l({title:"Error",description:"Please select a wallet and enter recipient address and amount",variant:"destructive"});return}let S=s;if(s.endsWith(".eth")){const _=await g(s);if(!_){l({title:"Error",description:"Could not resolve ENS name",variant:"destructive"});return}S=_}l({title:"Transaction Initiated",description:`Sending ${a} ${y?.symbol||"ETH"} to ${s.endsWith(".eth")?s:`${S.slice(0,10)}...`}`})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Uh,{className:"h-5 w-5"}),"Multi-Wallet EVM Integration"]})}),o.jsx(U,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(un,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm",children:[u.length," wallet(s) connected"]})]}),y&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${y.color}`}),o.jsx("span",{className:"text-sm",children:y.name}),o.jsx(Ge,{variant:"secondary",children:y.symbol})]}),w&&o.jsx(so,{address:w.address,showAvatar:!0,className:"text-sm text-muted-foreground"})]})})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Network Selection"})}),o.jsx(U,{children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map(S=>o.jsxs(W,{variant:y?.id===S.id?"default":"outline",size:"sm",onClick:()=>b(S.id),className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${S.color}`}),S.name]},S.id))})})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:["Select Wallet for ",y?.name,o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>j("metamask"),disabled:m,children:[o.jsx(un,{className:"h-4 w-4 mr-2"}),"Quick Connect MetaMask"]})]})}),o.jsx(U,{children:x.length>0?o.jsx("div",{className:"space-y-2",children:o.jsxs(no,{value:n,onValueChange:r,children:[o.jsx(Zs,{children:o.jsx(ro,{placeholder:"Select a wallet"})}),o.jsx(Xs,{children:x.map(S=>o.jsx(Rt,{value:S.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"font-mono text-sm",children:[S.address.slice(0,10),"...",S.address.slice(-6)]}),o.jsx(Ge,{variant:"secondary",children:S.balance}),S.web3Instance&&o.jsx(At,{className:"h-3 w-3 text-green-500"})]})},S.id))})]})}):o.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[o.jsx(ii,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),o.jsxs("p",{children:["No wallets connected to ",y?.name]}),o.jsx("p",{className:"text-sm",children:"Connect a wallet to get started"})]})})]}),w&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:["Wallet Balance",o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>f(w.id),disabled:!w.web3Instance,children:o.jsx(Eo,{className:"h-4 w-4"})})]})}),o.jsxs(U,{children:[o.jsxs("div",{className:"text-3xl font-bold",children:[w.balance," ",y?.symbol||"ETH"]}),y&&o.jsxs("a",{href:`${y.explorer}/address/${w.address}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline flex items-center gap-1 mt-2",children:["View on ",y.name," Explorer",o.jsx(fr,{className:"h-3 w-3"})]})]})]}),w&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(ZN,{className:"h-5 w-5"}),"Receive ",y?.symbol||"ETH"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Your Wallet Address"}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[o.jsx(so,{address:w.address,showAvatar:!0,showFullAddress:!1,className:"flex-1"}),o.jsx(W,{variant:"ghost",size:"sm",onClick:()=>E(w.address),children:o.jsx(lo,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(ik,{className:"h-4 w-4 mt-0.5 text-blue-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-blue-800 dark:text-blue-200",children:["How to receive ",y?.symbol||"ETH",":"]}),o.jsxs("ul",{className:"mt-1 space-y-1 text-blue-700 dark:text-blue-300",children:[o.jsx("li",{children:" Share your address above with the sender"}),o.jsxs("li",{children:[" Make sure they send to the correct network (",y?.name||"Ethereum",")"]}),o.jsx("li",{children:" Transactions may take a few minutes to confirm"})]})]})]})})]})]}),w&&w.web3Instance&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Ap,{className:"h-5 w-5"}),"Send Transaction"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Recipient Address or ENS"}),o.jsx(fe,{placeholder:"0x... or alice.eth",value:s,onChange:S=>i(S.target.value),className:"font-mono"}),s&&o.jsx("div",{className:"mt-2",children:o.jsx(so,{address:s,showAvatar:!0,className:"text-xs"})})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium",children:["Amount (",y?.symbol||"ETH",")"]}),o.jsx(fe,{type:"number",step:"0.000001",placeholder:"0.001",value:a,onChange:S=>c(S.target.value)})]}),o.jsx(W,{onClick:N,disabled:!s||!a,className:"w-full",children:"Send Transaction"})]})]}),w&&!w.web3Instance&&o.jsx(F,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950",children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300",children:[o.jsx(ii,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"This wallet is in read-only mode. Connect via MetaMask or Web3 provider to send transactions."})]})})})]})},iee=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"EVM Networks Wallet"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Connect, manage, and interact with Ethereum and other EVM-compatible networks"})]}),o.jsx(see,{})]})});class oee{async createBankAccount(e){try{console.log("Creating bank account via service");const{data:n,error:r}=await re.functions.invoke("create-bank-account",{body:e});if(r)throw new Error(r.message||"Failed to create bank account");return n}catch(n){throw console.error("Bank Account Creation Error:",n),n}}async updateBankAccount(e){try{console.log("Updating bank account via service");const{data:n,error:r}=await re.functions.invoke("update-bank-account",{body:e});if(r)throw new Error(r.message||"Failed to update bank account");return n}catch(n){throw console.error("Bank Account Update Error:",n),n}}async verifyBankAccount(e){try{console.log("Verifying bank account:",e.bankAccountId);const{data:n,error:r}=await re.functions.invoke("verify-bank-account",{body:e});if(r)throw new Error(r.message||"Failed to verify bank account");return n}catch(n){throw console.error("Bank Account Verification Error:",n),n}}async processSecureDeposit(e){try{console.log("Processing secure deposit:",e);const{data:n,error:r}=await re.functions.invoke("process-secure-deposit",{body:e});if(r)throw new Error(r.message||"Failed to process secure deposit");return n}catch(n){throw console.error("Secure Deposit Error:",n),n}}async getUserBankAccounts(){try{const{data:e,error:n}=await re.from("user_bank_accounts").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Database error:",n),new Error(n.message);return e||[]}catch(e){throw console.error("Get Bank Accounts Error:",e),e}}async getBankAccountAuditLog(e){try{let n=re.from("bank_account_audit_log").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("bank_account_id",e));const{data:r,error:s}=await n;if(s)throw console.error("Audit log error:",s),new Error(s.message);return r||[]}catch(n){throw console.error("Get Audit Log Error:",n),n}}}const Rc=new oee;var tf=t=>t.type==="checkbox",Xo=t=>t instanceof Date,_n=t=>t==null;const _R=t=>typeof t=="object";var Bt=t=>!_n(t)&&!Array.isArray(t)&&_R(t)&&!Xo(t),SR=t=>Bt(t)&&t.target?tf(t.target)?t.target.checked:t.target.value:t,aee=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,NR=(t,e)=>t.has(aee(e)),cee=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},e1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Un(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(e1&&(t instanceof Blob||t instanceof FileList))&&(n||Bt(t)))if(e=n?[]:{},!n&&!cee(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Un(t[r]));else return t;return e}var kg=t=>Array.isArray(t)?t.filter(Boolean):[],Tt=t=>t===void 0,ne=(t,e,n)=>{if(!e||!Bt(t))return n;const r=kg(e.split(/[,[\].]+?/)).reduce((s,i)=>_n(s)?s:s[i],t);return Tt(r)||r===t?Tt(t[e])?n:t[e]:r},Ar=t=>typeof t=="boolean",t1=t=>/^\w*$/.test(t),kR=t=>kg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),it=(t,e,n)=>{let r=-1;const s=t1(e)?[e]:kR(e),i=s.length,a=i-1;for(;++r<i;){const c=s[r];let l=n;if(r!==a){const u=t[c];l=Bt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(c==="__proto__")return;t[c]=l,t=t[c]}return t};const Ym={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},CR=M.createContext(null),Cg=()=>M.useContext(CR),lee=t=>{const{children:e,...n}=t;return M.createElement(CR.Provider,{value:n},e)};var TR=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==zr.all&&(e._proxyFormState[a]=!r||zr.all),n&&(n[a]=!0),t[a]}});return s},$n=t=>Bt(t)&&!Object.keys(t).length,PR=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return $n(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||zr.all))},ku=t=>Array.isArray(t)?t:[t],IR=(t,e,n)=>!t||!e||t===e||ku(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function n1(t){const e=M.useRef(t);e.current=t,M.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function uee(t){const e=Cg(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,c]=M.useState(n._formState),l=M.useRef(!0),u=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=M.useRef(s);return d.current=s,n1({disabled:r,next:f=>l.current&&IR(d.current,f.name,i)&&PR(f,u.current,n._updateFormState)&&c({...n._formState,...f}),subject:n._subjects.state}),M.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),TR(a,n,u.current,!1)}var vs=t=>typeof t=="string",RR=(t,e,n,r,s)=>vs(t)?(r&&e.watch.add(t),ne(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ne(n,i))):(r&&(e.watchAll=!0),n);function dee(t){const e=Cg(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a}=t||{},c=M.useRef(r);c.current=r,n1({disabled:i,subject:n._subjects.values,next:d=>{IR(c.current,d.name,a)&&u(Un(RR(c.current,n._names,d.values||n._formValues,!1,s)))}});const[l,u]=M.useState(n._getWatch(r,s));return M.useEffect(()=>n._removeUnmounted()),l}function fee(t){const e=Cg(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,a=NR(s._names.array,n),c=dee({control:s,name:n,defaultValue:ne(s._formValues,n,ne(s._defaultValues,n,t.defaultValue)),exact:!0}),l=uee({control:s,name:n,exact:!0}),u=M.useRef(s.register(n,{...t.rules,value:c,...Ar(t.disabled)?{disabled:t.disabled}:{}}));return M.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(h,m)=>{const g=ne(s._fields,h);g&&g._f&&(g._f.mount=m)};if(f(n,!0),d){const h=Un(ne(s._options.defaultValues,n));it(s._defaultValues,n,h),Tt(ne(s._formValues,n))&&it(s._formValues,n,h)}return()=>{(a?d&&!s._state.action:d)?s.unregister(n):f(n,!1)}},[n,s,a,i]),M.useEffect(()=>{ne(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:ne(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:c,...Ar(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:M.useCallback(d=>u.current.onChange({target:{value:SR(d),name:n},type:Ym.CHANGE}),[n]),onBlur:M.useCallback(()=>u.current.onBlur({target:{value:ne(s._formValues,n),name:n},type:Ym.BLUR}),[n,s]),ref:M.useCallback(d=>{const f=ne(s._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ne(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ne(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ne(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ne(l.validatingFields,n)},error:{enumerable:!0,get:()=>ne(l.errors,n)}})}}const hee=t=>t.render(fee(t));var mee=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},WA=t=>({isOnSubmit:!t||t===zr.onSubmit,isOnBlur:t===zr.onBlur,isOnChange:t===zr.onChange,isOnAll:t===zr.all,isOnTouch:t===zr.onTouched}),qA=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Cu=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ne(t,s);if(i){const{_f:a,...c}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Cu(c,e))break}else if(Bt(c)&&Cu(c,e))break}}};var pee=(t,e,n)=>{const r=ku(ne(t,n));return it(r,"root",e[n]),it(t,n,r),t},r1=t=>t.type==="file",Qs=t=>typeof t=="function",Jm=t=>{if(!e1)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mh=t=>vs(t),s1=t=>t.type==="radio",Zm=t=>t instanceof RegExp;const KA={value:!1,isValid:!1},QA={value:!0,isValid:!0};var OR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Tt(t[0].attributes.value)?Tt(t[0].value)||t[0].value===""?QA:{value:t[0].value,isValid:!0}:QA:KA}return KA};const YA={isValid:!1,value:null};var MR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,YA):YA;function JA(t,e,n="validate"){if(mh(t)||Array.isArray(t)&&t.every(mh)||Ar(t)&&!t)return{type:n,message:mh(t)?t:"",ref:e}}var Ja=t=>Bt(t)&&!Zm(t)?t:{value:t,message:""},ZA=async(t,e,n,r,s)=>{const{ref:i,refs:a,required:c,maxLength:l,minLength:u,min:d,max:f,pattern:h,validate:m,name:g,valueAsNumber:p,mount:y,disabled:x}=t._f,w=ne(e,g);if(!y||x)return{};const b=a?a[0]:i,j=R=>{r&&b.reportValidity&&(b.setCustomValidity(Ar(R)?"":R||""),b.reportValidity())},E={},N=s1(i),S=tf(i),_=N||S,O=(p||r1(i))&&Tt(i.value)&&Tt(w)||Jm(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,T=mee.bind(null,g,n,E),I=(R,z,$,A=Bs.maxLength,k=Bs.minLength)=>{const D=R?z:$;E[g]={type:R?A:k,message:D,ref:i,...T(R?A:k,D)}};if(s?!Array.isArray(w)||!w.length:c&&(!_&&(O||_n(w))||Ar(w)&&!w||S&&!OR(a).isValid||N&&!MR(a).isValid)){const{value:R,message:z}=mh(c)?{value:!!c,message:c}:Ja(c);if(R&&(E[g]={type:Bs.required,message:z,ref:b,...T(Bs.required,z)},!n))return j(z),E}if(!O&&(!_n(d)||!_n(f))){let R,z;const $=Ja(f),A=Ja(d);if(!_n(w)&&!isNaN(w)){const k=i.valueAsNumber||w&&+w;_n($.value)||(R=k>$.value),_n(A.value)||(z=k<A.value)}else{const k=i.valueAsDate||new Date(w),D=V=>new Date(new Date().toDateString()+" "+V),C=i.type=="time",B=i.type=="week";vs($.value)&&w&&(R=C?D(w)>D($.value):B?w>$.value:k>new Date($.value)),vs(A.value)&&w&&(z=C?D(w)<D(A.value):B?w<A.value:k<new Date(A.value))}if((R||z)&&(I(!!R,$.message,A.message,Bs.max,Bs.min),!n))return j(E[g].message),E}if((l||u)&&!O&&(vs(w)||s&&Array.isArray(w))){const R=Ja(l),z=Ja(u),$=!_n(R.value)&&w.length>+R.value,A=!_n(z.value)&&w.length<+z.value;if(($||A)&&(I($,R.message,z.message),!n))return j(E[g].message),E}if(h&&!O&&vs(w)){const{value:R,message:z}=Ja(h);if(Zm(R)&&!w.match(R)&&(E[g]={type:Bs.pattern,message:z,ref:i,...T(Bs.pattern,z)},!n))return j(z),E}if(m){if(Qs(m)){const R=await m(w,e),z=JA(R,b);if(z&&(E[g]={...z,...T(Bs.validate,z.message)},!n))return j(z.message),E}else if(Bt(m)){let R={};for(const z in m){if(!$n(R)&&!n)break;const $=JA(await m[z](w,e),b,z);$&&(R={...$,...T(z,$.message)},j($.message),n&&(E[g]=R))}if(!$n(R)&&(E[g]={ref:b,...R},!n))return E}}return j(!0),E};function gee(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Tt(t)?r++:t[e[r++]];return t}function yee(t){for(const e in t)if(t.hasOwnProperty(e)&&!Tt(t[e]))return!1;return!0}function Vt(t,e){const n=Array.isArray(e)?e:t1(e)?[e]:kR(e),r=n.length===1?t:gee(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Bt(r)&&$n(r)||Array.isArray(r)&&yee(r))&&Vt(t,n.slice(0,-1)),t}var Xy=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},vx=t=>_n(t)||!_R(t);function Li(t,e){if(vx(t)||vx(e))return t===e;if(Xo(t)&&Xo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Xo(i)&&Xo(a)||Bt(i)&&Bt(a)||Array.isArray(i)&&Array.isArray(a)?!Li(i,a):i!==a)return!1}}return!0}var BR=t=>t.type==="select-multiple",vee=t=>s1(t)||tf(t),ev=t=>Jm(t)&&t.isConnected,DR=t=>{for(const e in t)if(Qs(t[e]))return!0;return!1};function Xm(t,e={}){const n=Array.isArray(t);if(Bt(t)||n)for(const r in t)Array.isArray(t[r])||Bt(t[r])&&!DR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Xm(t[r],e[r])):_n(t[r])||(e[r]=!0);return e}function LR(t,e,n){const r=Array.isArray(t);if(Bt(t)||r)for(const s in t)Array.isArray(t[s])||Bt(t[s])&&!DR(t[s])?Tt(e)||vx(n[s])?n[s]=Array.isArray(t[s])?Xm(t[s],[]):{...Xm(t[s])}:LR(t[s],_n(e)?{}:e[s],n[s]):n[s]=!Li(t[s],e[s]);return n}var Kl=(t,e)=>LR(t,e,Xm(e)),FR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Tt(t)?t:e?t===""?NaN:t&&+t:n&&vs(t)?new Date(t):r?r(t):t;function tv(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return r1(e)?e.files:s1(e)?MR(t.refs).value:BR(e)?[...e.selectedOptions].map(({value:n})=>n):tf(e)?OR(t.refs).value:FR(Tt(e.value)?t.ref.value:e.value,t)}var xee=(t,e,n,r)=>{const s={};for(const i of t){const a=ne(e,i);a&&it(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ql=t=>Tt(t)?t:Zm(t)?t.source:Bt(t)?Zm(t.value)?t.value.source:t.value:t;const XA="AsyncFunction";var wee=t=>(!t||!t.validate)&&!!(Qs(t.validate)&&t.validate.constructor.name===XA||Bt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===XA)),bee=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function e_(t,e,n){const r=ne(t,n);if(r||t1(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=ne(e,i),c=ne(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(c&&c.type)return{name:i,error:c};s.pop()}return{name:n}}var jee=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Eee=(t,e)=>!kg(ne(t,e)).length&&Vt(t,e);const Aee={mode:zr.onSubmit,reValidateMode:zr.onChange,shouldFocusError:!0};function _ee(t={}){let e={...Aee,...t},n={submitCount:0,isDirty:!1,isLoading:Qs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Bt(e.defaultValues)||Bt(e.values)?Un(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Un(s),a={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Xy(),array:Xy(),state:Xy()},h=WA(e.mode),m=WA(e.reValidateMode),g=e.criteriaMode===zr.all,p=P=>L=>{clearTimeout(u),u=setTimeout(P,L)},y=async P=>{if(!t.disabled&&(d.isValid||P)){const L=e.resolver?$n((await _()).errors):await T(r,!0);L!==n.isValid&&f.state.next({isValid:L})}},x=(P,L)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((P||Array.from(c.mount)).forEach(G=>{G&&(L?it(n.validatingFields,G,L):Vt(n.validatingFields,G))}),f.state.next({validatingFields:n.validatingFields,isValidating:!$n(n.validatingFields)}))},w=(P,L=[],G,se,te=!0,X=!0)=>{if(se&&G&&!t.disabled){if(a.action=!0,X&&Array.isArray(ne(r,P))){const ye=G(ne(r,P),se.argA,se.argB);te&&it(r,P,ye)}if(X&&Array.isArray(ne(n.errors,P))){const ye=G(ne(n.errors,P),se.argA,se.argB);te&&it(n.errors,P,ye),Eee(n.errors,P)}if(d.touchedFields&&X&&Array.isArray(ne(n.touchedFields,P))){const ye=G(ne(n.touchedFields,P),se.argA,se.argB);te&&it(n.touchedFields,P,ye)}d.dirtyFields&&(n.dirtyFields=Kl(s,i)),f.state.next({name:P,isDirty:R(P,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else it(i,P,L)},b=(P,L)=>{it(n.errors,P,L),f.state.next({errors:n.errors})},j=P=>{n.errors=P,f.state.next({errors:n.errors,isValid:!1})},E=(P,L,G,se)=>{const te=ne(r,P);if(te){const X=ne(i,P,Tt(G)?ne(s,P):G);Tt(X)||se&&se.defaultChecked||L?it(i,P,L?X:tv(te._f)):A(P,X),a.mount&&y()}},N=(P,L,G,se,te)=>{let X=!1,ye=!1;const Ie={name:P};if(!t.disabled){const Nt=!!(ne(r,P)&&ne(r,P)._f&&ne(r,P)._f.disabled);if(!G||se){d.isDirty&&(ye=n.isDirty,n.isDirty=Ie.isDirty=R(),X=ye!==Ie.isDirty);const ft=Nt||Li(ne(s,P),L);ye=!!(!Nt&&ne(n.dirtyFields,P)),ft||Nt?Vt(n.dirtyFields,P):it(n.dirtyFields,P,!0),Ie.dirtyFields=n.dirtyFields,X=X||d.dirtyFields&&ye!==!ft}if(G){const ft=ne(n.touchedFields,P);ft||(it(n.touchedFields,P,G),Ie.touchedFields=n.touchedFields,X=X||d.touchedFields&&ft!==G)}X&&te&&f.state.next(Ie)}return X?Ie:{}},S=(P,L,G,se)=>{const te=ne(n.errors,P),X=d.isValid&&Ar(L)&&n.isValid!==L;if(t.delayError&&G?(l=p(()=>b(P,G)),l(t.delayError)):(clearTimeout(u),l=null,G?it(n.errors,P,G):Vt(n.errors,P)),(G?!Li(te,G):te)||!$n(se)||X){const ye={...se,...X&&Ar(L)?{isValid:L}:{},errors:n.errors,name:P};n={...n,...ye},f.state.next(ye)}},_=async P=>{x(P,!0);const L=await e.resolver(i,e.context,xee(P||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(P),L},O=async P=>{const{errors:L}=await _(P);if(P)for(const G of P){const se=ne(L,G);se?it(n.errors,G,se):Vt(n.errors,G)}else n.errors=L;return L},T=async(P,L,G={valid:!0})=>{for(const se in P){const te=P[se];if(te){const{_f:X,...ye}=te;if(X){const Ie=c.array.has(X.name),Nt=te._f&&wee(te._f);Nt&&d.validatingFields&&x([se],!0);const ft=await ZA(te,i,g,e.shouldUseNativeValidation&&!L,Ie);if(Nt&&d.validatingFields&&x([se]),ft[X.name]&&(G.valid=!1,L))break;!L&&(ne(ft,X.name)?Ie?pee(n.errors,ft,X.name):it(n.errors,X.name,ft[X.name]):Vt(n.errors,X.name))}!$n(ye)&&await T(ye,L,G)}}return G.valid},I=()=>{for(const P of c.unMount){const L=ne(r,P);L&&(L._f.refs?L._f.refs.every(G=>!ev(G)):!ev(L._f.ref))&&ke(P)}c.unMount=new Set},R=(P,L)=>!t.disabled&&(P&&L&&it(i,P,L),!Li(q(),s)),z=(P,L,G)=>RR(P,c,{...a.mount?i:Tt(L)?s:vs(P)?{[P]:L}:L},G,L),$=P=>kg(ne(a.mount?i:s,P,t.shouldUnregister?ne(s,P,[]):[])),A=(P,L,G={})=>{const se=ne(r,P);let te=L;if(se){const X=se._f;X&&(!X.disabled&&it(i,P,FR(L,X)),te=Jm(X.ref)&&_n(L)?"":L,BR(X.ref)?[...X.ref.options].forEach(ye=>ye.selected=te.includes(ye.value)):X.refs?tf(X.ref)?X.refs.length>1?X.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(te)?!!te.find(Ie=>Ie===ye.value):te===ye.value)):X.refs[0]&&(X.refs[0].checked=!!te):X.refs.forEach(ye=>ye.checked=ye.value===te):r1(X.ref)?X.ref.value="":(X.ref.value=te,X.ref.type||f.values.next({name:P,values:{...i}})))}(G.shouldDirty||G.shouldTouch)&&N(P,te,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&V(P)},k=(P,L,G)=>{for(const se in L){const te=L[se],X=`${P}.${se}`,ye=ne(r,X);(c.array.has(P)||Bt(te)||ye&&!ye._f)&&!Xo(te)?k(X,te,G):A(X,te,G)}},D=(P,L,G={})=>{const se=ne(r,P),te=c.array.has(P),X=Un(L);it(i,P,X),te?(f.array.next({name:P,values:{...i}}),(d.isDirty||d.dirtyFields)&&G.shouldDirty&&f.state.next({name:P,dirtyFields:Kl(s,i),isDirty:R(P,X)})):se&&!se._f&&!_n(X)?k(P,X,G):A(P,X,G),qA(P,c)&&f.state.next({...n}),f.values.next({name:a.mount?P:void 0,values:{...i}})},C=async P=>{a.mount=!0;const L=P.target;let G=L.name,se=!0;const te=ne(r,G),X=()=>L.type?tv(te._f):SR(P),ye=Ie=>{se=Number.isNaN(Ie)||Xo(Ie)&&isNaN(Ie.getTime())||Li(Ie,ne(i,G,Ie))};if(te){let Ie,Nt;const ft=X(),ts=P.type===Ym.BLUR||P.type===Ym.FOCUS_OUT,wi=!bee(te._f)&&!e.resolver&&!ne(n.errors,G)&&!te._f.deps||jee(ts,ne(n.touchedFields,G),n.isSubmitted,m,h),Ba=qA(G,c,ts);it(i,G,ft),ts?(te._f.onBlur&&te._f.onBlur(P),l&&l(0)):te._f.onChange&&te._f.onChange(P);const Cl=N(G,ft,ts,!1),nf=!$n(Cl)||Ba;if(!ts&&f.values.next({name:G,type:P.type,values:{...i}}),wi)return d.isValid&&(t.mode==="onBlur"?ts&&y():y()),nf&&f.state.next({name:G,...Ba?{}:Cl});if(!ts&&Ba&&f.state.next({...n}),e.resolver){const{errors:Tl}=await _([G]);if(ye(ft),se){const Og=e_(n.errors,r,G),Da=e_(Tl,r,Og.name||G);Ie=Da.error,G=Da.name,Nt=$n(Tl)}}else x([G],!0),Ie=(await ZA(te,i,g,e.shouldUseNativeValidation))[G],x([G]),ye(ft),se&&(Ie?Nt=!1:d.isValid&&(Nt=await T(r,!0)));se&&(te._f.deps&&V(te._f.deps),S(G,Nt,Ie,Cl))}},B=(P,L)=>{if(ne(n.errors,L)&&P.focus)return P.focus(),1},V=async(P,L={})=>{let G,se;const te=ku(P);if(e.resolver){const X=await O(Tt(P)?P:te);G=$n(X),se=P?!te.some(ye=>ne(X,ye)):G}else P?(se=(await Promise.all(te.map(async X=>{const ye=ne(r,X);return await T(ye&&ye._f?{[X]:ye}:ye)}))).every(Boolean),!(!se&&!n.isValid)&&y()):se=G=await T(r);return f.state.next({...!vs(P)||d.isValid&&G!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:G}:{},errors:n.errors}),L.shouldFocus&&!se&&Cu(r,B,P?te:c.mount),se},q=P=>{const L={...a.mount?i:s};return Tt(P)?L:vs(P)?ne(L,P):P.map(G=>ne(L,G))},ee=(P,L)=>({invalid:!!ne((L||n).errors,P),isDirty:!!ne((L||n).dirtyFields,P),error:ne((L||n).errors,P),isValidating:!!ne(n.validatingFields,P),isTouched:!!ne((L||n).touchedFields,P)}),he=P=>{P&&ku(P).forEach(L=>Vt(n.errors,L)),f.state.next({errors:P?n.errors:{}})},de=(P,L,G)=>{const se=(ne(r,P,{_f:{}})._f||{}).ref,te=ne(n.errors,P)||{},{ref:X,message:ye,type:Ie,...Nt}=te;it(n.errors,P,{...Nt,...L,ref:se}),f.state.next({name:P,errors:n.errors,isValid:!1}),G&&G.shouldFocus&&se&&se.focus&&se.focus()},Fe=(P,L)=>Qs(P)?f.values.subscribe({next:G=>P(z(void 0,L),G)}):z(P,L,!0),ke=(P,L={})=>{for(const G of P?ku(P):c.mount)c.mount.delete(G),c.array.delete(G),L.keepValue||(Vt(r,G),Vt(i,G)),!L.keepError&&Vt(n.errors,G),!L.keepDirty&&Vt(n.dirtyFields,G),!L.keepTouched&&Vt(n.touchedFields,G),!L.keepIsValidating&&Vt(n.validatingFields,G),!e.shouldUnregister&&!L.keepDefaultValue&&Vt(s,G);f.values.next({values:{...i}}),f.state.next({...n,...L.keepDirty?{isDirty:R()}:{}}),!L.keepIsValid&&y()},le=({disabled:P,name:L,field:G,fields:se,value:te})=>{if(Ar(P)&&a.mount||P){const X=P?void 0:Tt(te)?tv(G?G._f:ne(se,L)._f):te;it(i,L,X),N(L,X,!1,!1,!0)}},Ve=(P,L={})=>{let G=ne(r,P);const se=Ar(L.disabled)||Ar(t.disabled);return it(r,P,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:P}},name:P,mount:!0,...L}}),c.mount.add(P),G?le({field:G,disabled:Ar(L.disabled)?L.disabled:t.disabled,name:P,value:L.value}):E(P,!0,L.value),{...se?{disabled:L.disabled||t.disabled}:{},...e.progressive?{required:!!L.required,min:Ql(L.min),max:Ql(L.max),minLength:Ql(L.minLength),maxLength:Ql(L.maxLength),pattern:Ql(L.pattern)}:{},name:P,onChange:C,onBlur:C,ref:te=>{if(te){Ve(P,L),G=ne(r,P);const X=Tt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ye=vee(X),Ie=G._f.refs||[];if(ye?Ie.find(Nt=>Nt===X):X===G._f.ref)return;it(r,P,{_f:{...G._f,...ye?{refs:[...Ie.filter(ev),X,...Array.isArray(ne(s,P))?[{}]:[]],ref:{type:X.type,name:P}}:{ref:X}}}),E(P,!1,void 0,X)}else G=ne(r,P,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(NR(c.array,P)&&a.action)&&c.unMount.add(P)}}},Ye=()=>e.shouldFocusError&&Cu(r,B,c.mount),Me=P=>{Ar(P)&&(f.state.next({disabled:P}),Cu(r,(L,G)=>{const se=ne(r,G);se&&(L.disabled=se._f.disabled||P,Array.isArray(se._f.refs)&&se._f.refs.forEach(te=>{te.disabled=se._f.disabled||P}))},0,!1))},Je=(P,L)=>async G=>{let se;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let te=Un(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:ye}=await _();n.errors=X,te=ye}else await T(r);if(Vt(n.errors,"root"),$n(n.errors)){f.state.next({errors:{}});try{await P(te,G)}catch(X){se=X}}else L&&await L({...n.errors},G),Ye(),setTimeout(Ye);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},Ue=(P,L={})=>{ne(r,P)&&(Tt(L.defaultValue)?D(P,Un(ne(s,P))):(D(P,L.defaultValue),it(s,P,Un(L.defaultValue))),L.keepTouched||Vt(n.touchedFields,P),L.keepDirty||(Vt(n.dirtyFields,P),n.isDirty=L.defaultValue?R(P,Un(ne(s,P))):R()),L.keepError||(Vt(n.errors,P),d.isValid&&y()),f.state.next({...n}))},yt=(P,L={})=>{const G=P?Un(P):s,se=Un(G),te=$n(P),X=te?s:se;if(L.keepDefaultValues||(s=G),!L.keepValues){if(L.keepDirtyValues){const ye=new Set([...c.mount,...Object.keys(Kl(s,i))]);for(const Ie of Array.from(ye))ne(n.dirtyFields,Ie)?it(X,Ie,ne(i,Ie)):D(Ie,ne(X,Ie))}else{if(e1&&Tt(P))for(const ye of c.mount){const Ie=ne(r,ye);if(Ie&&Ie._f){const Nt=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Jm(Nt)){const ft=Nt.closest("form");if(ft){ft.reset();break}}}}r={}}i=t.shouldUnregister?L.keepDefaultValues?Un(s):{}:Un(X),f.array.next({values:{...X}}),f.values.next({values:{...X}})}c={mount:L.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:te?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Li(P,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:L.keepDirtyValues?L.keepDefaultValues&&i?Kl(s,i):n.dirtyFields:L.keepDefaultValues&&P?Kl(s,P):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Yt=(P,L)=>yt(Qs(P)?P(i):P,L);return{control:{register:Ve,unregister:ke,getFieldState:ee,handleSubmit:Je,setError:de,_executeSchema:_,_getWatch:z,_getDirty:R,_updateValid:y,_removeUnmounted:I,_updateFieldArray:w,_updateDisabledField:le,_getFieldArray:$,_reset:yt,_resetDefaultValues:()=>Qs(e.defaultValues)&&e.defaultValues().then(P=>{Yt(P,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:P=>{n={...n,...P}},_disableForm:Me,_subjects:f,_proxyFormState:d,_setErrors:j,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(P){a=P},get _defaultValues(){return s},get _names(){return c},set _names(P){c=P},get _formState(){return n},set _formState(P){n=P},get _options(){return e},set _options(P){e={...e,...P}}},trigger:V,register:Ve,handleSubmit:Je,watch:Fe,setValue:D,getValues:q,reset:Yt,resetField:Ue,clearErrors:he,unregister:ke,setError:de,setFocus:(P,L={})=>{const G=ne(r,P),se=G&&G._f;if(se){const te=se.refs?se.refs[0]:se.ref;te.focus&&(te.focus(),L.shouldSelect&&te.select())}},getFieldState:ee}}function Tg(t={}){const e=M.useRef(),n=M.useRef(),[r,s]=M.useState({isDirty:!1,isValidating:!1,isLoading:Qs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Qs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={..._ee(t),formState:r});const i=e.current.control;return i._options=t,n1({subject:i._subjects.state,next:a=>{PR(a,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),M.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),M.useEffect(()=>{t.values&&!Li(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),M.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),M.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),M.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),M.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=TR(r,i),e.current}const Pg=lee,UR=v.createContext({}),Sn=({...t})=>o.jsx(UR.Provider,{value:{name:t.name},children:o.jsx(hee,{...t})}),Ig=()=>{const t=v.useContext(UR),e=v.useContext($R),{getFieldState:n,formState:r}=Cg(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},$R=v.createContext({}),mn=v.forwardRef(({className:t,...e},n)=>{const r=v.useId();return o.jsx($R.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:me("space-y-2",t),...e})})});mn.displayName="FormItem";const pn=v.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Ig();return o.jsx(xe,{ref:n,className:me(r&&"text-destructive",t),htmlFor:s,...e})});pn.displayName="FormLabel";const gn=v.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Ig();return o.jsx(co,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});gn.displayName="FormControl";const See=v.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Ig();return o.jsx("p",{ref:n,id:r,className:me("text-sm text-muted-foreground",t),...e})});See.displayName="FormDescription";const kn=v.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Ig(),a=s?String(s?.message):e;return a?o.jsx("p",{ref:r,id:i,className:me("text-sm font-medium text-destructive",t),...n,children:a}):null});kn.displayName="FormMessage";const HR=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[s,i]=v.useState(!1),{toast:a}=_e(),c=v.useCallback(async d=>{e(!0);try{console.log("Creating secure bank account:",d);const f=await Rc.createBankAccount(d);if(!f.success)throw new Error(f.error||"Failed to create bank account");return a({title:"Bank Account Created",description:"Your bank account has been created. Micro-deposit verification will begin shortly."}),f.data}catch(f){throw console.error("Bank account creation error:",f),a({title:"Account Creation Failed",description:f instanceof Error?f.message:"Failed to create bank account",variant:"destructive"}),f}finally{e(!1)}},[a]),l=v.useCallback(async d=>{r(!0);try{console.log("Verifying bank account micro-deposits");const f=await Rc.verifyBankAccount(d);if(!f.success)throw new Error(f.error||"Failed to verify bank account");const h=f.data.verificationStatus==="verified";return a({title:h?"Account Verified":"Verification Failed",description:f.data.message,variant:h?"default":"destructive"}),f.data}catch(f){throw console.error("Bank account verification error:",f),a({title:"Verification Failed",description:f instanceof Error?f.message:"Failed to verify bank account",variant:"destructive"}),f}finally{r(!1)}},[a]),u=v.useCallback(async d=>{i(!0);try{console.log("Processing secure deposit to verified account");const f=await Rc.processSecureDeposit(d);if(!f.success)throw new Error(f.error||"Failed to process secure deposit");return a({title:"Secure Deposit Initiated",description:`$${d.amount.toFixed(2)} will be transferred to your verified bank account within 1-2 business days.`}),f.data}catch(f){throw console.error("Secure deposit error:",f),a({title:"Deposit Failed",description:f instanceof Error?f.message:"Failed to process secure deposit",variant:"destructive"}),f}finally{i(!1)}},[a]);return{loading:t,verificationLoading:n,depositLoading:s,createBankAccount:c,verifyBankAccount:l,processSecureDeposit:u}},Nee=({bankAccount:t,onVerificationComplete:e})=>{const[n,r]=v.useState(!1),{verificationLoading:s,verifyBankAccount:i}=HR(),a=Tg({defaultValues:{amount1:"",amount2:""}}),c=f=>{switch(f){case"verified":return o.jsx(At,{className:"h-4 w-4 text-green-500"});case"verifying":return o.jsx(oi,{className:"h-4 w-4 text-yellow-500"});case"failed":return o.jsx(ii,{className:"h-4 w-4 text-red-500"});default:return o.jsx(oi,{className:"h-4 w-4 text-gray-500"})}},l=f=>{switch(f){case"verified":return"bg-green-100 text-green-800";case"verifying":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{switch(f){case"verified":return"Your bank account is verified and ready for secure deposits";case"verifying":return"Micro-deposits have been sent to your account. Enter the amounts below to verify.";case"failed":return"Verification failed. Please check the amounts and try again.";default:return"Verification pending"}},d=async f=>{const h=Math.round(parseFloat(f.amount1)*100),m=Math.round(parseFloat(f.amount2)*100);if(isNaN(h)||isNaN(m)){a.setError("amount1",{message:"Please enter valid amounts"});return}if(h<1||h>99||m<1||m>99){a.setError("amount1",{message:"Amounts must be between $0.01 and $0.99"});return}try{await i({bankAccountId:t.id,amounts:[h,m]}),a.reset(),r(!1),e()}catch(g){console.error("Verification error:",g)}};return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Bank Account Verification"}),o.jsxs(Ge,{className:l(t.verification_status),children:[c(t.verification_status),o.jsx("span",{className:"ml-1 capitalize",children:t.verification_status})]})]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Account Holder"}),o.jsx("p",{className:"font-medium",children:t.account_holder_name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Bank"}),o.jsx("p",{className:"font-medium",children:t.bank_name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Account"}),o.jsxs("p",{className:"font-medium",children:["****",t.account_number_last4]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Routing"}),o.jsxs("p",{className:"font-medium",children:["****",t.routing_number_last4]})]})]})}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsx("p",{className:"text-sm text-blue-800",children:u(t.verification_status)})}),t.verification_status==="verifying"&&!n&&o.jsx(W,{onClick:()=>r(!0),className:"w-full",variant:"outline",children:"Enter Micro-Deposit Amounts"}),n&&t.verification_status==="verifying"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[o.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:o.jsx("strong",{children:"Micro-Deposit Verification"})}),o.jsx("p",{className:"text-sm text-yellow-700",children:"We've sent two small deposits (less than $1.00 each) to your bank account. These typically appear within 1-2 business days. Enter the exact amounts below."})]}),o.jsx(Pg,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(d),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Sn,{control:a.control,name:"amount1",render:({field:f})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"First Amount"}),o.jsx(gn,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),o.jsx(fe,{placeholder:"0.XX",className:"pl-8",...f,disabled:s})]})}),o.jsx(kn,{})]}),rules:{required:"Amount is required",pattern:{value:/^\d+\.\d{2}$/,message:"Enter amount as X.XX (e.g., 0.23)"}}}),o.jsx(Sn,{control:a.control,name:"amount2",render:({field:f})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Second Amount"}),o.jsx(gn,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),o.jsx(fe,{placeholder:"0.XX",className:"pl-8",...f,disabled:s})]})}),o.jsx(kn,{})]}),rules:{required:"Amount is required",pattern:{value:/^\d+\.\d{2}$/,message:"Enter amount as X.XX (e.g., 0.45)"}}})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(W,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(W,{type:"submit",disabled:s,className:"flex-1",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Account"})]})]})})]}),t.verification_status==="verified"&&o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(At,{className:"h-5 w-5 text-green-500"}),o.jsx("span",{className:"font-semibold text-green-800",children:"Account Verified"})]}),o.jsxs("p",{className:"text-sm text-green-700",children:["Your bank account is verified and ready for secure deposits. Verified on: ",new Date(t.verified_at).toLocaleDateString()]})]}),t.verification_status==="failed"&&o.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ii,{className:"h-5 w-5 text-red-500"}),o.jsx("span",{className:"font-semibold text-red-800",children:"Verification Failed"})]}),o.jsx("p",{className:"text-sm text-red-700 mb-3",children:"The micro-deposit amounts you entered were incorrect. Please check your bank statement and try again."}),o.jsx(W,{onClick:()=>r(!0),variant:"outline",size:"sm",children:"Try Again"})]})]})]})};var i1="Dialog",[zR,VR]=Ns(i1),[kee,Xr]=zR(i1),GR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,c=v.useRef(null),l=v.useRef(null),[u=!1,d]=si({prop:r,defaultProp:s,onChange:i});return o.jsx(kee,{scope:e,triggerRef:c,contentRef:l,contentId:Zi(),titleId:Zi(),descriptionId:Zi(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};GR.displayName=i1;var WR="DialogTrigger",qR=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(WR,n),i=Xe(e,s.triggerRef);return o.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":c1(s.open),...r,ref:i,onClick:ge(t.onClick,s.onOpenToggle)})});qR.displayName=WR;var o1="DialogPortal",[Cee,KR]=zR(o1,{forceMount:void 0}),QR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Xr(o1,e);return o.jsx(Cee,{scope:e,forceMount:n,children:v.Children.map(r,a=>o.jsx(mi,{present:n||i.open,children:o.jsx(vp,{asChild:!0,container:s,children:a})}))})};QR.displayName=o1;var ep="DialogOverlay",YR=v.forwardRef((t,e)=>{const n=KR(ep,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Xr(ep,t.__scopeDialog);return i.modal?o.jsx(mi,{present:r||i.open,children:o.jsx(Tee,{...s,ref:e})}):null});YR.displayName=ep;var Tee=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(ep,n);return o.jsx(Qb,{as:co,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Ne.div,{"data-state":c1(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Sa="DialogContent",JR=v.forwardRef((t,e)=>{const n=KR(Sa,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Xr(Sa,t.__scopeDialog);return o.jsx(mi,{present:r||i.open,children:i.modal?o.jsx(Pee,{...s,ref:e}):o.jsx(Iee,{...s,ref:e})})});JR.displayName=Sa;var Pee=v.forwardRef((t,e)=>{const n=Xr(Sa,t.__scopeDialog),r=v.useRef(null),s=Xe(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return cI(i)},[]),o.jsx(ZR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ge(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:ge(t.onFocusOutside,i=>i.preventDefault())})}),Iee=v.forwardRef((t,e)=>{const n=Xr(Sa,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return o.jsx(ZR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;n.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZR=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,c=Xr(Sa,n),l=v.useRef(null),u=Xe(e,l);return iI(),o.jsxs(o.Fragment,{children:[o.jsx(Kb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(Md,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":c1(c.open),...a,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Oee,{titleId:c.titleId}),o.jsx(Bee,{contentRef:l,descriptionId:c.descriptionId})]})]})}),a1="DialogTitle",XR=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(a1,n);return o.jsx(Ne.h2,{id:s.titleId,...r,ref:e})});XR.displayName=a1;var e4="DialogDescription",t4=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(e4,n);return o.jsx(Ne.p,{id:s.descriptionId,...r,ref:e})});t4.displayName=e4;var n4="DialogClose",r4=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Xr(n4,n);return o.jsx(Ne.button,{type:"button",...r,ref:e,onClick:ge(t.onClick,()=>s.onOpenChange(!1))})});r4.displayName=n4;function c1(t){return t?"open":"closed"}var s4="DialogTitleWarning",[Ree,i4]=dB(s4,{contentName:Sa,titleName:a1,docsSlug:"dialog"}),Oee=({titleId:t})=>{const e=i4(s4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Mee="DialogDescriptionWarning",Bee=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i4(Mee).contentName}}.`;return v.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Dee=GR,Lee=qR,Fee=QR,Uee=YR,$ee=JR,Hee=XR,zee=t4,o4=r4,a4="AlertDialog",[Vee,Zre]=Ns(a4,[VR]),xi=VR(),c4=t=>{const{__scopeAlertDialog:e,...n}=t,r=xi(e);return o.jsx(Dee,{...r,...n,modal:!0})};c4.displayName=a4;var Gee="AlertDialogTrigger",l4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xi(n);return o.jsx(Lee,{...s,...r,ref:e})});l4.displayName=Gee;var Wee="AlertDialogPortal",u4=t=>{const{__scopeAlertDialog:e,...n}=t,r=xi(e);return o.jsx(Fee,{...r,...n})};u4.displayName=Wee;var qee="AlertDialogOverlay",d4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xi(n);return o.jsx(Uee,{...s,...r,ref:e})});d4.displayName=qee;var Oc="AlertDialogContent",[Kee,Qee]=Vee(Oc),f4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=xi(n),a=v.useRef(null),c=Xe(e,a),l=v.useRef(null);return o.jsx(Ree,{contentName:Oc,titleName:h4,docsSlug:"alert-dialog",children:o.jsx(Kee,{scope:n,cancelRef:l,children:o.jsxs($ee,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:ge(s.onOpenAutoFocus,u=>{u.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(pw,{children:r}),o.jsx(Jee,{contentRef:a})]})})})});f4.displayName=Oc;var h4="AlertDialogTitle",m4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xi(n);return o.jsx(Hee,{...s,...r,ref:e})});m4.displayName=h4;var p4="AlertDialogDescription",g4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xi(n);return o.jsx(zee,{...s,...r,ref:e})});g4.displayName=p4;var Yee="AlertDialogAction",y4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=xi(n);return o.jsx(o4,{...s,...r,ref:e})});y4.displayName=Yee;var v4="AlertDialogCancel",x4=v.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Qee(v4,n),i=xi(n),a=Xe(e,s);return o.jsx(o4,{...i,...r,ref:a})});x4.displayName=v4;var Jee=({contentRef:t})=>{const e=`\`${Oc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Oc}\` by passing a \`${p4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Oc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Zee=c4,Xee=l4,ete=u4,w4=d4,b4=f4,j4=y4,E4=x4,A4=m4,_4=g4;const tte=Zee,nte=Xee,rte=ete,S4=v.forwardRef(({className:t,...e},n)=>o.jsx(w4,{className:me("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));S4.displayName=w4.displayName;const N4=v.forwardRef(({className:t,...e},n)=>o.jsxs(rte,{children:[o.jsx(S4,{}),o.jsx(b4,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));N4.displayName=b4.displayName;const k4=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});k4.displayName="AlertDialogHeader";const C4=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});C4.displayName="AlertDialogFooter";const T4=v.forwardRef(({className:t,...e},n)=>o.jsx(A4,{ref:n,className:me("text-lg font-semibold",t),...e}));T4.displayName=A4.displayName;const P4=v.forwardRef(({className:t,...e},n)=>o.jsx(_4,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));P4.displayName=_4.displayName;const I4=v.forwardRef(({className:t,...e},n)=>o.jsx(j4,{ref:n,className:me(Hw(),t),...e}));I4.displayName=j4.displayName;const R4=v.forwardRef(({className:t,...e},n)=>o.jsx(E4,{ref:n,className:me(Hw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));R4.displayName=E4.displayName;const ste=({currentBalance:t,verifiedAccounts:e,userEmail:n,userId:r,onDepositSuccess:s})=>{const[i,a]=v.useState(!1),{depositLoading:c,processSecureDeposit:l}=HR(),u=Tg({defaultValues:{amount:"",selectedAccountId:e[0]?.id||""}}),d=u.watch("amount"),f=parseFloat(d)||0,h=u.watch("selectedAccountId"),m=e.find(x=>x.id===h),g=f>=10&&f<=t&&f<=5e3,p=()=>f?f<10?"Minimum deposit amount is $10.00":f>t?"Insufficient balance":f>5e3?"Maximum deposit amount is $5,000.00":"":"",y=async()=>{if(!(!m||!g))try{await l({amount:f,bankAccountId:m.id,userBalance:t}),u.reset(),a(!1),s(f)}catch(x){console.error("Secure deposit error:",x)}};return e.length===0?o.jsx(F,{children:o.jsxs(U,{className:"text-center p-8",children:[o.jsx(rn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"No verified accounts available for secure deposits"})]})}):o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5 text-green-500"}),"Secure Deposit to Verified Bank Account"]})}),o.jsxs(U,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Available EarnFlow Balance"}),o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",t.toFixed(2)]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(At,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-green-800",children:"Verified Account Security"})]}),o.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[o.jsx("li",{children:" Only verified bank accounts can receive deposits"}),o.jsx("li",{children:" Micro-deposit verification completed"}),o.jsx("li",{children:" Secure transfer via Stripe infrastructure"}),o.jsx("li",{children:" Full audit trail maintained"})]})]}),o.jsx(Pg,{...u,children:o.jsxs("div",{className:"space-y-4",children:[o.jsx(Sn,{control:u.control,name:"selectedAccountId",render:({field:x})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Select Verified Bank Account"}),o.jsxs(no,{onValueChange:x.onChange,value:x.value,children:[o.jsx(gn,{children:o.jsx(Zs,{children:o.jsx(ro,{placeholder:"Choose your verified account"})})}),o.jsx(Xs,{children:e.map(w=>o.jsx(Rt,{value:w.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(At,{className:"h-4 w-4 text-green-500"}),o.jsxs("span",{children:[w.bank_name," ****",w.account_number_last4]})]})},w.id))})]}),o.jsx(kn,{})]})}),o.jsx(Sn,{control:u.control,name:"amount",render:({field:x})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Deposit Amount"}),o.jsx(gn,{children:o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),o.jsx(fe,{type:"number",placeholder:"10.00",className:"pl-8",step:"0.01",min:"10",max:Math.min(t,5e3),...x,disabled:c})]})}),p()&&o.jsx("p",{className:"text-sm text-destructive",children:p()}),o.jsx(kn,{})]})}),m&&o.jsxs("div",{className:"p-3 bg-blue-50 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Selected Account Details:"}),o.jsxs("p",{className:"text-sm text-blue-700",children:[m.account_holder_name,"  ",m.bank_name]}),o.jsxs("p",{className:"text-sm text-blue-700",children:["Account ****",m.account_number_last4,"  Verified "]})]}),o.jsxs("div",{className:"p-3 bg-yellow-50 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Sp,{className:"h-4 w-4 text-yellow-600"}),o.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Processing Information"})]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"Secure deposits to verified accounts typically arrive within 1-2 business days. Processing fees may apply as per your Stripe agreement."})]}),o.jsxs(tte,{open:i,onOpenChange:a,children:[o.jsx(nte,{asChild:!0,children:o.jsx(W,{disabled:!g||!m||c,className:"w-full",size:"lg",children:c?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing Secure Deposit..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xu,{className:"h-4 w-4 mr-2"}),"Initiate Secure Deposit $",f.toFixed(2)]})})}),o.jsxs(N4,{children:[o.jsxs(k4,{children:[o.jsxs(T4,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5 text-green-500"}),"Confirm Secure Deposit"]}),o.jsxs(P4,{className:"space-y-3",children:[o.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Deposit Amount:"}),o.jsxs("span",{className:"font-semibold",children:["$",f.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"To Account:"}),o.jsxs("span",{children:[m?.bank_name," ****",m?.account_number_last4]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Account Holder:"}),o.jsx("span",{children:m?.account_holder_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Verification Status:"}),o.jsx("span",{className:"text-green-600",children:" Verified"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Estimated Arrival:"}),o.jsx("span",{children:"1-2 business days"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Remaining Balance:"}),o.jsxs("span",{children:["$",(t-f).toFixed(2)]})]})]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This secure deposit will be processed immediately to your verified bank account. The transaction is irreversible once confirmed."})]})]}),o.jsxs(C4,{children:[o.jsx(R4,{disabled:c,children:"Cancel"}),o.jsx(I4,{onClick:y,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xu,{className:"h-4 w-4 mr-2"}),"Confirm Secure Deposit"]})})]})]})]})]})}),o.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[o.jsx(xu,{className:"h-3 w-3 inline mr-1"}),"All deposits are secured with bank-grade encryption and require verified account confirmation"]})]})]})},ite=()=>{const[t,e]=v.useState(!1),{toast:n}=_e(),r=v.useCallback(async s=>{e(!0);try{console.log("Updating bank account:",s);const i=await Rc.updateBankAccount(s);if(!i.success)throw new Error(i.error||"Failed to update bank account");return n({title:"Bank Account Updated",description:"Your bank account has been updated. New micro-deposit verification will begin shortly."}),i.data}catch(i){throw console.error("Bank account update error:",i),n({title:"Update Failed",description:i instanceof Error?i.message:"Failed to update bank account",variant:"destructive"}),i}finally{e(!1)}},[n]);return{loading:t,updateBankAccount:r}},ote=({bankAccount:t,onUpdateComplete:e})=>{const[n,r]=v.useState(!1),{loading:s,updateBankAccount:i}=ite(),a=Tg({defaultValues:{routingNumber:"",accountNumber:"",confirmAccountNumber:"",updateReason:""}}),c=d=>d.length!==9?"Routing number must be 9 digits":/^\d+$/.test(d)?!0:"Routing number must contain only numbers",l=d=>d.length<4||d.length>17?"Account number must be 4-17 digits":/^\d+$/.test(d)?!0:"Account number must contain only numbers",u=async d=>{if(d.accountNumber!==d.confirmAccountNumber){a.setError("confirmAccountNumber",{message:"Account numbers do not match"});return}if(!d.updateReason.trim()){a.setError("updateReason",{message:"Please provide a reason for this update"});return}try{await i({bankAccountId:t.id,routingNumber:d.routingNumber,accountNumber:d.accountNumber,updateReason:d.updateReason}),a.reset(),r(!1),e()}catch(f){console.error("Form submission error:",f)}};return n?o.jsxs(F,{className:"border-orange-200",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2 text-orange-800",children:[o.jsx(pc,{className:"h-5 w-5"}),"Update Bank Account Information"]})}),o.jsxs(U,{children:[o.jsx(Pg,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(u),className:"space-y-4",children:[o.jsx(Sn,{control:a.control,name:"routingNumber",render:({field:d})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"New Routing Number"}),o.jsx(gn,{children:o.jsx(fe,{placeholder:"9-digit routing number",maxLength:9,...d,disabled:s})}),o.jsx(kn,{})]}),rules:{required:"Routing number is required",validate:c}}),o.jsx(Sn,{control:a.control,name:"accountNumber",render:({field:d})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"New Account Number"}),o.jsx(gn,{children:o.jsx(fe,{type:"password",placeholder:"Bank account number",...d,disabled:s})}),o.jsx(kn,{})]}),rules:{required:"Account number is required",validate:l}}),o.jsx(Sn,{control:a.control,name:"confirmAccountNumber",render:({field:d})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Confirm New Account Number"}),o.jsx(gn,{children:o.jsx(fe,{type:"password",placeholder:"Re-enter account number",...d,disabled:s})}),o.jsx(kn,{})]}),rules:{required:"Please confirm your account number"}}),o.jsx(Sn,{control:a.control,name:"updateReason",render:({field:d})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Reason for Update"}),o.jsx(gn,{children:o.jsx(Ng,{placeholder:"Please explain why you're updating your bank account information...",...d,disabled:s,rows:3})}),o.jsx(kn,{})]}),rules:{required:"Please provide a reason for this update",minLength:{value:10,message:"Please provide a more detailed reason (at least 10 characters)"}}}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(W,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:s,className:"flex-1",children:"Cancel"}),o.jsx(W,{type:"submit",disabled:s,className:"flex-1",variant:"destructive",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pc,{className:"h-4 w-4 mr-2"}),"Update Account"]})})]})]})}),o.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:o.jsxs("p",{className:"text-xs text-gray-600",children:[o.jsx(xu,{className:"h-3 w-3 inline mr-1"}),"Your bank information is encrypted and securely processed by Stripe. Previous account details will be archived for security purposes."]})})]})]}):o.jsxs(F,{className:"border-orange-200",children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2 text-orange-800",children:[o.jsx(pc,{className:"h-5 w-5"}),"Update Bank Account"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Sp,{className:"h-5 w-5 text-orange-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Important Notice"}),o.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[o.jsx("li",{children:" Updating will require new micro-deposit verification"}),o.jsx("li",{children:" Current verification status will be reset"}),o.jsx("li",{children:" Previous account information will be archived"}),o.jsx("li",{children:" This action cannot be undone"})]})]})]})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-muted-foreground mb-4",children:["Current Account: ",t.bank_name,"  ****",t.account_number_last4]}),o.jsxs(W,{onClick:()=>r(!0),variant:"outline",className:"w-full",children:[o.jsx(pc,{className:"h-4 w-4 mr-2"}),"Update Account Information"]})]})]})]})},ate=({currentBalance:t,verifiedAccountsCount:e,totalTransferred:n,completedTransfers:r})=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Balance"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",t.toFixed(2)]})]}),o.jsx(XN,{className:"h-8 w-8 text-green-500"})]})})}),o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Verified Accounts"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e})]}),o.jsx(At,{className:"h-8 w-8 text-blue-500"})]})})}),o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Transferred"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",n.toFixed(2)]})]}),o.jsx(Ld,{className:"h-8 w-8 text-purple-500"})]})})}),o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completed Transfers"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r})]}),o.jsx(rk,{className:"h-8 w-8 text-orange-500"})]})})})]}),cte=({verifiedAccountsCount:t,pendingAccountsCount:e,onNavigateToTab:n})=>o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-5 w-5"}),"Quick Actions"]})}),o.jsxs(U,{className:"space-y-3",children:[t===0?o.jsxs(W,{onClick:()=>n("accounts"),className:"w-full",children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Your First Bank Account"]}):o.jsxs(o.Fragment,{children:[o.jsxs(W,{onClick:()=>n("transfer"),className:"w-full",children:[o.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Transfer to Bank Account"]}),o.jsxs(W,{onClick:()=>n("accounts"),variant:"outline",className:"w-full",children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Another Account"]})]}),e>0&&o.jsxs(W,{onClick:()=>n("verification"),variant:"outline",className:"w-full",children:[o.jsx(Sp,{className:"h-4 w-4 mr-2"}),"Complete Verification (",e,")"]})]})]}),lte=({transfers:t})=>o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(rk,{className:"h-5 w-5"}),"Recent Transfer Activity"]})}),o.jsx(U,{children:t.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No recent transfers"}):o.jsx("div",{className:"space-y-3",children:t.map(e=>{const n=typeof e.details=="object"&&e.details&&typeof e.details=="object"&&"amount"in e.details&&Number(e.details.amount)||0;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ld,{className:"h-4 w-4 text-green-500"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:["$",n.toFixed(2)]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]})]}),o.jsx(Ge,{variant:"outline",className:"text-xs",children:e.action.replace("secure_deposit_","")})]},e.id)})})})]}),ute=({bankAccounts:t,onUpdateAccount:e})=>{const n=r=>{const s={verified:"bg-green-100 text-green-800",verifying:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",pending:"bg-gray-100 text-gray-800"};return s[r]||s.pending};return o.jsx("div",{className:"space-y-4",children:t.map(r=>o.jsx(F,{children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:r.account_holder_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.bank_name,"  ****",r.account_number_last4]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(r.created_at).toLocaleDateString()]}),r.updated_by_user_at&&o.jsxs("p",{className:"text-xs text-orange-600",children:["Updated ",new Date(r.updated_by_user_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ge,{className:n(r.verification_status),children:r.verification_status}),r.verification_status==="verified"&&o.jsxs(W,{size:"sm",variant:"outline",onClick:()=>e(r),children:[o.jsx(pc,{className:"h-3 w-3 mr-1"}),"Update"]})]})]})})},r.id))})},dte=({auditLog:t})=>o.jsx("div",{className:"space-y-2",children:t.slice(0,20).map(e=>{const n=typeof e.details=="object"&&e.details&&typeof e.details=="object"&&"amount"in e.details&&Number(e.details.amount)||0,r=typeof e.details=="object"&&e.details&&typeof e.details=="object"&&"verification_confirmed"in e.details?!!e.details.verification_confirmed:!1;return o.jsx(F,{children:o.jsx(U,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${e.action.includes("verified")?"bg-green-500":e.action.includes("failed")?"bg-red-500":e.action.includes("deposit")?"bg-blue-500":"bg-gray-500"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:e.action.replace(/_/g," ").toUpperCase()}),o.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[n>0&&o.jsxs(Ge,{variant:"outline",children:["$",n.toFixed(2)]}),r&&o.jsxs(Ge,{className:"bg-green-100 text-green-800",children:[o.jsx(xu,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})})},e.id)})}),fte=({currentBalance:t,onDepositSuccess:e,userEmail:n,userId:r})=>{const[s,i]=v.useState([]),[a,c]=v.useState([]),[l,u]=v.useState(!0),[d,f]=v.useState("overview"),[h,m]=v.useState(null),[g,p]=v.useState({totalTransferred:0,pendingTransfers:0,completedTransfers:0,failedTransfers:0}),{toast:y}=_e(),x=async()=>{try{const I=await Rc.getUserBankAccounts();i(I)}catch(I){console.error("Failed to load bank accounts:",I),y({title:"Loading Error",description:"Failed to load bank accounts",variant:"destructive"})}},w=async()=>{try{const I=await Rc.getBankAccountAuditLog();c(I);const R=I.reduce((z,$)=>{if($.action==="secure_deposit_processed"){const A=typeof $.details=="object"&&$.details&&typeof $.details=="object"&&"amount"in $.details&&Number($.details.amount)||0;z.totalTransferred+=A,z.completedTransfers+=1}else $.action==="secure_deposit_pending"?z.pendingTransfers+=1:$.action==="secure_deposit_failed"&&(z.failedTransfers+=1);return z},{totalTransferred:0,pendingTransfers:0,completedTransfers:0,failedTransfers:0});p(R)}catch(I){console.error("Failed to load audit log:",I)}};v.useEffect(()=>{(async()=>{u(!0),await Promise.all([x(),w()]),u(!1)})()},[]);const b=()=>{x(),w(),f("transfer")},j=I=>{e(I),w(),f("history")},E=()=>{x(),w(),m(null),f("verification")},N=I=>{f(I)},S=I=>{m(I),f("update")},_=s.filter(I=>I.verification_status==="verified"),O=s.filter(I=>I.verification_status!=="verified"),T=()=>a.filter(I=>I.action.includes("secure_deposit")).sort((I,R)=>new Date(R.created_at).getTime()-new Date(I.created_at).getTime()).slice(0,5);return l?o.jsx(F,{children:o.jsx(U,{className:"flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading secure bank transfer dashboard..."})]})})}):o.jsx("div",{className:"space-y-6",children:o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-6 w-6 text-green-500"}),"Secure Bank Transfer Dashboard"]})}),o.jsx(U,{children:o.jsxs(Oa,{value:d,onValueChange:f,className:"w-full",children:[o.jsxs(Po,{className:"grid w-full grid-cols-6",children:[o.jsx(rt,{value:"overview",children:"Overview"}),o.jsx(rt,{value:"accounts",children:"Accounts"}),o.jsx(rt,{value:"verification",children:"Verification"}),o.jsx(rt,{value:"transfer",children:"Transfer"}),o.jsx(rt,{value:"update",children:"Update"}),o.jsx(rt,{value:"history",children:"History"})]}),o.jsxs(st,{value:"overview",className:"space-y-6",children:[o.jsx(ate,{currentBalance:t,verifiedAccountsCount:_.length,totalTransferred:g.totalTransferred,completedTransfers:g.completedTransfers}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(cte,{verifiedAccountsCount:_.length,pendingAccountsCount:O.length,onNavigateToTab:N}),o.jsx(lte,{transfers:T()})]}),O.length>0&&o.jsxs(Km,{children:[o.jsx(Sp,{className:"h-4 w-4"}),o.jsxs(Qm,{children:["You have ",O.length," bank account",O.length===1?"":"s"," pending verification. Complete verification to enable secure transfers."]})]})]}),o.jsxs(st,{value:"accounts",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Your Bank Accounts"}),s.length>0&&s.length<3&&o.jsxs(W,{onClick:()=>f("accounts"),size:"sm",children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Account"]})]}),s.length===0?o.jsx(F,{children:o.jsxs(U,{className:"text-center p-8",children:[o.jsx(rn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No bank accounts found"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Bank account functionality has been removed"})]})}):o.jsx("div",{className:"space-y-4",children:o.jsx(ute,{bankAccounts:s,onUpdateAccount:S})})]}),o.jsxs(st,{value:"verification",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Account Verification"}),O.length===0?o.jsxs("div",{className:"text-center p-8",children:[o.jsx(At,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"All accounts are verified!"})]}):o.jsx("div",{className:"space-y-4",children:O.map(I=>o.jsx(Nee,{bankAccount:I,onVerificationComplete:b},I.id))})]}),o.jsxs(st,{value:"transfer",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Secure Transfer to Bank Account"}),_.length===0?o.jsx(F,{children:o.jsxs(U,{className:"text-center p-8",children:[o.jsx(rn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No verified accounts available"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"You must verify at least one bank account before processing transfers"}),o.jsx(W,{onClick:()=>f("accounts"),className:"mt-4",variant:"outline",children:"Add & Verify Account"})]})}):o.jsx(ste,{currentBalance:t,verifiedAccounts:_,userEmail:n,userId:r,onDepositSuccess:j})]}),o.jsxs(st,{value:"update",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Update Bank Account Information"}),h?o.jsx(ote,{bankAccount:h,onUpdateComplete:E}):o.jsx(F,{children:o.jsxs(U,{className:"text-center p-8",children:[o.jsx(pc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"No account selected for update"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Select an account from the Accounts tab to update its information"}),o.jsx(W,{onClick:()=>f("accounts"),className:"mt-4",variant:"outline",children:"Go to Accounts"})]})})]}),o.jsxs(st,{value:"history",className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Transfer History & Security Audit"}),o.jsx(dte,{auditLog:a})]})]})})]})})},hte=({onLogin:t})=>{const[e,n]=v.useState(!0),[r,s]=v.useState(""),[i,a]=v.useState(""),[c,l]=v.useState(!1),{toast:u}=_e(),d=m=>/^[\+]?[1-9][\d]{0,15}$/.test(m.replace(/[\s\-\(\)]/g,"")),f=m=>/^[a-zA-Z0-9_]{3,20}$/.test(m),h=async m=>{if(m.preventDefault(),!r.trim()||!i.trim()){u({title:"Missing information",description:"Please fill in all fields.",variant:"destructive"});return}if(!d(r)){u({title:"Invalid phone number",description:"Please enter a valid phone number.",variant:"destructive"});return}if(!f(i)){u({title:"Invalid username",description:"Username must be 3-20 characters, letters, numbers, and underscores only.",variant:"destructive"});return}l(!0),setTimeout(()=>{const g={phoneNumber:r.trim(),username:i.trim()};u({title:e?"Login successful!":"Account created!",description:`Welcome to EarnFlow, ${i}!`}),t(g),l(!1)},1500)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[o.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-bold text-primary mb-4",children:"EarnFlow"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Earn money by interacting with partner advertisements. Get paid instantly with Bitcoin."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(hr,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Instant Earnings"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"5% commission per task"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(rn,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Privacy First"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimal data required"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(ha,{className:"h-8 w-8 text-purple-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Trusted Partners"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium advertisers"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(_p,{className:"h-8 w-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"24/7 Access"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn anytime"})]})]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Privacy Protection"}),o.jsx("p",{className:"text-sm text-green-700",children:"We only collect your phone number and username. No personal information, no tracking, no data selling. Your privacy is our priority."})]})]}),o.jsxs(F,{className:"w-full max-w-md mx-auto",children:[o.jsxs(K,{className:"text-center",children:[o.jsx(Q,{className:"text-2xl",children:e?"Welcome Back":"Join EarnFlow"}),o.jsx("p",{className:"text-muted-foreground",children:e?"Sign in to continue earning":"Create your account to start earning"})]}),o.jsxs(U,{children:[o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"phone",children:"Phone Number"}),o.jsx(fe,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:r,onChange:m=>s(m.target.value),disabled:c})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"username",children:"Username"}),o.jsx(fe,{id:"username",type:"text",placeholder:"your_username",value:i,onChange:m=>a(m.target.value),disabled:c}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"3-20 characters, letters, numbers, and underscores only"})]}),o.jsx(W,{type:"submit",className:"w-full",disabled:c,children:c?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e?"Signing In...":"Creating Account..."]}):e?"Sign In":"Create Account"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>n(!e),className:"text-sm text-primary hover:underline",disabled:c,children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),o.jsx("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg border border-blue-200",children:o.jsx("p",{className:"text-xs text-blue-700 text-center",children:" Your data is encrypted and secure. We never share your information with third parties."})})]})]})]})})},mte=()=>{const{user:t,loading:e}=vr(),[n]=M.useState(1250.75),r=a=>{console.log(`Deposit of $${a} processed successfully`)};if(e)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Secure Bank Transfer Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Please sign in to access your secure bank transfer dashboard"})]}),o.jsx(hte,{onLogin:()=>{}})]})});const s=t.email||"",i=t.id||"";return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Secure Bank Transfer Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Manage your bank accounts and process secure transfers with complete audit trails"})]}),o.jsx(fte,{currentBalance:n,onDepositSuccess:r,userEmail:s,userId:i})]})})},pte=()=>{const{user:t,signOut:e}=vr(),n=async()=>{try{const{error:r}=await re.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});r&&console.error("Google login error:",r)}catch(r){console.error("Login failed:",r)}};return t?o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Signed in as: ",t.email]}),o.jsx(W,{variant:"outline",onClick:e,children:"Sign Out"})]}):o.jsx(W,{onClick:n,className:"w-full",children:"Sign in with Google"})},gte=()=>{const[t,e]=v.useState(!0),[n,r]=v.useState(""),[s,i]=v.useState(""),[a,c]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(!1),{toast:h}=_e(),m=jn(),{user:g,loading:p}=vr();v.useEffect(()=>{!p&&g&&m("/",{replace:!0})},[g,p,m]);const y=j=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j),x=j=>/^[\+]?[1-9][\d]{0,15}$/.test(j.replace(/[\s\-\(\)]/g,"")),w=j=>/^[a-zA-Z0-9_]{3,20}$/.test(j),b=async j=>{if(j.preventDefault(),!n.trim()||!s.trim()){h({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(!y(n)){h({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}if(s.length<6){h({title:"Invalid password",description:"Password must be at least 6 characters long.",variant:"destructive"});return}if(!t){if(!a.trim()||!l.trim()){h({title:"Missing information",description:"Please fill in all fields for signup.",variant:"destructive"});return}if(!w(a)){h({title:"Invalid username",description:"Username must be 3-20 characters, letters, numbers, and underscores only.",variant:"destructive"});return}if(!x(l)){h({title:"Invalid phone number",description:"Please enter a valid phone number.",variant:"destructive"});return}}f(!0);try{if(t){const{data:E,error:N}=await re.auth.signInWithPassword({email:n.trim(),password:s.trim()});if(N)throw N;h({title:"Login successful!",description:"Welcome back to EarnFlow!"}),window.location.href="/"}else{const{error:E}=await re.auth.signUp({email:n.trim(),password:s.trim(),options:{data:{username:a.trim(),phone_number:l.trim()},emailRedirectTo:`${window.location.origin}/`}});if(E)throw E;h({title:"Account created!",description:"Please check your email to verify your account."})}}catch(E){console.error("Auth error:",E),h({title:t?"Login failed":"Signup failed",description:E.message||"An error occurred. Please try again.",variant:"destructive"})}finally{f(!1)}};return p?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[o.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-5xl font-bold text-primary mb-4",children:"EarnFlow"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Earn money by interacting with partner advertisements. Get paid instantly with Bitcoin."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(hr,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Instant Earnings"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"5% commission per task"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(rn,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Privacy First"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimal data required"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(ha,{className:"h-8 w-8 text-purple-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Trusted Partners"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium advertisers"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[o.jsx(_p,{className:"h-8 w-8 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"24/7 Access"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn anytime"})]})]})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Privacy Protection"}),o.jsx("p",{className:"text-sm text-green-700",children:"We only collect your email, username and phone number. No personal information, no tracking, no data selling. Your privacy is our priority."})]})]}),o.jsxs(F,{className:"w-full max-w-md mx-auto",children:[o.jsxs(K,{className:"text-center",children:[o.jsx(Q,{className:"text-2xl",children:t?"Welcome Back":"Join EarnFlow"}),o.jsx("p",{className:"text-muted-foreground",children:t?"Sign in to continue earning":"Create your account to start earning"})]}),o.jsxs(U,{className:"space-y-4",children:[o.jsx(pte,{}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"Email"}),o.jsx(fe,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:j=>r(j.target.value),disabled:d,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"password",children:"Password"}),o.jsx(fe,{id:"password",type:"password",placeholder:"",value:s,onChange:j=>i(j.target.value),disabled:d,required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),!t&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"username",children:"Username"}),o.jsx(fe,{id:"username",type:"text",placeholder:"your_username",value:a,onChange:j=>c(j.target.value),disabled:d,required:!0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"3-20 characters, letters, numbers, and underscores only"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"phone",children:"Phone Number"}),o.jsx(fe,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:l,onChange:j=>u(j.target.value),disabled:d,required:!0})]})]}),o.jsx(W,{type:"submit",className:"w-full",disabled:d,children:d?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Signing In...":"Creating Account..."]}):t?"Sign In":"Create Account"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>e(!t),className:"text-sm text-primary hover:underline",disabled:d,children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),o.jsx("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg border border-blue-200",children:o.jsx("p",{className:"text-xs text-blue-700 text-center",children:" Your data is encrypted and secure. We never share your information with third parties."})})]})]})]})})},yte=()=>o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Services"}),o.jsx("p",{className:"text-gray-600",children:"Payment functionality has been removed."})]})});var O4="basil",vte=function(e){return e===3?"v3":e},M4="https://js.stripe.com",xte="".concat(M4,"/").concat(O4,"/stripe.js"),wte=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,bte=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,t_="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",jte=function(e){return wte.test(e)||bte.test(e)},Ete=function(){for(var e=document.querySelectorAll('script[src^="'.concat(M4,'"]')),n=0;n<e.length;n++){var r=e[n];if(jte(r.src))return r}return null},n_=function(e){var n="",r=document.createElement("script");r.src="".concat(xte).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},Ate=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},Yl=null,Uf=null,$f=null,_te=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},Ste=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Nte=function(e){return Yl!==null?Yl:(Yl=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(t_),window.Stripe){n(window.Stripe);return}try{var s=Ete();if(s&&e)console.warn(t_);else if(!s)s=n_(e);else if(s&&$f!==null&&Uf!==null){var i;s.removeEventListener("load",$f),s.removeEventListener("error",Uf),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=n_(e)}$f=Ste(n,r),Uf=_te(r),s.addEventListener("load",$f),s.addEventListener("error",Uf)}catch(a){r(a);return}}),Yl.catch(function(n){return Yl=null,Promise.reject(n)}))},kte=function(e,n,r){if(e===null)return null;var s=n[0],i=s.match(/^pk_test/),a=vte(e.version),c=O4;i&&a!==c&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return Ate(l,r),l},Jl,B4=!1,D4=function(){return Jl||(Jl=Nte(null).catch(function(e){return Jl=null,Promise.reject(e)}),Jl)};Promise.resolve().then(function(){return D4()}).catch(function(t){B4||console.warn(t)});var l1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];B4=!0;var s=Date.now();return D4().then(function(i){return kte(i,n,s)})},L4={exports:{}},Cte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tte=Cte,Pte=Tte;function F4(){}function U4(){}U4.resetWarningCache=F4;var Ite=function(){function t(r,s,i,a,c,l){if(l!==Pte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U4,resetWarningCache:F4};return n.PropTypes=n,n};L4.exports=Ite();var Rte=L4.exports;const bt=dl(Rte);function r_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function s_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(n),!0).forEach(function(r){$4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ph(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ph=function(e){return typeof e}:ph=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function $4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Mte(t,e){if(t==null)return{};var n=Ote(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u1(t,e){return Bte(t)||Dte(t,e)||Lte(t,e)||Fte()}function Bte(t){if(Array.isArray(t))return t}function Dte(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,i=!1,a,c;try{for(n=n.call(t);!(s=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));s=!0);}catch(l){i=!0,c=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw c}}return r}}function Lte(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tr=function(e,n,r){var s=!!r,i=M.useRef(r);M.useEffect(function(){i.current=r},[r]),M.useEffect(function(){if(!s||!e)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,a),function(){e.off(n,a)}},[s,n,e,i])},Cd=function(e){var n=M.useRef(e);return M.useEffect(function(){n.current=e},[e]),n.current},ul=function(e){return e!==null&&ph(e)==="object"},Ute=function(e){return ul(e)&&typeof e.then=="function"},$te=function(e){return ul(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},o_="[object Object]",Hte=function t(e,n){if(!ul(e)||!ul(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var i=Object.prototype.toString.call(e)===o_,a=Object.prototype.toString.call(n)===o_;if(i!==a)return!1;if(!i&&!r)return e===n;var c=Object.keys(e),l=Object.keys(n);if(c.length!==l.length)return!1;for(var u={},d=0;d<c.length;d+=1)u[c[d]]=!0;for(var f=0;f<l.length;f+=1)u[l[f]]=!0;var h=Object.keys(u);if(h.length!==c.length)return!1;var m=e,g=n,p=function(x){return t(m[x],g[x])};return h.every(p)},H4=function(e,n,r){return ul(e)?Object.keys(e).reduce(function(s,i){var a=!ul(n)||!Hte(e[i],n[i]);return r.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?s_(s_({},s||{}),{},$4({},i,e[i])):s},null):null},z4="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",a_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z4;if(e===null||$te(e))return e;throw new Error(n)},V4=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z4;if(Ute(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return a_(s,n)})};var r=a_(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},G4=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Rg=M.createContext(null);Rg.displayName="ElementsContext";var W4=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},d1=function(e){var n=e.stripe,r=e.options,s=e.children,i=M.useMemo(function(){return V4(n)},[n]),a=M.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),c=u1(a,2),l=c[0],u=c[1];M.useEffect(function(){var h=!0,m=function(p){u(function(y){return y.stripe?y:{stripe:p,elements:p.elements(r)}})};return i.tag==="async"&&!l.stripe?i.stripePromise.then(function(g){g&&h&&m(g)}):i.tag==="sync"&&!l.stripe&&m(i.stripe),function(){h=!1}},[i,l,r]);var d=Cd(n);M.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=Cd(r);return M.useEffect(function(){if(l.elements){var h=H4(r,f,["clientSecret","fonts"]);h&&l.elements.update(h)}},[r,f,l.elements]),M.useEffect(function(){G4(l.stripe)},[l.stripe]),M.createElement(Rg.Provider,{value:l},s)};d1.propTypes={stripe:bt.any,options:bt.object};var zte=function(e){var n=M.useContext(Rg);return W4(n,e)},q4=function(){var e=zte("calls useElements()"),n=e.elements;return n};bt.func.isRequired;var K4=M.createContext(null);K4.displayName="CheckoutSdkContext";var Vte=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},Gte=M.createContext(null);Gte.displayName="CheckoutContext";bt.any,bt.shape({fetchClientSecret:bt.func.isRequired,elementsOptions:bt.object}).isRequired;var xx=function(e){var n=M.useContext(K4),r=M.useContext(Rg);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?Vte(n,e):W4(r,e)},Wte=["mode"],qte=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},zt=function(e,n){var r="".concat(qte(e),"Element"),s=function(l){var u=l.id,d=l.className,f=l.options,h=f===void 0?{}:f,m=l.onBlur,g=l.onFocus,p=l.onReady,y=l.onChange,x=l.onEscape,w=l.onClick,b=l.onLoadError,j=l.onLoaderStart,E=l.onNetworksChange,N=l.onConfirm,S=l.onCancel,_=l.onShippingAddressChange,O=l.onShippingRateChange,T=xx("mounts <".concat(r,">")),I="elements"in T?T.elements:null,R="checkoutSdk"in T?T.checkoutSdk:null,z=M.useState(null),$=u1(z,2),A=$[0],k=$[1],D=M.useRef(null),C=M.useRef(null);tr(A,"blur",m),tr(A,"focus",g),tr(A,"escape",x),tr(A,"click",w),tr(A,"loaderror",b),tr(A,"loaderstart",j),tr(A,"networkschange",E),tr(A,"confirm",N),tr(A,"cancel",S),tr(A,"shippingaddresschange",_),tr(A,"shippingratechange",O),tr(A,"change",y);var B;p&&(e==="expressCheckout"?B=p:B=function(){p(A)}),tr(A,"ready",B),M.useLayoutEffect(function(){if(D.current===null&&C.current!==null&&(I||R)){var q=null;if(R)switch(e){case"payment":q=R.createPaymentElement(h);break;case"address":if("mode"in h){var ee=h.mode,he=Mte(h,Wte);if(ee==="shipping")q=R.createShippingAddressElement(he);else if(ee==="billing")q=R.createBillingAddressElement(he);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":q=R.createExpressCheckoutElement(h);break;case"currencySelector":q=R.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(q=I.create(e,h));D.current=q,k(q),q&&q.mount(C.current)}},[I,R,h]);var V=Cd(h);return M.useEffect(function(){if(D.current){var q=H4(h,V,["paymentRequest"]);q&&"update"in D.current&&D.current.update(q)}},[h,V]),M.useLayoutEffect(function(){return function(){if(D.current&&typeof D.current.destroy=="function")try{D.current.destroy(),D.current=null}catch{}}},[]),M.createElement("div",{id:u,className:d,ref:C})},i=function(l){xx("mounts <".concat(r,">"));var u=l.id,d=l.className;return M.createElement("div",{id:u,className:d})},a=n?i:s;return a.propTypes={id:bt.string,className:bt.string,onChange:bt.func,onBlur:bt.func,onFocus:bt.func,onReady:bt.func,onEscape:bt.func,onClick:bt.func,onLoadError:bt.func,onLoaderStart:bt.func,onNetworksChange:bt.func,onConfirm:bt.func,onCancel:bt.func,onShippingAddressChange:bt.func,onShippingRateChange:bt.func,options:bt.object},a.displayName=r,a.__elementType=e,a},Lt=typeof window>"u",f1=M.createContext(null);f1.displayName="EmbeddedCheckoutProviderContext";var Q4=function(){var e=M.useContext(f1);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},Kte="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Qte=function(e){var n=e.stripe,r=e.options,s=e.children,i=M.useMemo(function(){return V4(n,Kte)},[n]),a=M.useRef(null),c=M.useRef(null),l=M.useState({embeddedCheckout:null}),u=u1(l,2),d=u[0],f=u[1];M.useEffect(function(){if(!(c.current||a.current)){var g=function(y){c.current||a.current||(c.current=y,a.current=c.current.initEmbeddedCheckout(r).then(function(x){f({embeddedCheckout:x})}))};i.tag==="async"&&!c.current&&(r.clientSecret||r.fetchClientSecret)?i.stripePromise.then(function(p){p&&g(p)}):i.tag==="sync"&&!c.current&&(r.clientSecret||r.fetchClientSecret)&&g(i.stripe)}},[i,r,d,c]),M.useEffect(function(){return function(){d.embeddedCheckout?(a.current=null,d.embeddedCheckout.destroy()):a.current&&a.current.then(function(){a.current=null,d.embeddedCheckout&&d.embeddedCheckout.destroy()})}},[d.embeddedCheckout]),M.useEffect(function(){G4(c)},[c]);var h=Cd(n);M.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[h,n]);var m=Cd(r);return M.useEffect(function(){if(m!=null){if(r==null){console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");return}r.clientSecret===void 0&&r.fetchClientSecret===void 0&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),m.clientSecret!=null&&r.clientSecret!==m.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),m.fetchClientSecret!=null&&r.fetchClientSecret!==m.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),m.onComplete!=null&&r.onComplete!==m.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),m.onShippingDetailsChange!=null&&r.onShippingDetailsChange!==m.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),m.onLineItemsChange!=null&&r.onLineItemsChange!==m.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[m,r]),M.createElement(f1.Provider,{value:d},s)},Yte=function(e){var n=e.id,r=e.className,s=Q4(),i=s.embeddedCheckout,a=M.useRef(!1),c=M.useRef(null);return M.useLayoutEffect(function(){return!a.current&&i&&c.current!==null&&(i.mount(c.current),a.current=!0),function(){if(a.current&&i)try{i.unmount(),a.current=!1}catch{}}},[i]),M.createElement("div",{ref:c,id:n,className:r})},Jte=function(e){var n=e.id,r=e.className;return Q4(),M.createElement("div",{id:n,className:r})},Zte=Lt?Jte:Yte,Y4=function(){var e=xx("calls useStripe()"),n=e.stripe;return n};zt("auBankAccount",Lt);var c_=zt("card",Lt);zt("cardNumber",Lt);zt("cardExpiry",Lt);zt("cardCvc",Lt);zt("fpxBank",Lt);zt("iban",Lt);zt("idealBank",Lt);zt("p24Bank",Lt);zt("epsBank",Lt);var Xte=zt("payment",Lt);zt("expressCheckout",Lt);zt("currencySelector",Lt);zt("paymentRequestButton",Lt);zt("linkAuthentication",Lt);zt("address",Lt);zt("shippingAddress",Lt);zt("paymentMethodMessaging",Lt);zt("affirmMessage",Lt);zt("afterpayClearpayMessage",Lt);const ene=l1("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),tne=({priceId:t,onBack:e,title:n="Complete Your Subscription",description:r="Subscribe to unlock premium features"})=>{const[s,i]=v.useState(""),[a,c]=v.useState(""),[l,u]=v.useState(!0);v.useEffect(()=>{t&&(async()=>{try{u(!0);const h=RC(void 0,void 0),{data:m,error:g}=await h.functions.invoke("create-embedded-checkout",{body:{priceId:t,mode:"subscription",ui_mode:"embedded",return_url:`${window.location.origin}/subscription-success`}});if(g)throw new Error(g.message||"Failed to create checkout session");if(!m.success||!m.data?.clientSecret)throw new Error(m.error||"Failed to get client secret");i(m.data.clientSecret)}catch(h){c(h instanceof Error?h.message:"Failed to initialize checkout")}finally{u(!1)}})()},[t]);const d={clientSecret:s};return l?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:e,variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),o.jsx(F,{children:o.jsx(U,{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading checkout..."})]})})})]})}):a?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:e,variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),o.jsx(F,{children:o.jsxs(U,{className:"text-center py-12",children:[o.jsx("p",{className:"text-red-600 mb-4",children:a}),o.jsx(W,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:e,variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),o.jsxs(F,{children:[o.jsxs(K,{children:[o.jsx(Q,{children:n}),r&&o.jsx("p",{className:"text-muted-foreground",children:r})]}),o.jsx(U,{children:o.jsx(Qte,{stripe:ene,options:d,children:o.jsx(Zte,{})})})]})]})})},nne=()=>{const{priceId:t}=o6(),e=jn();return t?o.jsx(tne,{priceId:t,onBack:()=>e("/"),title:"Subscribe to EarnFlow",description:"Get your operator license and start earning today"}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-red-600 mb-4",children:"Invalid checkout link"}),o.jsx("button",{onClick:()=>e("/"),children:"Return Home"})]})})})},rne=l1("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),sne=({amount:t,description:e="Payment",onSuccess:n,onError:r})=>{const s=Y4(),i=q4(),[a,c]=v.useState(!1),[l,u]=v.useState(""),{toast:d}=_e(),f=async h=>{if(h.preventDefault(),!s||!i)return;const m=i.getElement(c_);if(m){c(!0);try{const g=await Yh.createPaymentIntent({amount:t,description:e,customerEmail:l});if(!g.success||!g.data?.clientSecret)throw new Error(g.error||"Failed to create payment intent");const{error:p,paymentIntent:y}=await s.confirmCardPayment(g.data.clientSecret,{payment_method:{card:m,billing_details:{email:l}}});if(p)throw new Error(p.message);y.status==="succeeded"&&(d({title:"Payment Successful",description:`Payment of $${(t/100).toFixed(2)} completed successfully.`}),n?.(y.id))}catch(g){const p=g instanceof Error?g.message:"Payment failed";d({title:"Payment Failed",description:p,variant:"destructive"}),r?.(p)}finally{c(!1)}}};return o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"Email"}),o.jsx(fe,{id:"email",type:"email",value:l,onChange:h=>u(h.target.value),placeholder:"your@email.com",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Card Details"}),o.jsx("div",{className:"p-3 border rounded-md",children:o.jsx(c_,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}}}}})})]}),o.jsx(W,{type:"submit",disabled:!s||a,className:"w-full",children:a?"Processing...":`Pay $${(t/100).toFixed(2)}`})]})},ine=t=>{const e={mode:"payment",amount:t.amount,currency:"usd"};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[t.onBack&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:t.onBack,variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Payment"})]}),o.jsxs(F,{className:"w-full max-w-md mx-auto",children:[o.jsx(K,{children:o.jsx(Q,{children:"Payment Details"})}),o.jsx(U,{children:o.jsx(d1,{stripe:rne,options:e,children:o.jsx(sne,{...t})})})]})]})})},one=()=>{const t=jn();return o.jsx(ine,{onBack:()=>t("/"),amount:49.99,description:"EarnFlow Operator License - Monthly Subscription"})},ane=()=>{const{user:t}=vr(),{trackImpression:e,trackClick:n}=$w(),r=()=>{e({adSlot:"3941685758",placementId:"payout_multiplex",adType:"multiplex"})},s=()=>{n({adSlot:"3941685758",placementId:"payout_multiplex",adType:"multiplex"})};return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payout Dashboard"}),o.jsx("p",{className:"text-gray-600",children:"Commission payout functionality has been removed"})]}),t?o.jsx(o.Fragment,{children:o.jsx("div",{className:"my-8 w-full flex justify-center px-4",children:o.jsx(Ho,{adSlot:"3941685758",adFormat:"autorelaxed",className:"w-full",style:{display:"block"},onImpression:r,onAdClick:s})})}):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-600",children:"Please sign in to view your payout dashboard."})})]})})};var h1="Switch",[cne,Xre]=Ns(h1),[lne,une]=cne(h1),J4=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,m]=v.useState(null),g=Xe(e,b=>m(b)),p=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,w]=si({prop:s,defaultProp:i,onChange:u});return o.jsxs(lne,{scope:n,checked:x,disabled:c,children:[o.jsx(Ne.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":eO(x),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:g,onClick:ge(t.onClick,b=>{w(j=>!j),y&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),y&&o.jsx(dne,{control:h,bubbles:!p.current,name:r,value:l,checked:x,required:a,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});J4.displayName=h1;var Z4="SwitchThumb",X4=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=une(Z4,n);return o.jsx(Ne.span,{"data-state":eO(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});X4.displayName=Z4;var dne=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=v.useRef(null),a=vg(n),c=Pp(e);return v.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eO(t){return t?"checked":"unchecked"}var tO=J4,fne=X4;const m1=v.forwardRef(({className:t,...e},n)=>o.jsx(tO,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(fne,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));m1.displayName=tO.displayName;class hne{async createDestinationCheckout(e){try{console.log("Creating destination checkout session:",e);const{data:n,error:r}=await re.functions.invoke("create-destination-checkout",{body:e});if(r)throw new Error(r.message||"Destination checkout session creation failed");return n}catch(n){throw console.error("Destination Charge Service Error:",n),n}}calculatePlatformFee(e,n=3){return Math.round(e*(n/100))}formatAmount(e){return(e/100).toFixed(2)}}const nv=new hne,mne=()=>{const[t,e]=v.useState(!1),{toast:n}=_e(),r=v.useCallback(async s=>{e(!0);try{console.log("Creating destination checkout session:",s);const i=await nv.createDestinationCheckout(s);if(!i.success||!i.data?.url)throw new Error(i.error||"Failed to create destination checkout session");return console.log("Destination checkout session created successfully, URL:",i.data.url),window.location.href=i.data.url,n({title:"Redirecting to Checkout",description:"Redirecting to Stripe to complete your marketplace purchase..."}),i.data}catch(i){throw console.error("Destination checkout error:",i),n({title:"Checkout Failed",description:i instanceof Error?i.message:"Failed to create checkout session",variant:"destructive"}),i}finally{e(!1)}},[n]);return{loading:t,createDestinationCheckout:r,calculatePlatformFee:nv.calculatePlatformFee,formatAmount:nv.formatAmount}},pne=({onBack:t})=>{const[e,n]=v.useState(50),[r,s]=v.useState("Marketplace Purchase"),[i,a]=v.useState(""),[c,l]=v.useState(""),[u,d]=v.useState(!1),[f,h]=v.useState(3),{loading:m,createDestinationCheckout:g,calculatePlatformFee:p,formatAmount:y}=mne(),x=Math.round(e*100),w=p(x,f),b=x-w,j=async()=>{if(!i.trim()){alert("Please enter a connected account ID");return}const E=`${window.location.origin}/payment-success`,N=`${window.location.origin}/payment-cancelled`;await g({amount:x,description:r,connectedAccountId:i.trim(),applicationFeeAmount:w,successUrl:E,cancelUrl:N,customerEmail:c.trim()||void 0,onBehalfOf:u})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[t&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:t,variant:"outline",size:"sm",disabled:m,children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Destination Charges"})]}),o.jsxs(F,{children:[o.jsxs(K,{children:[o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(t0,{className:"h-5 w-5"}),"Marketplace Checkout"]}),o.jsx("p",{className:"text-muted-foreground",children:"Create a checkout session with destination charges for marketplace payments"})]}),o.jsxs(U,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"description",children:"Product Description"}),o.jsx(fe,{id:"description",value:r,onChange:E=>s(E.target.value),placeholder:"Enter product description",disabled:m})]}),o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"amount",children:"Amount ($)"}),o.jsx(fe,{id:"amount",type:"number",min:"0.50",step:"0.01",value:e,onChange:E=>n(parseFloat(E.target.value)||0),placeholder:"50.00",disabled:m})]}),o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"customerEmail",children:"Customer Email (Optional)"}),o.jsx(fe,{id:"customerEmail",type:"email",value:c,onChange:E=>l(E.target.value),placeholder:"customer@example.com",disabled:m})]})]}),o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"connectedAccount",children:"Connected Account ID"}),o.jsx(fe,{id:"connectedAccount",value:i,onChange:E=>a(E.target.value),placeholder:"acct_1234567890",disabled:m}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"The Stripe Connect account that will receive the funds"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(m1,{id:"onBehalfOf",checked:u,onCheckedChange:d,disabled:m}),o.jsx(xe,{htmlFor:"onBehalfOf",children:"Use on_behalf_of parameter"})]}),u&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"This sets the connected account as the settlement merchant"})]}),o.jsxs("div",{className:"space-y-4 border-t pt-4",children:[o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"feePercentage",children:"Platform Fee (%)"}),o.jsx(fe,{id:"feePercentage",type:"number",min:"0",max:"100",step:"0.1",value:f,onChange:E=>h(parseFloat(E.target.value)||0),disabled:m})]}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[o.jsx(It,{className:"h-4 w-4"}),"Payment Breakdown"]}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Total Amount:"}),o.jsxs("span",{children:["$",y(x)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["Platform Fee (",f,"%):"]}),o.jsxs("span",{children:["$",y(w)]})]}),o.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[o.jsx("span",{children:"To Connected Account:"}),o.jsxs("span",{children:["$",y(b)]})]})]})]})]}),o.jsx(W,{onClick:j,disabled:m||!i.trim()||e<.5,size:"lg",className:"w-full",children:m?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Creating Checkout Session..."})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(t0,{className:"h-4 w-4"}),o.jsxs("span",{children:["Create Destination Checkout - $",y(x)]})]})}),o.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"This will create a Stripe Checkout session with destination charges. Funds will be transferred to the connected account after fees are collected."})]})]})]})})},gne=()=>{const t=jn();return o.jsx(pne,{onBack:()=>t("/")})};class yne{async createConnectAccount(){try{console.log("Creating Stripe Connect account");const{data:e,error:n}=await re.functions.invoke("create-connect-account");if(n)throw new Error(n.message||"Account creation failed");return e}catch(e){return console.error("Stripe Connect Account Creation Error:",e),{error:e instanceof Error?e.message:"Unknown error occurred"}}}async createAccountLink(e,n,r){try{console.log("Creating account link for:",e);const{data:s,error:i}=await re.functions.invoke("create-connect-account-link",{body:{account:e,returnUrl:n,refreshUrl:r}});if(i)throw new Error(i.message||"Account link creation failed");return s}catch(s){return console.error("Account Link Creation Error:",s),{error:s instanceof Error?s.message:"Unknown error occurred"}}}}const l_=new yne,vne=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(!1),[s,i]=v.useState(),[a,c]=v.useState(!1),[l,u]=v.useState(),{toast:d}=_e();v.useEffect(()=>{const m=new URLSearchParams(window.location.search),g=m.get("success"),p=m.get("refresh"),y=m.get("account");g==="true"&&y?(i(y),c(!0),d({title:"Onboarding Successful",description:"Your Stripe account has been set up successfully!"}),window.history.replaceState({},document.title,window.location.pathname)):p==="true"&&y&&(i(y),d({title:"Please Complete Onboarding",description:"Please complete the onboarding process to activate your account.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname))},[d]);const f=async()=>{e(!0),u(void 0);try{const m=await l_.createConnectAccount();if(m.account)i(m.account),d({title:"Account Created",description:"Your Stripe Connect account has been created successfully."});else throw new Error(m.error||"Failed to create Stripe account")}catch(m){const g=m instanceof Error?m.message:"An unexpected error occurred";u(g),d({title:"Account Creation Failed",description:g,variant:"destructive"})}finally{e(!1)}},h=async()=>{if(s){r(!0),u(void 0);try{const m=await l_.createAccountLink(s);if(m.url)window.open(m.url,"_blank"),d({title:"Onboarding Link Created",description:"Please complete the onboarding process in the new tab."});else throw new Error(m.error||"Failed to create account link")}catch(m){const g=m instanceof Error?m.message:"An unexpected error occurred";u(g),d({title:"Link Creation Failed",description:g,variant:"destructive"})}finally{r(!1)}}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Stripe Connect Account Links"}),o.jsx("p",{className:"text-muted-foreground",children:"Set up your account using Stripe's hosted onboarding"})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-5 w-5"}),"Account Setup with Links"]})}),o.jsxs(U,{className:"space-y-4",children:[!s&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Step 1: Create Your Stripe Account"}),o.jsx("p",{className:"text-muted-foreground",children:"First, we'll create a Stripe Connect account for you."}),o.jsx(W,{onClick:f,disabled:t,size:"lg",className:"w-full max-w-sm",children:t?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Stripe Account"})]}),s&&!a&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(At,{className:"h-5 w-5 text-green-500"}),o.jsx("span",{className:"text-green-600 font-medium",children:"Account Created"})]}),o.jsx("h3",{className:"text-xl font-semibold",children:"Step 2: Complete Onboarding"}),o.jsx("p",{className:"text-muted-foreground",children:"Now complete your account setup through Stripe's secure onboarding process."}),o.jsx(W,{onClick:h,disabled:n,size:"lg",className:"w-full max-w-sm",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Dt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Link..."]}):o.jsxs(o.Fragment,{children:[o.jsx(fr,{className:"h-4 w-4 mr-2"}),"Complete Onboarding"]})})]}),a&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(At,{className:"h-5 w-5 text-green-500"}),o.jsx("span",{className:"text-green-600 font-medium text-lg",children:"Setup Complete!"})]}),o.jsx("h3",{className:"text-xl font-semibold",children:"Ready to Accept Payments"}),o.jsx("p",{className:"text-muted-foreground",children:"Your Stripe Connect account is now set up and ready to process payments."})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 p-4 bg-destructive/10 border border-destructive/20 rounded-md",children:[o.jsx(ii,{className:"h-5 w-5 text-destructive"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-destructive font-medium",children:"Error"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l})]})]}),s&&o.jsxs("div",{className:"space-y-3 p-4 bg-muted rounded-md",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Development Information"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ge,{variant:"secondary",children:"Account ID:"}),o.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded font-mono",children:s})]}),a&&o.jsx(Ge,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:"Onboarding Completed"})]}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," This implementation uses Stripe's Account Links for onboarding, which redirects users to Stripe's hosted onboarding flow."," ",o.jsxs("a",{href:"https://docs.stripe.com/connect/account-links",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline hover:no-underline",children:["View documentation",o.jsx(fr,{className:"h-3 w-3"})]})]})})]})]})]})})},xne=()=>o.jsx(vne,{}),wne=()=>{const t="https://connect.stripe.com/oauth/authorize?redirect_uri=https://connect.stripe.com/hosted/oauth&client_id=ca_SUl4mrgUhkYhtYT8RluxfWhlrtxzYZyF&state=onbrd_SVREc6MpeyXyNQ6t3k6iyrESSc&response_type=code&scope=read_write&stripe_user[country]=US",e=()=>{window.open(t,"_blank")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Connect Your Stripe Account"}),o.jsx("p",{className:"text-muted-foreground",children:"Securely connect your existing Stripe account or create a new one"})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-5 w-5"}),"Stripe Connect OAuth"]})}),o.jsxs(U,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-xl font-semibold",children:"Ready to Connect"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Click the button below to securely connect your Stripe account through Stripe's official OAuth flow. This will allow you to accept payments and manage your account directly through our platform."})]}),o.jsxs(W,{onClick:e,size:"lg",className:"w-full max-w-sm",children:[o.jsx(fr,{className:"h-4 w-4 mr-2"}),"Connect Stripe Account"]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5 text-green-500"}),"Security Features"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(At,{className:"h-4 w-4 text-green-500"}),"Official Stripe OAuth flow"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(At,{className:"h-4 w-4 text-green-500"}),"Secure token-based authentication"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(At,{className:"h-4 w-4 text-green-500"}),"Read/write permissions for full functionality"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(At,{className:"h-4 w-4 text-green-500"}),"Pre-configured for US accounts"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-lg",children:"What Happens Next?"}),o.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("li",{className:"flex gap-3",children:[o.jsx(Ge,{variant:"outline",className:"min-w-fit",children:"1"}),o.jsx("span",{children:"You'll be redirected to Stripe's secure connection page"})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx(Ge,{variant:"outline",className:"min-w-fit",children:"2"}),o.jsx("span",{children:"Sign in to your existing Stripe account or create a new one"})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx(Ge,{variant:"outline",className:"min-w-fit",children:"3"}),o.jsx("span",{children:"Authorize the connection and return to our platform"})]}),o.jsxs("li",{className:"flex gap-3",children:[o.jsx(Ge,{variant:"outline",className:"min-w-fit",children:"4"}),o.jsx("span",{children:"Start accepting payments immediately"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," This connection uses Stripe's official OAuth protocol, ensuring the highest level of security. Your account credentials are never shared with our platform - only secure access tokens are exchanged."]})}),o.jsxs("div",{className:"p-4 bg-muted rounded-md",children:[o.jsx("h5",{className:"font-semibold text-sm mb-2",children:"Technical Details"}),o.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground font-mono",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Client ID:"})," ca_SUl4mrgUhkYhtYT8RluxfWhlrtxzYZyF"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Scope:"})," read_write"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Country:"})," US (pre-configured)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Response Type:"})," code"]})]})]})]})]})]})})};var p1="Checkbox",[bne,ese]=Ns(p1),[jne,Ene]=bne(p1),nO=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=t,[h,m]=v.useState(null),g=Xe(e,j=>m(j)),p=v.useRef(!1),y=h?d||!!h.closest("form"):!0,[x=!1,w]=si({prop:s,defaultProp:i,onChange:u}),b=v.useRef(x);return v.useEffect(()=>{const j=h?.form;if(j){const E=()=>w(b.current);return j.addEventListener("reset",E),()=>j.removeEventListener("reset",E)}},[h,w]),o.jsxs(jne,{scope:n,state:x,disabled:c,children:[o.jsx(Ne.button,{type:"button",role:"checkbox","aria-checked":io(x)?"mixed":x,"aria-required":a,"data-state":iO(x),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:g,onKeyDown:ge(t.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:ge(t.onClick,j=>{w(E=>io(E)?!0:!E),y&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),y&&o.jsx(Ane,{control:h,bubbles:!p.current,name:r,value:l,checked:x,required:a,disabled:c,form:d,style:{transform:"translateX(-100%)"},defaultChecked:io(i)?!1:i})]})});nO.displayName=p1;var rO="CheckboxIndicator",sO=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Ene(rO,n);return o.jsx(mi,{present:r||io(i.state)||i.state===!0,children:o.jsx(Ne.span,{"data-state":iO(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});sO.displayName=rO;var Ane=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,a=v.useRef(null),c=vg(n),l=Pp(e);v.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const g=new Event("click",{bubbles:r});d.indeterminate=io(n),m.call(d,io(n)?!1:n),d.dispatchEvent(g)}},[c,n,r]);const u=v.useRef(io(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function io(t){return t==="indeterminate"}function iO(t){return io(t)?"indeterminate":t?"checked":"unchecked"}var oO=nO,_ne=sO;const aO=v.forwardRef(({className:t,...e},n)=>o.jsx(oO,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(_ne,{className:me("flex items-center justify-center text-current"),children:o.jsx(ek,{className:"h-4 w-4"})})}));aO.displayName=oO.displayName;class Sne{async createAndOnboardCustomAccount(e){try{console.log("Creating custom Stripe account:",e);const{data:n,error:r}=await re.functions.invoke("create-custom-stripe-account",{body:e});if(r)throw new Error(r.message||"Custom account creation failed");return n}catch(n){throw console.error("Custom Stripe Account Error:",n),n}}async updateCustomAccount(e,n){try{console.log("Updating custom Stripe account:",e,n);const{data:r,error:s}=await re.functions.invoke("update-custom-stripe-account",{body:{accountId:e,...n}});if(s)throw new Error(s.message||"Custom account update failed");return r}catch(r){throw console.error("Custom Account Update Error:",r),r}}async getAccountRequirements(e){try{console.log("Getting account requirements for:",e);const{data:n,error:r}=await re.functions.invoke("get-account-requirements",{body:{accountId:e}});if(r)throw new Error(r.message||"Failed to get account requirements");return n}catch(n){throw console.error("Get Account Requirements Error:",n),n}}}const cO=new Sne,Nne=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(null),[s,i]=v.useState(!1),{toast:a}=_e(),c=Tg({defaultValues:{productDescription:"",supportPhone:"",businessUrl:"",accountHolderName:"",routingNumber:"",accountNumber:"",tosAccepted:!1}}),l=async u=>{if(!u.tosAccepted){a({title:"Terms Required",description:"You must accept the terms of service to continue.",variant:"destructive"});return}e(!0);try{console.log("Starting custom account onboarding:",u);const d=await cO.createAndOnboardCustomAccount({businessProfile:{productDescription:u.productDescription,supportPhone:u.supportPhone,url:u.businessUrl},externalAccount:{accountHolderName:u.accountHolderName,routingNumber:u.routingNumber,accountNumber:u.accountNumber},tosAcceptance:{userAgent:navigator.userAgent}});if(d.success&&d.data)r(d.data.accountId),i(!0),a({title:"Account Created Successfully",description:"Your custom Stripe account has been set up and is ready for use."});else throw new Error(d.error||"Failed to create custom account")}catch(d){console.error("Custom onboarding error:",d),a({title:"Onboarding Failed",description:d instanceof Error?d.message:"Failed to complete onboarding",variant:"destructive"})}finally{e(!1)}};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsxs(F,{children:[o.jsx(K,{className:"text-center",children:o.jsxs(Q,{className:"flex items-center justify-center gap-2 text-green-600",children:[o.jsx(an,{className:"h-6 w-6"}),"Custom Account Setup Complete"]})}),o.jsxs(U,{className:"text-center space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Your custom Stripe Connect account has been successfully created and configured."}),n&&o.jsxs("div",{className:"p-4 bg-muted rounded-md",children:[o.jsx("p",{className:"text-sm font-medium",children:"Account ID:"}),o.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded font-mono",children:n})]}),o.jsx(W,{onClick:()=>window.location.href="/",children:"Return to Dashboard"})]})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Custom Account Setup"}),o.jsx("p",{className:"text-muted-foreground",children:"Complete your custom Stripe Connect account onboarding"})]}),o.jsx(Pg,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(l),className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(qu,{className:"h-5 w-5"}),"Business Information"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsx(Sn,{control:c.control,name:"productDescription",render:({field:u})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Product Description"}),o.jsx(gn,{children:o.jsx(Ng,{placeholder:"Describe your business and the products/services you sell",...u,disabled:t})}),o.jsx(kn,{})]})}),o.jsx(Sn,{control:c.control,name:"supportPhone",render:({field:u})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Support Phone Number"}),o.jsx(gn,{children:o.jsx(fe,{type:"tel",placeholder:"+1 (555) 123-4567",...u,disabled:t})}),o.jsx(kn,{})]})}),o.jsx(Sn,{control:c.control,name:"businessUrl",render:({field:u})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Business Website"}),o.jsx(gn,{children:o.jsx(fe,{type:"url",placeholder:"https://your-business.com",...u,disabled:t})}),o.jsx(kn,{})]})})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-5 w-5"}),"Bank Account Information"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsx(Sn,{control:c.control,name:"accountHolderName",render:({field:u})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Account Holder Name"}),o.jsx(gn,{children:o.jsx(fe,{placeholder:"John Doe or Business Name",...u,disabled:t})}),o.jsx(kn,{})]})}),o.jsx(Sn,{control:c.control,name:"routingNumber",render:({field:u})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Routing Number"}),o.jsx(gn,{children:o.jsx(fe,{placeholder:"9-digit routing number",...u,disabled:t})}),o.jsx(kn,{})]})}),o.jsx(Sn,{control:c.control,name:"accountNumber",render:({field:u})=>o.jsxs(mn,{children:[o.jsx(pn,{children:"Account Number"}),o.jsx(gn,{children:o.jsx(fe,{placeholder:"Bank account number",...u,disabled:t})}),o.jsx(kn,{})]})})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Np,{className:"h-5 w-5"}),"Terms and Conditions"]})}),o.jsx(U,{children:o.jsx(Sn,{control:c.control,name:"tosAccepted",render:({field:u})=>o.jsxs(mn,{className:"flex flex-row items-start space-x-3 space-y-0",children:[o.jsx(gn,{children:o.jsx(aO,{checked:u.value,onCheckedChange:u.onChange,disabled:t})}),o.jsx("div",{className:"space-y-1 leading-none",children:o.jsx(pn,{children:"I accept the Stripe Connected Account Agreement and authorize this application to access my account"})})]})})})]}),o.jsx(W,{type:"submit",disabled:t,className:"w-full",size:"lg",children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Setting up account..."]}):"Complete Custom Account Setup"})]})}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Custom Account:"})," This setup provides full control over the onboarding experience. All information is collected upfront to minimize future disruptions."]})})]})})},kne=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(!1),[s,i]=v.useState(null),{toast:a}=_e(),c=d=>d==="complete"||d==="enabled"?o.jsx(At,{className:"h-5 w-5 text-green-600"}):d.includes("restricted")||d.includes("rejected")?o.jsx(bp,{className:"h-5 w-5 text-red-600"}):o.jsx(ii,{className:"h-5 w-5 text-yellow-600"}),l=d=>d==="complete"||d==="enabled"?"text-green-600 bg-green-50 border-green-200":d.includes("restricted")||d.includes("rejected")?"text-red-600 bg-red-50 border-red-200":"text-yellow-600 bg-yellow-50 border-yellow-200",u=async()=>{if(!t.trim()){a({title:"Account ID Required",description:"Please enter a valid account ID.",variant:"destructive"});return}r(!0);try{const d=await cO.getAccountRequirements(t.trim());if(d.success&&d.data)i(d.data),a({title:"Account Information Retrieved",description:`Account state: ${d.data.state}`});else throw new Error(d.error||"Failed to get account information")}catch(d){console.error("Account info error:",d),i(null),a({title:"Failed to Get Account Info",description:d instanceof Error?d.message:"Failed to retrieve account information",variant:"destructive"})}finally{r(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(Oj,{className:"h-5 w-5"}),"Account Lookup"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"accountId",children:"Stripe Account ID"}),o.jsx(fe,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:t,onChange:d=>e(d.target.value),disabled:n})]}),o.jsx(W,{onClick:u,disabled:n||!t.trim(),children:n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oj,{className:"h-4 w-4"}),"Get Account Info"]})})]})]}),s&&o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center justify-between",children:["Account Information",o.jsx(W,{variant:"outline",size:"sm",onClick:u,disabled:n,children:o.jsx(Eo,{className:"h-4 w-4"})})]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Account ID"}),o.jsx("p",{className:"font-mono text-sm",children:s.accountId})]}),o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),o.jsxs("div",{className:`flex items-center gap-2 mt-1 px-3 py-1 rounded border ${l(s.state)}`,children:[c(s.state),o.jsx("span",{className:"text-sm font-medium",children:s.state})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Charges Enabled"}),o.jsx("p",{className:`text-sm font-medium ${s.chargesEnabled?"text-green-600":"text-red-600"}`,children:s.chargesEnabled?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Payouts Enabled"}),o.jsx("p",{className:`text-sm font-medium ${s.payoutsEnabled?"text-green-600":"text-red-600"}`,children:s.payoutsEnabled?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Details Submitted"}),o.jsx("p",{className:`text-sm font-medium ${s.detailsSubmitted?"text-green-600":"text-yellow-600"}`,children:s.detailsSubmitted?"Yes":"No"})]})]}),s.requirements.currentlyDue.length>0&&o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Currently Due Requirements"}),o.jsx("div",{className:"mt-2 space-y-1",children:s.requirements.currentlyDue.map((d,f)=>o.jsx("div",{className:"text-sm bg-red-50 text-red-700 px-2 py-1 rounded",children:d},f))})]}),s.requirements.eventuallyDue.length>0&&o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Eventually Due Requirements"}),o.jsx("div",{className:"mt-2 space-y-1",children:s.requirements.eventuallyDue.map((d,f)=>o.jsx("div",{className:"text-sm bg-yellow-50 text-yellow-700 px-2 py-1 rounded",children:d},f))})]}),s.requirements.pastDue.length>0&&o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Past Due Requirements"}),o.jsx("div",{className:"mt-2 space-y-1",children:s.requirements.pastDue.map((d,f)=>o.jsx("div",{className:"text-sm bg-red-100 text-red-800 px-2 py-1 rounded font-medium",children:d},f))})]}),s.requirements.disabledReason&&o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm font-medium text-muted-foreground",children:"Disabled Reason"}),o.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.requirements.disabledReason})]})]})]})]})};var g1="Radio",[Cne,lO]=Ns(g1),[Tne,Pne]=Cne(g1),uO=v.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:a,value:c="on",onCheck:l,form:u,...d}=t,[f,h]=v.useState(null),m=Xe(e,y=>h(y)),g=v.useRef(!1),p=f?u||!!f.closest("form"):!0;return o.jsxs(Tne,{scope:n,checked:s,disabled:a,children:[o.jsx(Ne.button,{type:"button",role:"radio","aria-checked":s,"data-state":hO(s),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:m,onClick:ge(t.onClick,y=>{s||l?.(),p&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})}),p&&o.jsx(Ine,{control:f,bubbles:!g.current,name:r,value:c,checked:s,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});uO.displayName=g1;var dO="RadioIndicator",fO=v.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=Pne(dO,n);return o.jsx(mi,{present:r||i.checked,children:o.jsx(Ne.span,{"data-state":hO(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});fO.displayName=dO;var Ine=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=v.useRef(null),a=vg(n),c=Pp(e);return v.useEffect(()=>{const l=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hO(t){return t?"checked":"unchecked"}var Rne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],y1="RadioGroup",[One,tse]=Ns(y1,[_g,lO]),mO=_g(),pO=lO(),[Mne,Bne]=One(y1),gO=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:a=!1,disabled:c=!1,orientation:l,dir:u,loop:d=!0,onValueChange:f,...h}=t,m=mO(n),g=yg(u),[p,y]=si({prop:i,defaultProp:s,onChange:f});return o.jsx(Mne,{scope:n,name:r,required:a,disabled:c,value:p,onValueChange:y,children:o.jsx(iR,{asChild:!0,...m,orientation:l,dir:g,loop:d,children:o.jsx(Ne.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":c?"":void 0,dir:g,...h,ref:e})})})});gO.displayName=y1;var yO="RadioGroupItem",vO=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=Bne(yO,n),a=i.disabled||r,c=mO(n),l=pO(n),u=v.useRef(null),d=Xe(e,u),f=i.value===s.value,h=v.useRef(!1);return v.useEffect(()=>{const m=p=>{Rne.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),o.jsx(oR,{asChild:!0,...c,focusable:!a,active:f,children:o.jsx(uO,{disabled:a,required:i.required,checked:f,...l,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:ge(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:ge(s.onFocus,()=>{h.current&&u.current?.click()})})})});vO.displayName=yO;var Dne="RadioGroupIndicator",xO=v.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=pO(n);return o.jsx(fO,{...s,...r,ref:e})});xO.displayName=Dne;var wO=gO,bO=vO,Lne=xO;const jO=v.forwardRef(({className:t,...e},n)=>o.jsx(wO,{className:me("grid gap-2",t),...e,ref:n}));jO.displayName=wO.displayName;const wx=v.forwardRef(({className:t,...e},n)=>o.jsx(bO,{ref:n,className:me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(Lne,{className:"flex items-center justify-center",children:o.jsx(jp,{className:"h-2.5 w-2.5 fill-current text-current"})})}));wx.displayName=bO.displayName;class Fne{async createAccountLink(e){try{console.log("Creating account link:",e);const{data:n,error:r}=await re.functions.invoke("create-account-link",{body:e});if(r)throw new Error(r.message||"Account link creation failed");return n}catch(n){throw console.error("Account Link Error:",n),n}}async getPaymentMethodConfigurations(e){try{console.log("Getting payment method configurations for:",e);const{data:n,error:r}=await re.functions.invoke("get-payment-method-configurations",{body:{accountId:e}});if(r)throw new Error(r.message||"Failed to get payment method configurations");return n}catch(n){throw console.error("Payment Method Config Error:",n),n}}async updatePaymentMethodConfiguration(e,n,r,s){try{console.log("Updating payment method configuration:",{accountId:e,configurationId:n,paymentMethod:r,preference:s});const{data:i,error:a}=await re.functions.invoke("update-payment-method-configuration",{body:{accountId:e,configurationId:n,paymentMethod:r,preference:s}});if(a)throw new Error(a.message||"Failed to update payment method configuration");return i}catch(i){throw console.error("Update Payment Method Config Error:",i),i}}async createCurrencyCheckout(e){try{console.log("Creating currency checkout session:",e);const{data:n,error:r}=await re.functions.invoke("create-currency-checkout",{body:e});if(r)throw new Error(r.message||"Currency checkout creation failed");return n}catch(n){throw console.error("Currency Checkout Error:",n),n}}}const tp=new Fne,Une=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(""),[s,i]=v.useState("currently_due"),{toast:a}=_e(),c=async()=>{if(!n.trim()){a({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}e(!0);try{const l=await tp.createAccountLink({accountId:n.trim(),refreshUrl:`${window.location.origin}/custom-stripe-onboarding?refresh=true`,returnUrl:`${window.location.origin}/custom-stripe-onboarding?success=true`,collectionType:s});if(l.success&&l.data)window.open(l.data.url,"_blank"),a({title:"Account Link Created",description:"Onboarding link opened in a new tab. Complete the process there."});else throw new Error(l.error||"Failed to create account link")}catch(l){console.error("Account link error:",l),a({title:"Failed to Create Account Link",description:l instanceof Error?l.message:"Failed to create account link",variant:"destructive"})}finally{e(!1)}};return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(uD,{className:"h-5 w-5"}),"Progressive Onboarding with Account Links"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"accountId",children:"Stripe Account ID"}),o.jsx(fe,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:l=>r(l.target.value),disabled:t})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{children:"Information Collection Type"}),o.jsxs(jO,{value:s,onValueChange:l=>i(l),disabled:t,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wx,{value:"currently_due",id:"currently_due"}),o.jsx(xe,{htmlFor:"currently_due",className:"text-sm",children:"Currently Due - Collect only immediately required information"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wx,{value:"eventually_due",id:"eventually_due"}),o.jsx(xe,{htmlFor:"eventually_due",className:"text-sm",children:"Eventually Due - Collect all required information upfront"})]})]})]}),o.jsx(W,{onClick:c,disabled:t||!n.trim(),className:"w-full",children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Creating Account Link..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(fr,{className:"h-4 w-4"}),"Create Onboarding Link"]})}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Account Links:"})," These provide a Stripe-hosted onboarding flow that's fully compliant and automatically handles all verification requirements. Perfect for progressive onboarding."]})})]})]})},$ne=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(""),[s,i]=v.useState([]),[a,c]=v.useState(null),{toast:l}=_e(),u=async()=>{if(!n.trim()){l({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}e(!0);try{const h=await tp.getPaymentMethodConfigurations(n.trim());if(h.success&&h.data)i(h.data),l({title:"Payment Methods Loaded",description:`Found ${h.data.length} payment method configurations.`});else throw new Error(h.error||"Failed to get payment method configurations")}catch(h){console.error("Payment method config error:",h),l({title:"Failed to Load Payment Methods",description:h instanceof Error?h.message:"Failed to load configurations",variant:"destructive"})}finally{e(!1)}},d=async(h,m,g)=>{c(`${h}-${m}`);try{const p=await tp.updatePaymentMethodConfiguration(n.trim(),h,m,g?"on":"off");if(p.success)await u(),l({title:"Payment Method Updated",description:`${m} has been ${g?"enabled":"disabled"}.`});else throw new Error(p.error||"Failed to update payment method")}catch(p){console.error("Update payment method error:",p),l({title:"Update Failed",description:p instanceof Error?p.message:"Failed to update payment method",variant:"destructive"})}finally{c(null)}},f=h=>({card:"Credit/Debit Cards",affirm:"Affirm",afterpay_clearpay:"Afterpay/Clearpay",sepa_debit:"SEPA Direct Debit",ideal:"iDEAL",bancontact:"Bancontact",sofort:"Sofort",giropay:"Giropay",eps:"EPS",p24:"Przelewy24",alipay:"Alipay",wechat_pay:"WeChat Pay",acss_debit:"Pre-authorized Debit"})[h]||h.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase());return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(nr,{className:"h-5 w-5"}),"Payment Method Configuration"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"accountId",children:"Stripe Account ID"}),o.jsx(fe,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:h=>r(h.target.value),disabled:t})]}),o.jsx(W,{onClick:u,disabled:t||!n.trim(),children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-4 w-4"}),"Load Payment Methods"]})})]})]}),s.map(h=>o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"text-lg",children:[h.name," Configuration",h.is_default&&o.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(Default)"})]})}),o.jsx(U,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(h).filter(([m,g])=>typeof g=="object"&&g!==null&&"available"in g&&"display_preference"in g).map(([m,g])=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium",children:f(m)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:g.available?"Available":"Not Available"})]}),o.jsx(m1,{checked:g.display_preference?.value==="on",onCheckedChange:p=>d(h.id,m,p),disabled:!g.available||a===`${h.id}-${m}`})]},m))})})]},h.id))]})},Hne=()=>{const[t,e]=v.useState(!1),[n,r]=v.useState(""),[s,i]=v.useState("USD"),[a,c]=v.useState("20.00"),[l,u]=v.useState("Sample Product"),{toast:d}=_e(),f=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"JPY",name:"Japanese Yen",symbol:""}],h=y=>({USD:["Cards","ACH Direct Debit","Affirm","Afterpay"],EUR:["Cards","SEPA Direct Debit","iDEAL","Bancontact","Sofort","Giropay"],GBP:["Cards","Bacs Direct Debit","Klarna"],CAD:["Cards","Pre-authorized Debit"],AUD:["Cards","BECS Direct Debit"],JPY:["Cards","Konbini"]})[y]||["Cards"],m=async()=>{if(!n.trim()){d({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}if(!a||parseFloat(a)<=0){d({title:"Invalid Amount",description:"Please enter a valid amount.",variant:"destructive"});return}e(!0);try{const y=Math.round(parseFloat(a)*100),x=await tp.createCurrencyCheckout({accountId:n.trim(),currency:s,amount:y,productName:l,successUrl:`${window.location.origin}/custom-stripe-onboarding?checkout=success`,cancelUrl:`${window.location.origin}/custom-stripe-onboarding?checkout=cancelled`});if(x.success&&x.data)window.open(x.data.url,"_blank"),d({title:"Checkout Created",description:"Checkout session opened in a new tab."});else throw new Error(x.error||"Failed to create checkout session")}catch(y){console.error("Checkout error:",y),d({title:"Checkout Failed",description:y instanceof Error?y.message:"Failed to create checkout session",variant:"destructive"})}finally{e(!1)}},g=f.find(y=>y.code===s),p=h(s);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(aD,{className:"h-5 w-5"}),"Currency-Based Checkout Demo"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"accountId",children:"Connected Account ID"}),o.jsx(fe,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:y=>r(y.target.value),disabled:t})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"currency",children:"Currency"}),o.jsxs(no,{value:s,onValueChange:i,disabled:t,children:[o.jsx(Zs,{children:o.jsx(ro,{placeholder:"Select currency"})}),o.jsx(Xs,{children:f.map(y=>o.jsxs(Rt,{value:y.code,children:[y.code," - ",y.name]},y.code))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{htmlFor:"amount",children:["Amount (",g?.symbol,")"]}),o.jsx(fe,{id:"amount",type:"number",step:"0.01",min:"0.50",placeholder:"20.00",value:a,onChange:y=>c(y.target.value),disabled:t})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"productName",children:"Product Name"}),o.jsx(fe,{id:"productName",placeholder:"Sample Product",value:l,onChange:y=>u(y.target.value),disabled:t})]}),o.jsx(W,{onClick:m,disabled:t||!n.trim(),className:"w-full",children:t?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Creating Checkout..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-4 w-4"}),"Create ",s," Checkout"]})})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"text-lg",children:["Available Payment Methods for ",s]})}),o.jsxs(U,{children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:p.map(y=>o.jsx("div",{className:"p-2 bg-muted rounded text-sm text-center",children:y},y))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Payment methods automatically adapt based on the selected currency and connected account's location."})]})]})]})},zne=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-6xl",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Advanced Stripe Connect"}),o.jsx("p",{className:"text-muted-foreground",children:"Complete Stripe Connect platform with advanced features"})]}),o.jsxs(Oa,{defaultValue:"custom-onboard",className:"space-y-6",children:[o.jsxs(Po,{className:"grid w-full grid-cols-5",children:[o.jsx(rt,{value:"custom-onboard",children:"Custom Onboarding"}),o.jsx(rt,{value:"account-links",children:"Account Links"}),o.jsx(rt,{value:"manage",children:"Account Manager"}),o.jsx(rt,{value:"payment-methods",children:"Payment Methods"}),o.jsx(rt,{value:"currency-demo",children:"Currency Demo"})]}),o.jsx(st,{value:"custom-onboard",children:o.jsx(Nne,{})}),o.jsx(st,{value:"account-links",children:o.jsx(Une,{})}),o.jsx(st,{value:"manage",children:o.jsx(kne,{})}),o.jsx(st,{value:"payment-methods",children:o.jsx($ne,{})}),o.jsx(st,{value:"currency-demo",children:o.jsx(Hne,{})})]})]})});class Vne{async createExpressAccount(e){try{console.log("Creating Express account with prefilled data:",e);const{data:n,error:r}=await re.functions.invoke("create-prefilled-express-account",{body:e});if(r)throw new Error(r.message||"Express account creation failed");return n}catch(n){throw console.error("Express Account Creation Error:",n),n}}async createCustomAccount(e){try{console.log("Creating Custom account with prefilled data:",e);const{data:n,error:r}=await re.functions.invoke("create-prefilled-custom-account",{body:e});if(r)throw new Error(r.message||"Custom account creation failed");return n}catch(n){throw console.error("Custom Account Creation Error:",n),n}}async createStandardAccount(e){try{console.log("Creating Standard account with prefilled data:",e);const{data:n,error:r}=await re.functions.invoke("create-prefilled-standard-account",{body:e});if(r)throw new Error(r.message||"Standard account creation failed");return n}catch(n){throw console.error("Standard Account Creation Error:",n),n}}async updateAccountWithPrefill(e,n){try{console.log("Updating account with prefilled data:",e,n);const{data:r,error:s}=await re.functions.invoke("update-prefilled-account",{body:{accountId:e,...n}});if(s)throw new Error(s.message||"Account update failed");return r}catch(r){throw console.error("Account Update Error:",r),r}}}const rv=new Vne,Gne=({onResultsUpdate:t})=>{const[e,n]=v.useState(!1),r=async()=>{n(!0);const s=[];s.push({name:"Express Account Creation",status:"pending"}),t([...s]);try{const i=await rv.createExpressAccount({email:"test-express@example.com",country:"US",accountType:"express",businessType:"individual",businessName:"Test Express Business",productDescription:"Test product for Express account",firstName:"John",lastName:"Doe",userId:"test_express_user",platformSource:"test_suite"});s[s.length-1]={name:"Express Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Express account"}}catch(i){s[s.length-1]={name:"Express Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}t([...s]),s.push({name:"Custom Account Creation",status:"pending"}),t([...s]);try{const i=await rv.createCustomAccount({email:"test-custom@example.com",country:"US",accountType:"custom",businessType:"company",businessName:"Test Custom Business",productDescription:"Test product for Custom account",companyName:"Test Custom Corp",taxId:"12-3456789",userId:"test_custom_user",platformSource:"test_suite"});s[s.length-1]={name:"Custom Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Custom account"}}catch(i){s[s.length-1]={name:"Custom Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}t([...s]),s.push({name:"Standard Account Creation",status:"pending"}),t([...s]);try{const i=await rv.createStandardAccount({email:"test-standard@example.com",country:"US",accountType:"standard",businessType:"individual",businessName:"Test Standard Business",userId:"test_standard_user",platformSource:"test_suite"});s[s.length-1]={name:"Standard Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Standard account"}}catch(i){s[s.length-1]={name:"Standard Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}t([...s]),n(!1)};return o.jsx(W,{onClick:r,disabled:e,className:"w-full",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Running Prefilled Account Tests..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yD,{className:"h-4 w-4"}),"Run Prefilled Account Creation Tests"]})})},Wne=({status:t})=>{switch(t){case"success":return o.jsx(At,{className:"h-4 w-4 text-green-500"});case"error":return o.jsx(bp,{className:"h-4 w-4 text-red-500"});default:return o.jsx(Dt,{className:"h-4 w-4 animate-spin"})}},qne=({status:t})=>{switch(t){case"success":return o.jsx(Ge,{variant:"default",className:"bg-green-500",children:"Pass"});case"error":return o.jsx(Ge,{variant:"destructive",children:"Fail"});default:return o.jsx(Ge,{variant:"secondary",children:"Testing..."})}},Kne=({result:t})=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wne,{status:t.status}),o.jsx("span",{className:"text-sm",children:t.name})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qne,{status:t.status}),t.message&&o.jsx("span",{className:"text-xs text-muted-foreground max-w-40 truncate",children:t.message})]})]}),Qne=({results:t})=>t.length===0?null:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Test Results:"}),t.map((e,n)=>o.jsx(Kne,{result:e},n))]}),Yne=()=>{const[t,e]=v.useState([]);return o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(vD,{className:"h-5 w-5"}),"Stripe Integration Test Suite"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsx(Gne,{onResultsUpdate:e}),o.jsx(Qne,{results:t}),o.jsx("div",{className:"p-3 bg-green-50 rounded-md border border-green-200",children:o.jsxs("p",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"HTTPS Ready:"})," This test suite automatically detects your current protocol (HTTP/HTTPS) and configures all URLs accordingly. Your Stripe integration will work properly over HTTPS in production."]})}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-200",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Note:"})," This test suite verifies that all Stripe edge functions are deployed and working correctly. The tests create minimal test data to verify connectivity without affecting real transactions."]})})]})]})},Jne=()=>{const[t,e]=v.useState(!1),{toast:n}=_e(),r=v.useCallback(async s=>{e(!0);try{console.log("Capturing Stripe charge:",s);const i=await Yh.captureCharge(s);if(!i.success)throw new Error(i.error||"Charge capture failed");return n({title:"Charge Captured",description:`Charge ${s.chargeId} has been captured successfully.`}),i.data}catch(i){throw console.error("Charge capture error:",i),n({title:"Charge Capture Failed",description:i instanceof Error?i.message:"Failed to capture charge",variant:"destructive"}),i}finally{e(!1)}},[n]);return{loading:t,captureCharge:r}},Zne=()=>{const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState("full"),{loading:a,captureCharge:c}=Jne(),l=async()=>{if(!t.trim())return;const u={chargeId:t.trim()};s==="partial"&&n&&(u.amount=Math.round(parseFloat(n)*100));try{await c(u),e(""),r(""),i("full")}catch{}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(an,{className:"h-5 w-5"}),"Stripe Charge Capture"]})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"chargeId",children:"Charge ID"}),o.jsx(fe,{id:"chargeId",placeholder:"ch_1234567890abcdef",value:t,onChange:u=>e(u.target.value),disabled:a}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the Stripe charge ID to capture (e.g., ch_3Ln3cj2eZvKYlo2C1lcnB8f6)"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{children:"Capture Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"captureType",value:"full",checked:s==="full",onChange:()=>i("full"),disabled:a}),o.jsx("span",{children:"Full Capture"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"captureType",value:"partial",checked:s==="partial",onChange:()=>i("partial"),disabled:a}),o.jsx("span",{children:"Partial Capture"})]})]})]}),s==="partial"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"amount",children:"Amount to Capture ($)"}),o.jsx(fe,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"10.00",value:n,onChange:u=>r(u.target.value),disabled:a})]}),o.jsx(W,{onClick:l,disabled:a||!t.trim()||s==="partial"&&!n,className:"w-full",children:a?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),"Capturing Charge..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(It,{className:"h-4 w-4"}),s==="full"?"Capture Full Amount":`Capture $${n||"0.00"}`]})})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{className:"text-lg",children:"About Charge Capture"})}),o.jsx(U,{children:o.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Authorization vs Capture:"})," Some charges are authorized but not captured immediately"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Full Capture:"})," Captures the entire authorized amount"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Partial Capture:"})," Captures only part of the authorized amount"]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Time Limit:"})," Authorized charges must be captured within 7 days"]})]})})]})]})},Xne=()=>{const t=jn();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Stripe Integration Test"})]}),o.jsxs(Oa,{defaultValue:"integration",className:"w-full",children:[o.jsxs(Po,{className:"grid w-full grid-cols-2",children:[o.jsx(rt,{value:"integration",children:"Integration Tests"}),o.jsx(rt,{value:"capture",children:"Charge Capture"})]}),o.jsx(st,{value:"integration",className:"space-y-4",children:o.jsx(Yne,{})}),o.jsx(st,{value:"capture",className:"space-y-4",children:o.jsx(Zne,{})})]})]})})},ere=()=>{const t=[{name:"Stripe Payment Integration",status:"passing",description:"Payment processing is working correctly"},{name:"User Authentication",status:"passing",description:"Google OAuth and email auth functional"},{name:"Database Connections",status:"passing",description:"Supabase connection established"},{name:"Affiliate Tracking",status:"passing",description:"Partner integrations are active"},{name:"Payout Processing",status:"warning",description:"Some manual verification required"}],e=r=>{switch(r){case"passing":return o.jsx(At,{className:"h-4 w-4 text-green-500"});case"warning":return o.jsx(ii,{className:"h-4 w-4 text-yellow-500"});default:return o.jsx(oi,{className:"h-4 w-4 text-gray-500"})}},n=r=>{switch(r){case"passing":return o.jsx(Ge,{className:"bg-green-100 text-green-800",children:"Passing"});case"warning":return o.jsx(Ge,{className:"bg-yellow-100 text-yellow-800",children:"Warning"});default:return o.jsx(Ge,{variant:"secondary",children:"Pending"})}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Ut,{to:"/",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Production Test Dashboard"})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"System Status Overview"})}),o.jsx(U,{children:o.jsx("div",{className:"space-y-4",children:t.map((r,s)=>o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[e(r.status),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:r.name}),o.jsx("p",{className:"text-sm text-gray-600",children:r.description})]})]}),n(r.status)]},s))})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{className:"text-lg",children:"Active Users"})}),o.jsxs(U,{children:[o.jsx("div",{className:"text-3xl font-bold text-green-600",children:"1,247"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Currently online"})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{className:"text-lg",children:"Transactions Today"})}),o.jsxs(U,{children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"89"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Successful payments"})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{className:"text-lg",children:"System Uptime"})}),o.jsxs(U,{children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"99.9%"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Last 30 days"})]})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Recent Activity"})}),o.jsx(U,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Payment processor health check"}),o.jsx(Ge,{className:"bg-green-100 text-green-800",children:"Completed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Database backup verification"}),o.jsx(Ge,{className:"bg-green-100 text-green-800",children:"Completed"})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:"Affiliate link validation"}),o.jsx(Ge,{className:"bg-yellow-100 text-yellow-800",children:"In Progress"})]})]})})]})]})})};class tre{async fetchBalanceTransactions(e){try{console.log("Fetching balance transactions:",e);const{data:n,error:r}=await re.functions.invoke("fetch-balance-transactions",{body:e});if(r)throw new Error(r.message||"Failed to fetch balance transactions");return n}catch(n){throw console.error("Balance Transaction Service Error:",n),n}}async getBalanceTransaction(e){try{console.log("Fetching balance transaction:",e);const{data:n,error:r}=await re.functions.invoke("get-balance-transaction",{body:{transactionId:e}});if(r)throw new Error(r.message||"Failed to fetch balance transaction");return n.data}catch(n){throw console.error("Get Balance Transaction Error:",n),n}}}const nre=new tre,EO=()=>{const[t,e]=v.useState([]),[n,r]=v.useState(!1),[s,i]=v.useState(!1),[a,c]=v.useState(null),{toast:l}=_e(),u=v.useCallback(async(m={},g=!1)=>{r(!0),c(null);try{const p=await nre.fetchBalanceTransactions(m);if(!p.success)throw new Error(p.error||"Failed to fetch transactions");e(g?y=>[...y,...p.data.data]:p.data.data),i(p.data.has_more)}catch(p){const y=p instanceof Error?p.message:"Failed to fetch transactions";c(y),l({title:"Error",description:y,variant:"destructive"})}finally{r(!1)}},[l]),d=v.useCallback(async m=>{if(!s||n||t.length===0)return;const g=t[t.length-1];await u({starting_after:g.id,filters:m},!0)},[s,n,t,u]),f=v.useCallback(async m=>{await u({filters:m})},[u]),h=v.useCallback(async()=>{await u()},[u]);return{transactions:t,loading:n,hasMore:s,error:a,fetchTransactions:u,loadMore:d,applyFilters:f,refresh:h}},rre=()=>{const{transactions:t,loading:e,fetchTransactions:n}=EO(),[r,s]=v.useState({totalIn:0,totalOut:0,netAmount:0,totalFees:0,transactionCount:0});v.useEffect(()=>{n({limit:100})},[n]),v.useEffect(()=>{if(t.length>0){const c=t.reduce((l,u)=>(u.amount>0?l.totalIn+=u.amount:l.totalOut+=Math.abs(u.amount),l.netAmount+=u.net,l.totalFees+=u.fee,l.transactionCount+=1,l),{totalIn:0,totalOut:0,netAmount:0,totalFees:0,transactionCount:0});s(c)}},[t]);const i=(c,l="usd")=>{const u=c/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:l.toUpperCase()}).format(u)},a=()=>t.sort((c,l)=>l.created-c.created).slice(0,5);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Total Incoming"}),o.jsx(Ld,{className:"h-4 w-4 text-green-600"})]}),o.jsxs(U,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:i(r.totalIn)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Money received"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Total Outgoing"}),o.jsx(ZB,{className:"h-4 w-4 text-red-600"})]}),o.jsxs(U,{children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:i(r.totalOut)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Money sent out"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Net Amount"}),o.jsx(It,{className:"h-4 w-4 text-blue-600"})]}),o.jsxs(U,{children:[o.jsx("div",{className:`text-2xl font-bold ${r.netAmount>=0?"text-green-600":"text-red-600"}`,children:i(r.netAmount)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"After fees"})]})]}),o.jsxs(F,{children:[o.jsxs(K,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Q,{className:"text-sm font-medium",children:"Total Fees"}),o.jsx(JB,{className:"h-4 w-4 text-orange-600"})]}),o.jsxs(U,{children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i(r.totalFees)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.transactionCount," transactions"]})]})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Recent Transactions"})}),o.jsx(U,{children:e?o.jsx("div",{className:"text-center py-4",children:"Loading recent transactions..."}):a().length>0?o.jsx("div",{className:"space-y-3",children:a().map(c=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${c.amount<0?"bg-red-500":"bg-green-500"}`}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium capitalize",children:c.type.replace("_"," ")}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(c.created*1e3).toLocaleDateString()})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`font-medium ${c.amount<0?"text-red-600":"text-green-600"}`,children:[c.amount<0?"-":"+",i(Math.abs(c.amount),c.currency)]}),o.jsx(Ge,{className:"text-xs",children:c.status})]})]},c.id))}):o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No recent transactions"})})]})]})},sre=({transaction:t,onViewDetails:e})=>{const n=l=>{switch(l){case"charge":case"payment":return an;case"refund":return Eo;case"transfer":return qo;case"payout":return It;default:return t.amount<0?XB:tD}},r=l=>{switch(l){case"available":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"in_transit":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},s=(l,u)=>{const d=Math.abs(l)/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:u.toUpperCase()}).format(d)},i=l=>new Date(l*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=n(t.type),c=t.amount<0;return o.jsx(F,{className:"hover:shadow-md transition-shadow",children:o.jsx(U,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${c?"bg-red-100":"bg-green-100"}`,children:o.jsx(a,{className:`h-4 w-4 ${c?"text-red-600":"text-green-600"}`})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-medium capitalize",children:t.type.replace("_"," ")}),o.jsx(Ge,{className:r(t.status),children:t.status.replace("_"," ")})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:t.description||t.reporting_category}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",i(t.created),t.available_on!==t.created&&o.jsxs("span",{className:"ml-2",children:["Available: ",i(t.available_on)]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`text-lg font-semibold ${c?"text-red-600":"text-green-600"}`,children:[c?"-":"+",s(t.amount,t.currency)]}),t.fee>0&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Fee: ",s(t.fee,t.currency)]}),o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Net: ",s(t.net,t.currency)]}),e&&o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>e(t),className:"mt-2",children:[o.jsx(fr,{className:"h-3 w-3 mr-1"}),"Details"]})]})]})})})},ire=()=>{const{transactions:t,loading:e,hasMore:n,error:r,fetchTransactions:s,loadMore:i,applyFilters:a,refresh:c}=EO(),[l,u]=v.useState({}),[d,f]=v.useState(!1);v.useEffect(()=>{s()},[s]);const h=(p,y)=>{const x={...l};y?x[p]=y:delete x[p],u(x)},m=()=>{a(l)},g=()=>{u({}),s()};return o.jsxs(F,{children:[o.jsxs(K,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Q,{className:"flex items-center gap-2",children:"Balance Transactions"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>f(!d),children:[o.jsx(oD,{className:"h-4 w-4 mr-1"}),"Filters"]}),o.jsxs(W,{variant:"outline",size:"sm",onClick:c,disabled:e,children:[o.jsx(Eo,{className:`h-4 w-4 mr-1 ${e?"animate-spin":""}`}),"Refresh"]})]})]}),d&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted rounded-md",children:[o.jsxs(no,{onValueChange:p=>h("type",p),children:[o.jsx(Zs,{children:o.jsx(ro,{placeholder:"Transaction Type"})}),o.jsxs(Xs,{children:[o.jsx(Rt,{value:"",children:"All Types"}),o.jsx(Rt,{value:"charge",children:"Charge"}),o.jsx(Rt,{value:"refund",children:"Refund"}),o.jsx(Rt,{value:"transfer",children:"Transfer"}),o.jsx(Rt,{value:"payout",children:"Payout"}),o.jsx(Rt,{value:"adjustment",children:"Adjustment"})]})]}),o.jsxs(no,{onValueChange:p=>h("status",p),children:[o.jsx(Zs,{children:o.jsx(ro,{placeholder:"Status"})}),o.jsxs(Xs,{children:[o.jsx(Rt,{value:"",children:"All Statuses"}),o.jsx(Rt,{value:"available",children:"Available"}),o.jsx(Rt,{value:"pending",children:"Pending"}),o.jsx(Rt,{value:"in_transit",children:"In Transit"})]})]}),o.jsxs(no,{onValueChange:p=>h("reporting_category",p),children:[o.jsx(Zs,{children:o.jsx(ro,{placeholder:"Category"})}),o.jsxs(Xs,{children:[o.jsx(Rt,{value:"",children:"All Categories"}),o.jsx(Rt,{value:"charge",children:"Charge"}),o.jsx(Rt,{value:"refund",children:"Refund"}),o.jsx(Rt,{value:"transfer",children:"Transfer"}),o.jsx(Rt,{value:"payout",children:"Payout"})]})]}),o.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[o.jsx(W,{onClick:m,size:"sm",children:"Apply Filters"}),o.jsx(W,{onClick:g,variant:"outline",size:"sm",children:"Clear Filters"})]})]})]}),o.jsxs(U,{children:[r&&o.jsxs("div",{className:"text-center py-8 text-red-600",children:[o.jsxs("p",{children:["Error loading transactions: ",r]}),o.jsx(W,{onClick:c,className:"mt-2",children:"Try Again"})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4",children:t.map(p=>o.jsx(sre,{transaction:p},p.id))}),t.length===0&&!e&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{children:"No balance transactions found"})}),e&&o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(Dt,{className:"h-6 w-6 animate-spin"})}),n&&!e&&o.jsx("div",{className:"text-center mt-6",children:o.jsx(W,{onClick:()=>i(l),variant:"outline",children:"Load More"})})]})]})]})},ore=()=>{const t=jn();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-6xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Balance Transactions"})]}),o.jsxs(Oa,{defaultValue:"dashboard",className:"space-y-6",children:[o.jsxs(Po,{className:"grid w-full grid-cols-2",children:[o.jsx(rt,{value:"dashboard",children:"Dashboard"}),o.jsx(rt,{value:"transactions",children:"All Transactions"})]}),o.jsx(st,{value:"dashboard",children:o.jsx(rre,{})}),o.jsx(st,{value:"transactions",children:o.jsx(ire,{})})]})]})})},are=()=>{const t=jn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(F,{className:"w-full max-w-md",children:o.jsxs(U,{className:"p-6 text-center space-y-4",children:[o.jsx(nr,{className:"h-16 w-16 text-blue-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Setup Simulation"}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-md",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(cD,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Simulation Mode Active"}),o.jsx("p",{className:"text-sm text-blue-700",children:"You're using a restricted Stripe API key. For live Express accounts and real payouts, you'll need full API access and proper Stripe Connect setup."})]})]})}),o.jsx("p",{className:"text-gray-600",children:"This is a demonstration of the account setup flow. In production, this would connect to Stripe's Express account onboarding process."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(W,{onClick:()=>t("/account-setup-success"),className:"w-full",children:"Continue to Success Page"}),o.jsxs(W,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})]})})})},cre=()=>{const t=jn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(F,{className:"w-full max-w-md",children:o.jsxs(U,{className:"p-6 text-center space-y-4",children:[o.jsx(At,{className:"h-16 w-16 text-green-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup Complete!"}),o.jsx("p",{className:"text-gray-600",children:"Your bank account has been successfully verified. You can now proceed with withdrawals."}),o.jsxs(W,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})})})},lre=()=>{const t=jn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(F,{className:"w-full max-w-md",children:o.jsxs(U,{className:"p-6 text-center space-y-4",children:[o.jsx(bp,{className:"h-16 w-16 text-red-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup Cancelled"}),o.jsx("p",{className:"text-gray-600",children:"The bank account setup process was cancelled. You can try again anytime from your dashboard."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(W,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),o.jsxs(W,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:[o.jsx(ww,{className:"h-4 w-4 mr-2"}),"Try Setup Again"]})]})]})})})},ure=()=>{const t=jn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(F,{className:"w-full max-w-md",children:o.jsxs(U,{className:"p-6 text-center space-y-4",children:[o.jsx(At,{className:"h-16 w-16 text-green-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Successful!"}),o.jsx("p",{className:"text-gray-600",children:"Your withdrawal has been processed successfully. Funds will arrive in your bank account within 1-2 business days."}),o.jsxs(W,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})})})},dre=()=>{const t=jn();return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:o.jsx(F,{className:"w-full max-w-md",children:o.jsxs(U,{className:"p-6 text-center space-y-4",children:[o.jsx(bp,{className:"h-16 w-16 text-red-500 mx-auto"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Cancelled"}),o.jsx("p",{className:"text-gray-600",children:"The withdrawal process was cancelled. Your funds remain available in your account."}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(W,{onClick:()=>t("/"),className:"w-full",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),o.jsxs(W,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:[o.jsx(ww,{className:"h-4 w-4 mr-2"}),"Try Withdrawal Again"]})]})]})})})},fre=()=>{const[t]=I6(),e=jn(),{toast:n}=_e(),[r,s]=v.useState("loading"),[i,a]=v.useState(null),c=t.get("session_id");return v.useEffect(()=>{c?(async()=>{try{s("complete"),a({customer_email:"user@example.com",amount_total:999,currency:"usd"}),n({title:"Subscription Activated!",description:"Your subscription has been successfully activated."})}catch{s("failed"),n({title:"Verification Failed",description:"Unable to verify your subscription. Please contact support.",variant:"destructive"})}})():s("no-session")},[c,n]),r==="loading"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsx(F,{children:o.jsx(U,{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Verifying your subscription..."})]})})})})}):r==="failed"||r==="no-session"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsx(F,{children:o.jsxs(U,{className:"text-center py-12",children:[o.jsxs("div",{className:"text-red-600 mb-4",children:[o.jsx("p",{className:"text-lg font-medium",children:r==="no-session"?"No session found":"Subscription verification failed"}),o.jsx("p",{className:"text-sm",children:"Please contact support if you believe this is an error."})]}),o.jsx(W,{onClick:()=>e("/"),children:"Return Home"})]})})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:o.jsxs(F,{children:[o.jsxs(K,{className:"text-center",children:[o.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(At,{className:"h-10 w-10 text-green-600"})}),o.jsx(Q,{className:"text-2xl text-green-800",children:"Subscription Activated!"})]}),o.jsxs(U,{className:"text-center space-y-6",children:[o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[o.jsx("p",{className:"text-green-800 font-medium mb-2",children:"Thank you for subscribing to EarnFlow!"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Your subscription has been successfully activated and you now have access to all premium features."})]}),i&&o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Subscription Details"}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsxs("p",{children:["Email: ",i.customer_email]}),o.jsxs("p",{children:["Amount: $",(i.amount_total/100).toFixed(2)," ",i.currency.toUpperCase()]}),o.jsx("p",{children:"Status: Active"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs(W,{onClick:()=>e("/"),size:"lg",className:"flex items-center gap-2",children:[o.jsx(sk,{className:"h-4 w-4"}),"Go to Dashboard"]}),o.jsxs(W,{onClick:()=>e("/profile"),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[o.jsx(Np,{className:"h-4 w-4"}),"Manage Subscription"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"You can manage your subscription anytime from your account settings."})]})]})})})},hre=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Ut,{to:"/",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Contact Us"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(hD,{className:"h-5 w-5"}),"Email Support"]})}),o.jsxs(U,{children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"For general inquiries and support requests"}),o.jsx("a",{href:"mailto:support@earnflow.com",className:"text-blue-600 hover:text-blue-800 font-medium",children:"support@earnflow.com"})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(mD,{className:"h-5 w-5"}),"Live Chat"]})}),o.jsxs(U,{children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Available Monday-Friday, 9 AM - 6 PM EST"}),o.jsx(W,{className:"w-full",children:"Start Live Chat"})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsxs(Q,{className:"flex items-center gap-2",children:[o.jsx(gD,{className:"h-5 w-5"}),"Phone Support"]})}),o.jsxs(U,{children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"For urgent matters and payment issues"}),o.jsx("a",{href:"tel:+1-555-EARNFLOW",className:"text-blue-600 hover:text-blue-800 font-medium",children:"+1 (555) EARN-FLOW"})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Business Hours"})}),o.jsx(U,{children:o.jsxs("div",{className:"space-y-2 text-gray-600",children:[o.jsx("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM EST"}),o.jsx("p",{children:"Saturday: 10:00 AM - 4:00 PM EST"}),o.jsx("p",{children:"Sunday: Closed"})]})})]})]}),o.jsxs(F,{children:[o.jsx(K,{children:o.jsx(Q,{children:"Frequently Asked Questions"})}),o.jsxs(U,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"How do I get paid?"}),o.jsx("p",{className:"text-gray-600",children:"Payments are processed through Stripe and other secure payment processors. You can set up automatic payouts or request manual withdrawals."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"When do I receive my earnings?"}),o.jsx("p",{className:"text-gray-600",children:"Earnings are typically processed within 2-3 business days after completion of tasks and verification of partner commissions."})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"Is my personal information safe?"}),o.jsx("p",{className:"text-gray-600",children:"Yes, we use industry-standard encryption and never sell your personal information to third parties. View our Privacy Policy for more details."})]})]})]})]})}),mre=()=>o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(W,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Ut,{to:"/",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"About EarnFlow"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 space-y-6",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Our Mission"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"EarnFlow is a platform that connects users with real earning opportunities through affiliate partnerships and ad revenue sharing. We believe in transparent, fair compensation for user engagement and provide secure payment processing through trusted partners."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"How It Works"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:" Complete tasks and interact with partner advertisements"}),o.jsx("p",{className:"text-gray-700",children:" Earn commissions through verified affiliate partnerships"}),o.jsx("p",{className:"text-gray-700",children:" Receive secure payments via Stripe and other trusted processors"}),o.jsx("p",{className:"text-gray-700",children:" Track your earnings and payment history in real-time"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Privacy & Security"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your privacy is our priority. We collect minimal personal information, use industry-standard encryption, and never sell your data to third parties. All payments are processed through secure, PCI-compliant payment processors."})]})]})]})}),pre=()=>{const t=xl();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},gre=()=>{const t=jn(),e=()=>{t("/dashboard")};return o.jsx(UC,{onBack:e})},yre=[{title:"Home",to:"/",icon:o.jsx(sk,{className:"h-4 w-4"}),page:o.jsx(FC,{})},{title:"Dashboard",to:"/dashboard",icon:o.jsx(Rj,{className:"h-4 w-4"}),page:o.jsx(DX,{})},{title:"Ad Revenue",to:"/ad-revenue",icon:o.jsx(It,{className:"h-4 w-4"}),page:o.jsx(GX,{})},{title:"Affiliate Revenue",to:"/affiliate-revenue",icon:o.jsx(hr,{className:"h-4 w-4"}),page:o.jsx(KX,{})},{title:"Bitcoin Wallet",to:"/bitcoin-wallet",icon:o.jsx(js,{className:"h-4 w-4"}),page:o.jsx(YX,{})},{title:"EVM Networks",to:"/evm-wallet",icon:o.jsx(un,{className:"h-4 w-4"}),page:o.jsx(iee,{})},{title:"Decentralized Wallet",to:"/decentralized-wallet",icon:o.jsx(un,{className:"h-4 w-4"}),page:o.jsx(ree,{})},{title:"Secure Bank Transfer",to:"/secure-bank-transfer",icon:o.jsx(rn,{className:"h-4 w-4"}),page:o.jsx(mte,{})},{title:"Auth",to:"/auth",icon:o.jsx(ha,{className:"h-4 w-4"}),page:o.jsx(gte,{})},{title:"Payment",to:"/payment",icon:o.jsx(an,{className:"h-4 w-4"}),page:o.jsx(yte,{})},{title:"Embedded Checkout",to:"/embedded-checkout",icon:o.jsx(an,{className:"h-4 w-4"}),page:o.jsx(nne,{})},{title:"Stripe Payment",to:"/stripe-payment",icon:o.jsx(an,{className:"h-4 w-4"}),page:o.jsx(one,{})},{title:"Payout Integration",to:"/payout-integration",icon:o.jsx(It,{className:"h-4 w-4"}),page:o.jsx(ane,{})},{title:"Destination Checkout",to:"/destination-checkout",icon:o.jsx(an,{className:"h-4 w-4"}),page:o.jsx(gne,{})},{title:"Stripe Connect Link",to:"/stripe-connect-link",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(xne,{})},{title:"Stripe Connect OAuth",to:"/stripe-connect-oauth",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(wne,{})},{title:"Custom Stripe Onboarding",to:"/custom-stripe-onboarding",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(zne,{})},{title:"Stripe Test",to:"/stripe-test",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(Xne,{})},{title:"Production Test",to:"/production-test",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(ere,{})},{title:"Balance Transactions",to:"/balance-transactions",icon:o.jsx(Rj,{className:"h-4 w-4"}),page:o.jsx(ore,{})},{title:"Account Setup Simulation",to:"/account-setup-simulation",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(are,{})},{title:"Account Setup Success",to:"/account-setup-success",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(cre,{})},{title:"Account Setup Cancelled",to:"/account-setup-cancelled",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(lre,{})},{title:"Withdrawal Success",to:"/withdrawal-success",icon:o.jsx(It,{className:"h-4 w-4"}),page:o.jsx(ure,{})},{title:"Withdrawal Cancelled",to:"/withdrawal-cancelled",icon:o.jsx(It,{className:"h-4 w-4"}),page:o.jsx(dre,{})},{title:"Subscription Success",to:"/subscription-success",icon:o.jsx(an,{className:"h-4 w-4"}),page:o.jsx(fre,{})},{title:"Contact",to:"/contact",icon:o.jsx(ha,{className:"h-4 w-4"}),page:o.jsx(hre,{})},{title:"About",to:"/about",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(mre,{})},{title:"Privacy Policy",to:"/privacy-policy",icon:o.jsx(rn,{className:"h-4 w-4"}),page:o.jsx(gre,{})},{title:"404",to:"/404",icon:o.jsx(nr,{className:"h-4 w-4"}),page:o.jsx(pre,{})}],vre=l1("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),xre=({clientSecret:t,amount:e,onSuccess:n,onError:r})=>{const s=Y4(),i=q4(),[a,c]=v.useState(!1),{toast:l}=_e(),u=async d=>{if(d.preventDefault(),!(!s||!i)){c(!0);try{const{error:f,paymentIntent:h}=await s.confirmPayment({elements:i,redirect:"if_required"});if(f)throw new Error(f.message);h&&h.status==="succeeded"&&(l({title:"Payment Successful",description:`Payment of $${(e/100).toFixed(2)} completed successfully.`}),n?.(h.id))}catch(f){const h=f instanceof Error?f.message:"Payment failed";l({title:"Payment Failed",description:h,variant:"destructive"}),r?.(h)}finally{c(!1)}}};return o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Payment Details"}),o.jsx("div",{className:"p-3 border rounded-md",children:o.jsx(Xte,{options:{layout:"tabs"}})})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: $",(e/100).toFixed(2)]}),o.jsx(W,{type:"submit",disabled:!s||!i||a,className:"w-full",children:a?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Processing Payment..."})]}):o.jsxs("span",{children:["Pay $",(e/100).toFixed(2)]})})]})},wre=({amount:t,description:e="Payment",customerEmail:n,onSuccess:r,onError:s})=>{const[i,a]=v.useState(""),[c,l]=v.useState(!0),[u,d]=v.useState(n||""),{toast:f}=_e();v.useEffect(()=>{h()},[t,e]);const h=async()=>{try{l(!0);const{data:g,error:p}=await re.functions.invoke("create-payment-intent",{body:{items:[{amount:t}],description:e,customerEmail:u}});if(p)throw new Error(p.message);if(!g?.success||!g?.clientSecret)throw new Error(g?.error||"Failed to create payment intent");a(g.clientSecret)}catch(g){const p=g instanceof Error?g.message:"Failed to initialize payment";f({title:"Payment Setup Failed",description:p,variant:"destructive"}),s?.(p)}finally{l(!1)}},m={clientSecret:i,appearance:{theme:"stripe",variables:{colorPrimary:"#3b82f6"}}};return c?o.jsx(F,{className:"w-full max-w-md mx-auto",children:o.jsxs(U,{className:"flex items-center justify-center py-8",children:[o.jsx(Dt,{className:"h-6 w-6 animate-spin mr-2"}),o.jsx("span",{children:"Setting up payment..."})]})}):i?o.jsxs(F,{className:"w-full max-w-md mx-auto",children:[o.jsxs(K,{children:[o.jsx(Q,{children:"Payment Details"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e})]}),o.jsxs(U,{children:[o.jsx("div",{className:"space-y-4 mb-4",children:o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"email",children:"Email"}),o.jsx(fe,{id:"email",type:"email",value:u,onChange:g=>d(g.target.value),placeholder:"your@email.com",required:!0})]})}),o.jsx(d1,{stripe:vre,options:m,children:o.jsx(xre,{clientSecret:i,amount:t,onSuccess:r,onError:s})})]})]}):o.jsx(F,{className:"w-full max-w-md mx-auto",children:o.jsx(U,{className:"flex items-center justify-center py-8",children:o.jsx("span",{className:"text-red-600",children:"Failed to initialize payment"})})})},bre=()=>{const t=jn(),[e,n]=v.useState(!1),[r,s]=v.useState(""),i=c=>{s(c),n(!0)},a=c=>{console.error("Payment error:",c)};return e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),o.jsx("h1",{className:"text-3xl font-bold text-green-600",children:"Payment Successful!"})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[o.jsx("div",{className:"text-green-600 text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Thank you for your payment!"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Your payment has been processed successfully."}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Payment Intent ID: ",r]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:o.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(W,{onClick:()=>t("/"),variant:"outline",size:"sm",children:[o.jsx(nn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Stripe Payment Intent"})]}),o.jsx("div",{className:"text-center mb-6",children:o.jsx("p",{className:"text-muted-foreground",children:"Complete your payment using Stripe's secure payment form"})}),o.jsx(wre,{amount:2999,description:"Premium Service Payment",onSuccess:i,onError:a})]})})};function jre(){return v.useEffect(()=>{const t=re.channel("schema-db-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},e=>console.log("New message:",e)).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},e=>console.log("Updated message:",e)).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},e=>console.log("Deleted message:",e)).subscribe();return()=>{re.removeChannel(t)}},[]),null}const Ere=()=>{const{user:t}=vr();return v.useEffect(()=>{t?.id&&(console.log(" Your UUID:",t.id),alert(`Your UUID: ${t.id}`))},[t?.id]),null},Are=new CF,_re=()=>o.jsx(PF,{client:Are,children:o.jsxs(oF,{children:[o.jsx(s5,{}),o.jsx(R5,{}),o.jsx(jre,{}),o.jsx(Ere,{}),o.jsx(k6,{children:o.jsxs(w6,{children:[o.jsx(rh,{path:"/",element:o.jsx(FC,{})}),o.jsx(rh,{path:"/payment-intent",element:o.jsx(bre,{})}),yre.map(({to:t,page:e})=>o.jsx(rh,{path:t,element:e},t))]})})]})});AN(document.getElementById("root")).render(o.jsx(_re,{}))});export default Sre();
