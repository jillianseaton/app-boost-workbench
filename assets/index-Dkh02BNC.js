function XN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var Hx={exports:{}},kc={},qx={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),eS=Symbol.for("react.portal"),tS=Symbol.for("react.fragment"),nS=Symbol.for("react.strict_mode"),rS=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),aS=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),oS=Symbol.for("react.suspense"),lS=Symbol.for("react.memo"),cS=Symbol.for("react.lazy"),ap=Symbol.iterator;function uS(e){return e===null||typeof e!="object"?null:(e=ap&&e[ap]||e["@@iterator"],typeof e=="function"?e:null)}var Gx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kx=Object.assign,Yx={};function Wa(e,t,n){this.props=e,this.context=t,this.refs=Yx,this.updater=n||Gx}Wa.prototype.isReactComponent={};Wa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qx(){}Qx.prototype=Wa.prototype;function of(e,t,n){this.props=e,this.context=t,this.refs=Yx,this.updater=n||Gx}var lf=of.prototype=new Qx;lf.constructor=of;Kx(lf,Wa.prototype);lf.isPureReactComponent=!0;var ip=Array.isArray,Jx=Object.prototype.hasOwnProperty,cf={current:null},Xx={key:!0,ref:!0,__self:!0,__source:!0};function Zx(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Jx.call(t,r)&&!Xx.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:vo,type:e,key:i,ref:o,props:a,_owner:cf.current}}function dS(e,t){return{$$typeof:vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uf(e){return typeof e=="object"&&e!==null&&e.$$typeof===vo}function hS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var op=/\/+/g;function Cu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hS(""+e.key):t.toString(36)}function vl(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vo:case eS:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Cu(o,0):r,ip(a)?(n="",e!=null&&(n=e.replace(op,"$&/")+"/"),vl(a,t,n,"",function(u){return u})):a!=null&&(uf(a)&&(a=dS(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(op,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",ip(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Cu(i,l);o+=vl(i,t,n,c,a)}else if(c=uS(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Cu(i,l++),o+=vl(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Lo(e,t,n){if(e==null)return e;var r=[],a=0;return vl(e,r,"","",function(i){return t.call(n,i,a++)}),r}function fS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},yl={transition:null},mS={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:yl,ReactCurrentOwner:cf};function ev(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Lo,forEach:function(e,t,n){Lo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lo(e,function(){t++}),t},toArray:function(e){return Lo(e,function(t){return t})||[]},only:function(e){if(!uf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Wa;we.Fragment=tS;we.Profiler=rS;we.PureComponent=of;we.StrictMode=nS;we.Suspense=oS;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mS;we.act=ev;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kx({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Jx.call(t,c)&&!Xx.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vo,type:e.type,key:a,ref:i,props:r,_owner:o}};we.createContext=function(e){return e={$$typeof:aS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sS,_context:e},e.Consumer=e};we.createElement=Zx;we.createFactory=function(e){var t=Zx.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:iS,render:e}};we.isValidElement=uf;we.lazy=function(e){return{$$typeof:cS,_payload:{_status:-1,_result:e},_init:fS}};we.memo=function(e,t){return{$$typeof:lS,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};we.unstable_act=ev;we.useCallback=function(e,t){return $t.current.useCallback(e,t)};we.useContext=function(e){return $t.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};we.useEffect=function(e,t){return $t.current.useEffect(e,t)};we.useId=function(){return $t.current.useId()};we.useImperativeHandle=function(e,t,n){return $t.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return $t.current.useMemo(e,t)};we.useReducer=function(e,t,n){return $t.current.useReducer(e,t,n)};we.useRef=function(e){return $t.current.useRef(e)};we.useState=function(e){return $t.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return $t.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return $t.current.useTransition()};we.version="18.3.1";qx.exports=we;var m=qx.exports;const _=af(m),tv=XN({__proto__:null,default:_},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=m,gS=Symbol.for("react.element"),xS=Symbol.for("react.fragment"),vS=Object.prototype.hasOwnProperty,yS=pS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wS={key:!0,ref:!0,__self:!0,__source:!0};function nv(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vS.call(t,r)&&!wS.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:gS,type:e,key:i,ref:o,props:a,_owner:yS.current}}kc.Fragment=xS;kc.jsx=nv;kc.jsxs=nv;Hx.exports=kc;var s=Hx.exports,rv={exports:{}},cn={},sv={exports:{}},av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var X=P.length;P.push(L);e:for(;0<X;){var q=X-1>>>1,ne=P[q];if(0<a(ne,L))P[q]=L,P[X]=ne,X=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],X=P.pop();if(X!==L){P[0]=X;e:for(var q=0,ne=P.length,ue=ne>>>1;q<ue;){var je=2*(q+1)-1,ot=P[je],xe=je+1,se=P[xe];if(0>a(ot,X))xe<ne&&0>a(se,ot)?(P[q]=se,P[xe]=X,q=xe):(P[q]=ot,P[je]=X,q=je);else if(xe<ne&&0>a(se,X))P[q]=se,P[xe]=X,q=xe;else break e}}return L}function a(P,L){var X=P.sortIndex-L.sortIndex;return X!==0?X:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=P)r(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=n(u)}}function j(P){if(g=!1,b(P),!x)if(n(c)!==null)x=!0,H(N);else{var L=n(u);L!==null&&J(j,L.startTime-P)}}function N(P,L){x=!1,g&&(g=!1,y(E),E=-1),p=!0;var X=f;try{for(b(L),h=n(c);h!==null&&(!(h.expirationTime>L)||P&&!K());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var ne=q(h.expirationTime<=L);L=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(c)&&r(c),b(L)}else r(c);h=n(c)}if(h!==null)var ue=!0;else{var je=n(u);je!==null&&J(j,je.startTime-L),ue=!1}return ue}finally{h=null,f=X,p=!1}}var S=!1,k=null,E=-1,U=5,M=-1;function K(){return!(e.unstable_now()-M<U)}function T(){if(k!==null){var P=e.unstable_now();M=P;var L=!0;try{L=k(!0,P)}finally{L?G():(S=!1,k=null)}}else S=!1}var G;if(typeof w=="function")G=function(){w(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,z=D.port2;D.port1.onmessage=T,G=function(){z.postMessage(null)}}else G=function(){v(T,0)};function H(P){k=P,S||(S=!0,G())}function J(P,L){E=v(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,H(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var X=f;f=L;try{return P()}finally{f=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=f;f=P;try{return L()}finally{f=X}},e.unstable_scheduleCallback=function(P,L,X){var q=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,P={id:d++,callback:L,priorityLevel:P,startTime:X,expirationTime:ne,sortIndex:-1},X>q?(P.sortIndex=X,t(u,P),n(c)===null&&P===n(u)&&(g?(y(E),E=-1):g=!0,J(j,X-q))):(P.sortIndex=ne,t(c,P),x||p||(x=!0,H(N))),P},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(P){var L=f;return function(){var X=f;f=L;try{return P.apply(this,arguments)}finally{f=X}}}})(av);sv.exports=av;var bS=sv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=m,on=bS;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iv=new Set,Vi={};function zs(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(Vi[e]=t,e=0;e<t.length;e++)iv.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ed=Object.prototype.hasOwnProperty,NS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lp={},cp={};function SS(e){return Ed.call(cp,e)?!0:Ed.call(lp,e)?!1:NS.test(e)?cp[e]=!0:(lp[e]=!0,!1)}function CS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kS(e,t,n,r){if(t===null||typeof t>"u"||CS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bt(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ct[e]=new Bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ct[t]=new Bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ct[e]=new Bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ct[e]=new Bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ct[e]=new Bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ct[e]=new Bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ct[e]=new Bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ct[e]=new Bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ct[e]=new Bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var df=/[\-:]([a-z])/g;function hf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(df,hf);Ct[t]=new Bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(df,hf);Ct[t]=new Bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(df,hf);Ct[t]=new Bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ct[e]=new Bt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ct[e]=new Bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ff(e,t,n,r){var a=Ct.hasOwnProperty(t)?Ct[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kS(t,n,a,r)&&(n=null),r||a===null?SS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jr=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),oa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),mf=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),lv=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),Ad=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),cv=Symbol.for("react.offscreen"),up=Symbol.iterator;function si(e){return e===null||typeof e!="object"?null:(e=up&&e[up]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Object.assign,ku;function ji(e){if(ku===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ku=t&&t[1]||""}return`
`+ku+e}var Eu=!1;function _u(e,t){if(!e||Eu)return"";Eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Eu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ji(e):""}function ES(e){switch(e.tag){case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return e=_u(e.type,!1),e;case 11:return e=_u(e.type.render,!1),e;case 1:return e=_u(e.type,!0),e;default:return""}}function Td(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case la:return"Fragment";case oa:return"Portal";case _d:return"Profiler";case mf:return"StrictMode";case Pd:return"Suspense";case Ad:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lv:return(e.displayName||"Context")+".Consumer";case ov:return(e._context.displayName||"Context")+".Provider";case pf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gf:return t=e.displayName||null,t!==null?t:Td(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return Td(e(t))}catch{}}return null}function _S(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Td(t);case 8:return t===mf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PS(e){var t=uv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bo(e){e._valueTracker||(e._valueTracker=PS(e))}function dv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rd(e,t){var n=t.checked;return Ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ns(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hv(e,t){t=t.checked,t!=null&&ff(e,"checked",t,!1)}function Id(e,t){hv(e,t);var n=ns(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Od(e,t.type,n):t.hasOwnProperty("defaultValue")&&Od(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Od(e,t,n){(t!=="number"||Ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ni=Array.isArray;function ba(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ns(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Dd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(Ni(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ns(n)}}function fv(e,t){var n=ns(t.value),r=ns(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Md(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uo,pv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uo=Uo||document.createElement("div"),Uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AS=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(e){AS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_i[t]=_i[e]})});function gv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_i.hasOwnProperty(e)&&_i[e]?(""+t).trim():t+"px"}function xv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=gv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var TS=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fd(e,t){if(t){if(TS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Ld(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $d=null;function xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bd=null,ja=null,Na=null;function pp(e){if(e=bo(e)){if(typeof Bd!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Tc(t),Bd(e.stateNode,e.type,t))}}function vv(e){ja?Na?Na.push(e):Na=[e]:ja=e}function yv(){if(ja){var e=ja,t=Na;if(Na=ja=null,pp(e),t)for(e=0;e<t.length;e++)pp(t[e])}}function wv(e,t){return e(t)}function bv(){}var Pu=!1;function jv(e,t,n){if(Pu)return e(t,n);Pu=!0;try{return wv(e,t,n)}finally{Pu=!1,(ja!==null||Na!==null)&&(bv(),yv())}}function Hi(e,t){var n=e.stateNode;if(n===null)return null;var r=Tc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Ud=!1;if(pr)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){Ud=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Ud=!1}function RS(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Pi=!1,$l=null,Bl=!1,zd=null,IS={onError:function(e){Pi=!0,$l=e}};function OS(e,t,n,r,a,i,o,l,c){Pi=!1,$l=null,RS.apply(IS,arguments)}function DS(e,t,n,r,a,i,o,l,c){if(OS.apply(this,arguments),Pi){if(Pi){var u=$l;Pi=!1,$l=null}else throw Error(V(198));Bl||(Bl=!0,zd=u)}}function Vs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gp(e){if(Vs(e)!==e)throw Error(V(188))}function MS(e){var t=e.alternate;if(!t){if(t=Vs(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return gp(a),e;if(i===r)return gp(a),t;i=i.sibling}throw Error(V(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Sv(e){return e=MS(e),e!==null?Cv(e):null}function Cv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cv(e);if(t!==null)return t;e=e.sibling}return null}var kv=on.unstable_scheduleCallback,xp=on.unstable_cancelCallback,FS=on.unstable_shouldYield,LS=on.unstable_requestPaint,rt=on.unstable_now,$S=on.unstable_getCurrentPriorityLevel,vf=on.unstable_ImmediatePriority,Ev=on.unstable_UserBlockingPriority,Ul=on.unstable_NormalPriority,BS=on.unstable_LowPriority,_v=on.unstable_IdlePriority,Ec=null,Gn=null;function US(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Ec,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:WS,zS=Math.log,VS=Math.LN2;function WS(e){return e>>>=0,e===0?32:31-(zS(e)/VS|0)|0}var zo=64,Vo=4194304;function Si(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Si(l):(i&=o,i!==0&&(r=Si(i)))}else o=n&~a,o!==0?r=Si(o):i!==0&&(r=Si(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-In(t),a=1<<n,r|=e[n],t&=~a;return r}function HS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-In(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=HS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Vd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pv(){var e=zo;return zo<<=1,!(zo&4194240)&&(zo=64),e}function Au(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=n}function GS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-In(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function yf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-In(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var _e=0;function Av(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tv,wf,Rv,Iv,Ov,Wd=!1,Wo=[],Vr=null,Wr=null,Hr=null,qi=new Map,Gi=new Map,Dr=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(t.pointerId)}}function ii(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=bo(t),t!==null&&wf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function YS(e,t,n,r,a){switch(t){case"focusin":return Vr=ii(Vr,e,t,n,r,a),!0;case"dragenter":return Wr=ii(Wr,e,t,n,r,a),!0;case"mouseover":return Hr=ii(Hr,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return qi.set(i,ii(qi.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Gi.set(i,ii(Gi.get(i)||null,e,t,n,r,a)),!0}return!1}function Dv(e){var t=Ss(e.target);if(t!==null){var n=Vs(t);if(n!==null){if(t=n.tag,t===13){if(t=Nv(n),t!==null){e.blockedOn=t,Ov(e.priority,function(){Rv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$d=r,n.target.dispatchEvent(r),$d=null}else return t=bo(n),t!==null&&wf(t),e.blockedOn=n,!1;t.shift()}return!0}function yp(e,t,n){wl(e)&&n.delete(t)}function QS(){Wd=!1,Vr!==null&&wl(Vr)&&(Vr=null),Wr!==null&&wl(Wr)&&(Wr=null),Hr!==null&&wl(Hr)&&(Hr=null),qi.forEach(yp),Gi.forEach(yp)}function oi(e,t){e.blockedOn===t&&(e.blockedOn=null,Wd||(Wd=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,QS)))}function Ki(e){function t(a){return oi(a,e)}if(0<Wo.length){oi(Wo[0],e);for(var n=1;n<Wo.length;n++){var r=Wo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vr!==null&&oi(Vr,e),Wr!==null&&oi(Wr,e),Hr!==null&&oi(Hr,e),qi.forEach(t),Gi.forEach(t),n=0;n<Dr.length;n++)r=Dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)Dv(n),n.blockedOn===null&&Dr.shift()}var Sa=jr.ReactCurrentBatchConfig,Vl=!0;function JS(e,t,n,r){var a=_e,i=Sa.transition;Sa.transition=null;try{_e=1,bf(e,t,n,r)}finally{_e=a,Sa.transition=i}}function XS(e,t,n,r){var a=_e,i=Sa.transition;Sa.transition=null;try{_e=4,bf(e,t,n,r)}finally{_e=a,Sa.transition=i}}function bf(e,t,n,r){if(Vl){var a=Hd(e,t,n,r);if(a===null)Bu(e,t,r,Wl,n),vp(e,r);else if(YS(a,e,t,n,r))r.stopPropagation();else if(vp(e,r),t&4&&-1<KS.indexOf(e)){for(;a!==null;){var i=bo(a);if(i!==null&&Tv(i),i=Hd(e,t,n,r),i===null&&Bu(e,t,r,Wl,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Bu(e,t,r,null,n)}}var Wl=null;function Hd(e,t,n,r){if(Wl=null,e=xf(r),e=Ss(e),e!==null)if(t=Vs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wl=e,null}function Mv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($S()){case vf:return 1;case Ev:return 4;case Ul:case BS:return 16;case _v:return 536870912;default:return 16}default:return 16}}var $r=null,jf=null,bl=null;function Fv(){if(bl)return bl;var e,t=jf,n=t.length,r,a="value"in $r?$r.value:$r.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return bl=a.slice(e,1<r?1-r:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ho(){return!0}function wp(){return!1}function un(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ho:wp,this.isPropagationStopped=wp,this}return Ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),t}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=un(Ha),wo=Ye({},Ha,{view:0,detail:0}),ZS=un(wo),Tu,Ru,li,_c=Ye({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(Tu=e.screenX-li.screenX,Ru=e.screenY-li.screenY):Ru=Tu=0,li=e),Tu)},movementY:function(e){return"movementY"in e?e.movementY:Ru}}),bp=un(_c),eC=Ye({},_c,{dataTransfer:0}),tC=un(eC),nC=Ye({},wo,{relatedTarget:0}),Iu=un(nC),rC=Ye({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),sC=un(rC),aC=Ye({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iC=un(aC),oC=Ye({},Ha,{data:0}),jp=un(oC),lC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uC[e])?!!t[e]:!1}function Sf(){return dC}var hC=Ye({},wo,{key:function(e){if(e.key){var t=lC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fC=un(hC),mC=Ye({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=un(mC),pC=Ye({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),gC=un(pC),xC=Ye({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),vC=un(xC),yC=Ye({},_c,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wC=un(yC),bC=[9,13,27,32],Cf=pr&&"CompositionEvent"in window,Ai=null;pr&&"documentMode"in document&&(Ai=document.documentMode);var jC=pr&&"TextEvent"in window&&!Ai,Lv=pr&&(!Cf||Ai&&8<Ai&&11>=Ai),Sp=" ",Cp=!1;function $v(e,t){switch(e){case"keyup":return bC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function NC(e,t){switch(e){case"compositionend":return Bv(t);case"keypress":return t.which!==32?null:(Cp=!0,Sp);case"textInput":return e=t.data,e===Sp&&Cp?null:e;default:return null}}function SC(e,t){if(ca)return e==="compositionend"||!Cf&&$v(e,t)?(e=Fv(),bl=jf=$r=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lv&&t.locale!=="ko"?null:t.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CC[e.type]:t==="textarea"}function Uv(e,t,n,r){vv(r),t=Hl(t,"onChange"),0<t.length&&(n=new Nf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ti=null,Yi=null;function kC(e){Xv(e,0)}function Pc(e){var t=ha(e);if(dv(t))return e}function EC(e,t){if(e==="change")return t}var zv=!1;if(pr){var Ou;if(pr){var Du="oninput"in document;if(!Du){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Du=typeof Ep.oninput=="function"}Ou=Du}else Ou=!1;zv=Ou&&(!document.documentMode||9<document.documentMode)}function _p(){Ti&&(Ti.detachEvent("onpropertychange",Vv),Yi=Ti=null)}function Vv(e){if(e.propertyName==="value"&&Pc(Yi)){var t=[];Uv(t,Yi,e,xf(e)),jv(kC,t)}}function _C(e,t,n){e==="focusin"?(_p(),Ti=t,Yi=n,Ti.attachEvent("onpropertychange",Vv)):e==="focusout"&&_p()}function PC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pc(Yi)}function AC(e,t){if(e==="click")return Pc(t)}function TC(e,t){if(e==="input"||e==="change")return Pc(t)}function RC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:RC;function Qi(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Ed.call(t,a)||!Dn(e[a],t[a]))return!1}return!0}function Pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,t){var n=Pp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pp(n)}}function Wv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hv(){for(var e=window,t=Ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ll(e.document)}return t}function kf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IC(e){var t=Hv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wv(n.ownerDocument.documentElement,n)){if(r!==null&&kf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Ap(n,i);var o=Ap(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OC=pr&&"documentMode"in document&&11>=document.documentMode,ua=null,qd=null,Ri=null,Gd=!1;function Tp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gd||ua==null||ua!==Ll(r)||(r=ua,"selectionStart"in r&&kf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ri&&Qi(Ri,r)||(Ri=r,r=Hl(qd,"onSelect"),0<r.length&&(t=new Nf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ua)))}function qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var da={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},Mu={},qv={};pr&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ac(e){if(Mu[e])return Mu[e];if(!da[e])return e;var t=da[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qv)return Mu[e]=t[n];return e}var Gv=Ac("animationend"),Kv=Ac("animationiteration"),Yv=Ac("animationstart"),Qv=Ac("transitionend"),Jv=new Map,Rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){Jv.set(e,t),zs(t,[e])}for(var Fu=0;Fu<Rp.length;Fu++){var Lu=Rp[Fu],DC=Lu.toLowerCase(),MC=Lu[0].toUpperCase()+Lu.slice(1);us(DC,"on"+MC)}us(Gv,"onAnimationEnd");us(Kv,"onAnimationIteration");us(Yv,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(Qv,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function Ip(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,DS(r,t,void 0,e),e.currentTarget=null}function Xv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Ip(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Ip(a,l,u),i=c}}}if(Bl)throw e=zd,Bl=!1,zd=null,e}function Be(e,t){var n=t[Xd];n===void 0&&(n=t[Xd]=new Set);var r=e+"__bubble";n.has(r)||(Zv(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),Zv(n,e,r,t)}var Go="_reactListening"+Math.random().toString(36).slice(2);function Ji(e){if(!e[Go]){e[Go]=!0,iv.forEach(function(n){n!=="selectionchange"&&(FC.has(n)||$u(n,!1,e),$u(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Go]||(t[Go]=!0,$u("selectionchange",!1,t))}}function Zv(e,t,n,r){switch(Mv(t)){case 1:var a=JS;break;case 4:a=XS;break;default:a=bf}n=a.bind(null,t,n,e),a=void 0,!Ud||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Bu(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ss(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}jv(function(){var u=i,d=xf(n),h=[];e:{var f=Jv.get(e);if(f!==void 0){var p=Nf,x=e;switch(e){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":p=fC;break;case"focusin":x="focus",p=Iu;break;case"focusout":x="blur",p=Iu;break;case"beforeblur":case"afterblur":p=Iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=tC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=gC;break;case Gv:case Kv:case Yv:p=sC;break;case Qv:p=vC;break;case"scroll":p=ZS;break;case"wheel":p=wC;break;case"copy":case"cut":case"paste":p=iC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Np}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var w=u,b;w!==null;){b=w;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Hi(w,y),j!=null&&g.push(Xi(w,j,b)))),v)break;w=w.return}0<g.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==$d&&(x=n.relatedTarget||n.fromElement)&&(Ss(x)||x[gr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?Ss(x):null,x!==null&&(v=Vs(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=bp,j="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=Np,j="onPointerLeave",y="onPointerEnter",w="pointer"),v=p==null?f:ha(p),b=x==null?f:ha(x),f=new g(j,w+"leave",p,n,d),f.target=v,f.relatedTarget=b,j=null,Ss(d)===u&&(g=new g(y,w+"enter",x,n,d),g.target=b,g.relatedTarget=v,j=g),v=j,p&&x)t:{for(g=p,y=x,w=0,b=g;b;b=Js(b))w++;for(b=0,j=y;j;j=Js(j))b++;for(;0<w-b;)g=Js(g),w--;for(;0<b-w;)y=Js(y),b--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=Js(g),y=Js(y)}g=null}else g=null;p!==null&&Op(h,f,p,g,!1),x!==null&&v!==null&&Op(h,v,x,g,!0)}}e:{if(f=u?ha(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=EC;else if(kp(f))if(zv)N=TC;else{N=PC;var S=_C}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=AC);if(N&&(N=N(e,u))){Uv(h,N,n,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Od(f,"number",f.value)}switch(S=u?ha(u):window,e){case"focusin":(kp(S)||S.contentEditable==="true")&&(ua=S,qd=u,Ri=null);break;case"focusout":Ri=qd=ua=null;break;case"mousedown":Gd=!0;break;case"contextmenu":case"mouseup":case"dragend":Gd=!1,Tp(h,n,d);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":Tp(h,n,d)}var k;if(Cf)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ca?$v(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Lv&&n.locale!=="ko"&&(ca||E!=="onCompositionStart"?E==="onCompositionEnd"&&ca&&(k=Fv()):($r=d,jf="value"in $r?$r.value:$r.textContent,ca=!0)),S=Hl(u,E),0<S.length&&(E=new jp(E,e,null,n,d),h.push({event:E,listeners:S}),k?E.data=k:(k=Bv(n),k!==null&&(E.data=k)))),(k=jC?NC(e,n):SC(e,n))&&(u=Hl(u,"onBeforeInput"),0<u.length&&(d=new jp("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}Xv(h,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Hi(e,n),i!=null&&r.unshift(Xi(e,i,a)),i=Hi(e,t),i!=null&&r.push(Xi(e,i,a))),e=e.return}return r}function Js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Op(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Hi(n,i),c!=null&&o.unshift(Xi(n,c,l))):a||(c=Hi(n,i),c!=null&&o.push(Xi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var LC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function Dp(e){return(typeof e=="string"?e:""+e).replace(LC,`
`).replace($C,"")}function Ko(e,t,n){if(t=Dp(t),Dp(e)!==t&&n)throw Error(V(425))}function ql(){}var Kd=null,Yd=null;function Qd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(zC)}:Jd;function zC(e){setTimeout(function(){throw e})}function Uu(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Ki(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Ki(t)}function qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qa=Math.random().toString(36).slice(2),Wn="__reactFiber$"+qa,Zi="__reactProps$"+qa,gr="__reactContainer$"+qa,Xd="__reactEvents$"+qa,VC="__reactListeners$"+qa,WC="__reactHandles$"+qa;function Ss(e){var t=e[Wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[Wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fp(e);e!==null;){if(n=e[Wn])return n;e=Fp(e)}return t}e=n,n=e.parentNode}return null}function bo(e){return e=e[Wn]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ha(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Tc(e){return e[Zi]||null}var Zd=[],fa=-1;function ds(e){return{current:e}}function Ue(e){0>fa||(e.current=Zd[fa],Zd[fa]=null,fa--)}function De(e,t){fa++,Zd[fa]=e.current,e.current=t}var rs={},Tt=ds(rs),Gt=ds(!1),Ts=rs;function Ia(e,t){var n=e.type.contextTypes;if(!n)return rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Kt(e){return e=e.childContextTypes,e!=null}function Gl(){Ue(Gt),Ue(Tt)}function Lp(e,t,n){if(Tt.current!==rs)throw Error(V(168));De(Tt,t),De(Gt,n)}function ey(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(V(108,_S(e)||"Unknown",a));return Ye({},n,r)}function Kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rs,Ts=Tt.current,De(Tt,e),De(Gt,Gt.current),!0}function $p(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=ey(e,t,Ts),r.__reactInternalMemoizedMergedChildContext=e,Ue(Gt),Ue(Tt),De(Tt,e)):Ue(Gt),De(Gt,n)}var or=null,Rc=!1,zu=!1;function ty(e){or===null?or=[e]:or.push(e)}function HC(e){Rc=!0,ty(e)}function hs(){if(!zu&&or!==null){zu=!0;var e=0,t=_e;try{var n=or;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}or=null,Rc=!1}catch(a){throw or!==null&&(or=or.slice(e+1)),kv(vf,hs),a}finally{_e=t,zu=!1}}return null}var ma=[],pa=0,Yl=null,Ql=0,fn=[],mn=0,Rs=null,lr=1,cr="";function ws(e,t){ma[pa++]=Ql,ma[pa++]=Yl,Yl=e,Ql=t}function ny(e,t,n){fn[mn++]=lr,fn[mn++]=cr,fn[mn++]=Rs,Rs=e;var r=lr;e=cr;var a=32-In(r)-1;r&=~(1<<a),n+=1;var i=32-In(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,lr=1<<32-In(t)+a|n<<a|r,cr=i+e}else lr=1<<i|n<<a|r,cr=e}function Ef(e){e.return!==null&&(ws(e,1),ny(e,1,0))}function _f(e){for(;e===Yl;)Yl=ma[--pa],ma[pa]=null,Ql=ma[--pa],ma[pa]=null;for(;e===Rs;)Rs=fn[--mn],fn[mn]=null,cr=fn[--mn],fn[mn]=null,lr=fn[--mn],fn[mn]=null}var sn=null,rn=null,We=!1,Tn=null;function ry(e,t){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,rn=qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,rn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rs!==null?{id:lr,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,sn=e,rn=null,!0):!1;default:return!1}}function eh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function th(e){if(We){var t=rn;if(t){var n=t;if(!Bp(e,t)){if(eh(e))throw Error(V(418));t=qr(n.nextSibling);var r=sn;t&&Bp(e,t)?ry(r,n):(e.flags=e.flags&-4097|2,We=!1,sn=e)}}else{if(eh(e))throw Error(V(418));e.flags=e.flags&-4097|2,We=!1,sn=e}}}function Up(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function Yo(e){if(e!==sn)return!1;if(!We)return Up(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qd(e.type,e.memoizedProps)),t&&(t=rn)){if(eh(e))throw sy(),Error(V(418));for(;t;)ry(e,t),t=qr(t.nextSibling)}if(Up(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rn=qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rn=null}}else rn=sn?qr(e.stateNode.nextSibling):null;return!0}function sy(){for(var e=rn;e;)e=qr(e.nextSibling)}function Oa(){rn=sn=null,We=!1}function Pf(e){Tn===null?Tn=[e]:Tn.push(e)}var qC=jr.ReactCurrentBatchConfig;function ci(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zp(e){var t=e._init;return t(e._payload)}function ay(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function n(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=Qr(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,w,b,j){return w===null||w.tag!==6?(w=Yu(b,y.mode,j),w.return=y,w):(w=a(w,b),w.return=y,w)}function c(y,w,b,j){var N=b.type;return N===la?d(y,w,b.props.children,j,b.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rr&&zp(N)===w.type)?(j=a(w,b.props),j.ref=ci(y,w,b),j.return=y,j):(j=Pl(b.type,b.key,b.props,null,y.mode,j),j.ref=ci(y,w,b),j.return=y,j)}function u(y,w,b,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Qu(b,y.mode,j),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function d(y,w,b,j,N){return w===null||w.tag!==7?(w=Ps(b,y.mode,j,N),w.return=y,w):(w=a(w,b),w.return=y,w)}function h(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yu(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $o:return b=Pl(w.type,w.key,w.props,null,y.mode,b),b.ref=ci(y,null,w),b.return=y,b;case oa:return w=Qu(w,y.mode,b),w.return=y,w;case Rr:var j=w._init;return h(y,j(w._payload),b)}if(Ni(w)||si(w))return w=Ps(w,y.mode,b,null),w.return=y,w;Qo(y,w)}return null}function f(y,w,b,j){var N=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(y,w,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $o:return b.key===N?c(y,w,b,j):null;case oa:return b.key===N?u(y,w,b,j):null;case Rr:return N=b._init,f(y,w,N(b._payload),j)}if(Ni(b)||si(b))return N!==null?null:d(y,w,b,j,null);Qo(y,b)}return null}function p(y,w,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(w,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $o:return y=y.get(j.key===null?b:j.key)||null,c(w,y,j,N);case oa:return y=y.get(j.key===null?b:j.key)||null,u(w,y,j,N);case Rr:var S=j._init;return p(y,w,b,S(j._payload),N)}if(Ni(j)||si(j))return y=y.get(b)||null,d(w,y,j,N,null);Qo(w,j)}return null}function x(y,w,b,j){for(var N=null,S=null,k=w,E=w=0,U=null;k!==null&&E<b.length;E++){k.index>E?(U=k,k=null):U=k.sibling;var M=f(y,k,b[E],j);if(M===null){k===null&&(k=U);break}e&&k&&M.alternate===null&&t(y,k),w=i(M,w,E),S===null?N=M:S.sibling=M,S=M,k=U}if(E===b.length)return n(y,k),We&&ws(y,E),N;if(k===null){for(;E<b.length;E++)k=h(y,b[E],j),k!==null&&(w=i(k,w,E),S===null?N=k:S.sibling=k,S=k);return We&&ws(y,E),N}for(k=r(y,k);E<b.length;E++)U=p(k,y,E,b[E],j),U!==null&&(e&&U.alternate!==null&&k.delete(U.key===null?E:U.key),w=i(U,w,E),S===null?N=U:S.sibling=U,S=U);return e&&k.forEach(function(K){return t(y,K)}),We&&ws(y,E),N}function g(y,w,b,j){var N=si(b);if(typeof N!="function")throw Error(V(150));if(b=N.call(b),b==null)throw Error(V(151));for(var S=N=null,k=w,E=w=0,U=null,M=b.next();k!==null&&!M.done;E++,M=b.next()){k.index>E?(U=k,k=null):U=k.sibling;var K=f(y,k,M.value,j);if(K===null){k===null&&(k=U);break}e&&k&&K.alternate===null&&t(y,k),w=i(K,w,E),S===null?N=K:S.sibling=K,S=K,k=U}if(M.done)return n(y,k),We&&ws(y,E),N;if(k===null){for(;!M.done;E++,M=b.next())M=h(y,M.value,j),M!==null&&(w=i(M,w,E),S===null?N=M:S.sibling=M,S=M);return We&&ws(y,E),N}for(k=r(y,k);!M.done;E++,M=b.next())M=p(k,y,E,M.value,j),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?E:M.key),w=i(M,w,E),S===null?N=M:S.sibling=M,S=M);return e&&k.forEach(function(T){return t(y,T)}),We&&ws(y,E),N}function v(y,w,b,j){if(typeof b=="object"&&b!==null&&b.type===la&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case $o:e:{for(var N=b.key,S=w;S!==null;){if(S.key===N){if(N=b.type,N===la){if(S.tag===7){n(y,S.sibling),w=a(S,b.props.children),w.return=y,y=w;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rr&&zp(N)===S.type){n(y,S.sibling),w=a(S,b.props),w.ref=ci(y,S,b),w.return=y,y=w;break e}n(y,S);break}else t(y,S);S=S.sibling}b.type===la?(w=Ps(b.props.children,y.mode,j,b.key),w.return=y,y=w):(j=Pl(b.type,b.key,b.props,null,y.mode,j),j.ref=ci(y,w,b),j.return=y,y=j)}return o(y);case oa:e:{for(S=b.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else t(y,w);w=w.sibling}w=Qu(b,y.mode,j),w.return=y,y=w}return o(y);case Rr:return S=b._init,v(y,w,S(b._payload),j)}if(Ni(b))return x(y,w,b,j);if(si(b))return g(y,w,b,j);Qo(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(y,w.sibling),w=a(w,b),w.return=y,y=w):(n(y,w),w=Yu(b,y.mode,j),w.return=y,y=w),o(y)):n(y,w)}return v}var Da=ay(!0),iy=ay(!1),Jl=ds(null),Xl=null,ga=null,Af=null;function Tf(){Af=ga=Xl=null}function Rf(e){var t=Jl.current;Ue(Jl),e._currentValue=t}function nh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){Xl=e,Af=ga=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(Af!==e)if(e={context:e,memoizedValue:t,next:null},ga===null){if(Xl===null)throw Error(V(308));ga=e,Xl.dependencies={lanes:0,firstContext:e}}else ga=ga.next=e;return t}var Cs=null;function If(e){Cs===null?Cs=[e]:Cs.push(e)}function oy(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,If(t)):(n.next=a.next,a.next=n),t.interleaved=n,xr(e,r)}function xr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ir=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,xr(e,n)}return a=r.interleaved,a===null?(t.next=t,If(r)):(t.next=a.next,a.next=t),r.interleaved=t,xr(e,n)}function Nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yf(e,n)}}function Vp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zl(e,t,n,r){var a=e.updateQueue;Ir=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(f=t,p=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=Ye({},h,f);break e;case 2:Ir=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Os|=o,e.lanes=o,e.memoizedState=h}}function Wp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(V(191,a));a.call(r)}}}var jo={},Kn=ds(jo),eo=ds(jo),to=ds(jo);function ks(e){if(e===jo)throw Error(V(174));return e}function Df(e,t){switch(De(to,t),De(eo,e),De(Kn,jo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Md(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Md(t,e)}Ue(Kn),De(Kn,t)}function Ma(){Ue(Kn),Ue(eo),Ue(to)}function cy(e){ks(to.current);var t=ks(Kn.current),n=Md(t,e.type);t!==n&&(De(eo,e),De(Kn,n))}function Mf(e){eo.current===e&&(Ue(Kn),Ue(eo))}var Ge=ds(0);function ec(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vu=[];function Ff(){for(var e=0;e<Vu.length;e++)Vu[e]._workInProgressVersionPrimary=null;Vu.length=0}var Sl=jr.ReactCurrentDispatcher,Wu=jr.ReactCurrentBatchConfig,Is=0,Ke=null,mt=null,vt=null,tc=!1,Ii=!1,no=0,GC=0;function Et(){throw Error(V(321))}function Lf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dn(e[n],t[n]))return!1;return!0}function $f(e,t,n,r,a,i){if(Is=i,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?JC:XC,e=n(r,a),Ii){i=0;do{if(Ii=!1,no=0,25<=i)throw Error(V(301));i+=1,vt=mt=null,t.updateQueue=null,Sl.current=ZC,e=n(r,a)}while(Ii)}if(Sl.current=nc,t=mt!==null&&mt.next!==null,Is=0,vt=mt=Ke=null,tc=!1,t)throw Error(V(300));return e}function Bf(){var e=no!==0;return no=0,e}function Vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ke.memoizedState=vt=e:vt=vt.next=e,vt}function bn(){if(mt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=vt===null?Ke.memoizedState:vt.next;if(t!==null)vt=t,mt=e;else{if(e===null)throw Error(V(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?Ke.memoizedState=vt=e:vt=vt.next=e}return vt}function ro(e,t){return typeof t=="function"?t(e):t}function Hu(e){var t=bn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=mt,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Is&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Ke.lanes|=d,Os|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Dn(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Ke.lanes|=i,Os|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qu(e){var t=bn(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Dn(i,t.memoizedState)||(qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function uy(){}function dy(e,t){var n=Ke,r=bn(),a=t(),i=!Dn(r.memoizedState,a);if(i&&(r.memoizedState=a,qt=!0),r=r.queue,Uf(my.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,so(9,fy.bind(null,n,r,a,t),void 0,null),wt===null)throw Error(V(349));Is&30||hy(n,t,a)}return a}function hy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fy(e,t,n,r){t.value=n,t.getSnapshot=r,py(t)&&gy(e)}function my(e,t,n){return n(function(){py(t)&&gy(e)})}function py(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dn(e,n)}catch{return!0}}function gy(e){var t=xr(e,1);t!==null&&On(t,e,1,-1)}function Hp(e){var t=Vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t.queue=e,e=e.dispatch=QC.bind(null,Ke,e),[t.memoizedState,e]}function so(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xy(){return bn().memoizedState}function Cl(e,t,n,r){var a=Vn();Ke.flags|=e,a.memoizedState=so(1|t,n,void 0,r===void 0?null:r)}function Ic(e,t,n,r){var a=bn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&Lf(r,o.deps)){a.memoizedState=so(t,n,i,r);return}}Ke.flags|=e,a.memoizedState=so(1|t,n,i,r)}function qp(e,t){return Cl(8390656,8,e,t)}function Uf(e,t){return Ic(2048,8,e,t)}function vy(e,t){return Ic(4,2,e,t)}function yy(e,t){return Ic(4,4,e,t)}function wy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function by(e,t,n){return n=n!=null?n.concat([e]):null,Ic(4,4,wy.bind(null,t,e),n)}function zf(){}function jy(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ny(e,t){var n=bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Lf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sy(e,t,n){return Is&21?(Dn(n,t)||(n=Pv(),Ke.lanes|=n,Os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=n)}function KC(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=Wu.transition;Wu.transition={};try{e(!1),t()}finally{_e=n,Wu.transition=r}}function Cy(){return bn().memoizedState}function YC(e,t,n){var r=Yr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ky(e))Ey(t,n);else if(n=oy(e,t,n,r),n!==null){var a=Lt();On(n,e,r,a),_y(n,t,r)}}function QC(e,t,n){var r=Yr(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ky(e))Ey(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Dn(l,o)){var c=t.interleaved;c===null?(a.next=a,If(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=oy(e,t,a,r),n!==null&&(a=Lt(),On(n,e,r,a),_y(n,t,r))}}function ky(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Ey(e,t){Ii=tc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _y(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yf(e,n)}}var nc={readContext:wn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},JC={readContext:wn,useCallback:function(e,t){return Vn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:qp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4194308,4,wy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cl(4,2,e,t)},useMemo:function(e,t){var n=Vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=YC.bind(null,Ke,e),[r.memoizedState,e]},useRef:function(e){var t=Vn();return e={current:e},t.memoizedState=e},useState:Hp,useDebugValue:zf,useDeferredValue:function(e){return Vn().memoizedState=e},useTransition:function(){var e=Hp(!1),t=e[0];return e=KC.bind(null,e[1]),Vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ke,a=Vn();if(We){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),wt===null)throw Error(V(349));Is&30||hy(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,qp(my.bind(null,r,i,e),[e]),r.flags|=2048,so(9,fy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Vn(),t=wt.identifierPrefix;if(We){var n=cr,r=lr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=no++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XC={readContext:wn,useCallback:jy,useContext:wn,useEffect:Uf,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:yy,useMemo:Ny,useReducer:Hu,useRef:xy,useState:function(){return Hu(ro)},useDebugValue:zf,useDeferredValue:function(e){var t=bn();return Sy(t,mt.memoizedState,e)},useTransition:function(){var e=Hu(ro)[0],t=bn().memoizedState;return[e,t]},useMutableSource:uy,useSyncExternalStore:dy,useId:Cy,unstable_isNewReconciler:!1},ZC={readContext:wn,useCallback:jy,useContext:wn,useEffect:Uf,useImperativeHandle:by,useInsertionEffect:vy,useLayoutEffect:yy,useMemo:Ny,useReducer:qu,useRef:xy,useState:function(){return qu(ro)},useDebugValue:zf,useDeferredValue:function(e){var t=bn();return mt===null?t.memoizedState=e:Sy(t,mt.memoizedState,e)},useTransition:function(){var e=qu(ro)[0],t=bn().memoizedState;return[e,t]},useMutableSource:uy,useSyncExternalStore:dy,useId:Cy,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=Ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oc={isMounted:function(e){return(e=e._reactInternals)?Vs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Lt(),a=Yr(e),i=dr(r,a);i.payload=t,n!=null&&(i.callback=n),t=Gr(e,i,a),t!==null&&(On(t,e,a,r),Nl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Lt(),a=Yr(e),i=dr(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Gr(e,i,a),t!==null&&(On(t,e,a,r),Nl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),r=Yr(e),a=dr(n,r);a.tag=2,t!=null&&(a.callback=t),t=Gr(e,a,r),t!==null&&(On(t,e,r,n),Nl(t,e,r))}};function Gp(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Qi(n,r)||!Qi(a,i):!0}function Py(e,t,n){var r=!1,a=rs,i=t.contextType;return typeof i=="object"&&i!==null?i=wn(i):(a=Kt(t)?Ts:Tt.current,r=t.contextTypes,i=(r=r!=null)?Ia(e,a):rs),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oc.enqueueReplaceState(t,t.state,null)}function sh(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Of(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wn(i):(i=Kt(t)?Ts:Tt.current,a.context=Ia(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rh(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Oc.enqueueReplaceState(a,a.state,null),Zl(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fa(e,t){try{var n="",r=t;do n+=ES(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Gu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ah(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ek=typeof WeakMap=="function"?WeakMap:Map;function Ay(e,t,n){n=dr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sc||(sc=!0,ph=r),ah(e,t)},n}function Ty(e,t,n){n=dr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ah(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ah(e,t),typeof r!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Yp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ek;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=mk.bind(null,e,t,n),t.then(e,e))}function Qp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jp(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dr(-1,1),t.tag=2,Gr(n,t,1))),n.lanes|=1),e)}var tk=jr.ReactCurrentOwner,qt=!1;function Dt(e,t,n,r){t.child=e===null?iy(t,null,n,r):Da(t,e.child,n,r)}function Xp(e,t,n,r,a){n=n.render;var i=t.ref;return Ca(t,a),r=$f(e,t,n,r,i,a),n=Bf(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vr(e,t,a)):(We&&n&&Ef(t),t.flags|=1,Dt(e,t,r,a),t.child)}function Zp(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Qf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ry(e,t,i,r,a)):(e=Pl(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(o,r)&&e.ref===t.ref)return vr(e,t,a)}return t.flags|=1,e=Qr(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ry(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Qi(i,r)&&e.ref===t.ref)if(qt=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,vr(e,t,a)}return ih(e,t,n,r,a)}function Iy(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(va,tn),tn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(va,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,De(va,tn),tn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,De(va,tn),tn|=r;return Dt(e,t,a,n),t.child}function Oy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ih(e,t,n,r,a){var i=Kt(n)?Ts:Tt.current;return i=Ia(t,i),Ca(t,a),n=$f(e,t,n,r,i,a),r=Bf(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,vr(e,t,a)):(We&&r&&Ef(t),t.flags|=1,Dt(e,t,n,a),t.child)}function eg(e,t,n,r,a){if(Kt(n)){var i=!0;Kl(t)}else i=!1;if(Ca(t,a),t.stateNode===null)kl(e,t),Py(t,n,r),sh(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Kt(n)?Ts:Tt.current,u=Ia(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Kp(t,o,r,u),Ir=!1;var f=t.memoizedState;o.state=f,Zl(t,r,o,a),c=t.memoizedState,l!==r||f!==c||Gt.current||Ir?(typeof d=="function"&&(rh(t,n,d,r),c=t.memoizedState),(l=Ir||Gp(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ly(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:En(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=wn(c):(c=Kt(n)?Ts:Tt.current,c=Ia(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Kp(t,o,r,c),Ir=!1,f=t.memoizedState,o.state=f,Zl(t,r,o,a);var x=t.memoizedState;l!==h||f!==x||Gt.current||Ir?(typeof p=="function"&&(rh(t,n,p,r),x=t.memoizedState),(u=Ir||Gp(t,n,u,r,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return oh(e,t,n,r,i,a)}function oh(e,t,n,r,a,i){Oy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&$p(t,n,!1),vr(e,t,i);r=t.stateNode,tk.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Da(t,e.child,null,i),t.child=Da(t,null,l,i)):Dt(e,t,l,i),t.memoizedState=r.state,a&&$p(t,n,!0),t.child}function Dy(e){var t=e.stateNode;t.pendingContext?Lp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lp(e,t.context,!1),Df(e,t.containerInfo)}function tg(e,t,n,r,a){return Oa(),Pf(a),t.flags|=256,Dt(e,t,n,r),t.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function ch(e){return{baseLanes:e,cachePool:null,transitions:null}}function My(e,t,n){var r=t.pendingProps,a=Ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),De(Ge,a&1),e===null)return th(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fc(o,r,0,null),e=Ps(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ch(n),t.memoizedState=lh,e):Vf(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return nk(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qr(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Qr(l,i):(i=Ps(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ch(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=lh,r}return i=e.child,e=i.sibling,r=Qr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vf(e,t){return t=Fc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jo(e,t,n,r){return r!==null&&Pf(r),Da(t,e.child,null,n),e=Vf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nk(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Gu(Error(V(422))),Jo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),i=Ps(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Da(t,e.child,null,o),t.child.memoizedState=ch(o),t.memoizedState=lh,i);if(!(t.mode&1))return Jo(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(V(419)),r=Gu(i,r,void 0),Jo(e,t,o,r)}if(l=(o&e.childLanes)!==0,qt||l){if(r=wt,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,xr(e,a),On(r,e,a,-1))}return Yf(),r=Gu(Error(V(421))),Jo(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=pk.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rn=qr(a.nextSibling),sn=t,We=!0,Tn=null,e!==null&&(fn[mn++]=lr,fn[mn++]=cr,fn[mn++]=Rs,lr=e.id,cr=e.overflow,Rs=t),t=Vf(t,r.children),t.flags|=4096,t)}function ng(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nh(e.return,t,n)}function Ku(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Fy(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Dt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ng(e,n,t);else if(e.tag===19)ng(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ec(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ku(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ec(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ku(t,!0,n,null,i);break;case"together":Ku(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Qr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rk(e,t,n){switch(t.tag){case 3:Dy(t),Oa();break;case 5:cy(t);break;case 1:Kt(t.type)&&Kl(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;De(Jl,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?My(e,t,n):(De(Ge,Ge.current&1),e=vr(e,t,n),e!==null?e.sibling:null);De(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fy(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),De(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Iy(e,t,n)}return vr(e,t,n)}var Ly,uh,$y,By;Ly=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uh=function(){};$y=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ks(Kn.current);var i=null;switch(n){case"input":a=Rd(e,a),r=Rd(e,r),i=[];break;case"select":a=Ye({},a,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":a=Dd(e,a),r=Dd(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ql)}Fd(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a?.[u],r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};By=function(e,t,n,r){n!==r&&(t.flags|=4)};function ui(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sk(e,t,n){var r=t.pendingProps;switch(_f(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Kt(t.type)&&Gl(),_t(t),null;case 3:return r=t.stateNode,Ma(),Ue(Gt),Ue(Tt),Ff(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(vh(Tn),Tn=null))),uh(e,t),_t(t),null;case 5:Mf(t);var a=ks(to.current);if(n=t.type,e!==null&&t.stateNode!=null)$y(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return _t(t),null}if(e=ks(Kn.current),Yo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Wn]=t,r[Zi]=i,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(a=0;a<Ci.length;a++)Be(Ci[a],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":dp(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":fp(r,i),Be("invalid",r)}Fd(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ko(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ko(r.textContent,l,e),a=["children",""+l]):Vi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Bo(r),hp(r,i,!0);break;case"textarea":Bo(r),mp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ql)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Wn]=t,e[Zi]=r,Ly(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ld(n,r),n){case"dialog":Be("cancel",e),Be("close",e),a=r;break;case"iframe":case"object":case"embed":Be("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ci.length;a++)Be(Ci[a],e);a=r;break;case"source":Be("error",e),a=r;break;case"img":case"image":case"link":Be("error",e),Be("load",e),a=r;break;case"details":Be("toggle",e),a=r;break;case"input":dp(e,r),a=Rd(e,r),Be("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Ye({},r,{value:void 0}),Be("invalid",e);break;case"textarea":fp(e,r),a=Dd(e,r),Be("invalid",e);break;default:a=r}Fd(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?xv(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pv(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Wi(e,c):typeof c=="number"&&Wi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Be("scroll",e):c!=null&&ff(e,i,c,o))}switch(n){case"input":Bo(e),hp(e,r,!1);break;case"textarea":Bo(e),mp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ns(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ba(e,!!r.multiple,i,!1):r.defaultValue!=null&&ba(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)By(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=ks(to.current),ks(Kn.current),Yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wn]=t,(i=r.nodeValue!==n)&&(e=sn,e!==null))switch(e.tag){case 3:Ko(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ko(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wn]=t,t.stateNode=r}return _t(t),null;case 13:if(Ue(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&rn!==null&&t.mode&1&&!(t.flags&128))sy(),Oa(),t.flags|=98560,i=!1;else if(i=Yo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Wn]=t}else Oa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),i=!1}else Tn!==null&&(vh(Tn),Tn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?gt===0&&(gt=3):Yf())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return Ma(),uh(e,t),e===null&&Ji(t.stateNode.containerInfo),_t(t),null;case 10:return Rf(t.type._context),_t(t),null;case 17:return Kt(t.type)&&Gl(),_t(t),null;case 19:if(Ue(Ge),i=t.memoizedState,i===null)return _t(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ui(i,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ec(e),o!==null){for(t.flags|=128,ui(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Ge,Ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&rt()>La&&(t.flags|=128,r=!0,ui(i,!1),t.lanes=4194304)}else{if(!r)if(e=ec(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ui(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return _t(t),null}else 2*rt()-i.renderingStartTime>La&&n!==1073741824&&(t.flags|=128,r=!0,ui(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,n=Ge.current,De(Ge,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return Kf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tn&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function ak(e,t){switch(_f(t),t.tag){case 1:return Kt(t.type)&&Gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ma(),Ue(Gt),Ue(Tt),Ff(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mf(t),null;case 13:if(Ue(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ge),null;case 4:return Ma(),null;case 10:return Rf(t.type._context),null;case 22:case 23:return Kf(),null;case 24:return null;default:return null}}var Xo=!1,Pt=!1,ik=typeof WeakSet=="function"?WeakSet:Set,ee=null;function xa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Xe(e,t,r)}else n.current=null}function dh(e,t,n){try{n()}catch(r){Xe(e,t,r)}}var rg=!1;function ok(e,t){if(Kd=Vl,e=Hv(),kf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yd={focusedElem:e,selectionRange:n},Vl=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,v=x.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:En(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(j){Xe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return x=rg,rg=!1,x}function Oi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&dh(t,n,i)}a=a.next}while(a!==r)}}function Dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Uy(e){var t=e.alternate;t!==null&&(e.alternate=null,Uy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wn],delete t[Zi],delete t[Xd],delete t[VC],delete t[WC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zy(e){return e.tag===5||e.tag===3||e.tag===4}function sg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ql));else if(r!==4&&(e=e.child,e!==null))for(fh(e,t,n),e=e.sibling;e!==null;)fh(e,t,n),e=e.sibling}function mh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mh(e,t,n),e=e.sibling;e!==null;)mh(e,t,n),e=e.sibling}var jt=null,Pn=!1;function Er(e,t,n){for(n=n.child;n!==null;)Vy(e,t,n),n=n.sibling}function Vy(e,t,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Ec,n)}catch{}switch(n.tag){case 5:Pt||xa(n,t);case 6:var r=jt,a=Pn;jt=null,Er(e,t,n),jt=r,Pn=a,jt!==null&&(Pn?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Pn?(e=jt,n=n.stateNode,e.nodeType===8?Uu(e.parentNode,n):e.nodeType===1&&Uu(e,n),Ki(e)):Uu(jt,n.stateNode));break;case 4:r=jt,a=Pn,jt=n.stateNode.containerInfo,Pn=!0,Er(e,t,n),jt=r,Pn=a;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dh(n,t,o),a=a.next}while(a!==r)}Er(e,t,n);break;case 1:if(!Pt&&(xa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Xe(n,t,l)}Er(e,t,n);break;case 21:Er(e,t,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Er(e,t,n),Pt=r):Er(e,t,n);break;default:Er(e,t,n)}}function ag(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ik),t.forEach(function(r){var a=gk.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Sn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,Pn=!1;break e;case 3:jt=l.stateNode.containerInfo,Pn=!0;break e;case 4:jt=l.stateNode.containerInfo,Pn=!0;break e}l=l.return}if(jt===null)throw Error(V(160));Vy(i,o,a),jt=null,Pn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Xe(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wy(t,e),t=t.sibling}function Wy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),zn(e),r&4){try{Oi(3,e,e.return),Dc(3,e)}catch(g){Xe(e,e.return,g)}try{Oi(5,e,e.return)}catch(g){Xe(e,e.return,g)}}break;case 1:Sn(t,e),zn(e),r&512&&n!==null&&xa(n,n.return);break;case 5:if(Sn(t,e),zn(e),r&512&&n!==null&&xa(n,n.return),e.flags&32){var a=e.stateNode;try{Wi(a,"")}catch(g){Xe(e,e.return,g)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hv(a,i),Ld(l,o);var u=Ld(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?xv(a,h):d==="dangerouslySetInnerHTML"?pv(a,h):d==="children"?Wi(a,h):ff(a,d,h,u)}switch(l){case"input":Id(a,i);break;case"textarea":fv(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ba(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ba(a,!!i.multiple,i.defaultValue,!0):ba(a,!!i.multiple,i.multiple?[]:"",!1))}a[Zi]=i}catch(g){Xe(e,e.return,g)}}break;case 6:if(Sn(t,e),zn(e),r&4){if(e.stateNode===null)throw Error(V(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Xe(e,e.return,g)}}break;case 3:if(Sn(t,e),zn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ki(t.containerInfo)}catch(g){Xe(e,e.return,g)}break;case 4:Sn(t,e),zn(e);break;case 13:Sn(t,e),zn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(qf=rt())),r&4&&ag(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,Sn(t,e),Pt=u):Sn(t,e),zn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ee=e,d=e.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:Oi(4,f,f.return);break;case 1:xa(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Xe(r,n,g)}}break;case 5:xa(f,f.return);break;case 22:if(f.memoizedState!==null){og(h);continue}}p!==null?(p.return=f,ee=p):og(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gv("display",o))}catch(g){Xe(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Xe(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(t,e),zn(e),r&4&&ag(e);break;case 21:break;default:Sn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zy(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Wi(a,""),r.flags&=-33);var i=sg(e);mh(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sg(e);fh(e,l,o);break;default:throw Error(V(161))}}catch(c){Xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lk(e,t,n){ee=e,Hy(e)}function Hy(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var a=ee,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Xo;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=Xo;var u=Pt;if(Xo=o,(Pt=c)&&!u)for(ee=a;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?lg(a):c!==null?(c.return=o,ee=c):lg(a);for(;i!==null;)ee=i,Hy(i),i=i.sibling;ee=a,Xo=l,Pt=u}ig(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ee=i):ig(e)}}function ig(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||Dc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ki(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Pt||t.flags&512&&hh(t)}catch(f){Xe(t,t.return,f)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function og(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function lg(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dc(4,t)}catch(c){Xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Xe(t,a,c)}}var i=t.return;try{hh(t)}catch(c){Xe(t,i,c)}break;case 5:var o=t.return;try{hh(t)}catch(c){Xe(t,o,c)}}}catch(c){Xe(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var ck=Math.ceil,rc=jr.ReactCurrentDispatcher,Wf=jr.ReactCurrentOwner,vn=jr.ReactCurrentBatchConfig,Se=0,wt=null,ut=null,St=0,tn=0,va=ds(0),gt=0,ao=null,Os=0,Mc=0,Hf=0,Di=null,Wt=null,qf=0,La=1/0,ar=null,sc=!1,ph=null,Kr=null,Zo=!1,Br=null,ac=0,Mi=0,gh=null,El=-1,_l=0;function Lt(){return Se&6?rt():El!==-1?El:El=rt()}function Yr(e){return e.mode&1?Se&2&&St!==0?St&-St:qC.transition!==null?(_l===0&&(_l=Pv()),_l):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Mv(e.type)),e):1}function On(e,t,n,r){if(50<Mi)throw Mi=0,gh=null,Error(V(185));yo(e,n,r),(!(Se&2)||e!==wt)&&(e===wt&&(!(Se&2)&&(Mc|=n),gt===4&&Mr(e,St)),Yt(e,r),n===1&&Se===0&&!(t.mode&1)&&(La=rt()+500,Rc&&hs()))}function Yt(e,t){var n=e.callbackNode;qS(e,t);var r=zl(e,e===wt?St:0);if(r===0)n!==null&&xp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xp(n),t===1)e.tag===0?HC(cg.bind(null,e)):ty(cg.bind(null,e)),UC(function(){!(Se&6)&&hs()}),n=null;else{switch(Av(r)){case 1:n=vf;break;case 4:n=Ev;break;case 16:n=Ul;break;case 536870912:n=_v;break;default:n=Ul}n=Zy(n,qy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qy(e,t){if(El=-1,_l=0,Se&6)throw Error(V(327));var n=e.callbackNode;if(ka()&&e.callbackNode!==n)return null;var r=zl(e,e===wt?St:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ic(e,r);else{t=r;var a=Se;Se|=2;var i=Ky();(wt!==e||St!==t)&&(ar=null,La=rt()+500,_s(e,t));do try{hk();break}catch(l){Gy(e,l)}while(!0);Tf(),rc.current=i,Se=a,ut!==null?t=0:(wt=null,St=0,t=gt)}if(t!==0){if(t===2&&(a=Vd(e),a!==0&&(r=a,t=xh(e,a))),t===1)throw n=ao,_s(e,0),Mr(e,r),Yt(e,rt()),n;if(t===6)Mr(e,r);else{if(a=e.current.alternate,!(r&30)&&!uk(a)&&(t=ic(e,r),t===2&&(i=Vd(e),i!==0&&(r=i,t=xh(e,i))),t===1))throw n=ao,_s(e,0),Mr(e,r),Yt(e,rt()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:bs(e,Wt,ar);break;case 3:if(Mr(e,r),(r&130023424)===r&&(t=qf+500-rt(),10<t)){if(zl(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Lt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Jd(bs.bind(null,e,Wt,ar),t);break}bs(e,Wt,ar);break;case 4:if(Mr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-In(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ck(r/1960))-r,10<r){e.timeoutHandle=Jd(bs.bind(null,e,Wt,ar),r);break}bs(e,Wt,ar);break;case 5:bs(e,Wt,ar);break;default:throw Error(V(329))}}}return Yt(e,rt()),e.callbackNode===n?qy.bind(null,e):null}function xh(e,t){var n=Di;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=ic(e,t),e!==2&&(t=Wt,Wt=n,t!==null&&vh(t)),e}function vh(e){Wt===null?Wt=e:Wt.push.apply(Wt,e)}function uk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Dn(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~Hf,t&=~Mc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-In(t),r=1<<n;e[n]=-1,t&=~r}}function cg(e){if(Se&6)throw Error(V(327));ka();var t=zl(e,0);if(!(t&1))return Yt(e,rt()),null;var n=ic(e,t);if(e.tag!==0&&n===2){var r=Vd(e);r!==0&&(t=r,n=xh(e,r))}if(n===1)throw n=ao,_s(e,0),Mr(e,t),Yt(e,rt()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bs(e,Wt,ar),Yt(e,rt()),null}function Gf(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(La=rt()+500,Rc&&hs())}}function Ds(e){Br!==null&&Br.tag===0&&!(Se&6)&&ka();var t=Se;Se|=1;var n=vn.transition,r=_e;try{if(vn.transition=null,_e=1,e)return e()}finally{_e=r,vn.transition=n,Se=t,!(Se&6)&&hs()}}function Kf(){tn=va.current,Ue(va)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,BC(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(_f(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gl();break;case 3:Ma(),Ue(Gt),Ue(Tt),Ff();break;case 5:Mf(r);break;case 4:Ma();break;case 13:Ue(Ge);break;case 19:Ue(Ge);break;case 10:Rf(r.type._context);break;case 22:case 23:Kf()}n=n.return}if(wt=e,ut=e=Qr(e.current,null),St=tn=t,gt=0,ao=null,Hf=Mc=Os=0,Wt=Di=null,Cs!==null){for(t=0;t<Cs.length;t++)if(n=Cs[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Cs=null}return e}function Gy(e,t){do{var n=ut;try{if(Tf(),Sl.current=nc,tc){for(var r=Ke.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}tc=!1}if(Is=0,vt=mt=Ke=null,Ii=!1,no=0,Wf.current=null,n===null||n.return===null){gt=1,ao=t,ut=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=St,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qp(o);if(p!==null){p.flags&=-257,Jp(p,o,l,i,t),p.mode&1&&Yp(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Yp(i,u,t),Yf();break e}c=Error(V(426))}}else if(We&&l.mode&1){var v=Qp(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Jp(v,o,l,i,t),Pf(Fa(c,l));break e}}i=c=Fa(c,l),gt!==4&&(gt=2),Di===null?Di=[i]:Di.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Ay(i,c,t);Vp(i,y);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Kr===null||!Kr.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Ty(i,l,t);Vp(i,j);break e}}i=i.return}while(i!==null)}Qy(n)}catch(N){t=N,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function Ky(){var e=rc.current;return rc.current=nc,e===null?nc:e}function Yf(){(gt===0||gt===3||gt===2)&&(gt=4),wt===null||!(Os&268435455)&&!(Mc&268435455)||Mr(wt,St)}function ic(e,t){var n=Se;Se|=2;var r=Ky();(wt!==e||St!==t)&&(ar=null,_s(e,t));do try{dk();break}catch(a){Gy(e,a)}while(!0);if(Tf(),Se=n,rc.current=r,ut!==null)throw Error(V(261));return wt=null,St=0,gt}function dk(){for(;ut!==null;)Yy(ut)}function hk(){for(;ut!==null&&!FS();)Yy(ut)}function Yy(e){var t=Xy(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?Qy(e):ut=t,Wf.current=null}function Qy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ak(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ut=null;return}}else if(n=sk(n,t,tn),n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);gt===0&&(gt=5)}function bs(e,t,n){var r=_e,a=vn.transition;try{vn.transition=null,_e=1,fk(e,t,n,r)}finally{vn.transition=a,_e=r}return null}function fk(e,t,n,r){do ka();while(Br!==null);if(Se&6)throw Error(V(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(GS(e,i),e===wt&&(ut=wt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zo||(Zo=!0,Zy(Ul,function(){return ka(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vn.transition,vn.transition=null;var o=_e;_e=1;var l=Se;Se|=4,Wf.current=null,ok(e,n),Wy(n,e),IC(Yd),Vl=!!Kd,Yd=Kd=null,e.current=n,lk(n),LS(),Se=l,_e=o,vn.transition=i}else e.current=n;if(Zo&&(Zo=!1,Br=e,ac=a),i=e.pendingLanes,i===0&&(Kr=null),US(n.stateNode),Yt(e,rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(sc)throw sc=!1,e=ph,ph=null,e;return ac&1&&e.tag!==0&&ka(),i=e.pendingLanes,i&1?e===gh?Mi++:(Mi=0,gh=e):Mi=0,hs(),null}function ka(){if(Br!==null){var e=Av(ac),t=vn.transition,n=_e;try{if(vn.transition=null,_e=16>e?16:e,Br===null)var r=!1;else{if(e=Br,Br=null,ac=0,Se&6)throw Error(V(331));var a=Se;for(Se|=4,ee=e.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Oi(8,d,i)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,p=d.return;if(Uy(d),d===u){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var x=i.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ee=y;break e}ee=i.return}}var w=e.current;for(ee=w;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=w;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dc(9,l)}}catch(N){Xe(l,l.return,N)}if(l===o){ee=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ee=j;break e}ee=l.return}}if(Se=a,hs(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Ec,e)}catch{}r=!0}return r}finally{_e=n,vn.transition=t}}return!1}function ug(e,t,n){t=Fa(n,t),t=Ay(e,t,1),e=Gr(e,t,1),t=Lt(),e!==null&&(yo(e,1,t),Yt(e,t))}function Xe(e,t,n){if(e.tag===3)ug(e,e,n);else for(;t!==null;){if(t.tag===3){ug(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kr===null||!Kr.has(r))){e=Fa(n,e),e=Ty(t,e,1),t=Gr(t,e,1),e=Lt(),t!==null&&(yo(t,1,e),Yt(t,e));break}}t=t.return}}function mk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,wt===e&&(St&n)===n&&(gt===4||gt===3&&(St&130023424)===St&&500>rt()-qf?_s(e,0):Hf|=n),Yt(e,t)}function Jy(e,t){t===0&&(e.mode&1?(t=Vo,Vo<<=1,!(Vo&130023424)&&(Vo=4194304)):t=1);var n=Lt();e=xr(e,t),e!==null&&(yo(e,t,n),Yt(e,n))}function pk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jy(e,n)}function gk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),Jy(e,n)}var Xy;Xy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gt.current)qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qt=!1,rk(e,t,n);qt=!!(e.flags&131072)}else qt=!1,We&&t.flags&1048576&&ny(t,Ql,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;kl(e,t),e=t.pendingProps;var a=Ia(t,Tt.current);Ca(t,n),a=$f(null,t,r,e,a,n);var i=Bf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(r)?(i=!0,Kl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Of(t),a.updater=Oc,t.stateNode=a,a._reactInternals=t,sh(t,r,e,n),t=oh(null,t,r,!0,i,n)):(t.tag=0,We&&i&&Ef(t),Dt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(kl(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=vk(r),e=En(r,e),a){case 0:t=ih(null,t,r,e,n);break e;case 1:t=eg(null,t,r,e,n);break e;case 11:t=Xp(null,t,r,e,n);break e;case 14:t=Zp(null,t,r,En(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:En(r,a),ih(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:En(r,a),eg(e,t,r,a,n);case 3:e:{if(Dy(t),e===null)throw Error(V(387));r=t.pendingProps,i=t.memoizedState,a=i.element,ly(e,t),Zl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Fa(Error(V(423)),t),t=tg(e,t,r,n,a);break e}else if(r!==a){a=Fa(Error(V(424)),t),t=tg(e,t,r,n,a);break e}else for(rn=qr(t.stateNode.containerInfo.firstChild),sn=t,We=!0,Tn=null,n=iy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),r===a){t=vr(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 5:return cy(t),e===null&&th(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Qd(r,a)?o=null:i!==null&&Qd(r,i)&&(t.flags|=32),Oy(e,t),Dt(e,t,o,n),t.child;case 6:return e===null&&th(t),null;case 13:return My(e,t,n);case 4:return Df(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Da(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:En(r,a),Xp(e,t,r,a,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,De(Jl,r._currentValue),r._currentValue=o,i!==null)if(Dn(i.value,o)){if(i.children===a.children&&!Gt.current){t=vr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=dr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),nh(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(V(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nh(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ca(t,n),a=wn(a),r=r(a),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return r=t.type,a=En(r,t.pendingProps),a=En(r.type,a),Zp(e,t,r,a,n);case 15:return Ry(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:En(r,a),kl(e,t),t.tag=1,Kt(r)?(e=!0,Kl(t)):e=!1,Ca(t,n),Py(t,r,a),sh(t,r,a,n),oh(null,t,r,!0,e,n);case 19:return Fy(e,t,n);case 22:return Iy(e,t,n)}throw Error(V(156,t.tag))};function Zy(e,t){return kv(e,t)}function xk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,r){return new xk(e,t,n,r)}function Qf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vk(e){if(typeof e=="function")return Qf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pf)return 11;if(e===gf)return 14}return 2}function Qr(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")Qf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case la:return Ps(n.children,a,i,t);case mf:o=8,a|=8;break;case _d:return e=xn(12,n,t,a|2),e.elementType=_d,e.lanes=i,e;case Pd:return e=xn(13,n,t,a),e.elementType=Pd,e.lanes=i,e;case Ad:return e=xn(19,n,t,a),e.elementType=Ad,e.lanes=i,e;case cv:return Fc(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ov:o=10;break e;case lv:o=9;break e;case pf:o=11;break e;case gf:o=14;break e;case Rr:o=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=xn(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Ps(e,t,n,r){return e=xn(7,e,r,t),e.lanes=n,e}function Fc(e,t,n,r){return e=xn(22,e,r,t),e.elementType=cv,e.lanes=n,e.stateNode={isHidden:!1},e}function Yu(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Qu(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yk(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Au(0),this.expirationTimes=Au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Au(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Jf(e,t,n,r,a,i,o,l,c){return e=new yk(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=xn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(i),e}function wk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function e0(e){if(!e)return rs;e=e._reactInternals;e:{if(Vs(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Kt(n))return ey(e,n,t)}return t}function t0(e,t,n,r,a,i,o,l,c){return e=Jf(n,r,!0,e,a,i,o,l,c),e.context=e0(null),n=e.current,r=Lt(),a=Yr(n),i=dr(r,a),i.callback=t??null,Gr(n,i,a),e.current.lanes=a,yo(e,a,r),Yt(e,r),e}function Lc(e,t,n,r){var a=t.current,i=Lt(),o=Yr(a);return n=e0(n),t.context===null?t.context=n:t.pendingContext=n,t=dr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gr(a,t,o),e!==null&&(On(e,a,o,i),Nl(e,a,o)),o}function oc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xf(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function bk(){return null}var n0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zf(e){this._internalRoot=e}$c.prototype.render=Zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Lc(e,t,null,null)};$c.prototype.unmount=Zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ds(function(){Lc(null,e,null,null)}),t[gr]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dr.length&&t!==0&&t<Dr[n].priority;n++);Dr.splice(n,0,e),n===0&&Dv(e)}};function em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hg(){}function jk(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=oc(o);i.call(u)}}var o=t0(t,r,e,0,null,!1,!1,"",hg);return e._reactRootContainer=o,e[gr]=o.current,Ji(e.nodeType===8?e.parentNode:e),Ds(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=oc(c);l.call(u)}}var c=Jf(e,0,!1,null,null,!1,!1,"",hg);return e._reactRootContainer=c,e[gr]=c.current,Ji(e.nodeType===8?e.parentNode:e),Ds(function(){Lc(t,c,n,r)}),c}function Uc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=oc(o);l.call(c)}}Lc(t,o,e,a)}else o=jk(n,t,e,a,r);return oc(o)}Tv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Si(t.pendingLanes);n!==0&&(yf(t,n|1),Yt(t,rt()),!(Se&6)&&(La=rt()+500,hs()))}break;case 13:Ds(function(){var r=xr(e,1);if(r!==null){var a=Lt();On(r,e,1,a)}}),Xf(e,1)}};wf=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var n=Lt();On(t,e,134217728,n)}Xf(e,134217728)}};Rv=function(e){if(e.tag===13){var t=Yr(e),n=xr(e,t);if(n!==null){var r=Lt();On(n,e,t,r)}Xf(e,t)}};Iv=function(){return _e};Ov=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};Bd=function(e,t,n){switch(t){case"input":if(Id(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Tc(r);if(!a)throw Error(V(90));dv(r),Id(r,a)}}}break;case"textarea":fv(e,n);break;case"select":t=n.value,t!=null&&ba(e,!!n.multiple,t,!1)}};wv=Gf;bv=Ds;var Nk={usingClientEntryPoint:!1,Events:[bo,ha,Tc,vv,yv,Gf]},di={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sk={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sv(e),e===null?null:e.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||bk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Ec=el.inject(Sk),Gn=el}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;cn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(t))throw Error(V(200));return wk(e,t,null,n)};cn.createRoot=function(e,t){if(!em(e))throw Error(V(299));var n=!1,r="",a=n0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Jf(e,1,!1,null,null,n,!1,r,a),e[gr]=t.current,Ji(e.nodeType===8?e.parentNode:e),new Zf(t)};cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Sv(t),e=e===null?null:e.stateNode,e};cn.flushSync=function(e){return Ds(e)};cn.hydrate=function(e,t,n){if(!Bc(t))throw Error(V(200));return Uc(null,e,t,!0,n)};cn.hydrateRoot=function(e,t,n){if(!em(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=n0;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=t0(t,null,e,1,n??null,a,!1,i,o),e[gr]=t.current,Ji(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new $c(t)};cn.render=function(e,t,n){if(!Bc(t))throw Error(V(200));return Uc(null,e,t,!1,n)};cn.unmountComponentAtNode=function(e){if(!Bc(e))throw Error(V(40));return e._reactRootContainer?(Ds(function(){Uc(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};cn.unstable_batchedUpdates=Gf;cn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bc(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Uc(e,t,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function r0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r0)}catch(e){console.error(e)}}r0(),rv.exports=cn;var Ws=rv.exports;const s0=af(Ws);var a0,fg=Ws;a0=fg.createRoot,fg.hydrateRoot;const Ck=1,kk=1e6;let Ju=0;function Ek(){return Ju=(Ju+1)%Number.MAX_SAFE_INTEGER,Ju.toString()}const Xu=new Map,mg=e=>{if(Xu.has(e))return;const t=setTimeout(()=>{Xu.delete(e),Fi({type:"REMOVE_TOAST",toastId:e})},kk);Xu.set(e,t)},_k=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ck)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?mg(n):e.toasts.forEach(r=>{mg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Al=[];let Tl={toasts:[]};function Fi(e){Tl=_k(Tl,e),Al.forEach(t=>{t(Tl)})}function Pk({...e}){const t=Ek(),n=a=>Fi({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Fi({type:"DISMISS_TOAST",toastId:t});return Fi({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function be(){const[e,t]=m.useState(Tl);return m.useEffect(()=>(Al.push(t),()=>{const n=Al.indexOf(t);n>-1&&Al.splice(n,1)}),[e]),{...e,toast:Pk,dismiss:n=>Fi({type:"DISMISS_TOAST",toastId:n})}}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function Ak(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function i0(...e){return t=>e.forEach(n=>Ak(n,t))}function ke(...e){return m.useCallback(i0(...e),e)}function Tk(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...x}=h,g=f?.[e][c]||l,v=m.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:v,children:p})}function d(h,f){const p=f?.[e][c]||l,x=m.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=l?.[e]||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Rk(a,...t)]}function Rk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ss=m.forwardRef((e,t)=>{const{children:n,...r}=e,a=m.Children.toArray(n),i=a.find(Ik);if(i){const o=i.props.children,l=a.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return s.jsx(yh,{...r,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,l):null})}return s.jsx(yh,{...r,ref:t,children:n})});ss.displayName="Slot";var yh=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const a=Dk(n);return m.cloneElement(n,{...Ok(r,n.props),ref:t?i0(t,a):a})}return m.Children.count(n)>1?m.Children.only(null):null});yh.displayName="SlotClone";var tm=({children:e})=>s.jsx(s.Fragment,{children:e});function Ik(e){return m.isValidElement(e)&&e.type===tm}function Ok(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function Dk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function nm(e){const t=e+"CollectionProvider",[n,r]=Tk(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:g}=p,v=_.useRef(null),y=_.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:y,collectionRef:v,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=_.forwardRef((p,x)=>{const{scope:g,children:v}=p,y=i(l,g),w=ke(x,y.collectionRef);return s.jsx(ss,{ref:w,children:v})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=_.forwardRef((p,x)=>{const{scope:g,children:v,...y}=p,w=_.useRef(null),b=ke(x,w),j=i(u,g);return _.useEffect(()=>(j.itemMap.set(w,{ref:w,...y}),()=>void j.itemMap.delete(w))),s.jsx(ss,{[d]:"",ref:b,children:v})});h.displayName=u;function f(p){const x=i(e+"CollectionConsumer",p);return _.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((j,N)=>y.indexOf(j.ref.current)-y.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function Mk(e,t){const n=m.createContext(t),r=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Zn(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];const u=h=>{const{scope:f,children:p,...x}=h,g=f?.[e]?.[c]||l,v=m.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(h,f){const p=f?.[e]?.[c]||l,x=m.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=l?.[e]||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,Fk(a,...t)]}function Fk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Lk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],de=Lk.reduce((e,t)=>{const n=m.forwardRef((r,a)=>{const{asChild:i,...o}=r,l=i?ss:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function o0(e,t){e&&Ws.flushSync(()=>e.dispatchEvent(t))}function Qt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>t.current?.(...n),[])}function $k(e,t=globalThis?.document){const n=Qt(e);m.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Bk="DismissableLayer",wh="dismissableLayer.update",Uk="dismissableLayer.pointerDownOutside",zk="dismissableLayer.focusOutside",pg,l0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),No=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(l0),[d,h]=m.useState(null),f=d?.ownerDocument??globalThis?.document,[,p]=m.useState({}),x=ke(t,k=>h(k)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),w=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=w>=y,N=Wk(k=>{const E=k.target,U=[...u.branches].some(M=>M.contains(E));!j||U||(a?.(k),o?.(k),k.defaultPrevented||l?.())},f),S=Hk(k=>{const E=k.target;[...u.branches].some(M=>M.contains(E))||(i?.(k),o?.(k),k.defaultPrevented||l?.())},f);return $k(k=>{w===u.layers.size-1&&(r?.(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=pg)}},[d,f,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gg())},[d,u]),m.useEffect(()=>{const k=()=>p({});return document.addEventListener(wh,k),()=>document.removeEventListener(wh,k)},[]),s.jsx(de.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,N.onPointerDownCapture)})});No.displayName=Bk;var Vk="DismissableLayerBranch",c0=m.forwardRef((e,t)=>{const n=m.useContext(l0),r=m.useRef(null),a=ke(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(de.div,{...e,ref:a})});c0.displayName=Vk;function Wk(e,t=globalThis?.document){const n=Qt(e),r=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){u0(Uk,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Hk(e,t=globalThis?.document){const n=Qt(e),r=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!r.current&&u0(zk,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gg(){const e=new CustomEvent(wh);document.dispatchEvent(e)}function u0(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?o0(a,i):a.dispatchEvent(i)}var qk=No,Gk=c0,Rt=globalThis?.document?m.useLayoutEffect:()=>{},Kk="Portal",zc=m.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=m.useState(!1);Rt(()=>i(!0),[]);const o=n||a&&globalThis?.document?.body;return o?s0.createPortal(s.jsx(de.div,{...r,ref:t}),o):null});zc.displayName=Kk;function Yk(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Nr=e=>{const{present:t,children:n}=e,r=Qk(t),a=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=ke(r.ref,Jk(a));return typeof n=="function"||r.isPresent?m.cloneElement(a,{ref:i}):null};Nr.displayName="Presence";function Qk(e){const[t,n]=m.useState(),r=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Yk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=tl(r.current);i.current=l==="mounted"?u:"none"},[l]),Rt(()=>{const u=r.current,d=a.current;if(d!==e){const f=i.current,p=tl(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Rt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=tl(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=p=>{p.target===t&&(i.current=tl(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function tl(e){return e?.animationName||"none"}function Jk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Xk({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Qt(n),c=m.useCallback(u=>{if(i){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else a(u)},[i,e,a,l]);return[o,c]}function Xk({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,a=m.useRef(r),i=Qt(t);return m.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Zk="VisuallyHidden",So=m.forwardRef((e,t)=>s.jsx(de.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));So.displayName=Zk;var eE=So,rm="ToastProvider",[sm,tE,nE]=nm("Toast"),[d0,P3]=Zn("Toast",[nE]),[rE,Vc]=d0(rm),h0=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${rm}\`. Expected non-empty \`string\`.`),s.jsx(sm.Provider,{scope:t,children:s.jsx(rE,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};h0.displayName=rm;var f0="ToastViewport",sE=["F8"],bh="toast.viewportPause",jh="toast.viewportResume",m0=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=sE,label:a="Notifications ({hotkey})",...i}=e,o=Vc(f0,n),l=tE(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),f=ke(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const v=y=>{r.length!==0&&r.every(b=>y[b]||y.code===b)&&h.current?.focus()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),m.useEffect(()=>{const v=c.current,y=h.current;if(x&&v&&y){const w=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(bh);y.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(jh);y.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!v.contains(S.relatedTarget)&&b()},N=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",w),v.addEventListener("focusout",j),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:v})=>{const w=l().map(b=>{const j=b.ref.current,N=[j,...xE(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return m.useEffect(()=>{const v=h.current;if(v){const y=w=>{const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const N=document.activeElement,S=w.shiftKey;if(w.target===v&&S){u.current?.focus();return}const U=g({tabbingDirection:S?"backwards":"forwards"}),M=U.findIndex(K=>K===N);Zu(U.slice(M+1))?w.preventDefault():S?u.current?.focus():d.current?.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,g]),s.jsxs(Gk,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(Nh,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});Zu(v)}}),s.jsx(sm.Slot,{scope:n,children:s.jsx(de.ol,{tabIndex:-1,...i,ref:f})}),x&&s.jsx(Nh,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});Zu(v)}})]})});m0.displayName=f0;var p0="ToastFocusProxy",Nh=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=Vc(p0,n);return s.jsx(So,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&r()}})});Nh.displayName=p0;var Wc="Toast",aE="toast.swipeStart",iE="toast.swipeMove",oE="toast.swipeCancel",lE="toast.swipeEnd",g0=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=yr({prop:r,defaultProp:a,onChange:i});return s.jsx(Nr,{present:n||l,children:s.jsx(dE,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Qt(e.onPause),onResume:Qt(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});g0.displayName=Wc;var[cE,uE]=d0(Wc,{onClose(){}}),dE=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...x}=e,g=Vc(Wc,n),[v,y]=m.useState(null),w=ke(t,D=>y(D)),b=m.useRef(null),j=m.useRef(null),N=a||g.duration,S=m.useRef(0),k=m.useRef(N),E=m.useRef(0),{onToastAdd:U,onToastRemove:M}=g,K=Qt(()=>{v?.contains(document.activeElement)&&g.viewport?.focus(),o()}),T=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(K,D))},[K]);m.useEffect(()=>{const D=g.viewport;if(D){const z=()=>{T(k.current),u?.()},H=()=>{const J=new Date().getTime()-S.current;k.current=k.current-J,window.clearTimeout(E.current),c?.()};return D.addEventListener(bh,H),D.addEventListener(jh,z),()=>{D.removeEventListener(bh,H),D.removeEventListener(jh,z)}}},[g.viewport,N,c,u,T]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&T(N)},[i,N,g.isClosePausedRef,T]),m.useEffect(()=>(U(),()=>M()),[U,M]);const G=m.useMemo(()=>v?N0(v):null,[v]);return g.viewport?s.jsxs(s.Fragment,{children:[G&&s.jsx(hE,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),s.jsx(cE,{scope:n,onClose:K,children:Ws.createPortal(s.jsx(sm.ItemSlot,{scope:n,children:s.jsx(qk,{asChild:!0,onEscapeKeyDown:oe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||K(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,D=>{D.key==="Escape"&&(l?.(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:oe(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:oe(e.onPointerMove,D=>{if(!b.current)return;const z=D.clientX-b.current.x,H=D.clientY-b.current.y,J=!!j.current,P=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,X=P?L(0,z):0,q=P?0:L(0,H),ne=D.pointerType==="touch"?10:2,ue={x:X,y:q},je={originalEvent:D,delta:ue};J?(j.current=ue,nl(iE,h,je,{discrete:!1})):xg(ue,g.swipeDirection,ne)?(j.current=ue,nl(aE,d,je,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(z)>ne||Math.abs(H)>ne)&&(b.current=null)}),onPointerUp:oe(e.onPointerUp,D=>{const z=j.current,H=D.target;if(H.hasPointerCapture(D.pointerId)&&H.releasePointerCapture(D.pointerId),j.current=null,b.current=null,z){const J=D.currentTarget,P={originalEvent:D,delta:z};xg(z,g.swipeDirection,g.swipeThreshold)?nl(lE,p,P,{discrete:!0}):nl(oE,f,P,{discrete:!0}),J.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),hE=e=>{const{__scopeToast:t,children:n,...r}=e,a=Vc(Wc,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return pE(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(zc,{asChild:!0,children:s.jsx(So,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},fE="ToastTitle",x0=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(de.div,{...r,ref:t})});x0.displayName=fE;var mE="ToastDescription",v0=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(de.div,{...r,ref:t})});v0.displayName=mE;var y0="ToastAction",w0=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(j0,{altText:n,asChild:!0,children:s.jsx(am,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${y0}\`. Expected non-empty \`string\`.`),null)});w0.displayName=y0;var b0="ToastClose",am=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=uE(b0,n);return s.jsx(j0,{asChild:!0,children:s.jsx(de.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,a.onClose)})})});am.displayName=b0;var j0=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function N0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),gE(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...N0(r))}}),t}function nl(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?o0(a,i):a.dispatchEvent(i)}var xg=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function pE(e=()=>{}){const t=Qt(e);Rt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function gE(e){return e.nodeType===e.ELEMENT_NODE}function xE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var vE=h0,S0=m0,C0=g0,k0=x0,E0=v0,_0=w0,P0=am;function A0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=A0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function T0(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=A0(e))&&(r&&(r+=" "),r+=t);return r}const vg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yg=T0,Co=(e,t)=>n=>{var r;if(t?.variants==null)return yg(e,n?.class,n?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n?.[u],h=i?.[u];if(d===null)return null;const f=vg(d)||vg(h);return a[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[g,v]=x;return Array.isArray(v)?v.includes({...i,...l}[g]):{...i,...l}[g]===v})?[...u,h,f]:u},[]);return yg(e,o,c,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...wE,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:R0("lucide",a),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=m.forwardRef(({className:r,...a},i)=>m.createElement(bE,{ref:i,iconNode:t,className:R0(`lucide-${yE(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=re("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=re("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=re("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=re("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=re("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=re("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=re("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=re("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=re("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=re("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=re("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=re("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=re("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=re("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),cm="-",qE=e=>{const t=KE(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(cm);return l[0]===""&&l.length!==1&&l.shift(),$0(l,t)||GE(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},$0=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?$0(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(cm);return t.validators.find(({validator:o})=>o(i))?.classGroupId},jg=/^\[(.+)\]$/,GE=e=>{if(jg.test(e)){const t=jg.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},KE=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return QE(Object.entries(e.classGroups),n).forEach(([i,o])=>{Ch(o,r,i,t)}),r},Ch=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Ng(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(YE(a)){Ch(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Ch(o,Ng(t,i),n,r)})})},Ng=(e,t)=>{let n=e;return t.split(cm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},YE=e=>e.isThemeGetter,QE=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,JE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},B0="!",XE=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(r||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(y==="/"){h=v;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(B0),x=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},ZE=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},e2=e=>({cache:JE(e.cacheSize),parseClassName:XE(e),...qE(e)}),t2=/\s+/,n2=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(t2);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let x=!!p,g=r(x?f.substring(0,p):f);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const v=ZE(d).join(":"),y=h?v+B0:v,w=y+g;if(i.includes(w))continue;i.push(w);const b=a(g,x);for(let j=0;j<b.length;++j){const N=b[j];i.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function r2(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=U0(t))&&(r&&(r+=" "),r+=n);return r}const U0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=U0(e[r]))&&(n&&(n+=" "),n+=t);return n};function s2(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=e2(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=n2(c,n);return a(c,d),d}return function(){return i(r2.apply(null,arguments))}}const $e=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},z0=/^\[(?:([a-z-]+):)?(.+)\]$/i,a2=/^\d+\/\d+$/,i2=new Set(["px","full","screen"]),o2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nr=e=>Ea(e)||i2.has(e)||a2.test(e),_r=e=>Ka(e,"length",y2),Ea=e=>!!e&&!Number.isNaN(Number(e)),ed=e=>Ka(e,"number",Ea),hi=e=>!!e&&Number.isInteger(Number(e)),h2=e=>e.endsWith("%")&&Ea(e.slice(0,-1)),ge=e=>z0.test(e),Pr=e=>o2.test(e),f2=new Set(["length","size","percentage"]),m2=e=>Ka(e,f2,V0),p2=e=>Ka(e,"position",V0),g2=new Set(["image","url"]),x2=e=>Ka(e,g2,b2),v2=e=>Ka(e,"",w2),fi=()=>!0,Ka=(e,t,n)=>{const r=z0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},y2=e=>l2.test(e)&&!c2.test(e),V0=()=>!1,w2=e=>u2.test(e),b2=e=>d2.test(e),j2=()=>{const e=$e("colors"),t=$e("spacing"),n=$e("blur"),r=$e("brightness"),a=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),l=$e("borderWidth"),c=$e("contrast"),u=$e("grayscale"),d=$e("hueRotate"),h=$e("invert"),f=$e("gap"),p=$e("gradientColorStops"),x=$e("gradientColorStopPositions"),g=$e("inset"),v=$e("margin"),y=$e("opacity"),w=$e("padding"),b=$e("saturate"),j=$e("scale"),N=$e("sepia"),S=$e("skew"),k=$e("space"),E=$e("translate"),U=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",ge,t],T=()=>[ge,t],G=()=>["",nr,_r],D=()=>["auto",Ea,ge],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ge],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Ea,ge];return{cacheSize:500,separator:":",theme:{colors:[fi],spacing:[nr,_r],blur:["none","",Pr,ge],brightness:q(),borderColor:[e],borderRadius:["none","","full",Pr,ge],borderSpacing:T(),borderWidth:G(),contrast:q(),grayscale:L(),hueRotate:q(),invert:L(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[h2,_r],inset:K(),margin:K(),opacity:q(),padding:T(),saturate:q(),scale:q(),sepia:L(),skew:q(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[Pr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),ge]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hi,ge]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",hi,ge]}],"grid-cols":[{"grid-cols":[fi]}],"col-start-end":[{col:["auto",{span:["full",hi,ge]},ge]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[fi]}],"row-start-end":[{row:["auto",{span:[hi,ge]},ge]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,t]}],"min-w":[{"min-w":[ge,t,"min","max","fit"]}],"max-w":[{"max-w":[ge,t,"none","full","min","max","fit","prose",{screen:[Pr]},Pr]}],h:[{h:[ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pr,_r]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ed]}],"font-family":[{font:[fi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Ea,ed]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nr,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nr,_r]}],"underline-offset":[{"underline-offset":["auto",nr,ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),p2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[nr,ge]}],"outline-w":[{outline:[nr,_r]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[nr,_r]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pr,v2]}],"shadow-color":[{shadow:[fi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pr,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[hi,ge]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nr,_r,ed]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},N2=s2(j2);function ie(...e){return N2(T0(e))}const S2=vE,W0=m.forwardRef(({className:e,...t},n)=>s.jsx(S0,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));W0.displayName=S0.displayName;const C2=Co("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),H0=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(C0,{ref:r,className:ie(C2({variant:t}),e),...n}));H0.displayName=C0.displayName;const k2=m.forwardRef(({className:e,...t},n)=>s.jsx(_0,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));k2.displayName=_0.displayName;const q0=m.forwardRef(({className:e,...t},n)=>s.jsx(P0,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(WE,{className:"h-4 w-4"})}));q0.displayName=P0.displayName;const G0=m.forwardRef(({className:e,...t},n)=>s.jsx(k0,{ref:n,className:ie("text-sm font-semibold",e),...t}));G0.displayName=k0.displayName;const K0=m.forwardRef(({className:e,...t},n)=>s.jsx(E0,{ref:n,className:ie("text-sm opacity-90",e),...t}));K0.displayName=E0.displayName;function E2(){const{toasts:e}=be();return s.jsxs(S2,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(H0,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(G0,{children:n}),r&&s.jsx(K0,{children:r})]}),a,s.jsx(q0,{})]},t)}),s.jsx(W0,{})]})}var Sg=["light","dark"],_2="(prefers-color-scheme: dark)",P2=m.createContext(void 0),A2={setTheme:e=>{},themes:[]},T2=()=>{var e;return(e=m.useContext(P2))!=null?e:A2};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=a?Sg.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,g=!1,v=!0)=>{let y=o?o[x]:x,w=g?x+"|| ''":`'${y}'`,b="";return a&&v&&!g&&Sg.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),n==="class"?g||y?b+=`c.add(${w})`:b+="null":y&&(b+=`d[s](n,${w})`),b},p=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${_2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var R2=e=>{switch(e){case"success":return D2;case"info":return F2;case"warning":return M2;case"error":return L2;default:return null}},I2=Array(12).fill(0),O2=({visible:e})=>_.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},_.createElement("div",{className:"sonner-spinner"},I2.map((t,n)=>_.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),D2=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),M2=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F2=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L2=_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$2=()=>{let[e,t]=_.useState(document.hidden);return _.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},kh=1,B2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:kh++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0;return r.then(async i=>{if(z2(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=t?.id||kh++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},en=new B2,U2=(e,t)=>{let n=t?.id||kh++;return en.addToast({title:e,...t,id:n}),n},z2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",V2=U2,W2=()=>en.toasts;Object.assign(V2,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:W2});function H2(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}H2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function rl(e){return e.label!==void 0}var q2=3,G2="32px",K2=4e3,Y2=356,Q2=14,J2=20,X2=200;function Z2(...e){return e.filter(Boolean).join(" ")}var e_=e=>{var t,n,r,a,i,o,l,c,u,d;let{invert:h,toast:f,unstyled:p,interacting:x,setHeights:g,visibleToasts:v,heights:y,index:w,toasts:b,expanded:j,removeToast:N,defaultRichColors:S,closeButton:k,style:E,cancelButtonStyle:U,actionButtonStyle:M,className:K="",descriptionClassName:T="",duration:G,position:D,gap:z,loadingIcon:H,expandByDefault:J,classNames:P,icons:L,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:q,cn:ne}=e,[ue,je]=_.useState(!1),[ot,xe]=_.useState(!1),[se,Ce]=_.useState(!1),[Ve,Ne]=_.useState(!1),[Ee,Re]=_.useState(0),[bt,Jt]=_.useState(0),vs=_.useRef(null),Nn=_.useRef(null),Ks=w===0,C=w+1<=v,A=f.type,O=f.dismissible!==!1,Z=f.className||"",Y=f.descriptionClassName||"",W=_.useMemo(()=>y.findIndex(pe=>pe.toastId===f.id)||0,[y,f.id]),ce=_.useMemo(()=>{var pe;return(pe=f.closeButton)!=null?pe:k},[f.closeButton,k]),me=_.useMemo(()=>f.duration||G||K2,[f.duration,G]),Qe=_.useRef(0),Fe=_.useRef(0),$n=_.useRef(0),Cr=_.useRef(null),[Ys,ni]=D.split("-"),Mo=_.useMemo(()=>y.reduce((pe,Le,Ie)=>Ie>=W?pe:pe+Le.height,0),[y,W]),ri=$2(),Su=f.invert||h,Qs=A==="loading";Fe.current=_.useMemo(()=>W*z+Mo,[W,Mo]),_.useEffect(()=>{je(!0)},[]),_.useLayoutEffect(()=>{if(!ue)return;let pe=Nn.current,Le=pe.style.height;pe.style.height="auto";let Ie=pe.getBoundingClientRect().height;pe.style.height=Le,Jt(Ie),g(Bn=>Bn.find(Un=>Un.toastId===f.id)?Bn.map(Un=>Un.toastId===f.id?{...Un,height:Ie}:Un):[{toastId:f.id,height:Ie,position:f.position},...Bn])},[ue,f.title,f.description,g,f.id]);let kr=_.useCallback(()=>{xe(!0),Re(Fe.current),g(pe=>pe.filter(Le=>Le.toastId!==f.id)),setTimeout(()=>{N(f)},X2)},[f,N,g,Fe]);_.useEffect(()=>{if(f.promise&&A==="loading"||f.duration===1/0||f.type==="loading")return;let pe,Le=me;return j||x||q&&ri?(()=>{if($n.current<Qe.current){let Ie=new Date().getTime()-Qe.current;Le=Le-Ie}$n.current=new Date().getTime()})():Le!==1/0&&(Qe.current=new Date().getTime(),pe=setTimeout(()=>{var Ie;(Ie=f.onAutoClose)==null||Ie.call(f,f),kr()},Le)),()=>clearTimeout(pe)},[j,x,J,f,me,kr,f.promise,A,q,ri]),_.useEffect(()=>{let pe=Nn.current;if(pe){let Le=pe.getBoundingClientRect().height;return Jt(Le),g(Ie=>[{toastId:f.id,height:Le,position:f.position},...Ie]),()=>g(Ie=>Ie.filter(Bn=>Bn.toastId!==f.id))}},[g,f.id]),_.useEffect(()=>{f.delete&&kr()},[kr,f.delete]);function QN(){return L!=null&&L.loading?_.createElement("div",{className:"sonner-loader","data-visible":A==="loading"},L.loading):H?_.createElement("div",{className:"sonner-loader","data-visible":A==="loading"},H):_.createElement(O2,{visible:A==="loading"})}return _.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Nn,className:ne(K,Z,P?.toast,(t=f?.classNames)==null?void 0:t.toast,P?.default,P?.[A],(n=f?.classNames)==null?void 0:n[A]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:S,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":ue,"data-promise":!!f.promise,"data-removed":ot,"data-visible":C,"data-y-position":Ys,"data-x-position":ni,"data-index":w,"data-front":Ks,"data-swiping":se,"data-dismissible":O,"data-type":A,"data-invert":Su,"data-swipe-out":Ve,"data-expanded":!!(j||J&&ue),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${ot?Ee:Fe.current}px`,"--initial-height":J?"auto":`${bt}px`,...E,...f.style},onPointerDown:pe=>{Qs||!O||(vs.current=new Date,Re(Fe.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(Ce(!0),Cr.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,Le,Ie,Bn;if(Ve||!O)return;Cr.current=null;let Un=Number(((pe=Nn.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Fo=new Date().getTime()-((Le=vs.current)==null?void 0:Le.getTime()),JN=Math.abs(Un)/Fo;if(Math.abs(Un)>=J2||JN>.11){Re(Fe.current),(Ie=f.onDismiss)==null||Ie.call(f,f),kr(),Ne(!0);return}(Bn=Nn.current)==null||Bn.style.setProperty("--swipe-amount","0px"),Ce(!1)},onPointerMove:pe=>{var Le;if(!Cr.current||!O)return;let Ie=pe.clientY-Cr.current.y,Bn=pe.clientX-Cr.current.x,Un=(Ys==="top"?Math.min:Math.max)(0,Ie),Fo=pe.pointerType==="touch"?10:2;Math.abs(Un)>Fo?(Le=Nn.current)==null||Le.style.setProperty("--swipe-amount",`${Ie}px`):Math.abs(Bn)>Fo&&(Cr.current=null)}},ce&&!f.jsx?_.createElement("button",{"aria-label":X,"data-disabled":Qs,"data-close-button":!0,onClick:Qs||!O?()=>{}:()=>{var pe;kr(),(pe=f.onDismiss)==null||pe.call(f,f)},className:ne(P?.closeButton,(a=f?.classNames)==null?void 0:a.closeButton)},_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||_.isValidElement(f.title)?f.jsx||f.title:_.createElement(_.Fragment,null,A||f.icon||f.promise?_.createElement("div",{"data-icon":"",className:ne(P?.icon,(i=f?.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||QN():null,f.type!=="loading"?f.icon||L?.[A]||R2(A):null):null,_.createElement("div",{"data-content":"",className:ne(P?.content,(o=f?.classNames)==null?void 0:o.content)},_.createElement("div",{"data-title":"",className:ne(P?.title,(l=f?.classNames)==null?void 0:l.title)},f.title),f.description?_.createElement("div",{"data-description":"",className:ne(T,Y,P?.description,(c=f?.classNames)==null?void 0:c.description)},f.description):null),_.isValidElement(f.cancel)?f.cancel:f.cancel&&rl(f.cancel)?_.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||U,onClick:pe=>{var Le,Ie;rl(f.cancel)&&O&&((Ie=(Le=f.cancel).onClick)==null||Ie.call(Le,pe),kr())},className:ne(P?.cancelButton,(u=f?.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,_.isValidElement(f.action)?f.action:f.action&&rl(f.action)?_.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||M,onClick:pe=>{var Le,Ie;rl(f.action)&&(pe.defaultPrevented||((Ie=(Le=f.action).onClick)==null||Ie.call(Le,pe),kr()))},className:ne(P?.actionButton,(d=f?.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Cg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var t_=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=q2,toastOptions:p,dir:x=Cg(),gap:g=Q2,loadingIcon:v,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:j=Z2}=e,[N,S]=_.useState([]),k=_.useMemo(()=>Array.from(new Set([n].concat(N.filter(q=>q.position).map(q=>q.position)))),[N,n]),[E,U]=_.useState([]),[M,K]=_.useState(!1),[T,G]=_.useState(!1),[D,z]=_.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=_.useRef(null),J=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=_.useRef(null),L=_.useRef(!1),X=_.useCallback(q=>{var ne;(ne=N.find(ue=>ue.id===q.id))!=null&&ne.delete||en.dismiss(q.id),S(ue=>ue.filter(({id:je})=>je!==q.id))},[N]);return _.useEffect(()=>en.subscribe(q=>{if(q.dismiss){S(ne=>ne.map(ue=>ue.id===q.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{s0.flushSync(()=>{S(ne=>{let ue=ne.findIndex(je=>je.id===q.id);return ue!==-1?[...ne.slice(0,ue),{...ne[ue],...q},...ne.slice(ue+1)]:[q,...ne]})})})}),[]),_.useEffect(()=>{if(c!=="system"){z(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{z(q?"dark":"light")})},[c]),_.useEffect(()=>{N.length<=1&&K(!1)},[N]),_.useEffect(()=>{let q=ne=>{var ue,je;r.every(ot=>ne[ot]||ne.code===ot)&&(K(!0),(ue=H.current)==null||ue.focus()),ne.code==="Escape"&&(document.activeElement===H.current||(je=H.current)!=null&&je.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),_.useEffect(()=>{if(H.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,L.current=!1)}},[H.current]),N.length?_.createElement("section",{"aria-label":`${w} ${J}`,tabIndex:-1},k.map((q,ne)=>{var ue;let[je,ot]=q.split("-");return _.createElement("ol",{key:q,dir:x==="auto"?Cg():x,tabIndex:-1,ref:H,className:o,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":je,"data-x-position":ot,style:{"--front-toast-height":`${((ue=E[0])==null?void 0:ue.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||G2,"--width":`${Y2}px`,"--gap":`${g}px`,...h},onBlur:xe=>{L.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(L.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||L.current||(L.current=!0,P.current=xe.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{T||K(!1)},onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},N.filter(xe=>!xe.position&&ne===0||xe.position===q).map((xe,se)=>{var Ce,Ve;return _.createElement(e_,{key:xe.id,icons:y,index:se,toast:xe,defaultRichColors:u,duration:(Ce=p?.duration)!=null?Ce:d,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:t,visibleToasts:f,closeButton:(Ve=p?.closeButton)!=null?Ve:i,interacting:T,position:q,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:X,toasts:N.filter(Ne=>Ne.position==xe.position),heights:E.filter(Ne=>Ne.position==xe.position),setHeights:U,expandByDefault:a,gap:g,loadingIcon:v,expanded:M,pauseWhenPageIsHidden:b,cn:j})}))})):null};const n_=({...e})=>{const{theme:t="system"}=T2();return s.jsx(t_,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var r_=tv.useId||(()=>{}),s_=0;function Xr(e){const[t,n]=m.useState(r_());return Rt(()=>{n(r=>r??String(s_++))},[e]),t?`radix-${t}`:""}const a_=["top","right","bottom","left"],is=Math.min,nn=Math.max,lc=Math.round,sl=Math.floor,os=e=>({x:e,y:e}),i_={left:"right",right:"left",bottom:"top",top:"bottom"},o_={start:"end",end:"start"};function Eh(e,t,n){return nn(e,is(t,n))}function wr(e,t){return typeof e=="function"?e(t):e}function br(e){return e.split("-")[0]}function Ya(e){return e.split("-")[1]}function um(e){return e==="x"?"y":"x"}function dm(e){return e==="y"?"height":"width"}function ls(e){return["top","bottom"].includes(br(e))?"y":"x"}function hm(e){return um(ls(e))}function l_(e,t,n){n===void 0&&(n=!1);const r=Ya(e),a=hm(e),i=dm(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=cc(o)),[o,cc(o)]}function c_(e){const t=cc(e);return[_h(e),t,_h(t)]}function _h(e){return e.replace(/start|end/g,t=>o_[t])}function u_(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function d_(e,t,n,r){const a=Ya(e);let i=u_(br(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(_h)))),i}function cc(e){return e.replace(/left|right|bottom|top/g,t=>i_[t])}function h_(e){return{top:0,right:0,bottom:0,left:0,...e}}function Y0(e){return typeof e!="number"?h_(e):{top:e,right:e,bottom:e,left:e}}function uc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function kg(e,t,n){let{reference:r,floating:a}=e;const i=ls(t),o=hm(t),l=dm(o),c=br(t),u=i==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-a.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-a.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Ya(t)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const f_=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=kg(u,r,c),f=r,p={},x=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x:w,y:b,data:j,reset:N}=await y({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,h=b??h,p={...p,[v]:{...p[v],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:h}=kg(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:p}};async function lo(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=wr(t,e),x=Y0(p),v=l[f?h==="floating"?"reference":"floating":h],y=uc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=uc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(y.top-N.top+x.top)/j.y,bottom:(N.bottom-y.bottom+x.bottom)/j.y,left:(y.left-N.left+x.left)/j.x,right:(N.right-y.right+x.right)/j.x}}const m_=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=wr(e,t)||{};if(u==null)return{};const h=Y0(d),f={x:n,y:r},p=hm(a),x=dm(p),g=await o.getDimensions(u),v=p==="y",y=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[p]-f[p]-i.floating[x],N=f[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=S?S[b]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=l.floating[b]||i.floating[x]);const E=j/2-N/2,U=k/2-g[x]/2-1,M=is(h[y],U),K=is(h[w],U),T=M,G=k-g[x]-K,D=k/2-g[x]/2+E,z=Eh(T,D,G),H=!c.arrow&&Ya(a)!=null&&D!==z&&i.reference[x]/2-(D<T?M:K)-g[x]/2<0,J=H?D<T?D-T:D-G:0;return{[p]:f[p]+J,data:{[p]:z,centerOffset:D-z-J,...H&&{alignmentOffset:J}},reset:H}}}),p_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...v}=wr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=br(a),w=ls(l),b=br(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(b||!g?[cc(l)]:c_(l)),S=x!=="none";!f&&S&&N.push(...d_(l,g,x,j));const k=[l,...N],E=await lo(t,v),U=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&U.push(E[y]),h){const D=l_(a,o,j);U.push(E[D[0]],E[D[1]])}if(M=[...M,{placement:a,overflows:U}],!U.every(D=>D<=0)){var K,T;const D=(((K=i.flip)==null?void 0:K.index)||0)+1,z=k[D];if(z)return{data:{index:D,overflows:M},reset:{placement:z}};let H=(T=M.filter(J=>J.overflows[0]<=0).sort((J,P)=>J.overflows[1]-P.overflows[1])[0])==null?void 0:T.placement;if(!H)switch(p){case"bestFit":{var G;const J=(G=M.filter(P=>{if(S){const L=ls(P.placement);return L===w||L==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(L=>L>0).reduce((L,X)=>L+X,0)]).sort((P,L)=>P[1]-L[1])[0])==null?void 0:G[0];J&&(H=J);break}case"initialPlacement":H=l;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Eg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _g(e){return a_.some(t=>e[t]>=0)}const g_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=wr(e,t);switch(r){case"referenceHidden":{const i=await lo(t,{...a,elementContext:"reference"}),o=Eg(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_g(o)}}}case"escaped":{const i=await lo(t,{...a,altBoundary:!0}),o=Eg(i,n.floating);return{data:{escapedOffsets:o,escaped:_g(o)}}}default:return{}}}}};async function x_(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=br(n),l=Ya(n),c=ls(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=wr(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const v_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await x_(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},y_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...c}=wr(e,t),u={x:n,y:r},d=await lo(t,c),h=ls(br(a)),f=um(h);let p=u[f],x=u[h];if(i){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=p+d[v],b=p-d[y];p=Eh(w,p,b)}if(o){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=x+d[v],b=x-d[y];x=Eh(w,x,b)}const g=l.fn({...t,[f]:p,[h]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},w_=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=wr(e,t),d={x:n,y:r},h=ls(a),f=um(h);let p=d[f],x=d[h];const g=wr(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",j=i.reference[f]-i.floating[b]+v.mainAxis,N=i.reference[f]+i.reference[b]-v.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var y,w;const b=f==="y"?"width":"height",j=["top","left"].includes(br(a)),N=i.reference[h]-i.floating[b]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:v.crossAxis),S=i.reference[h]+i.reference[b]+(j?0:((w=o.offset)==null?void 0:w[h])||0)-(j?v.crossAxis:0);x<N?x=N:x>S&&(x=S)}return{[f]:p,[h]:x}}}},b_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=wr(e,t),d=await lo(t,u),h=br(a),f=Ya(a),p=ls(a)==="y",{width:x,height:g}=i.floating;let v,y;h==="top"||h==="bottom"?(v=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,v=f==="end"?"top":"bottom");const w=g-d.top-d.bottom,b=x-d.left-d.right,j=is(g-d[v],w),N=is(x-d[y],b),S=!t.middlewareData.shift;let k=j,E=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=w),S&&!f){const M=nn(d.left,0),K=nn(d.right,0),T=nn(d.top,0),G=nn(d.bottom,0);p?E=x-2*(M!==0||K!==0?M+K:nn(d.left,d.right)):k=g-2*(T!==0||G!==0?T+G:nn(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:k});const U=await o.getDimensions(l.floating);return x!==U.width||g!==U.height?{reset:{rects:!0}}:{}}}};function Kc(){return typeof window<"u"}function Qa(e){return Q0(e)?(e.nodeName||"").toLowerCase():"#document"}function an(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function er(e){var t;return(t=(Q0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Q0(e){return Kc()?e instanceof Node||e instanceof an(e).Node:!1}function Mn(e){return Kc()?e instanceof Element||e instanceof an(e).Element:!1}function Xn(e){return Kc()?e instanceof HTMLElement||e instanceof an(e).HTMLElement:!1}function Pg(e){return!Kc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof an(e).ShadowRoot}function Eo(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Fn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function j_(e){return["table","td","th"].includes(Qa(e))}function Yc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function fm(e){const t=mm(),n=Mn(e)?Fn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function N_(e){let t=cs(e);for(;Xn(t)&&!Ba(t);){if(fm(t))return t;if(Yc(t))return null;t=cs(t)}return null}function mm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ba(e){return["html","body","#document"].includes(Qa(e))}function Fn(e){return an(e).getComputedStyle(e)}function Qc(e){return Mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cs(e){if(Qa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pg(e)&&e.host||er(e);return Pg(t)?t.host:t}function J0(e){const t=cs(e);return Ba(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xn(t)&&Eo(t)?t:J0(t)}function co(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=J0(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=an(a);if(i){const l=Ph(o);return t.concat(o,o.visualViewport||[],Eo(a)?a:[],l&&n?co(l):[])}return t.concat(a,co(a,[],n))}function Ph(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function X0(e){const t=Fn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Xn(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=lc(n)!==i||lc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function pm(e){return Mn(e)?e:e.contextElement}function _a(e){const t=pm(e);if(!Xn(t))return os(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=X0(t);let o=(i?lc(n.width):n.width)/r,l=(i?lc(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const S_=os(0);function Z0(e){const t=an(e);return!mm()||!t.visualViewport?S_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function C_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==an(e)?!1:t}function Ls(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=pm(e);let o=os(1);t&&(r?Mn(r)&&(o=_a(r)):o=_a(e));const l=C_(i,n,r)?Z0(i):os(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=an(i),p=r&&Mn(r)?an(r):r;let x=f,g=Ph(x);for(;g&&r&&p!==x;){const v=_a(g),y=g.getBoundingClientRect(),w=Fn(g),b=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,j=y.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=b,u+=j,x=an(g),g=Ph(x)}}return uc({width:d,height:h,x:c,y:u})}function k_(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=er(r),l=t?Yc(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=os(1);const d=os(0),h=Xn(r);if((h||!h&&!i)&&((Qa(r)!=="body"||Eo(o))&&(c=Qc(r)),Xn(r))){const f=Ls(r);u=_a(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function E_(e){return Array.from(e.getClientRects())}function Ah(e,t){const n=Qc(e).scrollLeft;return t?t.left+n:Ls(er(e)).left+n}function __(e){const t=er(e),n=Qc(e),r=e.ownerDocument.body,a=nn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=nn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ah(e);const l=-n.scrollTop;return Fn(r).direction==="rtl"&&(o+=nn(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function P_(e,t){const n=an(e),r=er(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=mm();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function A_(e,t){const n=Ls(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Xn(e)?_a(e):os(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function Ag(e,t,n){let r;if(t==="viewport")r=P_(e,n);else if(t==="document")r=__(er(e));else if(Mn(t))r=A_(t,n);else{const a=Z0(e);r={...t,x:t.x-a.x,y:t.y-a.y}}return uc(r)}function ew(e,t){const n=cs(e);return n===t||!Mn(n)||Ba(n)?!1:Fn(n).position==="fixed"||ew(n,t)}function T_(e,t){const n=t.get(e);if(n)return n;let r=co(e,[],!1).filter(l=>Mn(l)&&Qa(l)!=="body"),a=null;const i=Fn(e).position==="fixed";let o=i?cs(e):e;for(;Mn(o)&&!Ba(o);){const l=Fn(o),c=fm(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Eo(o)&&!c&&ew(e,o))?r=r.filter(d=>d!==o):a=l,o=cs(o)}return t.set(e,r),r}function R_(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Yc(t)?[]:T_(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=Ag(t,d,a);return u.top=nn(h.top,u.top),u.right=is(h.right,u.right),u.bottom=is(h.bottom,u.bottom),u.left=nn(h.left,u.left),u},Ag(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function I_(e){const{width:t,height:n}=X0(e);return{width:t,height:n}}function O_(e,t,n){const r=Xn(t),a=er(t),i=n==="fixed",o=Ls(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=os(0);if(r||!r&&!i)if((Qa(t)!=="body"||Eo(a))&&(l=Qc(t)),r){const p=Ls(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=Ah(a));let u=0,d=0;if(a&&!r&&!i){const p=a.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-Ah(a,p)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function td(e){return Fn(e).position==="static"}function Tg(e,t){if(!Xn(e)||Fn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return er(e)===n&&(n=n.ownerDocument.body),n}function tw(e,t){const n=an(e);if(Yc(e))return n;if(!Xn(e)){let a=cs(e);for(;a&&!Ba(a);){if(Mn(a)&&!td(a))return a;a=cs(a)}return n}let r=Tg(e,t);for(;r&&j_(r)&&td(r);)r=Tg(r,t);return r&&Ba(r)&&td(r)&&!fm(r)?n:r||N_(e)||n}const D_=async function(e){const t=this.getOffsetParent||tw,n=this.getDimensions,r=await n(e.floating);return{reference:O_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function M_(e){return Fn(e).direction==="rtl"}const F_={convertOffsetParentRelativeRectToViewportRelativeRect:k_,getDocumentElement:er,getClippingRect:R_,getOffsetParent:tw,getElementRects:D_,getClientRects:E_,getDimensions:I_,getScale:_a,isElement:Mn,isRTL:M_};function L_(e,t){let n=null,r;const a=er(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const p=sl(d),x=sl(a.clientWidth-(u+h)),g=sl(a.clientHeight-(d+f)),v=sl(u),w={rootMargin:-p+"px "+-x+"px "+-g+"px "+-v+"px",threshold:nn(0,is(1,c))||1};let b=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!b)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return o(!0),i}function $_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=pm(e),d=a||i?[...u?co(u):[],...co(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const h=u&&l?L_(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let x,g=c?Ls(e):null;c&&v();function v(){const y=Ls(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,x=requestAnimationFrame(v)}return n(),()=>{var y;d.forEach(w=>{a&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h?.(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const B_=v_,U_=y_,z_=p_,V_=b_,W_=g_,Rg=m_,H_=w_,q_=(e,t,n)=>{const r=new Map,a={platform:F_,...n},i={...a.platform,_c:r};return f_(e,t,{...a,platform:i})};var Rl=typeof document<"u"?m.useLayoutEffect:m.useEffect;function dc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dc(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!dc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function nw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ig(e,t){const n=nw(e);return Math.round(t*n)/n}function nd(e){const t=m.useRef(e);return Rl(()=>{t.current=e}),t}function G_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);dc(f,r)||p(r);const[x,g]=m.useState(null),[v,y]=m.useState(null),w=m.useCallback(P=>{P!==S.current&&(S.current=P,g(P))},[]),b=m.useCallback(P=>{P!==k.current&&(k.current=P,y(P))},[]),j=i||x,N=o||v,S=m.useRef(null),k=m.useRef(null),E=m.useRef(d),U=c!=null,M=nd(c),K=nd(a),T=nd(u),G=m.useCallback(()=>{if(!S.current||!k.current)return;const P={placement:t,strategy:n,middleware:f};K.current&&(P.platform=K.current),q_(S.current,k.current,P).then(L=>{const X={...L,isPositioned:T.current!==!1};D.current&&!dc(E.current,X)&&(E.current=X,Ws.flushSync(()=>{h(X)}))})},[f,t,n,K,T]);Rl(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[u]);const D=m.useRef(!1);Rl(()=>(D.current=!0,()=>{D.current=!1}),[]),Rl(()=>{if(j&&(S.current=j),N&&(k.current=N),j&&N){if(M.current)return M.current(j,N,G);G()}},[j,N,G,M,U]);const z=m.useMemo(()=>({reference:S,floating:k,setReference:w,setFloating:b}),[w,b]),H=m.useMemo(()=>({reference:j,floating:N}),[j,N]),J=m.useMemo(()=>{const P={position:n,left:0,top:0};if(!H.floating)return P;const L=Ig(H.floating,d.x),X=Ig(H.floating,d.y);return l?{...P,transform:"translate("+L+"px, "+X+"px)",...nw(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:X}},[n,l,H.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:G,refs:z,elements:H,floatingStyles:J}),[d,G,z,H,J])}const K_=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Rg({element:r.current,padding:a}).fn(n):{}:r?Rg({element:r,padding:a}).fn(n):{}}}},Y_=(e,t)=>({...B_(e),options:[e,t]}),Q_=(e,t)=>({...U_(e),options:[e,t]}),J_=(e,t)=>({...H_(e),options:[e,t]}),X_=(e,t)=>({...z_(e),options:[e,t]}),Z_=(e,t)=>({...V_(e),options:[e,t]}),eP=(e,t)=>({...W_(e),options:[e,t]}),tP=(e,t)=>({...K_(e),options:[e,t]});var nP="Arrow",rw=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(de.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});rw.displayName=nP;var rP=rw;function sP(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...x}=h,g=f?.[e][c]||l,v=m.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:v,children:p})}function d(h,f){const p=f?.[e][c]||l,x=m.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=l?.[e]||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,aP(a,...t)]}function aP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Jc(e){const[t,n]=m.useState(void 0);return Rt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var gm="Popper",[sw,Xc]=sP(gm),[iP,aw]=sw(gm),iw=e=>{const{__scopePopper:t,children:n}=e,[r,a]=m.useState(null);return s.jsx(iP,{scope:t,anchor:r,onAnchorChange:a,children:n})};iw.displayName=gm;var ow="PopperAnchor",lw=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=aw(ow,n),o=m.useRef(null),l=ke(t,o);return m.useEffect(()=>{i.onAnchorChange(r?.current||o.current)}),r?null:s.jsx(de.div,{...a,ref:l})});lw.displayName=ow;var xm="PopperContent",[oP,lP]=sw(xm),cw=m.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,v=aw(xm,n),[y,w]=m.useState(null),b=ke(t,se=>w(se)),[j,N]=m.useState(null),S=Jc(j),k=S?.width??0,E=S?.height??0,U=r+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},K=Array.isArray(u)?u:[u],T=K.length>0,G={padding:M,boundary:K.filter(uP),altBoundary:T},{refs:D,floatingStyles:z,placement:H,isPositioned:J,middlewareData:P}=G_({strategy:"fixed",placement:U,whileElementsMounted:(...se)=>$_(...se,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Y_({mainAxis:a+E,alignmentAxis:o}),c&&Q_({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?J_():void 0,...G}),c&&X_({...G}),Z_({...G,apply:({elements:se,rects:Ce,availableWidth:Ve,availableHeight:Ne})=>{const{width:Ee,height:Re}=Ce.reference,bt=se.floating.style;bt.setProperty("--radix-popper-available-width",`${Ve}px`),bt.setProperty("--radix-popper-available-height",`${Ne}px`),bt.setProperty("--radix-popper-anchor-width",`${Ee}px`),bt.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),j&&tP({element:j,padding:l}),dP({arrowWidth:k,arrowHeight:E}),f&&eP({strategy:"referenceHidden",...G})]}),[L,X]=hw(H),q=Qt(x);Rt(()=>{J&&q?.()},[J,q]);const ne=P.arrow?.x,ue=P.arrow?.y,je=P.arrow?.centerOffset!==0,[ot,xe]=m.useState();return Rt(()=>{y&&xe(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:J?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(oP,{scope:n,placedSide:L,onArrowChange:N,arrowX:ne,arrowY:ue,shouldHideArrow:je,children:s.jsx(de.div,{"data-side":L,"data-align":X,...g,ref:b,style:{...g.style,animation:J?void 0:"none"}})})})});cw.displayName=xm;var uw="PopperArrow",cP={top:"bottom",right:"left",bottom:"top",left:"right"},dw=m.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=lP(uw,r),o=cP[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(rP,{...a,ref:n,style:{...a.style,display:"block"}})})});dw.displayName=uw;function uP(e){return e!==null}var dP=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=hw(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(a.arrow?.x??0)+l/2,p=(a.arrow?.y??0)+c/2;let x="",g="";return u==="bottom"?(x=o?h:`${f}px`,g=`${-c}px`):u==="top"?(x=o?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?h:`${p}px`):u==="left"&&(x=`${r.floating.width+c}px`,g=o?h:`${p}px`),{data:{x,y:g}}}});function hw(e){const[t,n="center"]=e.split("-");return[t,n]}var hP=iw,fw=lw,mw=cw,pw=dw,[Zc,A3]=Zn("Tooltip",[Xc]),vm=Xc(),gw="TooltipProvider",fP=700,Og="tooltip.open",[mP,xw]=Zc(gw),vw=e=>{const{__scopeTooltip:t,delayDuration:n=fP,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(mP,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};vw.displayName=gw;var yw="Tooltip",[T3,eu]=Zc(yw),Th="TooltipTrigger",pP=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=eu(Th,n),i=xw(Th,n),o=vm(n),l=m.useRef(null),c=ke(t,l,a.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(fw,{asChild:!0,...o,children:s.jsx(de.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:oe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:oe(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:oe(e.onBlur,a.onClose),onClick:oe(e.onClick,a.onClose)})})});pP.displayName=Th;var gP="TooltipPortal",[R3,xP]=Zc(gP,{forceMount:void 0}),Ua="TooltipContent",ww=m.forwardRef((e,t)=>{const n=xP(Ua,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=eu(Ua,e.__scopeTooltip);return s.jsx(Nr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(bw,{side:a,...i,ref:t}):s.jsx(vP,{side:a,...i,ref:t})})}),vP=m.forwardRef((e,t)=>{const n=eu(Ua,e.__scopeTooltip),r=xw(Ua,e.__scopeTooltip),a=m.useRef(null),i=ke(t,a),[o,l]=m.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=m.useCallback(()=>{l(null),h(!1)},[h]),p=m.useCallback((x,g)=>{const v=x.currentTarget,y={x:x.clientX,y:x.clientY},w=jP(y,v.getBoundingClientRect()),b=NP(y,w),j=SP(g.getBoundingClientRect()),N=kP([...b,...j]);l(N),h(!0)},[h]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&d){const x=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),m.useEffect(()=>{if(o){const x=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},w=c?.contains(v)||d?.contains(v),b=!CP(y,o);w?f():b&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),s.jsx(bw,{...e,ref:i})}),[yP,wP]=Zc(yw,{isInside:!1}),bw=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=eu(Ua,n),u=vm(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Og,d),()=>document.removeEventListener(Og,d)),[d]),m.useEffect(()=>{if(c.trigger){const h=f=>{f.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),s.jsx(No,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:s.jsxs(mw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(tm,{children:r}),s.jsx(yP,{scope:n,isInside:!0,children:s.jsx(eE,{id:c.contentId,role:"tooltip",children:a||r})})]})})});ww.displayName=Ua;var jw="TooltipArrow",bP=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=vm(n);return wP(jw,n).isInside?null:s.jsx(pw,{...a,...r,ref:t})});bP.displayName=jw;function jP(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function NP(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function SP(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function CP(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function kP(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EP(t)}function EP(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _P=vw,Nw=ww;const PP=_P,AP=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Nw,{ref:r,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));AP.displayName=Nw.displayName;var tu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nu=typeof window>"u"||"Deno"in globalThis;function _n(){}function TP(e,t){return typeof e=="function"?e(t):e}function RP(e){return typeof e=="number"&&e>=0&&e!==1/0}function IP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Dg(e,t){return typeof e=="function"?e(t):e}function OP(e,t){return typeof e=="function"?e(t):e}function Mg(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==ym(o,t.options))return!1}else if(!ho(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Fg(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(uo(t.options.mutationKey)!==uo(i))return!1}else if(!ho(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function ym(e,t){return(t?.queryKeyHashFn||uo)(e)}function uo(e){return JSON.stringify(e,(t,n)=>Rh(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function ho(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ho(e[n],t[n])):!1}function Sw(e,t){if(e===t)return e;const n=Lg(e)&&Lg(t);if(n||Rh(e)&&Rh(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=Sw(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Lg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rh(e){if(!$g(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!$g(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $g(e){return Object.prototype.toString.call(e)==="[object Object]"}function DP(e){return new Promise(t=>{setTimeout(t,e)})}function MP(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Sw(e,t):t}function FP(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function LP(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var wm=Symbol();function Cw(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===wm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var $P=class extends tu{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!nu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},kw=new $P,BP=class extends tu{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!nu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},hc=new BP;function UP(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function zP(e){return Math.min(1e3*2**e,3e4)}function Ew(e){return(e??"online")==="online"?hc.isOnline():!0}var _w=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function rd(e){return e instanceof _w}function Pw(e){let t=!1,n=0,r=!1,a;const i=UP(),o=g=>{r||(f(new _w(g)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>kw.isFocused()&&(e.networkMode==="always"||hc.isOnline())&&e.canRun(),d=()=>Ew(e.networkMode)&&e.canRun(),h=g=>{r||(r=!0,e.onSuccess?.(g),a?.(),i.resolve(g))},f=g=>{r||(r=!0,e.onError?.(g),a?.(),i.reject(g))},p=()=>new Promise(g=>{a=v=>{(r||u())&&g(v)},e.onPause?.()}).then(()=>{a=void 0,r||e.onContinue?.()}),x=()=>{if(r)return;let g;const v=n===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{if(r)return;const w=e.retry??(nu?0:3),b=e.retryDelay??zP,j=typeof b=="function"?b(n,y):b,N=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!N){f(y);return}n++,e.onFail?.(n,y),DP(j).then(()=>u()?void 0:p()).then(()=>{t?f(y):x()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),i)}}function VP(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Ft=VP(),Aw=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RP(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},WP=class extends Aw{#e;#t;#n;#r;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=qP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=MP(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>OP(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!IP(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},a=()=>{const l=Cw(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const o=l=>{rd(l)&&l.silent||this.#s({type:"error",error:l}),rd(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=Pw({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...HP(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return rd(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Ft.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function HP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ew(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var GP=class extends tu{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,a=t.queryHash??ym(r,t);let i=this.get(a);return i||(i=new WP({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Mg(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Mg(e,n)):t}notify(e){Ft.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},KP=class extends Aw{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||YP(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=Pw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,a)=>{this.#r({type:"failed",failureCount:r,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ft.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function YP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var QP=class extends tu{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new KP({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=al(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=al(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(al(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(al(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Fg(t,n))}findAll(e={}){return this.getAll().filter(t=>Fg(e,t))}notify(e){Ft.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ft.batch(()=>Promise.all(e.map(t=>t.continue().catch(_n))))}};function al(e){return e.options.scope?.id??String(e.mutationId)}function Bg(e){return{onFetch:(t,n)=>{const r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},f=Cw(t.options,t.fetchOptions),p=async(x,g,v)=>{if(d)return Promise.reject();if(g==null&&x.pages.length)return Promise.resolve(x);const y={queryKey:t.queryKey,pageParam:g,direction:v?"backward":"forward",meta:t.options.meta};h(y);const w=await f(y),{maxPages:b}=t.options,j=v?LP:FP;return{pages:j(x.pages,w,b),pageParams:j(x.pageParams,g,b)}};if(a&&i.length){const x=a==="backward",g=x?JP:Ug,v={pages:i,pageParams:o},y=g(r,v);l=await p(v,y,x)}else{const x=e??i.length;do{const g=c===0?o[0]??r.initialPageParam:Ug(r,l);if(c>0&&g==null)break;l=await p(l,g),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Ug(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function JP(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var XP=class{#e;#t;#n;#r;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new GP,this.#t=e.mutationCache||new QP,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=kw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=hc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Dg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,o=TP(t,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Ft.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Ft.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return Ft.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ft.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(_n).catch(_n)}invalidateQueries(e={},t={}){return Ft.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=Ft.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(_n)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_n)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Dg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_n).catch(_n)}fetchInfiniteQuery(e){return e.behavior=Bg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_n).catch(_n)}ensureInfiniteQueryData(e){return e.behavior=Bg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(uo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()];let n={};return t.forEach(r=>{ho(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(uo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(r=>{ho(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ym(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ZP=m.createContext(void 0),eA=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ZP.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fo.apply(this,arguments)}var zr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zr||(zr={}));const zg="popstate";function tA(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return Ih("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:fc(a)}return rA(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nA(){return Math.random().toString(36).substr(2,8)}function Vg(e,t){return{usr:e.state,key:e.key,idx:t}}function Ih(e,t,n,r){return n===void 0&&(n=null),fo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ja(t):t,{state:n,key:t&&t.key||r||nA()})}function fc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ja(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rA(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=zr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(fo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=zr.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:y})}function f(v,y){l=zr.Push;let w=Ih(g.location,v,y);u=d()+1;let b=Vg(w,u),j=g.createHref(w);try{o.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:g.location,delta:1})}function p(v,y){l=zr.Replace;let w=Ih(g.location,v,y);u=d();let b=Vg(w,u),j=g.createHref(w);o.replaceState(b,"",j),i&&c&&c({action:l,location:g.location,delta:0})}function x(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:fc(v);return w=w.replace(/ $/,"%20"),dt(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(zg,h),c=v,()=>{a.removeEventListener(zg,h),c=null}},createHref(v){return t(a,v)},createURL:x,encodeLocation(v){let y=x(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return o.go(v)}};return g}var Wg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wg||(Wg={}));function sA(e,t,n){return n===void 0&&(n="/"),aA(e,t,n,!1)}function aA(e,t,n,r){let a=typeof t=="string"?Ja(t):t,i=bm(a.pathname||"/",n);if(i==null)return null;let o=Rw(e);iA(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=xA(i);l=pA(o[c],u,r)}return l}function Rw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(dt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Zr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Rw(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:fA(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Iw(i.path))a(i,o,c)}),t}function Iw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Iw(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function iA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oA=/^:[\w-]+$/,lA=3,cA=2,uA=1,dA=10,hA=-2,Hg=e=>e==="*";function fA(e,t){let n=e.split("/"),r=n.length;return n.some(Hg)&&(r+=hA),t&&(r+=cA),n.filter(a=>!Hg(a)).reduce((a,i)=>a+(oA.test(i)?lA:i===""?uA:dA),r)}function mA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function pA(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Zr([i,h.pathname]),pathnameBase:bA(Zr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Zr([i,h.pathnameBase]))}return o}function qg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gA(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function gA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function xA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function vA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ja(e):e;return{pathname:n?n.startsWith("/")?n:yA(n,t):t,search:jA(r),hash:NA(a)}}function yA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ow(e,t){let n=wA(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Dw(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Ja(e):(a=fo({},e),dt(!a.pathname||!a.pathname.includes("?"),sd("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),sd("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),sd("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=vA(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Zr=e=>e.join("/").replace(/\/\/+/g,"/"),bA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function SA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mw=["post","put","patch","delete"];new Set(Mw);const CA=["get",...Mw];new Set(CA);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo.apply(this,arguments)}const jm=m.createContext(null),kA=m.createContext(null),Hs=m.createContext(null),ru=m.createContext(null),fs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Fw=m.createContext(null);function EA(e,t){let{relative:n}=t===void 0?{}:t;_o()||dt(!1);let{basename:r,navigator:a}=m.useContext(Hs),{hash:i,pathname:o,search:l}=$w(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Zr([r,o])),a.createHref({pathname:c,search:l,hash:i})}function _o(){return m.useContext(ru)!=null}function Xa(){return _o()||dt(!1),m.useContext(ru).location}function Lw(e){m.useContext(Hs).static||m.useLayoutEffect(e)}function It(){let{isDataRoute:e}=m.useContext(fs);return e?UA():_A()}function _A(){_o()||dt(!1);let e=m.useContext(jm),{basename:t,future:n,navigator:r}=m.useContext(Hs),{matches:a}=m.useContext(fs),{pathname:i}=Xa(),o=JSON.stringify(Ow(a,n.v7_relativeSplatPath)),l=m.useRef(!1);return Lw(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Dw(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Zr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function PA(){let{matches:e}=m.useContext(fs),t=e[e.length-1];return t?t.params:{}}function $w(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(Hs),{matches:a}=m.useContext(fs),{pathname:i}=Xa(),o=JSON.stringify(Ow(a,r.v7_relativeSplatPath));return m.useMemo(()=>Dw(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function AA(e,t){return TA(e,t)}function TA(e,t,n,r){_o()||dt(!1);let{navigator:a}=m.useContext(Hs),{matches:i}=m.useContext(fs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Xa(),d;if(t){var h;let v=typeof t=="string"?Ja(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||dt(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=sA(e,{pathname:p}),g=MA(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Zr([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Zr([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n,r);return t&&g?m.createElement(ru.Provider,{value:{location:mo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zr.Pop}},g):g}function RA(){let e=BA(),t=SA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:a},n):null,null)}const IA=m.createElement(RA,null);class OA extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(fs.Provider,{value:this.props.routeContext},m.createElement(Fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DA(e){let{routeContext:t,match:n,children:r}=e,a=m.useContext(jm);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(fs.Provider,{value:t},r)}function MA(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);d>=0||dt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,x=!1,g=null,v=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||IA,c&&(u<0&&f===0?(x=!0,v=null):u===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),w=()=>{let b;return p?b=g:x?b=v:h.route.Component?b=m.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,m.createElement(DA,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(OA,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Bw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bw||{}),mc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mc||{});function FA(e){let t=m.useContext(jm);return t||dt(!1),t}function LA(e){let t=m.useContext(kA);return t||dt(!1),t}function $A(e){let t=m.useContext(fs);return t||dt(!1),t}function Uw(e){let t=$A(),n=t.matches[t.matches.length-1];return n.route.id||dt(!1),n.route.id}function BA(){var e;let t=m.useContext(Fw),n=LA(mc.UseRouteError),r=Uw(mc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function UA(){let{router:e}=FA(Bw.UseNavigateStable),t=Uw(mc.UseNavigateStable),n=m.useRef(!1);return Lw(()=>{n.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,mo({fromRouteId:t},i)))},[e,t])}function Oh(e){dt(!1)}function zA(e){let{basename:t="/",children:n=null,location:r,navigationType:a=zr.Pop,navigator:i,static:o=!1,future:l}=e;_o()&&dt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:mo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Ja(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,g=m.useMemo(()=>{let v=bm(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:x},navigationType:a}},[c,d,h,f,p,x,a]);return g==null?null:m.createElement(Hs.Provider,{value:u},m.createElement(ru.Provider,{children:n,value:g}))}function VA(e){let{children:t,location:n}=e;return AA(Dh(t),n)}new Promise(()=>{});function Dh(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,a)=>{if(!m.isValidElement(r))return;let i=[...t,a];if(r.type===m.Fragment){n.push.apply(n,Dh(r.props.children,i));return}r.type!==Oh&&dt(!1),!r.props.index||!r.props.children||dt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(this,arguments)}function WA(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function HA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qA(e,t){return e.button===0&&(!t||t==="_self")&&!HA(e)}function Fh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function GA(e,t){let n=Fh(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const KA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YA="6";try{window.__reactRouterVersion=YA}catch{}const QA="startTransition",Gg=tv[QA];function JA(e){let{basename:t,children:n,future:r,window:a}=e,i=m.useRef();i.current==null&&(i.current=tA({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&Gg?Gg(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(zA,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const XA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=m.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=WA(t,KA),{basename:p}=m.useContext(Hs),x,g=!1;if(typeof u=="string"&&ZA.test(u)&&(x=u,XA))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),N=bm(j.pathname,p);j.origin===b.origin&&N!=null?u=N+j.search+j.hash:g=!0}catch{}let v=EA(u,{relative:a}),y=eT(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||y(b)}return m.createElement("a",Mh({},f,{href:x||v,onClick:g||i?r:w,ref:n,target:c}))});var Kg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kg||(Kg={}));var Yg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yg||(Yg={}));function eT(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=It(),u=Xa(),d=$w(e,{relative:o});return m.useCallback(h=>{if(qA(h,n)){h.preventDefault();let f=r!==void 0?r:fc(u)===fc(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function tT(e){let t=m.useRef(Fh(e)),n=m.useRef(!1),r=Xa(),a=m.useMemo(()=>GA(r.search,n.current?null:t.current),[r.search]),i=It(),o=m.useCallback((l,c)=>{const u=Fh(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const nT=()=>s.jsx("header",{className:"bg-white shadow-md",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsx(pt,{to:"/",className:"text-2xl font-bold text-blue-700",children:"EarnFlow"}),s.jsx("nav",{children:s.jsxs("ul",{className:"flex space-x-6",children:[s.jsx("li",{children:s.jsxs(pt,{to:"/payment",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(yt,{className:"h-4 w-4"}),"Make Payment"]})}),s.jsx("li",{children:s.jsxs(pt,{to:"/auth",className:"flex items-center gap-2 text-blue-500 hover:text-blue-700",children:[s.jsx(DE,{className:"h-4 w-4"}),"Sign In"]})}),s.jsx("li",{children:s.jsx(pt,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700",children:"Dashboard"})}),s.jsx("li",{children:s.jsx(pt,{to:"/production-test",className:"text-blue-500 hover:text-blue-700",children:"Production Test"})}),s.jsx("li",{children:s.jsx(pt,{to:"/affiliate-revenue",className:"text-blue-500 hover:text-blue-700",children:"Affiliate Partners"})}),s.jsx("li",{children:s.jsx(pt,{to:"/about",className:"text-blue-500 hover:text-blue-700",children:"About"})}),s.jsx("li",{children:s.jsx(pt,{to:"/contact",className:"text-blue-500 hover:text-blue-700",children:"Contact"})})]})})]})}),rT=()=>s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Real Affiliate Partnerships That Pay"}),s.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Shop with our verified partners and help us earn real commissions through CJ Affiliate and direct partnerships"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(pt,{to:"/payment",className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-600 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all text-lg",children:[s.jsx(yt,{className:"h-5 w-5"}),"Make a Payment"]}),s.jsxs(pt,{to:"/affiliate-revenue",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all",children:[s.jsx(ln,{className:"h-5 w-5"}),"View All Partners"]})]})]}),sT=()=>s.jsx("div",{className:"mb-12 bg-white rounded-xl p-8 shadow-lg border",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:" Secure Payments Made Easy"}),s.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Make payments quickly and securely with our Stripe-powered payment system"}),s.jsxs(pt,{to:"/payment",className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-600 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all text-lg",children:[s.jsx(yt,{className:"h-6 w-6"}),"Start Payment Process"]})]})}),Nm=[{id:"max-streaming",name:"Max (HBO Max)",product:"Premium Streaming Service",price:15.99,originalPrice:19.99,affiliateUrl:"https://www.max.com/bg/en/affiliate",commissionRate:.08,category:"Entertainment",description:"Premium streaming with HBO originals, blockbuster movies, and exclusive content",features:["HBO Original Series","Same-day movie releases","4K streaming","Ad-free experience"],rating:4.7,billingPeriod:"monthly",popularBadge:!0,partnerType:"streaming"},{id:"shopify-partners",name:"Shopify",product:"E-commerce Platform",price:29,affiliateUrl:"https://www.shopify.com/partners",commissionRate:.2,category:"E-commerce",description:"Complete e-commerce solution for building and scaling online stores",features:["Professional themes","Payment processing","Inventory management","Mobile optimization"],rating:4.8,billingPeriod:"monthly",partnerType:"software"},{id:"bluehost-affiliate",name:"Bluehost",product:"Web Hosting Service",price:3.95,originalPrice:9.99,affiliateUrl:"https://www.bluehost.com/track/your-affiliate-id",commissionRate:.15,category:"Web Hosting",description:"Reliable web hosting with WordPress optimization and 24/7 support",features:["WordPress hosting","Free domain","SSL certificate","24/7 support"],rating:4.5,billingPeriod:"monthly",partnerType:"hosting"},{id:"canva-pro-affiliate",name:"Canva Pro",product:"Design Platform",price:14.99,originalPrice:19.99,affiliateUrl:"https://www.canva.com/affiliates",commissionRate:.1,category:"Design",description:"Professional design tools with premium templates and brand management",features:["Premium templates","Brand kit","Background remover","Team collaboration"],rating:4.9,billingPeriod:"monthly",partnerType:"design"},{id:"wise-affiliate",name:"Wise",product:"International Money Transfer",price:0,affiliateUrl:"https://wise.com/invite/u/wise-affiliate",commissionRate:.15,category:"Financial Services",description:"Fast, cheap international money transfers with real exchange rates",features:["Real exchange rates","Low fees","Fast transfers","Multi-currency account"],rating:4.6,billingPeriod:"one-time",partnerType:"financial"}],aT="modulepreload",iT=function(e){return"/"+e},Qg={},Po=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=Promise.allSettled(n.map(c=>{if(c=iT(c),c in Qg)return;Qg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":aT,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},oT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Po(async()=>{const{default:r}=await Promise.resolve().then(()=>Za);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Sm extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class lT extends Sm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cT extends Sm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uT extends Sm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lh||(Lh={}));var dT=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class hT{constructor(t,{headers:n={},customFetch:r,region:a=Lh.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=oT(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return dT(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(x=>{throw new lT(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new cT(d);if(!d.ok)throw new uT(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var Ht={},Cm={},su={},Ao={},au={},iu={},fT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},za=fT();const mT=za.fetch,zw=za.fetch.bind(za),Vw=za.Headers,pT=za.Request,gT=za.Response,Za=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vw,Request:pT,Response:gT,default:zw,fetch:mT},Symbol.toStringTag,{value:"Module"})),xT=ZN(Za);var ou={};Object.defineProperty(ou,"__esModule",{value:!0});let vT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ou.default=vT;var Ww=yn&&yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iu,"__esModule",{value:!0});const yT=Ww(xT),wT=Ww(ou);let bT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new wT.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(l=i?.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};iu.default=bT;var jT=yn&&yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(au,"__esModule",{value:!0});const NT=jT(iu);let ST=class extends NT.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};au.default=ST;var CT=yn&&yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ao,"__esModule",{value:!0});const kT=CT(au);let ET=class extends kT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ao.default=ET;var _T=yn&&yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(su,"__esModule",{value:!0});const mi=_T(Ao);let PT=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new mi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new mi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new mi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new mi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new mi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};su.default=PT;var lu={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.version=void 0;cu.version="0.0.0-automated";Object.defineProperty(lu,"__esModule",{value:!0});lu.DEFAULT_HEADERS=void 0;const AT=cu;lu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${AT.version}`};var Hw=yn&&yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cm,"__esModule",{value:!0});const TT=Hw(su),RT=Hw(Ao),IT=lu;let OT=class qw{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},IT.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new TT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||a?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new RT.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Cm.default=OT;var ei=yn&&yn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const Gw=ei(Cm);Ht.PostgrestClient=Gw.default;const Kw=ei(su);Ht.PostgrestQueryBuilder=Kw.default;const Yw=ei(Ao);Ht.PostgrestFilterBuilder=Yw.default;const Qw=ei(au);Ht.PostgrestTransformBuilder=Qw.default;const Jw=ei(iu);Ht.PostgrestBuilder=Jw.default;const Xw=ei(ou);Ht.PostgrestError=Xw.default;var DT=Ht.default={PostgrestClient:Gw.default,PostgrestQueryBuilder:Kw.default,PostgrestFilterBuilder:Yw.default,PostgrestTransformBuilder:Qw.default,PostgrestBuilder:Jw.default,PostgrestError:Xw.default};const{PostgrestClient:MT,PostgrestQueryBuilder:L3,PostgrestFilterBuilder:$3,PostgrestTransformBuilder:B3,PostgrestBuilder:U3,PostgrestError:z3}=DT;let $h;typeof window>"u"?$h=require("ws"):$h=window.WebSocket;const FT=$h,LT="2.11.10",$T={"X-Client-Info":`realtime-js/${LT}`},BT="1.0.0",Zw=1e4,UT=1e3;var Pa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pa||(Pa={}));var Ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ot||(Ot={}));var An;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(An||(An={}));var Bh;(function(e){e.websocket="websocket"})(Bh||(Bh={}));var Ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ns||(Ns={}));class zT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class eb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const Jg=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=VT(o,e,t,a),i),{})},VT=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a?.type,o=n[e];return i&&!r.includes(i)?tb(i,o):Uh(o)},tb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return GT(t,n)}switch(e){case Oe.bool:return WT(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return HT(t);case Oe.json:case Oe.jsonb:return qT(t);case Oe.timestamp:return KT(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Uh(t);default:return Uh(t)}},Uh=e=>e,WT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},GT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>tb(t,l))}return e},KT=e=>typeof e=="string"?e.replace(" ","T"):e,nb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ad{constructor(t,n,r={},a=Zw){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xg||(Xg={}));class Li{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Li.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Li.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Li.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),x=d.filter(v=>p.indexOf(v.presence_ref)<0),g=h.filter(v=>f.indexOf(v.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Zg||(Zg={}));var ex;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ex||(ex={}));var ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ir||(ir={}));class km{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ad(this,An.join,this.params,this.timeout),this.rejoinTimer=new eb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Li(this),this.broadcastEndpointURL=nb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t?.(ir.CHANNEL_ERROR,d)),this._onClose(()=>t?.(ir.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t?.(ir.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f?.length)!==null&&h!==void 0?h:0,x=[];for(let g=0;g<p;g++){const v=f[g],{filter:{event:y,schema:w,table:b,filter:j}}=v,N=d&&d[g];if(N&&N.event===y&&N.schema===w&&N.table===b&&N.filter===j)x.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),this.state=Ot.errored,t?.(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(ir.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ot.errored,t?.(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const a=new ad(this,An.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ad(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=An;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var x,g,v;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,g,v,y,w,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,N=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((g=n.ids)===null||g===void 0?void 0:g.includes(j))&&(N==="*"||N?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const j=(w=(y=p?.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:g,table:v,commit_timestamp:y,type:w,errors:b}=x;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:w,new:{},old:{},errors:b}),this._getPayloadRecords(x))}p.callback(f,r)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&km.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(An.close,{},t)}_onError(t){this._on(An.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Jg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Jg(t.columns,t.old_record)),n}}const tx=()=>{},YT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QT{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=$T,this.params={},this.timeout=Zw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tx,this.ref=0,this.logger=tx,this.conn=null,this.sendBuffer=[],this.serializer=new zT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Po(async()=>{const{default:c}=await Promise.resolve().then(()=>Za);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Bh.websocket}`,this.httpEndpoint=nb(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=FT),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new JT(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BT}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pa.connecting:return Ns.Connecting;case Pa.open:return Ns.Open;case Pa.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===r);if(a)return a;{const i=new km(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(An.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(UT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:i,ref:o}=n;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(An.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([YT],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class JT{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pa.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Em extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XT extends Em{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zh extends Em{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ZT=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const rb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Po(async()=>{const{default:r}=await Promise.resolve().then(()=>Za);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},eR=()=>ZT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Po(()=>Promise.resolve().then(()=>Za),void 0)).Response:Response}),Vh=e=>{if(Array.isArray(e))return e.map(n=>Vh(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Vh(r)}),t};var qs=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const id=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tR=(e,t,n)=>qs(void 0,void 0,void 0,function*(){const r=yield eR();e instanceof r&&!n?.noResolveJson?e.json().then(a=>{t(new XT(id(a),e.status||500))}).catch(a=>{t(new zh(id(a),a))}):t(new zh(id(e),e))}),nR=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function To(e,t,n,r,a,i){return qs(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,nR(t,r,a,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>tR(c,l,r))})})}function pc(e,t,n,r){return qs(this,void 0,void 0,function*(){return To(e,"GET",t,n,r)})}function Or(e,t,n,r,a){return qs(this,void 0,void 0,function*(){return To(e,"POST",t,r,a,n)})}function rR(e,t,n,r,a){return qs(this,void 0,void 0,function*(){return To(e,"PUT",t,r,a,n)})}function sR(e,t,n,r){return qs(this,void 0,void 0,function*(){return To(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sb(e,t,n,r,a){return qs(this,void 0,void 0,function*(){return To(e,"DELETE",t,r,a,n)})}var Ut=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const aR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iR{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=rb(a)}uploadOrUpdate(t,n,r,a){return Ut(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},nx),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o?.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return Ut(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:nx.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(xt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ut(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n?.upsert&&(a["x-upsert"]="true");const i=yield Or(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Em("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ut(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}copy(t,n,r){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return Ut(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Or(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return Ut(this,void 0,void 0,function*(){try{const a=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}download(t,n){return Ut(this,void 0,void 0,function*(){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield pc(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(xt(l))return{data:null,error:l};throw l}})}info(t){return Ut(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield pc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vh(r),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}exists(t){return Ut(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield sR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xt(r)&&r instanceof zh){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ut(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},aR),n),{prefix:t||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(xt(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const oR="2.7.1",lR={"X-Client-Info":`storage-js/${oR}`};var Xs=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class cR{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},lR),n),this.fetch=rb(r)}listBuckets(){return Xs(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}getBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Xs(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Xs(this,void 0,void 0,function*(){try{return{data:yield rR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}}class uR extends cR{constructor(t,n={},r){super(t,n,r)}from(t){return new iR(this.url,this.headers,t,this.fetch)}}const dR="2.50.0";let ki="";typeof Deno<"u"?ki="deno":typeof document<"u"?ki="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ki="react-native":ki="node";const hR={"X-Client-Info":`supabase-js-${ki}/${dR}`},fR={headers:hR},mR={schema:"public"},pR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gR={};var xR=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const vR=e=>{let t;return e?t=e:typeof fetch>"u"?t=zw:t=fetch,(...n)=>t(...n)},yR=()=>typeof Headers>"u"?Vw:Headers,wR=(e,t,n)=>{const r=vR(n),a=yR();return(i,o)=>xR(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var bR=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function jR(e){return e.endsWith("/")?e:e+"/"}function NR(e,t){var n,r;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h?.headers)!==null&&n!==void 0?n:{}),(r=l?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>bR(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const ab="2.70.0",ia=30*1e3,Wh=3,od=Wh*ia,SR="http://localhost:9999",CR="supabase.auth.token",kR={"X-Client-Info":`gotrue-js/${ab}`},Hh="X-Supabase-Api-Version",ib={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ER=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_R=6e5;class _m extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function he(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PR extends _m{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function AR(e){return he(e)&&e.name==="AuthApiError"}class ob extends _m{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ms extends _m{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class Ar extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TR(e){return he(e)&&e.name==="AuthSessionMissingError"}class il extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ll extends ms{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RR(e){return he(e)&&e.name==="AuthImplicitGrantRedirectError"}class rx extends ms{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qh extends ms{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ld(e){return he(e)&&e.name==="AuthRetryableFetchError"}class sx extends ms{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $i extends ms{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ax=` 	
\r=`.split(""),IR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ax.length;t+=1)e[ax[t].charCodeAt(0)]=-2;for(let t=0;t<gc.length;t+=1)e[gc[t].charCodeAt(0)]=t;return e})();function ix(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(gc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(gc[r]),t.queuedBits-=6}}function lb(e,t,n){const r=IR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ox(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{MR(o,r,n)};for(let o=0;o<e.length;o+=1)lb(e.charCodeAt(o),a,i);return t.join("")}function OR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}OR(r,t)}}function MR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function FR(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)lb(e.charCodeAt(a),n,r);return new Uint8Array(t)}function LR(e){const t=[];return DR(e,n=>t.push(n)),new Uint8Array(t)}function $R(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};return e.forEach(a=>ix(a,n,r)),ix(null,n,r),t.join("")}function BR(e){return Math.round(Date.now()/1e3)+e}function UR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Cn=()=>typeof window<"u"&&typeof document<"u",ys={tested:!1,writable:!1},Bi=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ys.tested)return ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ys.tested=!0,ys.writable=!0}catch{ys.tested=!0,ys.writable=!1}return ys.writable};function zR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const cb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Po(async()=>{const{default:r}=await Promise.resolve().then(()=>Za);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},VR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ub=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},cl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ul=async(e,t)=>{await e.removeItem(t)};class uu{constructor(){this.promise=new uu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}uu.promiseConstructor=Promise;function cd(e){const t=e.split(".");if(t.length!==3)throw new $i("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ER.test(t[r]))throw new $i("JWT not in base64url format");return{header:JSON.parse(ox(t[0])),payload:JSON.parse(ox(t[1])),signature:FR(t[2]),raw:{header:t[0],payload:t[1]}}}async function WR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HR(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function qR(e){return("0"+e.toString(16)).substr(-2)}function GR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,qR).join("")}async function KR(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function YR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await KR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(e,t,n=!1){const r=GR();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await ub(e,`${t}-code-verifier`,a);const i=await YR(r);return[i,r===i?"plain":"s256"]}const QR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JR(e){const t=e.headers.get(Hh);if(!t||!t.match(QR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ea(e){if(!e4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var t4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n4=[502,503,504];async function lx(e){var t;if(!VR(e))throw new qh(js(e),0);if(n4.includes(e.status))throw new qh(js(e),e.status);let n;try{n=await e.json()}catch(i){throw new ob(js(i),i)}let r;const a=JR(e);if(a&&a.getTime()>=ib["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sx(js(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ar}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sx(js(n),e.status,n.weak_password.reasons);throw new PR(js(n),e.status||500,r)}const r4=(e,t,n,r)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ye(e,t,n,r){var a;const i=Object.assign({},r?.headers);i[Hh]||(i[Hh]=ib["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await s4(e,t,n+l,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function s4(e,t,n,r,a,i){const o=r4(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new qh(js(c),0)}if(l.ok||await lx(l),r?.noResolveJson)return l;try{return await l.json()}catch(c){await lx(c)}}function sr(e){var t;let n=null;l4(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=BR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function cx(e){const t=sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function a4(e){return{data:e,error:null}}function i4(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=t4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function o4(e){return e}function l4(e){return e.access_token&&e.refresh_token&&e.expires_in}const ud=["global","local","others"];var c4=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class u4{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=cb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=ud[0]){if(ud.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ud.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fr})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=c4(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:i4,redirectTo:n?.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fr})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:o4});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(x.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(he(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ea(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fr})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ea(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Fr})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ea(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fr})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ea(t.userId);try{const{data:n,error:r}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ea(t.userId),ea(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}const d4={getItem:e=>Bi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Bi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Bi()&&globalThis.localStorage.removeItem(e)}};function ux(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function h4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ta={debug:!!(globalThis&&Bi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class db extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class f4 extends db{}async function m4(e,t,n){ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ta.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw ta.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new f4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ta.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}h4();const p4={url:SR,storageKey:CR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dx(e,t,n){return await n()}class po{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=po.nextInstanceID,po.nextInstanceID+=1,this.instanceID>0&&Cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},p4),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new u4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=cb(a.fetch),this.lock=a.lock||dx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Cn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=m4:this.lock=dx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Bi()?this.storage=d4:(this.memoryStorage={},this.storage=ux(this.memoryStorage)):(this.memoryStorage={},this.storage=ux(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ab}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=zR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Cn()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RR(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new ob("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:sr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Zs(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:x},xform:sr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},channel:(a=f?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:sr})}else throw new ol("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(he(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:cx})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:cx})}else throw new ol("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new il}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,a,i,o,l,c,u,d,h,f,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:v,wallet:y,statement:w,options:b}=t;let j;if(Cn())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((n=b?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),w?{statement:w}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(r=b?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=b?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:v,error:y}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:$R(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sr});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new il}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(he(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await cl(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:sr});if(await ul(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new il}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(he(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:sr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new il}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zs(this.storage,this.storageKey));const{error:h}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c?.data)!==null&&n!==void 0?n:{},create_user:(r=c?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new ol("You must provide either an email or phone number.")}catch(l){if(he(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:sr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(he(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zs(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:a4})}catch(i){if(he(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ar;const{error:a}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new ol("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await cl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<od:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fr}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ar}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Fr})})}catch(n){if(he(n))return TR(n)&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ar;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Zs(this.storage,this.storageKey));const{data:u,error:d}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Fr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ar;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=cd(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new Ar;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Cn())throw new ll("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ll(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rx("No code detected.");const{data:w,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ll("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:g,error:v}=await this._getUser(i);if(v)throw v;const y={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(he(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await cl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(AR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=UR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Zs(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(he(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(he(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await HR(async a=>(a>0&&await WR(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&ld(i)&&Date.now()+o-r<ia})}catch(r){if(this._debug(n,"error",r),he(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await cl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<od;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${od}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),ld(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new uu;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ar;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),he(i)){const o={session:null,error:i};return ld(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ub(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ul(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ia);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ia}ms, refresh threshold is ${Wh} ticks`),a<=Wh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof db)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=cd(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+_R>Date.now()))return r;const{data:a,error:i}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new $i("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(o=>o.kid===t),!r)throw new $i("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};r=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=cd(r);if(XR(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=ZR(a.alg),d=await this.fetchJwk(a.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,LR(`${l}.${c}`)))throw new $i("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}po.nextInstanceID=0;const g4=po;class x4 extends g4{constructor(t){super(t)}}var v4=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class y4{constructor(t,n,r){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=jR(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:mR,realtime:gR,auth:Object.assign(Object.assign({},pR),{storageKey:u}),global:fR},h=NR(r??{},d);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=wR(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new MT(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new hT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new uR(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return v4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x4({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new QT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hb=(e,t,n)=>new y4(e,t,n),w4="https://laoltiyaaagiiutahypb.supabase.co",b4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxhb2x0aXlhYWFnaWl1dGFoeXBiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzNTg5MDgsImV4cCI6MjA2NDkzNDkwOH0.vApyUFl0mLM_vkL0pRSvvsvcFcnvU5Y7VBEWbCcAWdk";let dd=null;const j4=()=>(dd||(dd=hb(w4,b4,{auth:{persistSession:!0,autoRefreshToken:!0}})),dd),te=j4(),fb=()=>{const{toast:e}=be();return{handlePurchase:async n=>{console.log("Processing affiliate purchase for:",n.name);try{const r={serviceId:n.id,serviceName:n.name,partnerType:n.partnerType,price:n.price,commissionRate:n.commissionRate,billingPeriod:n.billingPeriod,category:n.category,userAgent:navigator.userAgent,referrer:document.referrer||"direct",timestamp:new Date().toISOString(),sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,affiliateUrl:n.affiliateUrl,cjAffiliateId:n.cjAffiliateId,epc:n.epc,affiliateNetwork:n.cjAffiliateId?"commission_junction":"direct",cjPublisherId:"7602933"},{data:a,error:i}=await te.functions.invoke("affiliate-tracking",{body:{affiliateId:"7602933",action:"track_click",data:r}});i?console.error("Error tracking affiliate click:",i):console.log("Affiliate click tracked successfully with YOUR CJ ID:",a);const o=new URL(n.affiliateUrl);n.cjAffiliateId?(o.searchParams.append("sid",`marketplace_referral_${Date.now()}`),o.searchParams.append("cjpublisher","7602933")):(o.searchParams.append("ref","7602933"),o.searchParams.append("utm_source","affiliate"),o.searchParams.append("utm_medium","partner_marketplace"),o.searchParams.append("utm_campaign",n.id),o.searchParams.append("publisher_id","7602933")),window.open(o.toString(),"_blank","noopener,noreferrer"),e({title:`Redirecting to ${n.name}`,description:`Opening ${n.partnerType} service with YOUR CJ Publisher ID 7602933. Complete your ${n.billingPeriod==="one-time"?"purchase":"subscription"} to earn commission!`})}catch(r){console.error("Error processing affiliate purchase:",r),window.open(n.affiliateUrl,"_blank","noopener,noreferrer"),e({title:"Redirecting...",description:`Opening ${n.name} purchase page`})}}}},N4=(e,t)=>(e*t).toFixed(2),mb=e=>{const t=e.billingPeriod==="monthly"?"/mo":e.billingPeriod==="yearly"?"/year":"";return`$${e.price}${t}`},pb=e=>({Entertainment:"bg-purple-100 text-purple-800","E-commerce":"bg-green-100 text-green-800","Web Hosting":"bg-blue-100 text-blue-800",Education:"bg-orange-100 text-orange-800",Design:"bg-pink-100 text-pink-800","Health & Fitness":"bg-red-100 text-red-800",Shopping:"bg-yellow-100 text-yellow-800",Productivity:"bg-indigo-100 text-indigo-800","Flowers & Gifts":"bg-rose-100 text-rose-800"})[e]||"bg-gray-100 text-gray-800",S4=()=>{const{handlePurchase:e}=fb(),t=Nm.filter(n=>n.billingPeriod==="one-time").slice(0,4);return s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Featured Real Affiliate Partners (One-time Purchases)"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(n=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-shadow border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"font-bold text-lg",children:n.name}),n.cjAffiliateId&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"CJ Affiliate"})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:n.product}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${pb(n.category)} mb-3 inline-block`,children:n.category}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-xl font-bold text-green-600",children:mb(n)}),s.jsxs("div",{className:"text-xs text-orange-600",children:[(n.commissionRate*100).toFixed(0),"% commission"]})]}),s.jsxs("button",{onClick:()=>e(n),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-all",children:[s.jsx(as,{className:"h-4 w-4"}),"Shop Now"]})]},n.id))})]})},C4=()=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:[s.jsxs(pt,{to:"/dashboard",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 text-blue-600 group-hover:scale-110 transition-transform duration-300",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"17 8 12 3 7 8"}),s.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),s.jsx(ya,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all duration-300"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blue-800 transition-colors",children:"Task Dashboard"}),s.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Manage tasks, track earnings, and optimize your workflow for maximum efficiency."}),s.jsx("div",{className:"mt-4 text-sm text-blue-600 font-medium",children:" Access Dashboard"})]}),s.jsxs(pt,{to:"/ad-revenue",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-12 w-12 text-purple-600 group-hover:scale-110 transition-transform duration-300",children:s.jsx("path",{d:"M12 5v14M5 12H19"})}),s.jsx(ya,{className:"h-6 w-6 text-gray-400 group-hover:text-purple-600 group-hover:translate-x-1 transition-all duration-300"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-purple-800 transition-colors",children:"Ad Revenue Collection"}),s.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Collect ad revenue from multiple partners and manage your earnings efficiently."}),s.jsx("div",{className:"mt-4 text-sm text-purple-600 font-medium",children:" Collect Revenue"})]}),s.jsxs(pt,{to:"/secure-bank-transfer",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(st,{className:"h-12 w-12 text-green-600 group-hover:scale-110 transition-transform duration-300"}),s.jsx(ya,{className:"h-6 w-6 text-gray-400 group-hover:text-green-600 group-hover:translate-x-1 transition-all duration-300"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-green-800 transition-colors",children:"Secure Bank Transfer Dashboard"}),s.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Comprehensive bank account management with secure transfers, verification, and audit trails"}),s.jsx("div",{className:"mt-4 text-sm text-green-600 font-medium",children:" Access Dashboard"})]}),s.jsxs(pt,{to:"/affiliate-revenue",className:"group block p-8 bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(ln,{className:"h-12 w-12 text-orange-600 group-hover:scale-110 transition-transform duration-300"}),s.jsx(ya,{className:"h-6 w-6 text-gray-400 group-hover:text-orange-600 group-hover:translate-x-1 transition-all duration-300"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-orange-800 transition-colors",children:"Affiliate Revenue Center"}),s.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors",children:"Earn commissions by recommending partner services to your users with full tracking"}),s.jsx("div",{className:"mt-4 text-sm text-orange-600 font-medium",children:" Start Earning"})]})]}),hx=({adSlot:e,adFormat:t="auto",style:n={display:"block"},className:r="",onImpression:a,onAdClick:i})=>{const o=m.useRef(null),l=m.useRef(!1);m.useEffect(()=>{if(!l.current&&o.current)try{window.adsbygoogle=window.adsbygoogle||[],window.adsbygoogle.push({}),a&&a(),l.current=!0}catch(u){console.error("AdSense error:",u)}},[a]);const c=()=>{i&&i()};return s.jsx("div",{ref:o,className:r,onClick:c,children:s.jsx("ins",{className:"adsbygoogle",style:n,"data-ad-client":"ca-pub-9370068622982104","data-ad-slot":e,"data-ad-format":t,"data-full-width-responsive":"true"})})},k4=()=>{const[e,t]=m.useState(!1);return{trackImpression:async a=>{try{t(!0);const{data:i,error:o}=await te.functions.invoke("ad-revenue",{body:{action:"track_impression",data:{adId:`ad_${a.adSlot}`,placementId:a.placementId,userId:"anonymous",viewDuration:0,visible:!0,deviceType:window.innerWidth>768?"desktop":"mobile"}}});return o?(console.error("Error tracking impression:",o),null):(console.log("Ad impression tracked:",i),i)}catch(i){return console.error("Error tracking impression:",i),null}finally{t(!1)}},trackClick:async a=>{try{t(!0);const{data:i,error:o}=await te.functions.invoke("ad-revenue",{body:{action:"track_click",data:{adId:`ad_${a.adSlot}`,placementId:a.placementId,userId:"anonymous",cpc:.35,adType:a.adType||"display",targetUrl:window.location.href}}});return o?(console.error("Error tracking click:",o),null):(console.log("Ad click tracked:",i),i)}catch(i){return console.error("Error tracking click:",i),null}finally{t(!1)}},isTracking:e}},E4=()=>{const{trackImpression:e,trackClick:t}=k4(),n=()=>{e({adSlot:"4133257448",placementId:"homepage_hero",adType:"display"})},r=()=>{t({adSlot:"4133257448",placementId:"homepage_hero",adType:"display"})},a=()=>{e({adSlot:"1879193848",placementId:"homepage_middle",adType:"display"})},i=()=>{t({adSlot:"1879193848",placementId:"homepage_middle",adType:"display"})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[s.jsx(nT,{}),s.jsxs("main",{className:"container mx-auto px-4 py-8",children:[s.jsx(rT,{}),s.jsx("div",{className:"my-8 flex justify-center",children:s.jsx(hx,{adSlot:"4133257448",className:"max-w-4xl mx-auto",onImpression:n,onAdClick:r})}),s.jsx(sT,{}),s.jsx("div",{className:"my-8 flex justify-center",children:s.jsx(hx,{adSlot:"1879193848",className:"max-w-4xl mx-auto",onImpression:a,onAdClick:i})}),s.jsx(S4,{}),s.jsx(C4,{})]})]})},tr=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[a,i]=m.useState(null),[o,l]=m.useState(null),[c,u]=m.useState(!0),d=async x=>{try{const{data:g,error:v}=await te.from("profiles").select("*").eq("id",x).single();if(v){console.error("Error fetching profile:",v);return}i(g)}catch(g){console.error("Error fetching profile:",g)}},h=async x=>{try{const{data:g,error:v}=await te.from("subscriptions").select("*").eq("user_id",x).eq("status","active").gte("expiry_date",new Date().toISOString()).order("created_at",{ascending:!1}).limit(1);if(v){console.error("Error fetching subscription:",v);return}l(g&&g.length>0?g[0]:null)}catch(g){console.error("Error fetching subscription:",g)}};return m.useEffect(()=>{const{data:{subscription:x}}=te.auth.onAuthStateChange(async(g,v)=>{r(v),t(v?.user??null),v?.user?setTimeout(()=>{d(v.user.id),h(v.user.id)},0):(i(null),l(null)),u(!1)});return te.auth.getSession().then(({data:{session:g}})=>{r(g),t(g?.user??null),g?.user&&setTimeout(()=>{d(g.user.id),h(g.user.id)},0),u(!1)}),()=>x.unsubscribe()},[]),{user:e,session:n,profile:a,subscription:o,loading:c,signOut:async()=>{try{const{error:x}=await te.auth.signOut();if(x)throw x}catch(x){console.error("Error signing out:",x)}},createSubscription:async()=>{if(e)try{const x=new Date;x.setMonth(x.getMonth()+1);const{data:g,error:v}=await te.from("subscriptions").insert([{user_id:e.id,plan:"operator-license",status:"active",amount:9.99,currency:"USD",expiry_date:x.toISOString()}]).select().single();if(v)throw v;return l(g),g}catch(x){throw console.error("Error creating subscription:",x),x}},hasActiveSubscription:!!o}},_4=(e,t,n,r)=>{const{toast:a}=be();return{resetTasks:()=>{if(e<t){a({title:"Cannot reset tasks",description:`Complete all ${t} tasks before resetting.`,variant:"destructive"});return}n(),a({title:"Tasks Reset Successfully",description:`You can now complete ${t} more optimization tasks!`})},resetAccount:()=>{r(),a({title:"Account Reset",description:"Ready for a new day of earning!"})}}},Pm=e=>{const[t,n]=m.useState([]),[r,a]=m.useState({total_unpaid_cents:0,total_paid_cents:0,unpaid_count:0,paid_count:0}),[i,o]=m.useState(!1),[l,c]=m.useState(!1),{toast:u}=be(),d=m.useCallback(async()=>{if(e){o(!0);try{const{data:p,error:x}=await te.from("commissions").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(x)throw x;n(p||[]);const g=(p||[]).filter(y=>!y.paid_out),v=(p||[]).filter(y=>y.paid_out);a({total_unpaid_cents:g.reduce((y,w)=>y+w.amount_earned_cents,0),total_paid_cents:v.reduce((y,w)=>y+w.amount_earned_cents,0),unpaid_count:g.length,paid_count:v.length})}catch(p){console.error("Error fetching commissions:",p),u({title:"Error",description:"Failed to load commission data",variant:"destructive"})}finally{o(!1)}}},[e,u]),h=m.useCallback(async(p,x,g="task_completion")=>{if(e)try{const{data:v,error:y}=await te.from("commissions").insert({user_id:e,amount_earned_cents:p,description:x,source:g}).select().single();if(y)throw y;return console.log("Commission added:",v),await d(),v}catch(v){console.error("Error adding commission:",v),u({title:"Error",description:"Failed to record commission",variant:"destructive"})}},[e,d,u]),f=m.useCallback(async()=>{c(!0);try{console.log("Processing commission payouts...");const{data:p,error:x}=await te.functions.invoke("payout-commissions",{body:{}});if(x)throw x;if(p?.success)u({title:"Payout Processed",description:`Successfully paid out $${p.amount} for ${p.commissions_count} commissions`}),await d();else throw new Error(p?.error||"Payout failed")}catch(p){console.error("Payout error:",p),u({title:"Payout Failed",description:p instanceof Error?p.message:"Failed to process payout",variant:"destructive"})}finally{c(!1)}},[d,u]);return m.useEffect(()=>{d()},[d]),{commissions:t,summary:r,loading:i,payoutLoading:l,addCommission:h,processPayouts:f,refreshCommissions:d}},Am=Co("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?ss:"button";return s.jsx(o,{className:ie(Am({variant:t,size:n,className:e})),ref:i,...a})});F.displayName="Button";const gb=()=>{const{user:e,signOut:t}=tr(),n=async()=>{try{const{error:r}=await te.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});r&&console.error("Google login error:",r)}catch(r){console.error("Login failed:",r)}};return e?s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Signed in as: ",e.email]}),s.jsx(F,{variant:"outline",onClick:t,children:"Sign Out"})]}):s.jsx(F,{onClick:n,className:"w-full",children:"Sign in with Google"})},R=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));R.displayName="Card";const $=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));$.displayName="CardHeader";const B=m.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));B.displayName="CardTitle";const P4=m.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));P4.displayName="CardDescription";const I=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("p-6 pt-0",e),...t}));I.displayName="CardContent";const A4=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",e),...t}));A4.displayName="CardFooter";const xb=({onBack:e})=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:e,variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Privacy Policy"})]}),s.jsxs(R,{children:[s.jsxs($,{children:[s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-primary"}),"EarnFlow Privacy Policy"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(VE,{className:"h-5 w-5"}),"Information We Collect"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{children:s.jsx("strong",{children:"Personal Information:"})}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsx("li",{children:"Phone number (for account identification)"}),s.jsx("li",{children:"Username (for platform identification)"}),s.jsx("li",{children:"Bitcoin wallet address (for payment processing)"})]}),s.jsx("p",{children:s.jsx("strong",{children:"Usage Data:"})}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsx("li",{children:"Task completion statistics"}),s.jsx("li",{children:"Earnings and withdrawal history"}),s.jsx("li",{children:"Platform interaction metrics"})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(AE,{className:"h-5 w-5"}),"Third-Party Advertising Partners"]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"EarnFlow partners with third-party advertisers to provide optimization tasks. Our current advertising partners include but are not limited to:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsx("li",{children:"StreamMax Pro"}),s.jsx("li",{children:"FitTracker Elite"}),s.jsx("li",{children:"CloudSync Business"}),s.jsx("li",{children:"GameVault Premium"}),s.jsx("li",{children:"DesignSuite Pro"}),s.jsx("li",{children:"LearnHub Academy"}),s.jsx("li",{children:"SecureVPN Ultra"}),s.jsx("li",{children:"PhotoEdit Master"}),s.jsx("li",{children:"MusicStream Plus"}),s.jsx("li",{children:"TaskManager Pro"})]}),s.jsxs("p",{className:"bg-yellow-50 p-3 rounded border border-yellow-200",children:[s.jsx("strong",{children:"Important:"})," When you interact with third-party advertisements during optimization tasks, these partners may collect additional data according to their own privacy policies. We encourage you to review each partner's privacy policy before engaging with their content."]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[s.jsx(PE,{className:"h-5 w-5"}),"How We Use Your Information"]}),s.jsx("div",{className:"space-y-3 text-sm",children:s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"To provide and maintain the EarnFlow service"}),s.jsx("li",{children:"To process payments and track earnings"}),s.jsx("li",{children:"To communicate with you about your account"}),s.jsx("li",{children:"To improve our platform and user experience"}),s.jsx("li",{children:"To comply with legal obligations"})]})})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Data Sharing and Third Parties"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"We share limited information with our advertising partners for the following purposes:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsx("li",{children:"Task completion verification"}),s.jsx("li",{children:"Commission calculation and payment processing"}),s.jsx("li",{children:"Fraud prevention and security"})]}),s.jsxs("p",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[s.jsx("strong",{children:"We never sell your personal data."})," Information is only shared with partners as necessary to provide the advertising optimization service and process your earnings."]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Data Security"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"We implement appropriate security measures to protect your personal information:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsx("li",{children:"Encrypted data transmission and storage"}),s.jsx("li",{children:"Secure authentication systems"}),s.jsx("li",{children:"Regular security audits and updates"}),s.jsx("li",{children:"Limited access to personal data on a need-to-know basis"})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your Rights"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"You have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[s.jsx("li",{children:"Access your personal data"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Delete your account and associated data"}),s.jsx("li",{children:"Withdraw consent for data processing"}),s.jsx("li",{children:"Port your data to another service"})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Contact Information"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"For privacy-related questions or concerns, please contact us:"}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," privacy@earnflow.com"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," +1 (555) 123-EARN"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," 123 Privacy Lane, Security City, SC 12345"]})]})]})]}),s.jsxs("section",{className:"bg-green-50 p-4 rounded border border-green-200",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-green-800",children:"Our Privacy Commitment"}),s.jsx("p",{className:"text-sm text-green-700",children:"EarnFlow is committed to protecting your privacy. We collect only the minimum information necessary to provide our service and never use your data for unauthorized purposes. Your trust is our top priority."})]})]})]})]})}),T4=({userEmail:e,onShowPrivacyPolicy:t})=>{const{signOut:n}=tr();return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{children:" Commission Payout Dashboard"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{to:"/bitcoin-wallet",children:s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Full Bitcoin Wallet"]})}),s.jsxs(F,{variant:"outline",size:"sm",onClick:t,children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Privacy Policy"]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:n,children:[s.jsx(ME,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})}),s.jsx(I,{children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Signed in as: ",s.jsx("span",{className:"font-medium",children:e})]})})]})},R4=()=>{const[e,t]=m.useState(new Date);return m.useEffect(()=>{const n=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(n)},[]),s.jsx(R,{children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5 text-primary"}),s.jsxs("span",{className:"text-xl font-mono",children:[e.toLocaleString("en-US",{timeZone:"America/New_York",weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})," ET"]})]})})})},I4=({earnings:e,tasksCompleted:t,maxTasks:n,onResetTasks:r})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Today's Earnings"}),s.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(I,{children:s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",e.toFixed(2)]})})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Tasks Completed"}),s.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[t,"/",n]}),t>=n&&s.jsxs(F,{onClick:r,size:"sm",variant:"outline",className:"mt-2 w-full",children:[s.jsx(lm,{className:"h-4 w-4 mr-2"}),"Reset Tasks"]})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Bitcoin Wallet"}),s.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(I,{children:s.jsx("div",{className:"text-xs text-muted-foreground break-all",children:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"})})]})]}),ae=m.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ae.displayName="Input";var O4="Label",vb=m.forwardRef((e,t)=>s.jsx(de.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vb.displayName=O4;var yb=vb;const D4=Co("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),le=m.forwardRef(({className:e,...t},n)=>s.jsx(yb,{ref:n,className:ie(D4(),e),...t}));le.displayName=yb.displayName;function du(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tm="Switch",[M4,V3]=Zn(Tm),[F4,L4]=M4(Tm),wb=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=m.useState(null),x=ke(t,b=>p(b)),g=m.useRef(!1),v=f?d||!!f.closest("form"):!0,[y=!1,w]=yr({prop:a,defaultProp:i,onChange:u});return s.jsxs(F4,{scope:n,checked:y,disabled:l,children:[s.jsx(de.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Nb(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:oe(e.onClick,b=>{w(j=>!j),v&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),v&&s.jsx($4,{control:f,bubbles:!g.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});wb.displayName=Tm;var bb="SwitchThumb",jb=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=L4(bb,n);return s.jsx(de.span,{"data-state":Nb(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});jb.displayName=bb;var $4=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=m.useRef(null),o=du(n),l=Jc(t);return m.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Nb(e){return e?"checked":"unchecked"}var Sb=wb,B4=jb;const hu=m.forwardRef(({className:e,...t},n)=>s.jsx(Sb,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(B4,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hu.displayName=Sb.displayName;const U4=Co("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function fe({className:e,variant:t,...n}){return s.jsx("div",{className:ie(U4({variant:t}),e),...n})}const dn=(e,t)=>(console.error(`Live Production Error - ${t}:`,e),e.message?.includes("Your account cannot currently make live charges")?"Your live Stripe account is not yet activated for payouts. Please complete your account activation in the Stripe Dashboard.":e.message?.includes("Invalid API Key")||e.message?.includes("api_key")?"Invalid live Stripe API key. Please verify your live API key (sk_live_...) is correctly configured in Supabase secrets.":e.message?.includes("permissions")||e.message?.includes("restricted")?"Insufficient API key permissions. Your live Stripe key may be restricted. Please use a full secret key or update permissions.":e.message?.includes("rate_limit")?"Rate limit exceeded. Please wait a moment before trying again.":e.message?.includes("amount_too_small")||e.message?.includes("minimum")?"Payout amount is too small. Minimum amount for live payouts is $0.50.":e.message||"A payout processing error occurred in live mode. Please try again or contact support.");class z4{async createPayout(t){try{if(console.log("Creating live Stripe payout (depositing earnings):",{...t,amount:t.amount}),t.amount<.5)throw new Error("Minimum payout amount is $0.50 for live transactions.");const{data:n,error:r}=await te.functions.invoke("stripe-payout",{body:t});if(r)throw new Error(dn(r,"Live Payout Creation"));return console.log("Live payout created successfully (earnings deposited):",n),n}catch(n){throw console.error("Live Stripe Payout Error:",n),new Error(dn(n,"Live Payout Creation"))}}async setupAccount(t,n,r){try{console.log("Setting up live Stripe account:",{email:t,userId:n});const{data:a,error:i}=await te.functions.invoke("stripe-account-setup",{body:{email:t,userId:n,returnUrl:r}});if(i)throw new Error(dn(i,"Live Account Setup"));return console.log("Live account setup successful:",a),a}catch(a){throw console.error("Live Stripe Account Setup Error:",a),new Error(dn(a,"Live Account Setup"))}}async createPaymentIntent(t){try{if(!t.amount&&!t.items)throw new Error("Either amount or items must be provided");const n={description:t.description,currency:t.currency||"usd",customerEmail:t.customerEmail};if(t.items?(console.log("Creating payment intent with items (Ruby-style):",t.items),n.items=t.items):t.amount&&(console.log("Creating payment intent with amount (legacy):",t.amount),n.items=[{amount:t.amount}]),(t.items?t.items.reduce((o,l)=>o+l.amount,0):t.amount||0)<50)throw new Error("Minimum payment amount is $0.50 for live transactions.");const{data:a,error:i}=await te.functions.invoke("create-payment-intent",{body:n});if(i)throw new Error(dn(i,"Payment Intent Creation"));return console.log("Payment intent created successfully:",a),{success:a.success,clientSecret:a.clientSecret,data:a.data,error:a.error,timestamp:a.timestamp}}catch(n){throw console.error("Payment Intent Creation Error:",n),new Error(dn(n,"Payment Intent Creation"))}}async createCheckoutSession(t){try{if(console.log("Creating live checkout session:",{...t,amount:t.amount,paymentMethod:t.paymentMethod||"card"}),t.mode==="payment"&&t.amount<50)throw new Error("Minimum transaction amount is $0.50 for live payments.");const{data:n,error:r}=await te.functions.invoke("create-checkout-session",{body:t});if(r)throw new Error(dn(r,"Live Checkout Session Creation"));if(!n?.success||!n?.data?.url)throw new Error("Failed to create live checkout session. Please verify your live Stripe configuration.");return console.log("Live checkout session created successfully:",n),n}catch(n){throw console.error("Live Checkout Session Creation Error:",n),new Error(dn(n,"Live Checkout Session Creation"))}}async verifyPayment(t){try{console.log("Verifying payment (Production):",t);const{data:n,error:r}=await te.functions.invoke("verify-payment",{body:{paymentIntentId:t}});if(r)throw new Error(dn(r,"Payment Verification"));return n}catch(n){throw console.error("Payment Verification Error (Production):",n),new Error(dn(n,"Payment Verification"))}}async captureCharge(t){try{console.log("Capturing charge (Production):",t);const{data:n,error:r}=await te.functions.invoke("capture-charge",{body:t});if(r)throw new Error(dn(r,"Charge Capture"));return n}catch(n){throw console.error("Charge Capture Error (Production):",n),new Error(dn(n,"Charge Capture"))}}async verifyProductionConfig(){const t=[],n=[];try{console.log("Verifying live production payout configuration...");const a=await te.functions.invoke("stripe-payout",{body:{amount:.5,email:"production-test@example.com",userId:"test-user-id"}});if(a.data?.success)console.log("Live payout API connectivity verified successfully");else{const i=a.data?.error||a.error?.message||"Unknown error";i.includes("api_key")||i.includes("Invalid API Key")?t.push("Live API key is not configured or invalid. Please set your live Stripe secret key (sk_live_...)"):i.includes("account cannot currently make live charges")?t.push("Your Stripe account is not activated for live payouts. Complete activation in Stripe Dashboard"):t.push(`Live payout API connectivity issue: ${i}`)}}catch(a){const i=a instanceof Error?a.message:"Unknown configuration error";t.push(`Payout configuration verification failed: ${i}`),console.error("Production payout config verification error:",a)}t.length===0&&(n.push("Ensure your Stripe account has been fully activated for live payouts"),n.push("Test with small amounts before processing larger payouts"),n.push("Verify your bank account is connected for receiving payouts"));const r=t.length===0;return console.log("Production payout readiness check completed:",{isProductionReady:r,issuesCount:t.length,warningsCount:n.length}),{isProductionReady:r,issues:t,warnings:n}}}const Rm=new z4,V4=(e,t,n)=>{const[r,a]=m.useState({enabled:!1,minimumAmount:10,transferTime:"18:00"}),[i,o]=m.useState(!1),[l,c]=m.useState(null),{toast:u}=be();m.useEffect(()=>{const p=localStorage.getItem(`autopayout_${e}`);p&&a(JSON.parse(p));const x=localStorage.getItem(`last_transfer_${e}`);x&&c(x)},[e]);const d=p=>{const x={...r,...p};a(x),localStorage.setItem(`autopayout_${e}`,JSON.stringify(x))},h=()=>{const p=new Date().toISOString().split("T")[0],x=new Date,[g,v]=r.transferTime.split(":"),y=new Date;return y.setHours(parseInt(g),parseInt(v),0,0),r.enabled&&n>=r.minimumAmount&&x>=y&&l!==p},f=async()=>{if(!(!h()||i)){o(!0);try{console.log("Executing automatic payout:",{amount:n,userEmail:t}),await Rm.createPayout({amount:n,email:t,userId:e});const p=new Date().toISOString().split("T")[0];c(p),localStorage.setItem(`last_transfer_${e}`,p),u({title:"Automatic Transfer Complete",description:`$${n.toFixed(2)} has been automatically transferred to your Stripe account.`}),console.log("Automatic payout completed successfully")}catch(p){console.error("Automatic payout failed:",p),u({title:"Automatic Transfer Failed",description:"Your daily earnings transfer could not be completed. Please try manually.",variant:"destructive"})}finally{o(!1)}}};return m.useEffect(()=>{if(!r.enabled||!e||!t)return;const p=setInterval(()=>{h()&&f()},6e4);return()=>clearInterval(p)},[r,n,e,t,l]),{config:r,updateConfig:d,isTransferring:i,lastTransferDate:l,shouldTransferToday:h(),executeAutomaticTransfer:f}},W4=({userId:e,userEmail:t,todaysEarnings:n})=>{const{config:r,updateConfig:a,isTransferring:i,lastTransferDate:o,shouldTransferToday:l,executeAutomaticTransfer:c}=V4(e,t,n),u=(d,h)=>{a({[d]:h})};return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(HE,{className:"h-5 w-5"}),"Automatic Daily Payouts"]})}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"auto-payout-enabled",className:"text-base font-medium",children:"Enable Automatic Payouts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically transfer your daily earnings to Stripe"})]}),s.jsx(hu,{id:"auto-payout-enabled",checked:r.enabled,onCheckedChange:d=>u("enabled",d)})]}),r.enabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"minimum-amount",children:"Minimum Amount ($)"}),s.jsx(ae,{id:"minimum-amount",type:"number",min:"1",step:"0.01",value:r.minimumAmount,onChange:d=>u("minimumAmount",parseFloat(d.target.value)||0),placeholder:"10.00"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Only transfer when daily earnings reach this amount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"transfer-time",children:"Daily Transfer Time"}),s.jsx(ae,{id:"transfer-time",type:"time",value:r.transferTime,onChange:d=>u("transferTime",d.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time of day to automatically transfer earnings"})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(ze,{className:"h-4 w-4"}),"Today's Status"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Today's Earnings:"}),s.jsxs("p",{className:"font-medium",children:["$",n.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Transfer Status:"}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:l?s.jsxs(fe,{className:"bg-green-100 text-green-800",children:[s.jsx(Me,{className:"h-3 w-3 mr-1"}),"Ready"]}):s.jsxs(fe,{variant:"secondary",children:[s.jsx(jn,{className:"h-3 w-3 mr-1"}),"Waiting"]})})]})]}),o&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Transfer:"}),s.jsx("p",{className:"font-medium",children:new Date(o).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Manual Transfer"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer today's earnings now"})]}),s.jsx(F,{onClick:c,disabled:i||n<r.minimumAmount,size:"sm",children:i?"Transferring...":"Transfer Now"})]})]}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"How it works:"})," Your daily earnings will be automatically transferred to your Stripe account at the specified time, provided they meet the minimum amount requirement. Transfers are processed securely through your connected Stripe account."]})})]})]})},H4=({earnings:e,tasksCompleted:t,maxTasks:n,onResetTasks:r,userEmail:a="",userId:i=""})=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(R4,{}),s.jsx(I4,{earnings:e,tasksCompleted:t,maxTasks:n,onResetTasks:r}),s.jsx(W4,{userId:i,userEmail:a,todaysEarnings:e})]}),q4=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState([]),[a,i]=m.useState(null),{toast:o}=be(),{user:l}=tr(),c=async()=>{if(l){t(!0);try{const{data:h,error:f}=await te.functions.invoke("get-payout-history",{body:{userEmail:l.email}});if(f)throw f;console.log("Full payout response:",h),i(h?.debug_info||null),h?.payouts&&h.payouts.length>0?(r(h.payouts),console.log("Recent payouts found:",h.payouts.length),o({title:"Payout History Retrieved",description:`Found ${h.payouts.length} recent payouts in your Stripe account`})):(r([]),o({title:"No Recent Payouts",description:"No payouts found in your Stripe account. This is normal if you haven't processed any payouts yet."}))}catch(h){console.error("Error checking payout status:",h),o({title:"Error",description:"Failed to retrieve payout status",variant:"destructive"})}finally{t(!1)}}},u=h=>{switch(h){case"paid":return s.jsx(Me,{className:"h-4 w-4 text-green-500"});case"pending":return s.jsx(jn,{className:"h-4 w-4 text-yellow-500"});case"in_transit":return s.jsx(Jr,{className:"h-4 w-4 text-blue-500"});case"failed":return s.jsx(hr,{className:"h-4 w-4 text-red-500"});default:return s.jsx(hr,{className:"h-4 w-4 text-gray-500"})}},d=h=>{switch(h){case"paid":return s.jsx(fe,{className:"bg-green-100 text-green-800",children:"Paid"});case"pending":return s.jsx(fe,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"in_transit":return s.jsx(fe,{className:"bg-blue-100 text-blue-800",children:"In Transit"});case"failed":return s.jsx(fe,{className:"bg-red-100 text-red-800",children:"Failed"});default:return s.jsx(fe,{variant:"secondary",children:h})}};return l?s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"h-5 w-5"}),"Recent Payout History"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsx(F,{onClick:c,disabled:e,className:"w-full",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"h-4 w-4 mr-2 animate-spin"}),"Checking Recent Payouts..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Check Recent Payout History"]})}),a&&n.length===0&&s.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-blue-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(EE,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-blue-800",children:"No Recent Payouts"})]}),s.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[s.jsx("p",{children:"No recent payouts found in your Stripe account"}),s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"font-medium mb-1",children:"This could mean:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[s.jsx("li",{children:"No payouts have been processed recently"}),s.jsx("li",{children:"Payouts are processed on a different schedule"}),s.jsx("li",{children:"You're checking a different Stripe account"}),s.jsx("li",{children:"Payouts are managed through a different system"})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:s.jsxs("p",{className:"text-xs",children:["Check your Stripe Dashboard directly at ",s.jsx("a",{href:"https://dashboard.stripe.com/payouts",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"dashboard.stripe.com/payouts"})]})})]})]}),n.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold",children:["Recent Payouts (",n.length,")"]}),n.slice(0,5).map((h,f)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Payout #",f+1]}),d(h.status)]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("p",{className:"font-medium",children:["$",(h.amount/100).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsxs("p",{className:"flex items-center gap-1 font-medium",children:[u(h.status),h.status]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Created:"}),s.jsx("p",{className:"font-medium",children:new Date(h.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Arrival:"}),s.jsx("p",{className:"font-medium",children:h.arrival_date?new Date(h.arrival_date).toLocaleDateString():"Not specified"})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"ID:"})," ",h.id]}),h.description&&s.jsxs("p",{children:[s.jsx("strong",{children:"Description:"})," ",h.description]})]})]},h.id))]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded-md text-sm",children:[s.jsx("p",{className:"text-blue-800",children:s.jsx("strong",{children:"About Payout Status:"})}),s.jsxs("ul",{className:"text-blue-700 mt-1 space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Paid:"})," Successfully sent to your bank account"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Pending:"})," Being processed by Stripe"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"In Transit:"})," On the way to your bank"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Failed:"})," Transfer failed, contact support"]})]}),s.jsx("p",{className:"text-blue-600 mt-2 text-xs",children:"This shows recent payouts from your connected Stripe account. Bank transfers typically take 1-3 business days to appear in your account."})]})]})]}):null},Im=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:ie("w-full caption-bottom text-sm",e),...t})}));Im.displayName="Table";const Om=m.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:ie("[&_tr]:border-b",e),...t}));Om.displayName="TableHeader";const Dm=m.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:ie("[&_tr:last-child]:border-0",e),...t}));Dm.displayName="TableBody";const G4=m.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));G4.displayName="TableFooter";const go=m.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));go.displayName="TableRow";const pn=m.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));pn.displayName="TableHead";const gn=m.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));gn.displayName="TableCell";const K4=m.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:ie("mt-4 text-sm text-muted-foreground",e),...t}));K4.displayName="TableCaption";function Nt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Y4(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const dl=43200,fx=1440;let Q4={};function J4(){return Q4}function mx(e){const t=Nt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Il(e,t){const n=Nt(e),r=Nt(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function X4(e){return Y4(e,Date.now())}function Z4(e,t){const n=Nt(e),r=Nt(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function eI(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function tI(e,t){return+Nt(e)-+Nt(t)}function nI(e){const t=Nt(e);return t.setHours(23,59,59,999),t}function rI(e){const t=Nt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function sI(e){const t=Nt(e);return+nI(t)==+rI(t)}function aI(e,t){const n=Nt(e),r=Nt(t),a=Il(n,r),i=Math.abs(Z4(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=Il(n,r)===-a;sI(Nt(e))&&i===1&&Il(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function iI(e,t,n){const r=tI(e,t)/1e3;return eI(n?.roundingMethod)(r)}const oI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lI=(e,t,n)=>{let r;const a=oI[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const cI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hI={date:hd({formats:cI,defaultWidth:"full"}),time:hd({formats:uI,defaultWidth:"full"}),dateTime:hd({formats:dI,defaultWidth:"full"})},fI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mI=(e,t,n,r)=>fI[e];function pi(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const pI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bI=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jI={ordinalNumber:bI,era:pi({values:pI,defaultWidth:"wide"}),quarter:pi({values:gI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:pi({values:xI,defaultWidth:"wide"}),day:pi({values:vI,defaultWidth:"wide"}),dayPeriod:pi({values:yI,defaultWidth:"wide",formattingValues:wI,defaultFormattingWidth:"wide"})};function gi(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?SI(l,h=>h.test(o)):NI(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function NI(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function SI(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function CI(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const kI=/^(\d+)(th|st|nd|rd)?/i,EI=/\d+/i,_I={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PI={any:[/^b/i,/^(a|c)/i]},AI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TI={any:[/1/i,/2/i,/3/i,/4/i]},RI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},II={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LI={ordinalNumber:CI({matchPattern:kI,parsePattern:EI,valueCallback:e=>parseInt(e,10)}),era:gi({matchPatterns:_I,defaultMatchWidth:"wide",parsePatterns:PI,defaultParseWidth:"any"}),quarter:gi({matchPatterns:AI,defaultMatchWidth:"wide",parsePatterns:TI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:gi({matchPatterns:RI,defaultMatchWidth:"wide",parsePatterns:II,defaultParseWidth:"any"}),day:gi({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:DI,defaultParseWidth:"any"}),dayPeriod:gi({matchPatterns:MI,defaultMatchWidth:"any",parsePatterns:FI,defaultParseWidth:"any"})},$I={code:"en-US",formatDistance:lI,formatLong:hI,formatRelative:mI,localize:jI,match:LI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BI(e,t,n){const r=J4(),a=n?.locale??r.locale??$I,i=2520,o=Il(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:o});let c,u;o>0?(c=Nt(t),u=Nt(e)):(c=Nt(e),u=Nt(t));const d=iI(u,c),h=(mx(u)-mx(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return n?.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<fx){const x=Math.round(f/60);return a.formatDistance("aboutXHours",x,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<dl){const x=Math.round(f/fx);return a.formatDistance("xDays",x,l)}else if(f<dl*2)return p=Math.round(f/dl),a.formatDistance("aboutXMonths",p,l)}if(p=aI(u,c),p<12){const x=Math.round(f/dl);return a.formatDistance("xMonths",x,l)}else{const x=p%12,g=Math.trunc(p/12);return x<3?a.formatDistance("aboutXYears",g,l):x<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function UI(e,t){return BI(e,X4(e),t)}function zI(){const[e,t]=m.useState(""),[n,r]=m.useState(!1),{session:a}=tr(),i=async()=>{if(r(!0),t("Processing payout..."),!a?.access_token){t(" Not authenticated."),r(!1);return}try{const{data:o,error:l}=await te.functions.invoke("payout-commissions",{body:{},headers:{Authorization:`Bearer ${a.access_token}`}});if(l)throw l;o?.success?t(` Payout sent! $${o.amount.toFixed(2)} transferred`):t(` Error: ${o?.error||o?.message}`)}catch(o){t(` Request failed: ${o.message}`)}r(!1)};return s.jsxs("div",{className:"space-y-2",children:[s.jsx(F,{onClick:i,disabled:n,className:"w-full",children:n?"Sending...":" Request Payout"}),e&&s.jsx("p",{className:"text-sm text-center",children:e})]})}const Cb=({userId:e})=>{const{commissions:t,summary:n,loading:r,refreshCommissions:a}=Pm(e),i=l=>`$${(l/100).toFixed(2)}`,o=l=>({task_completion:"bg-blue-100 text-blue-800",affiliate_sale:"bg-green-100 text-green-800",referral_bonus:"bg-purple-100 text-purple-800",ad_revenue:"bg-orange-100 text-orange-800"})[l]||"bg-gray-100 text-gray-800";return r?s.jsx(R,{children:s.jsx(I,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Unpaid Earnings"}),s.jsx(jn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i(n.total_unpaid_cents)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.unpaid_count," transactions"]})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Total Paid Out"}),s.jsx(Me,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i(n.total_paid_cents)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.paid_count," transactions"]})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i(n.total_unpaid_cents+n.total_paid_cents)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Payout"}),s.jsx(ze,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(I,{children:s.jsx(zI,{})})]})]}),s.jsxs(R,{children:[s.jsx($,{className:"pb-3",children:s.jsx(B,{className:"text-lg",children:"Commission History"})}),s.jsx(I,{className:"pt-0",children:t.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground text-sm",children:"No commissions recorded yet"}):s.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.jsxs(Im,{children:[s.jsx(Om,{children:s.jsxs(go,{children:[s.jsx(pn,{className:"h-8 text-xs",children:"Amount"}),s.jsx(pn,{className:"h-8 text-xs",children:"Description"}),s.jsx(pn,{className:"h-8 text-xs",children:"Source"}),s.jsx(pn,{className:"h-8 text-xs",children:"Status"}),s.jsx(pn,{className:"h-8 text-xs",children:"Date"})]})}),s.jsx(Dm,{children:t.map(l=>s.jsxs(go,{className:"h-10",children:[s.jsx(gn,{className:"font-medium text-sm py-1",children:i(l.amount_earned_cents)}),s.jsx(gn,{className:"text-sm py-1 max-w-32 truncate",children:l.description||"No description"}),s.jsx(gn,{className:"py-1",children:s.jsx(fe,{className:`${o(l.source)} text-xs px-1 py-0`,children:l.source.replace("_"," ")})}),s.jsx(gn,{className:"py-1",children:l.paid_out?s.jsx(fe,{className:"bg-green-100 text-green-800 text-xs px-1 py-0",children:"Paid"}):s.jsx(fe,{className:"bg-yellow-100 text-yellow-800 text-xs px-1 py-0",children:"Pending"})}),s.jsx(gn,{className:"text-xs py-1",children:UI(new Date(l.created_at),{addSuffix:!0})})]},l.id))})]})})})]})]})},VI=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(!1),{toast:c}=be(),u=async()=>{const d=parseFloat(e);if(!d||d<.5){c({title:"Invalid Amount",description:"Minimum payment amount is $0.50",variant:"destructive"});return}if(!a){c({title:"Email Required",description:"Please provide your email address",variant:"destructive"});return}l(!0);try{const{data:h,error:f}=await te.functions.invoke("create-checkout-session",{body:{amount:Math.round(d*100),description:n||`Payment to Lovable.dev - $${d}`,successUrl:`${window.location.origin}/payment-success`,cancelUrl:`${window.location.origin}/`,customerEmail:a,mode:"payment"}});if(f)throw f;if(h?.success&&h?.data?.url)window.open(h.data.url,"_blank"),c({title:"Payment Link Created",description:"Stripe checkout opened in a new tab"});else throw new Error(h?.error||"Failed to create payment session")}catch(h){console.error("Payment error:",h),c({title:"Payment Failed",description:h instanceof Error?h.message:"Failed to create payment session",variant:"destructive"})}finally{l(!1)}};return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Make a Payment"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"amount",children:"Payment Amount ($)"}),s.jsx(ae,{id:"amount",type:"number",placeholder:"0.00",value:e,onChange:d=>t(d.target.value),min:"0.50",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"customerEmail",children:"Your Email"}),s.jsx(ae,{id:"customerEmail",type:"email",placeholder:"your@email.com",value:a,onChange:d=>i(d.target.value)})]})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(ae,{id:"description",placeholder:"What is this payment for?",value:n,onChange:d=>r(d.target.value)})]}),s.jsx(F,{onClick:u,disabled:o||!e||!a,className:"w-full",children:o?s.jsx(s.Fragment,{children:"Processing..."}):s.jsxs(s.Fragment,{children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Pay with Stripe"]})}),s.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"Secure Payment:"})," This payment will be processed securely through Stripe and deposited directly into the Lovable.dev Stripe account."]})})]})]})},WI=()=>{const[e,t]=m.useState(!1),{user:n}=tr(),{addCommission:r}=Pm(n?.id),{toast:a}=be(),i=[{amount:250,description:"Task completion bonus",source:"task_completion"},{amount:500,description:"Affiliate sale commission",source:"affiliate_sale"},{amount:150,description:"Referral bonus",source:"referral_bonus"},{amount:300,description:"Ad revenue share",source:"ad_revenue"}],o=async()=>{if(n){t(!0);try{for(const l of i)await r(l.amount,l.description,l.source);a({title:"Test Commissions Added",description:`Added ${i.length} test commissions totaling $${i.reduce((l,c)=>l+c.amount,0)/100}`})}catch(l){console.error("Error adding test commissions:",l),a({title:"Error",description:"Failed to add test commissions",variant:"destructive"})}finally{t(!1)}}};return n?s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5"}),"Test Commission System"]})}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add test commissions to see how the payout system works. This will add sample earnings to your account."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Test commissions to add:"}),s.jsx("ul",{className:"text-xs space-y-1",children:i.map((l,c)=>s.jsxs("li",{className:"flex justify-between",children:[s.jsx("span",{children:l.description}),s.jsxs("span",{className:"font-medium",children:["$",(l.amount/100).toFixed(2)]})]},c))})]}),s.jsx(F,{onClick:o,disabled:e,className:"w-full",children:e?s.jsx(s.Fragment,{children:"Adding..."}):s.jsxs(s.Fragment,{children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Add Test Commissions ($11.00 total)"]})})]})})]}):null};var HI=Object.defineProperty,xc=Object.getOwnPropertySymbols,kb=Object.prototype.hasOwnProperty,Eb=Object.prototype.propertyIsEnumerable,px=(e,t,n)=>t in e?HI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gh=(e,t)=>{for(var n in t||(t={}))kb.call(t,n)&&px(e,n,t[n]);if(xc)for(var n of xc(t))Eb.call(t,n)&&px(e,n,t[n]);return e},Kh=(e,t)=>{var n={};for(var r in e)kb.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&xc)for(var r of xc(e))t.indexOf(r)<0&&Eb.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var $s;(e=>{const t=class ve{constructor(c,u,d,h){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<ve.MIN_VERSION||c>ve.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let f=[];for(let x=0;x<this.size;x++)f.push(!1);for(let x=0;x<this.size;x++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(d);if(this.drawCodewords(p),h==-1){let x=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const v=this.getPenaltyScore();v<x&&(h=g,x=v),this.applyMask(g)}}a(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(c,u){const d=e.QrSegment.makeSegments(c);return ve.encodeSegments(d,u)}static encodeBinary(c,u){const d=e.QrSegment.makeBytes(c);return ve.encodeSegments([d],u)}static encodeSegments(c,u,d=1,h=40,f=-1,p=!0){if(!(ve.MIN_VERSION<=d&&d<=h&&h<=ve.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let x,g;for(x=d;;x++){const b=ve.getNumDataCodewords(x,u)*8,j=o.getTotalBits(c,x);if(j<=b){g=j;break}if(x>=h)throw new RangeError("Data too long")}for(const b of[ve.Ecc.MEDIUM,ve.Ecc.QUARTILE,ve.Ecc.HIGH])p&&g<=ve.getNumDataCodewords(x,b)*8&&(u=b);let v=[];for(const b of c){n(b.mode.modeBits,4,v),n(b.numChars,b.mode.numCharCountBits(x),v);for(const j of b.getData())v.push(j)}a(v.length==g);const y=ve.getNumDataCodewords(x,u)*8;a(v.length<=y),n(0,Math.min(4,y-v.length),v),n(0,(8-v.length%8)%8,v),a(v.length%8==0);for(let b=236;v.length<y;b^=253)n(b,8,v);let w=[];for(;w.length*8<v.length;)w.push(0);return v.forEach((b,j)=>w[j>>>3]|=b<<7-(j&7)),new ve(x,u,w,f)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(c[d],c[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;a(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(h,f));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const h=r(u,d),f=this.size-11+d%3,p=Math.floor(d/3);this.setFunctionModule(f,p,h),this.setFunctionModule(p,f,h)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(d)),p=c+h,x=u+d;0<=p&&p<this.size&&0<=x&&x<this.size&&this.setFunctionModule(p,x,f!=2&&f!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(c+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=ve.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=ve.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=ve.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],p=Math.floor(ve.getNumRawDataModules(u)/8),x=h-p%h,g=Math.floor(p/h);let v=[];const y=ve.reedSolomonComputeDivisor(f);for(let b=0,j=0;b<h;b++){let N=c.slice(j,j+g-f+(b<x?0:1));j+=N.length;const S=ve.reedSolomonComputeRemainder(N,y);b<x&&N.push(0),v.push(N.concat(S))}let w=[];for(let b=0;b<v[0].length;b++)v.forEach((j,N)=>{(b!=g-f||N>=x)&&w.push(j[b])});return a(w.length==p),w}drawCodewords(c){if(c.length!=Math.floor(ve.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const p=d-f,g=(d+1&2)==0?this.size-1-h:h;!this.isFunction[g][p]&&u<c.length*8&&(this.modules[g][p]=r(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(c){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let f=0;f<this.size;f++){let p=!1,x=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[f][v]==p?(x++,x==5?c+=ve.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,g),p||(c+=this.finderPenaltyCountPatterns(g)*ve.PENALTY_N3),p=this.modules[f][v],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,g)*ve.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,x=0,g=[0,0,0,0,0,0,0];for(let v=0;v<this.size;v++)this.modules[v][f]==p?(x++,x==5?c+=ve.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,g),p||(c+=this.finderPenaltyCountPatterns(g)*ve.PENALTY_N3),p=this.modules[v][f],x=1);c+=this.finderPenaltyTerminateAndCount(p,x,g)*ve.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const x=this.modules[f][p];x==this.modules[f][p+1]&&x==this.modules[f+1][p]&&x==this.modules[f+1][p+1]&&(c+=ve.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((p,x)=>p+(x?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=h&&h<=9),c+=h*ve.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let h=this.size-7;d.length<c;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(c){if(c<ve.MIN_VERSION||c>ve.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(ve.getNumRawDataModules(c)/8)-ve.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*ve.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<c-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<c;h++){for(let f=0;f<u.length;f++)u[f]=ve.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=ve.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(h=>0);for(const h of c){const f=h^d.shift();d.push(0),u.forEach((p,x)=>d[x]^=ve.reedSolomonMultiply(p,f))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function r(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class Je{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)n(d,8,u);return new Je(Je.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Je.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const h=Math.min(c.length-d,3);n(parseInt(c.substring(d,d+h),10),h*3+1,u),d+=h}return new Je(Je.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Je.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let h=Je.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;h+=Je.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),n(h,11,u)}return d<c.length&&n(Je.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Je(Je.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Je.isNumeric(c)?[Je.makeNumeric(c)]:Je.isAlphanumeric(c)?[Je.makeAlphanumeric(c)]:[Je.makeBytes(Je.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,u);else if(c<16384)n(2,2,u),n(c,14,u);else if(c<1e6)n(6,3,u),n(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Je(Je.Mode.ECI,0,u)}static isNumeric(c){return Je.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Je.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const h of c){const f=h.mode.numCharCountBits(u);if(h.numChars>=1<<f)return 1/0;d+=4+f+h.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})($s||($s={}));(e=>{(t=>{const n=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})($s||($s={}));(e=>{(t=>{const n=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})($s||($s={}));var wa=$s;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var qI={L:wa.QrCode.Ecc.LOW,M:wa.QrCode.Ecc.MEDIUM,Q:wa.QrCode.Ecc.QUARTILE,H:wa.QrCode.Ecc.HIGH},_b=128,Pb="L",Ab="#FFFFFF",Tb="#000000",Rb=!1,Ib=1,GI=4,KI=0,YI=.1;function Ob(e,t=0){const n=[];return e.forEach(function(r,a){let i=null;r.forEach(function(o,l){if(!o&&i!==null){n.push(`M${i+t} ${a+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===r.length-1){if(!o)return;i===null?n.push(`M${l+t},${a+t} h1v1H${l+t}z`):n.push(`M${i+t},${a+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),n.join("")}function Db(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function QI(e,t,n,r){if(r==null)return null;const a=e.length+n*2,i=Math.floor(t*YI),o=a/t,l=(r.width||i)*o,c=(r.height||i)*o,u=r.x==null?e.length/2-l/2:r.x*o,d=r.y==null?e.length/2-c/2:r.y*o,h=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let x=Math.floor(u),g=Math.floor(d),v=Math.ceil(l+u-x),y=Math.ceil(c+d-g);f={x,y:g,w:v,h:y}}const p=r.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:f,opacity:h,crossOrigin:p}}function JI(e,t){return t!=null?Math.max(Math.floor(t),0):e?GI:KI}function Mb({value:e,level:t,minVersion:n,includeMargin:r,marginSize:a,imageSettings:i,size:o,boostLevel:l}){let c=_.useMemo(()=>{const x=(Array.isArray(e)?e:[e]).reduce((g,v)=>(g.push(...wa.QrSegment.makeSegments(v)),g),[]);return wa.QrCode.encodeSegments(x,qI[t],n,void 0,void 0,l)},[e,t,n,l]);const{cells:u,margin:d,numCells:h,calculatedImageSettings:f}=_.useMemo(()=>{let p=c.getModules();const x=JI(r,a),g=p.length+x*2,v=QI(p,o,x,i);return{cells:p,margin:x,numCells:g,calculatedImageSettings:v}},[c,o,i,r,a]);return{qrcode:c,margin:d,cells:u,numCells:h,calculatedImageSettings:f}}var XI=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),ZI=_.forwardRef(function(t,n){const r=t,{value:a,size:i=_b,level:o=Pb,bgColor:l=Ab,fgColor:c=Tb,includeMargin:u=Rb,minVersion:d=Ib,boostLevel:h,marginSize:f,imageSettings:p}=r,g=Kh(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:v}=g,y=Kh(g,["style"]),w=p?.src,b=_.useRef(null),j=_.useRef(null),N=_.useCallback(D=>{b.current=D,typeof n=="function"?n(D):n&&(n.current=D)},[n]),[S,k]=_.useState(!1),{margin:E,cells:U,numCells:M,calculatedImageSettings:K}=Mb({value:a,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:f,imageSettings:p,size:i});_.useEffect(()=>{if(b.current!=null){const D=b.current,z=D.getContext("2d");if(!z)return;let H=U;const J=j.current,P=K!=null&&J!==null&&J.complete&&J.naturalHeight!==0&&J.naturalWidth!==0;P&&K.excavation!=null&&(H=Db(U,K.excavation));const L=window.devicePixelRatio||1;D.height=D.width=i*L;const X=i/M*L;z.scale(X,X),z.fillStyle=l,z.fillRect(0,0,M,M),z.fillStyle=c,XI?z.fill(new Path2D(Ob(H,E))):U.forEach(function(q,ne){q.forEach(function(ue,je){ue&&z.fillRect(je+E,ne+E,1,1)})}),K&&(z.globalAlpha=K.opacity),P&&z.drawImage(J,K.x+E,K.y+E,K.w,K.h)}}),_.useEffect(()=>{k(!1)},[w]);const T=Gh({height:i,width:i},v);let G=null;return w!=null&&(G=_.createElement("img",{src:w,key:w,style:{display:"none"},onLoad:()=>{k(!0)},ref:j,crossOrigin:K?.crossOrigin})),_.createElement(_.Fragment,null,_.createElement("canvas",Gh({style:T,height:i,width:i,ref:N,role:"img"},y)),G)});ZI.displayName="QRCodeCanvas";var Mm=_.forwardRef(function(t,n){const r=t,{value:a,size:i=_b,level:o=Pb,bgColor:l=Ab,fgColor:c=Tb,includeMargin:u=Rb,minVersion:d=Ib,boostLevel:h,title:f,marginSize:p,imageSettings:x}=r,g=Kh(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:v,cells:y,numCells:w,calculatedImageSettings:b}=Mb({value:a,level:o,minVersion:d,boostLevel:h,includeMargin:u,marginSize:p,imageSettings:x,size:i});let j=y,N=null;x!=null&&b!=null&&(b.excavation!=null&&(j=Db(y,b.excavation)),N=_.createElement("image",{href:x.src,height:b.h,width:b.w,x:b.x+v,y:b.y+v,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const S=Ob(j,v);return _.createElement("svg",Gh({height:i,width:i,viewBox:`0 0 ${w} ${w}`,ref:n,role:"img"},g),!!f&&_.createElement("title",null,f),_.createElement("path",{fill:l,d:`M0,0 h${w}v${w}H0z`,shapeRendering:"crispEdges"}),_.createElement("path",{fill:c,d:S,shapeRendering:"crispEdges"}),N)});Mm.displayName="QRCodeSVG";function gx(e,[t,n]){return Math.min(n,Math.max(t,e))}var eO=m.createContext(void 0);function fu(e){const t=m.useContext(eO);return e||t||"ltr"}var fd=0;function Fb(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??xx()),document.body.insertAdjacentElement("beforeend",e[1]??xx()),fd++,()=>{fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fd--}},[])}function xx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var md="focusScope.autoFocusOnMount",pd="focusScope.autoFocusOnUnmount",vx={bubbles:!1,cancelable:!0},tO="FocusScope",Fm=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),u=Qt(a),d=Qt(i),h=m.useRef(null),f=ke(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(b){if(p.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:Tr(h.current,{select:!0})},v=function(b){if(p.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||Tr(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Tr(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(y);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){wx.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(md,vx);l.addEventListener(md,u),l.dispatchEvent(y),y.defaultPrevented||(nO(oO(Lb(l)),{select:!0}),document.activeElement===g&&Tr(l))}return()=>{l.removeEventListener(md,u),setTimeout(()=>{const y=new CustomEvent(pd,vx);l.addEventListener(pd,d),l.dispatchEvent(y),y.defaultPrevented||Tr(g??document.body,{select:!0}),l.removeEventListener(pd,d),wx.remove(p)},0)}}},[l,u,d,p]);const x=m.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const w=g.currentTarget,[b,j]=rO(w);b&&j?!g.shiftKey&&y===j?(g.preventDefault(),n&&Tr(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&Tr(j,{select:!0})):y===w&&g.preventDefault()}},[n,r,p.paused]);return s.jsx(de.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});Fm.displayName=tO;function nO(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Tr(r,{select:t}),document.activeElement!==n)return}function rO(e){const t=Lb(e),n=yx(t,e),r=yx(t.reverse(),e);return[n,r]}function Lb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yx(e,t){for(const n of e)if(!sO(n,{upTo:t}))return n}function sO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aO(e){return e instanceof HTMLInputElement&&"select"in e}function Tr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aO(e)&&t&&e.select()}}var wx=iO();function iO(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=bx(e,t),e.unshift(t)},remove(t){e=bx(e,t),e[0]?.resume()}}}function bx(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function oO(e){return e.filter(t=>t.tagName!=="A")}var lO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},na=new WeakMap,hl=new WeakMap,fl={},gd=0,$b=function(e){return e&&(e.host||$b(e.parentNode))},cO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$b(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},uO=function(e,t,n,r){var a=cO(t,Array.isArray(e)?e:[e]);fl[n]||(fl[n]=new WeakMap);var i=fl[n],o=[],l=new Set,c=new Set(a),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",g=(na.get(f)||0)+1,v=(i.get(f)||0)+1;na.set(f,g),i.set(f,v),o.push(f),g===1&&x&&hl.set(f,!0),v===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),gd++,function(){o.forEach(function(h){var f=na.get(h)-1,p=i.get(h)-1;na.set(h,f),i.set(h,p),f||(hl.has(h)||h.removeAttribute(r),hl.delete(h)),p||h.removeAttribute(n)}),gd--,gd||(na=new WeakMap,na=new WeakMap,hl=new WeakMap,fl={})}},Bb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=lO(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),uO(r,a,n,"aria-hidden")):function(){return null}},Hn=function(){return Hn=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hn.apply(this,arguments)};function Ub(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function dO(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Ol="right-scroll-bar-position",Dl="width-before-scroll-bar",hO="with-scroll-bars-hidden",fO="--removed-body-scroll-bar-size";function xd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mO(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var pO=typeof window<"u"?m.useLayoutEffect:m.useEffect,jx=new WeakMap;function gO(e,t){var n=mO(null,function(r){return e.forEach(function(a){return xd(a,r)})});return pO(function(){var r=jx.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||xd(l,null)}),i.forEach(function(l){a.has(l)||xd(l,o)})}jx.set(n,e)},[e]),n}function xO(e){return e}function vO(e,t){t===void 0&&(t=xO);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function yO(e){e===void 0&&(e={});var t=vO(null);return t.options=Hn({async:!0,ssr:!1},e),t}var zb=function(e){var t=e.sideCar,n=Ub(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Hn({},n))};zb.isSideCarExport=!0;function wO(e,t){return e.useMedium(t),zb}var Vb=yO(),vd=function(){},mu=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:vd,onWheelCapture:vd,onTouchMoveCapture:vd}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,x=e.inert,g=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,b=Ub(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,N=gO([n,t]),S=Hn(Hn({},b),a);return m.createElement(m.Fragment,null,d&&m.createElement(j,{sideCar:Vb,removeScrollBar:u,shards:h,noIsolation:p,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(l),Hn(Hn({},S),{ref:N})):m.createElement(y,Hn({},S,{className:c,ref:N}),l))});mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mu.classNames={fullWidth:Dl,zeroRight:Ol};var bO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bO();return t&&e.setAttribute("nonce",t),e}function NO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function SO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CO=function(){var e=0,t=null;return{add:function(n){e==0&&(t=jO())&&(NO(t,n),SO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kO=function(){var e=CO();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Wb=function(){var e=kO(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},EO={left:0,top:0,right:0,gap:0},yd=function(e){return parseInt(e||"",10)||0},_O=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[yd(n),yd(r),yd(a)]},PO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return EO;var t=_O(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},AO=Wb(),Aa="data-scroll-locked",TO=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ol,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Dl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Dl," .").concat(Dl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(fO,": ").concat(l,`px;
  }
`)},Nx=function(){var e=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(e)?e:0},RO=function(){m.useEffect(function(){return document.body.setAttribute(Aa,(Nx()+1).toString()),function(){var e=Nx()-1;e<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,e.toString())}},[])},IO=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;RO();var i=m.useMemo(function(){return PO(a)},[a]);return m.createElement(AO,{styles:TO(i,!t,a,n?"":"!important")})},Yh=!1;if(typeof window<"u")try{var ml=Object.defineProperty({},"passive",{get:function(){return Yh=!0,!0}});window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Yh=!1}var ra=Yh?{passive:!1}:!1,OO=function(e){return e.tagName==="TEXTAREA"},Hb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OO(e)&&n[t]==="visible")},DO=function(e){return Hb(e,"overflowY")},MO=function(e){return Hb(e,"overflowX")},Sx=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=qb(e,r);if(a){var i=Gb(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},LO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},qb=function(e,t){return e==="v"?DO(t):MO(t)},Gb=function(e,t){return e==="v"?FO(t):LO(t)},$O=function(e,t){return e==="h"&&t==="rtl"?-1:1},BO=function(e,t,n,r,a){var i=$O(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{var p=Gb(e,l),x=p[0],g=p[1],v=p[2],y=g-v-i*x;(x||y)&&qb(e,l)&&(h+=y,f+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},pl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cx=function(e){return[e.deltaX,e.deltaY]},kx=function(e){return e&&"current"in e?e.current:e},UO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VO=0,sa=[];function WO(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),a=m.useState(VO++)[0],i=m.useState(Wb)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=dO([e.lockRef.current],(e.shards||[]).map(kx),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=pl(g),w=n.current,b="deltaX"in g?g.deltaX:w[0]-y[0],j="deltaY"in g?g.deltaY:w[1]-y[1],N,S=g.target,k=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var E=Sx(k,S);if(!E)return!0;if(E?N=k:(N=k==="v"?"h":"v",E=Sx(k,S)),!E)return!1;if(!r.current&&"changedTouches"in g&&(b||j)&&(r.current=N),!N)return!0;var U=r.current||N;return BO(U,v,g,U==="h"?b:j,!0)},[]),c=m.useCallback(function(g){var v=g;if(!(!sa.length||sa[sa.length-1]!==i)){var y="deltaY"in v?Cx(v):pl(v),w=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&UO(N.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(kx).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=b.length>0?l(v,b[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),u=m.useCallback(function(g,v,y,w){var b={name:g,delta:v,target:y,should:w,shadowParent:HO(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),d=m.useCallback(function(g){n.current=pl(g),r.current=void 0},[]),h=m.useCallback(function(g){u(g.type,Cx(g),g.target,l(g,e.lockRef.current))},[]),f=m.useCallback(function(g){u(g.type,pl(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return sa.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ra),document.addEventListener("touchmove",c,ra),document.addEventListener("touchstart",d,ra),function(){sa=sa.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,ra),document.removeEventListener("touchmove",c,ra),document.removeEventListener("touchstart",d,ra)}},[]);var p=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:zO(a)}):null,p?m.createElement(IO,{gapMode:e.gapMode}):null)}function HO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qO=wO(Vb,WO);var Lm=m.forwardRef(function(e,t){return m.createElement(mu,Hn({},e,{ref:t,sideCar:qO}))});Lm.classNames=mu.classNames;var GO=[" ","Enter","ArrowUp","ArrowDown"],KO=[" ","Enter"],Ro="Select",[pu,gu,YO]=nm(Ro),[ti,q3]=Zn(Ro,[YO,Xc]),xu=Xc(),[QO,ps]=ti(Ro),[JO,XO]=ti(Ro),Kb=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:x}=e,g=xu(t),[v,y]=m.useState(null),[w,b]=m.useState(null),[j,N]=m.useState(!1),S=fu(u),[k=!1,E]=yr({prop:r,defaultProp:a,onChange:i}),[U,M]=yr({prop:o,defaultProp:l,onChange:c}),K=m.useRef(null),T=v?x||!!v.closest("form"):!0,[G,D]=m.useState(new Set),z=Array.from(G).map(H=>H.props.value).join(";");return s.jsx(hP,{...g,children:s.jsxs(QO,{required:p,scope:t,trigger:v,onTriggerChange:y,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Xr(),value:U,onValueChange:M,open:k,onOpenChange:E,dir:S,triggerPointerDownPosRef:K,disabled:f,children:[s.jsx(pu.Provider,{scope:t,children:s.jsx(JO,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(H=>{D(J=>new Set(J).add(H))},[]),onNativeOptionRemove:m.useCallback(H=>{D(J=>{const P=new Set(J);return P.delete(H),P})},[]),children:n})}),T?s.jsxs(yj,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:U,onChange:H=>M(H.target.value),disabled:f,form:x,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(G)]},z):null]})})};Kb.displayName=Ro;var Yb="SelectTrigger",Qb=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=xu(n),o=ps(Yb,n),l=o.disabled||r,c=ke(t,o.onTriggerChange),u=gu(n),d=m.useRef("touch"),[h,f,p]=wj(g=>{const v=u().filter(b=>!b.disabled),y=v.find(b=>b.value===o.value),w=bj(v,g,y);w!==void 0&&o.onValueChange(w.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(fw,{asChild:!0,...i,children:s.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vj(o.value)?"":void 0,...a,ref:c,onClick:oe(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:oe(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:oe(a.onKeyDown,g=>{const v=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&GO.includes(g.key)&&(x(),g.preventDefault())})})})});Qb.displayName=Yb;var Jb="SelectValue",Xb=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=ps(Jb,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=ke(t,c.onValueNodeChange);return Rt(()=>{u(d)},[u,d]),s.jsx(de.span,{...l,ref:h,style:{pointerEvents:"none"},children:vj(c.value)?s.jsx(s.Fragment,{children:o}):i})});Xb.displayName=Jb;var ZO="SelectIcon",Zb=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(de.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});Zb.displayName=ZO;var eD="SelectPortal",ej=e=>s.jsx(zc,{asChild:!0,...e});ej.displayName=eD;var Bs="SelectContent",tj=m.forwardRef((e,t)=>{const n=ps(Bs,e.__scopeSelect),[r,a]=m.useState();if(Rt(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Ws.createPortal(s.jsx(nj,{scope:e.__scopeSelect,children:s.jsx(pu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(rj,{...e,ref:t})});tj.displayName=Bs;var kn=10,[nj,gs]=ti(Bs),tD="SelectContentImpl",rj=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:v,...y}=e,w=ps(Bs,n),[b,j]=m.useState(null),[N,S]=m.useState(null),k=ke(t,se=>j(se)),[E,U]=m.useState(null),[M,K]=m.useState(null),T=gu(n),[G,D]=m.useState(!1),z=m.useRef(!1);m.useEffect(()=>{if(b)return Bb(b)},[b]),Fb();const H=m.useCallback(se=>{const[Ce,...Ve]=T().map(Re=>Re.ref.current),[Ne]=Ve.slice(-1),Ee=document.activeElement;for(const Re of se)if(Re===Ee||(Re?.scrollIntoView({block:"nearest"}),Re===Ce&&N&&(N.scrollTop=0),Re===Ne&&N&&(N.scrollTop=N.scrollHeight),Re?.focus(),document.activeElement!==Ee))return},[T,N]),J=m.useCallback(()=>H([E,b]),[H,E,b]);m.useEffect(()=>{G&&J()},[G,J]);const{onOpenChange:P,triggerPointerDownPosRef:L}=w;m.useEffect(()=>{if(b){let se={x:0,y:0};const Ce=Ne=>{se={x:Math.abs(Math.round(Ne.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(Ne.pageY)-(L.current?.y??0))}},Ve=Ne=>{se.x<=10&&se.y<=10?Ne.preventDefault():b.contains(Ne.target)||P(!1),document.removeEventListener("pointermove",Ce),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[b,P,L]),m.useEffect(()=>{const se=()=>P(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[P]);const[X,q]=wj(se=>{const Ce=T().filter(Ee=>!Ee.disabled),Ve=Ce.find(Ee=>Ee.ref.current===document.activeElement),Ne=bj(Ce,se,Ve);Ne&&setTimeout(()=>Ne.ref.current.focus())}),ne=m.useCallback((se,Ce,Ve)=>{const Ne=!z.current&&!Ve;(w.value!==void 0&&w.value===Ce||Ne)&&(U(se),Ne&&(z.current=!0))},[w.value]),ue=m.useCallback(()=>b?.focus(),[b]),je=m.useCallback((se,Ce,Ve)=>{const Ne=!z.current&&!Ve;(w.value!==void 0&&w.value===Ce||Ne)&&K(se)},[w.value]),ot=r==="popper"?Qh:sj,xe=ot===Qh?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(nj,{scope:n,content:b,viewport:N,onViewportChange:S,itemRefCallback:ne,selectedItem:E,onItemLeave:ue,itemTextRefCallback:je,focusSelectedItem:J,selectedItemText:M,position:r,isPositioned:G,searchRef:X,children:s.jsx(Lm,{as:ss,allowPinchZoom:!0,children:s.jsx(Fm,{asChild:!0,trapped:w.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:oe(a,se=>{w.trigger?.focus({preventScroll:!0}),se.preventDefault()}),children:s.jsx(No,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(ot,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:se=>se.preventDefault(),...y,...xe,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:oe(y.onKeyDown,se=>{const Ce=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!Ce&&se.key.length===1&&q(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Ne=T().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ee=se.target,Re=Ne.indexOf(Ee);Ne=Ne.slice(Re+1)}setTimeout(()=>H(Ne)),se.preventDefault()}})})})})})})});rj.displayName=tD;var nD="SelectItemAlignedPosition",sj=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=ps(Bs,n),o=gs(Bs,n),[l,c]=m.useState(null),[u,d]=m.useState(null),h=ke(t,k=>d(k)),f=gu(n),p=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:w}=o,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&v&&y){const k=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),U=i.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(i.dir!=="rtl"){const Ee=M.left-E.left,Re=U.left-Ee,bt=k.left-Re,Jt=k.width+bt,vs=Math.max(Jt,E.width),Nn=window.innerWidth-kn,Ks=gx(Re,[kn,Math.max(kn,Nn-vs)]);l.style.minWidth=Jt+"px",l.style.left=Ks+"px"}else{const Ee=E.right-M.right,Re=window.innerWidth-U.right-Ee,bt=window.innerWidth-k.right-Re,Jt=k.width+bt,vs=Math.max(Jt,E.width),Nn=window.innerWidth-kn,Ks=gx(Re,[kn,Math.max(kn,Nn-vs)]);l.style.minWidth=Jt+"px",l.style.right=Ks+"px"}const K=f(),T=window.innerHeight-kn*2,G=g.scrollHeight,D=window.getComputedStyle(u),z=parseInt(D.borderTopWidth,10),H=parseInt(D.paddingTop,10),J=parseInt(D.borderBottomWidth,10),P=parseInt(D.paddingBottom,10),L=z+H+G+P+J,X=Math.min(v.offsetHeight*5,L),q=window.getComputedStyle(g),ne=parseInt(q.paddingTop,10),ue=parseInt(q.paddingBottom,10),je=k.top+k.height/2-kn,ot=T-je,xe=v.offsetHeight/2,se=v.offsetTop+xe,Ce=z+H+se,Ve=L-Ce;if(Ce<=je){const Ee=K.length>0&&v===K[K.length-1].ref.current;l.style.bottom="0px";const Re=u.clientHeight-g.offsetTop-g.offsetHeight,bt=Math.max(ot,xe+(Ee?ue:0)+Re+J),Jt=Ce+bt;l.style.height=Jt+"px"}else{const Ee=K.length>0&&v===K[0].ref.current;l.style.top="0px";const bt=Math.max(je,z+g.offsetTop+(Ee?ne:0)+xe)+Ve;l.style.height=bt+"px",g.scrollTop=Ce-je+g.offsetTop}l.style.margin=`${kn}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=T+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,u,g,v,y,i.dir,r]);Rt(()=>b(),[b]);const[j,N]=m.useState();Rt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=m.useCallback(k=>{k&&x.current===!0&&(b(),w?.(),x.current=!1)},[b,w]);return s.jsx(sD,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(de.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});sj.displayName=nD;var rD="SelectPopperPosition",Qh=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=kn,...i}=e,o=xu(n);return s.jsx(mw,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qh.displayName=rD;var[sD,$m]=ti(Bs,{}),Jh="SelectViewport",aj=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=gs(Jh,n),o=$m(Jh,n),l=ke(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(pu.Slot,{scope:n,children:s.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:oe(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f?.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-kn*2,g=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),y=Math.max(g,v);if(y<x){const w=y+p,b=Math.min(x,w),j=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});aj.displayName=Jh;var ij="SelectGroup",[aD,iD]=ti(ij),oD=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Xr();return s.jsx(aD,{scope:n,id:a,children:s.jsx(de.div,{role:"group","aria-labelledby":a,...r,ref:t})})});oD.displayName=ij;var oj="SelectLabel",lj=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=iD(oj,n);return s.jsx(de.div,{id:a.id,...r,ref:t})});lj.displayName=oj;var vc="SelectItem",[lD,cj]=ti(vc),uj=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=ps(vc,n),c=gs(vc,n),u=l.value===r,[d,h]=m.useState(i??""),[f,p]=m.useState(!1),x=ke(t,w=>c.itemRefCallback?.(w,r,a)),g=Xr(),v=m.useRef("touch"),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(lD,{scope:n,value:r,disabled:a,textId:g,isSelected:u,onItemTextChange:m.useCallback(w=>{h(b=>b||(w?.textContent??"").trim())},[]),children:s.jsx(pu.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(de.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:oe(o.onFocus,()=>p(!0)),onBlur:oe(o.onBlur,()=>p(!1)),onClick:oe(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:oe(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:oe(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:oe(o.onPointerMove,w=>{v.current=w.pointerType,a?c.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:oe(o.onKeyDown,w=>{c.searchRef?.current!==""&&w.key===" "||(KO.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});uj.displayName=vc;var Ei="SelectItemText",dj=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=ps(Ei,n),l=gs(Ei,n),c=cj(Ei,n),u=XO(Ei,n),[d,h]=m.useState(null),f=ke(t,y=>h(y),c.onItemTextChange,y=>l.itemTextRefCallback?.(y,c.value,c.disabled)),p=d?.textContent,x=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return Rt(()=>(g(x),()=>v(x)),[g,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(de.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ws.createPortal(i.children,o.valueNode):null]})});dj.displayName=Ei;var hj="SelectItemIndicator",fj=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return cj(hj,n).isSelected?s.jsx(de.span,{"aria-hidden":!0,...r,ref:t}):null});fj.displayName=hj;var Xh="SelectScrollUpButton",mj=m.forwardRef((e,t)=>{const n=gs(Xh,e.__scopeSelect),r=$m(Xh,e.__scopeSelect),[a,i]=m.useState(!1),o=ke(t,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(gj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});mj.displayName=Xh;var Zh="SelectScrollDownButton",pj=m.forwardRef((e,t)=>{const n=gs(Zh,e.__scopeSelect),r=$m(Zh,e.__scopeSelect),[a,i]=m.useState(!1),o=ke(t,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(gj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});pj.displayName=Zh;var gj=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=gs("SelectScrollButton",n),o=m.useRef(null),l=gu(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Rt(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(de.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:oe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(a.onPointerLeave,()=>{c()})})}),cD="SelectSeparator",xj=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(de.div,{"aria-hidden":!0,...r,ref:t})});xj.displayName=cD;var ef="SelectArrow",uD=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=xu(n),i=ps(ef,n),o=gs(ef,n);return i.open&&o.position==="popper"?s.jsx(pw,{...a,...r,ref:t}):null});uD.displayName=ef;function vj(e){return e===""||e===void 0}var yj=m.forwardRef((e,t)=>{const{value:n,...r}=e,a=m.useRef(null),i=ke(t,a),o=du(n);return m.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(So,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});yj.displayName="BubbleSelect";function wj(e){const t=Qt(e),n=m.useRef(""),r=m.useRef(0),a=m.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function bj(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=dD(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function dD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var hD=Kb,jj=Qb,fD=Xb,mD=Zb,pD=ej,Nj=tj,gD=aj,Sj=lj,Cj=uj,xD=dj,vD=fj,kj=mj,Ej=pj,_j=xj;const fr=hD,mr=fD,Yn=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(jj,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(mD,{asChild:!0,children:s.jsx(O0,{className:"h-4 w-4 opacity-50"})})]}));Yn.displayName=jj.displayName;const Pj=m.forwardRef(({className:e,...t},n)=>s.jsx(kj,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(kE,{className:"h-4 w-4"})}));Pj.displayName=kj.displayName;const Aj=m.forwardRef(({className:e,...t},n)=>s.jsx(Ej,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(O0,{className:"h-4 w-4"})}));Aj.displayName=Ej.displayName;const Qn=m.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(pD,{children:s.jsxs(Nj,{ref:a,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(Pj,{}),s.jsx(gD,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Aj,{})]})}));Qn.displayName=Nj.displayName;const yD=m.forwardRef(({className:e,...t},n)=>s.jsx(Sj,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yD.displayName=Sj.displayName;const qe=m.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Cj,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(vD,{children:s.jsx(I0,{className:"h-4 w-4"})})}),s.jsx(xD,{children:t})]}));qe.displayName=Cj.displayName;const wD=m.forwardRef(({className:e,...t},n)=>s.jsx(_j,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));wD.displayName=_j.displayName;const bD=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[a,i]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,h]=m.useState(!1),[f,p]=m.useState(""),{toast:x}=be(),g=[{name:"Coinbase",address:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{name:"Binance",address:"1NDyJtNTjmwk5xPNhjgAMu4HDHigtobu1s"},{name:"Kraken",address:"1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2"},{name:"Custom Exchange",value:"custom"}],v=async()=>{i(!0);try{const{data:N,error:S}=await te.functions.invoke("generate-wallet");if(S)throw S;console.log("Generated wallet:",N),t(N),r(null),x({title:"Bitcoin Wallet Generated!",description:"Your new Bitcoin wallet has been created."})}catch(N){console.error("Error generating wallet:",N),x({title:"Error",description:`Failed to generate wallet: ${N.message}`,variant:"destructive"})}finally{i(!1)}},y=async()=>{if(e){i(!0);try{const{data:N,error:S}=await te.functions.invoke("get-balance",{body:{address:e.address}});if(S)throw S;console.log("Balance data:",N),r(N),x({title:"Balance Updated",description:`Balance: ${N.balanceBTC} BTC (${N.balanceSats} sats)`})}catch(N){console.error("Error getting balance:",N),x({title:"Error",description:`Failed to get balance: ${N.message}`,variant:"destructive"})}finally{i(!1)}}},w=async()=>{if(!e||!o||!c){x({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}h(!0);try{const{data:N,error:S}=await te.functions.invoke("send-btc",{body:{privateKeyWIF:e.privateKey,recipientAddress:o,amountSats:parseInt(c)}});if(S)throw S;console.log("Transaction result:",N),x({title:"Bitcoin Sent!",description:`TXID: ${N.txid}`}),l(""),u(""),p(""),await y()}catch(N){console.error("Error sending BTC:",N),x({title:"Transaction Failed",description:`${N.message}`,variant:"destructive"})}finally{h(!1)}},b=N=>{if(p(N),N!=="custom"){const S=g.find(k=>k.address===N);S&&l(S.address)}else l("")},j=N=>{navigator.clipboard.writeText(N),x({title:"Copied!",description:"Address copied to clipboard"})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-5 w-5 text-orange-500"}),"Bitcoin Mainnet Wallet"]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate a Bitcoin wallet to receive cryptocurrency payouts and manage your Bitcoin earnings directly from your dashboard."}),e?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Bitcoin Address"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{value:e.address,readOnly:!0,className:"font-mono text-xs"}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>j(e.address),children:s.jsx(D0,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Mm,{value:e.address,size:100})})]})}):s.jsxs(F,{onClick:v,disabled:a,className:"w-full",children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),a?"Generating...":"Generate Bitcoin Wallet"]})]})]}),e&&s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bitcoin Balance"}),s.jsx(F,{variant:"outline",size:"sm",onClick:y,disabled:a,children:s.jsx(Jr,{className:`h-4 w-4 ${a?"animate-spin":""}`})})]})}),s.jsx(I,{children:n?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[n.balanceBTC," BTC"]}),s.jsxs("p",{className:"text-muted-foreground",children:[n.balanceSats," satoshis"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transactions: ",n.transactions]})]}):s.jsx("p",{className:"text-muted-foreground",children:"Click refresh to get balance"})})]}),e&&n&&n.balanceSats>0&&s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Ga,{className:"h-5 w-5"}),"Quick Withdrawal to Exchange"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Exchange"}),s.jsxs(fr,{value:f,onValueChange:b,children:[s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Choose exchange"})}),s.jsx(Qn,{children:g.map(N=>s.jsx(qe,{value:N.address||N.value,children:N.name},N.address||N.value))})]})]}),f==="custom"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Custom Address"}),s.jsx(ae,{value:o,onChange:N=>l(N.target.value),placeholder:"Enter Bitcoin address",className:"font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Amount (satoshis)"}),s.jsx(ae,{type:"number",value:c,onChange:N=>u(N.target.value),placeholder:`Max: ${n.balanceSats-1e3} sats`,min:"1",max:n.balanceSats-1e3})]}),s.jsxs(F,{onClick:w,disabled:d||!o||!c,className:"w-full",children:[s.jsx(F0,{className:"h-4 w-4 mr-2"}),d?"Sending...":"Send Bitcoin"]})]})]})]})},jD=({userId:e})=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(WI,{}),s.jsx(Cb,{userId:e}),s.jsx(bD,{}),s.jsx(q4,{}),s.jsx(VI,{})]}),ND=({tasksCompleted:e,maxTasks:t,hasWithdrawn:n,onTaskComplete:r,onResetAccount:a,userEmail:i="",userId:o=""})=>{const[l,c]=m.useState(0),[u,d]=m.useState(!1),{toast:h}=be(),f=Nm.filter(b=>b.billingPeriod==="one-time").map(b=>({name:b.name,product:b.product,price:b.price,description:b.description,commissionRate:b.commissionRate,isRealAffiliate:!0,affiliateUrl:b.affiliateUrl,cjAffiliateId:b.cjAffiliateId})),p=[{name:"StreamMax Pro",product:"Premium Streaming Service",price:29.99,description:"Unlimited 4K streaming with exclusive content",commissionRate:.05,isRealAffiliate:!1},{name:"FitTracker Elite",product:"Advanced Fitness Tracker",price:199.99,description:"Monitor your health with precision sensors",commissionRate:.05,isRealAffiliate:!1},{name:"CloudSync Business",product:"Enterprise Cloud Storage",price:49.99,description:"Secure your data with 1TB cloud storage",commissionRate:.05,isRealAffiliate:!1}],x=()=>{if(Math.random()<.9&&f.length>0){const j=Math.floor(Math.random()*f.length);return f[j]}else{const j=Math.floor(Math.random()*p.length);return p[j]}},g=()=>{if(u||e>=t)return;const b=x(),N=[...f,...p].findIndex(k=>k.name===b.name&&k.isRealAffiliate===b.isRealAffiliate);c(N>=0?N:0),d(!0);const S=b.isRealAffiliate?Math.random()*15+10:Math.random()*8+5;setTimeout(()=>{r(S),d(!1),b.isRealAffiliate?h({title:" Ad Revenue Earned!",description:`You earned $${S.toFixed(2)} in ad revenue from ${b.name} optimization! (Your CJ Affiliate Partner)`}):h({title:"Ad Revenue Earned!",description:`You earned $${S.toFixed(2)} in ad revenue from ${b.name} optimization!`})},3e3),h({title:"Optimization Started!",description:`Running ${b.name} optimization task. Advertisers are paying for this exposure!`})},v=[...f,...p],y=v[l]||v[0],w=e<t&&!u&&!n;return s.jsxs(s.Fragment,{children:[u&&s.jsxs(R,{className:`border-2 animate-pulse ${y?.isRealAffiliate?"border-green-500 bg-green-50":"border-primary"}`,children:[s.jsx($,{children:s.jsxs(B,{className:"text-center text-xl flex items-center justify-center gap-2",children:[y?.name,y?.isRealAffiliate&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-500 text-white font-bold animate-pulse",children:" YOUR CJ PARTNER"}),y?.cjAffiliateId&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-500 text-white",children:"CJ ID: 7602933"})]})}),s.jsxs(I,{className:"text-center space-y-4",children:[s.jsxs("div",{className:`${y?.isRealAffiliate?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-blue-500 to-purple-500"} text-white p-6 rounded-lg`,children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:y?.product}),s.jsx("p",{className:"text-lg mb-4",children:y?.description}),s.jsxs("div",{className:"text-3xl font-bold",children:["$",y?.price]}),s.jsxs("div",{className:"text-sm mt-2 opacity-90",children:["Product Value: $",y?.price]}),s.jsxs("div",{className:"text-sm mt-2 opacity-75",children:["Ad Revenue Rate: $",y?.isRealAffiliate?"$10-25":"$5-13"," per optimization"]}),y?.isRealAffiliate&&s.jsx("div",{className:"text-sm mt-3 bg-white/20 rounded p-2 font-semibold",children:" Generating ad revenue from your CJ partnership..."})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y?.isRealAffiliate?"Optimizing your CJ affiliate partner site...":"Processing optimization task..."})]})]}),s.jsx(R,{children:s.jsx(I,{className:"p-8 text-center space-y-6",children:n?s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-lg text-green-600 font-semibold",children:" Daily earnings completed!"}),s.jsx(F,{onClick:a,size:"lg",variant:"outline",children:"Reset Account for Tomorrow"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-800",children:[s.jsx(ze,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Ad-Sponsored Optimization Tasks"})]}),s.jsx("p",{className:"text-sm text-green-700 mt-2",children:"Advertisers pay you $5-25 per optimization task. Run optimizations to earn ad revenue from your affiliate partnerships."})]}),s.jsx(F,{onClick:g,disabled:!w,size:"lg",className:"w-full md:w-auto px-12 py-6 text-xl bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700",children:u?"Processing...":e>=t?"Complete 20/20 - Reset to Continue":`Run Ad-Sponsored Optimization (${e}/${t})`}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e>=t?"You've completed all daily tasks. Reset to continue earning!":"Advertisers pay you to run optimization tasks that showcase your affiliate partners"}),s.jsx("p",{className:"text-xs text-green-600 font-medium",children:" 90% chance of YOUR CJ affiliate partners (ID: 7602933) - Higher ad revenue rates!"})]})]})})})]})};function SD(e,t=[]){let n=[];function r(i,o){const l=m.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:p,...x}=h,g=f?.[e][c]||l,v=m.useMemo(()=>x,Object.values(x));return s.jsx(g.Provider,{value:v,children:p})}function d(h,f){const p=f?.[e][c]||l,x=m.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=n.map(o=>m.createContext(o));return function(l){const c=l?.[e]||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,CD(a,...t)]}function CD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var wd="rovingFocusGroup.onEntryFocus",kD={bubbles:!1,cancelable:!0},vu="RovingFocusGroup",[tf,Tj,ED]=nm(vu),[_D,yu]=SD(vu,[ED]),[PD,AD]=_D(vu),Rj=m.forwardRef((e,t)=>s.jsx(tf.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(tf.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(TD,{...e,ref:t})})}));Rj.displayName=vu;var TD=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=m.useRef(null),p=ke(t,f),x=fu(i),[g=null,v]=yr({prop:o,defaultProp:l,onChange:c}),[y,w]=m.useState(!1),b=Qt(u),j=Tj(n),N=m.useRef(!1),[S,k]=m.useState(0);return m.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(wd,b),()=>E.removeEventListener(wd,b)},[b]),s.jsx(PD,{scope:n,orientation:r,dir:x,loop:a,currentTabStopId:g,onItemFocus:m.useCallback(E=>v(E),[v]),onItemShiftTab:m.useCallback(()=>w(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>k(E=>E-1),[]),children:s.jsx(de.div,{tabIndex:y||S===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{N.current=!0}),onFocus:oe(e.onFocus,E=>{const U=!N.current;if(E.target===E.currentTarget&&U&&!y){const M=new CustomEvent(wd,kD);if(E.currentTarget.dispatchEvent(M),!M.defaultPrevented){const K=j().filter(H=>H.focusable),T=K.find(H=>H.active),G=K.find(H=>H.id===g),z=[T,G,...K].filter(Boolean).map(H=>H.ref.current);Dj(z,d)}}N.current=!1}),onBlur:oe(e.onBlur,()=>w(!1))})})}),Ij="RovingFocusGroupItem",Oj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=Xr(),c=i||l,u=AD(Ij,n),d=u.currentTabStopId===c,h=Tj(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),s.jsx(tf.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(de.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:oe(e.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:oe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:oe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=OD(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=h().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const w=y.indexOf(x.currentTarget);y=u.loop?DD(y,w+1):y.slice(w+1)}setTimeout(()=>Dj(y))}})})})});Oj.displayName=Ij;var RD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ID(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OD(e,t,n){const r=ID(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return RD[r]}function Dj(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function DD(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Mj=Rj,Fj=Oj,Bm="Tabs",[MD,G3]=Zn(Bm,[yu]),Lj=yu(),[FD,Um]=MD(Bm),$j=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=fu(l),[h,f]=yr({prop:r,onChange:a,defaultProp:i});return s.jsx(FD,{scope:n,baseId:Xr(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:s.jsx(de.div,{dir:d,"data-orientation":o,...u,ref:t})})});$j.displayName=Bm;var Bj="TabsList",Uj=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=Um(Bj,n),o=Lj(n);return s.jsx(Mj,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(de.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});Uj.displayName=Bj;var zj="TabsTrigger",Vj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=Um(zj,n),l=Lj(n),c=qj(o.baseId,r),u=Gj(o.baseId,r),d=r===o.value;return s.jsx(Fj,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:oe(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:oe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:oe(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!a&&h&&o.onValueChange(r)})})})});Vj.displayName=zj;var Wj="TabsContent",Hj=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=Um(Wj,n),c=qj(l.baseId,r),u=Gj(l.baseId,r),d=r===l.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(Nr,{present:a||d,children:({present:f})=>s.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});Hj.displayName=Wj;function qj(e,t){return`${e}-trigger-${t}`}function Gj(e,t){return`${e}-content-${t}`}var LD=$j,Kj=Uj,Yj=Vj,Qj=Hj;const Gs=LD,xs=m.forwardRef(({className:e,...t},n)=>s.jsx(Kj,{ref:n,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));xs.displayName=Kj.displayName;const Pe=m.forwardRef(({className:e,...t},n)=>s.jsx(Yj,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Pe.displayName=Yj.displayName;const Ae=m.forwardRef(({className:e,...t},n)=>s.jsx(Qj,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ae.displayName=Qj.displayName;class $D{async createBankAccount(t){try{console.log("Creating bank account via service");const{data:n,error:r}=await te.functions.invoke("create-bank-account",{body:t});if(r)throw new Error(r.message||"Failed to create bank account");return n}catch(n){throw console.error("Bank Account Creation Error:",n),n}}async updateBankAccount(t){try{console.log("Updating bank account via service");const{data:n,error:r}=await te.functions.invoke("update-bank-account",{body:t});if(r)throw new Error(r.message||"Failed to update bank account");return n}catch(n){throw console.error("Bank Account Update Error:",n),n}}async verifyBankAccount(t){try{console.log("Verifying bank account:",t.bankAccountId);const{data:n,error:r}=await te.functions.invoke("verify-bank-account",{body:t});if(r)throw new Error(r.message||"Failed to verify bank account");return n}catch(n){throw console.error("Bank Account Verification Error:",n),n}}async processSecureDeposit(t){try{console.log("Processing secure deposit:",t);const{data:n,error:r}=await te.functions.invoke("process-secure-deposit",{body:t});if(r)throw new Error(r.message||"Failed to process secure deposit");return n}catch(n){throw console.error("Secure Deposit Error:",n),n}}async getUserBankAccounts(){try{const{data:t,error:n}=await te.from("user_bank_accounts").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Database error:",n),new Error(n.message);return t||[]}catch(t){throw console.error("Get Bank Accounts Error:",t),t}}async getBankAccountAuditLog(t){try{let n=te.from("bank_account_audit_log").select("*").order("created_at",{ascending:!1});t&&(n=n.eq("bank_account_id",t));const{data:r,error:a}=await n;if(a)throw console.error("Audit log error:",a),new Error(a.message);return r||[]}catch(n){throw console.error("Get Audit Log Error:",n),n}}}const es=new $D;var Io=e=>e.type==="checkbox",Es=e=>e instanceof Date,Mt=e=>e==null;const Jj=e=>typeof e=="object";var at=e=>!Mt(e)&&!Array.isArray(e)&&Jj(e)&&!Es(e),Xj=e=>at(e)&&e.target?Io(e.target)?e.target.checked:e.target.value:e,BD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Zj=(e,t)=>e.has(BD(t)),UD=e=>{const t=e.constructor&&e.constructor.prototype;return at(t)&&t.hasOwnProperty("isPrototypeOf")},zm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(zm&&(e instanceof Blob||e instanceof FileList))&&(n||at(e)))if(t=n?[]:{},!n&&!UD(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=zt(e[r]));else return e;return t}var wu=e=>Array.isArray(e)?e.filter(Boolean):[],Ze=e=>e===void 0,Q=(e,t,n)=>{if(!t||!at(e))return n;const r=wu(t.split(/[,[\].]+?/)).reduce((a,i)=>Mt(a)?a:a[i],e);return Ze(r)||r===e?Ze(e[t])?n:e[t]:r},hn=e=>typeof e=="boolean",Vm=e=>/^\w*$/.test(e),e1=e=>wu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,n)=>{let r=-1;const a=Vm(t)?[t]:e1(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=n;if(r!==o){const u=e[l];c=at(u)||Array.isArray(u)?u:isNaN(+a[r+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const yc={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},t1=_.createContext(null),bu=()=>_.useContext(t1),zD=e=>{const{children:t,...n}=e;return _.createElement(t1.Provider,{value:n},t)};var n1=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Rn.all&&(t._proxyFormState[o]=!r||Rn.all),n&&(n[o]=!0),e[o]}});return a},Vt=e=>at(e)&&!Object.keys(e).length,r1=(e,t,n,r)=>{n(e);const{name:a,...i}=e;return Vt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||Rn.all))},Ui=e=>Array.isArray(e)?e:[e],s1=(e,t,n)=>!e||!t||e===t||Ui(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function Wm(e){const t=_.useRef(e);t.current=e,_.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function VD(e){const t=bu(),{control:n=t.control,disabled:r,name:a,exact:i}=e||{},[o,l]=_.useState(n._formState),c=_.useRef(!0),u=_.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=_.useRef(a);return d.current=a,Wm({disabled:r,next:h=>c.current&&s1(d.current,h.name,i)&&r1(h,u.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),_.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),n1(o,n,u.current,!1)}var qn=e=>typeof e=="string",a1=(e,t,n,r,a)=>qn(e)?(r&&t.watch.add(e),Q(n,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),Q(n,i))):(r&&(t.watchAll=!0),n);function WD(e){const t=bu(),{control:n=t.control,name:r,defaultValue:a,disabled:i,exact:o}=e||{},l=_.useRef(r);l.current=r,Wm({disabled:i,subject:n._subjects.values,next:d=>{s1(l.current,d.name,o)&&u(zt(a1(l.current,n._names,d.values||n._formValues,!1,a)))}});const[c,u]=_.useState(n._getWatch(r,a));return _.useEffect(()=>n._removeUnmounted()),c}function HD(e){const t=bu(),{name:n,disabled:r,control:a=t.control,shouldUnregister:i}=e,o=Zj(a._names.array,n),l=WD({control:a,name:n,defaultValue:Q(a._formValues,n,Q(a._defaultValues,n,e.defaultValue)),exact:!0}),c=VD({control:a,name:n,exact:!0}),u=_.useRef(a.register(n,{...e.rules,value:l,...hn(e.disabled)?{disabled:e.disabled}:{}}));return _.useEffect(()=>{const d=a._options.shouldUnregister||i,h=(f,p)=>{const x=Q(a._fields,f);x&&x._f&&(x._f.mount=p)};if(h(n,!0),d){const f=zt(Q(a._options.defaultValues,n));Te(a._defaultValues,n,f),Ze(Q(a._formValues,n))&&Te(a._formValues,n,f)}return()=>{(o?d&&!a._state.action:d)?a.unregister(n):h(n,!1)}},[n,a,o,i]),_.useEffect(()=>{Q(a._fields,n)&&a._updateDisabledField({disabled:r,fields:a._fields,name:n,value:Q(a._fields,n)._f.value})},[r,n,a]),{field:{name:n,value:l,...hn(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:_.useCallback(d=>u.current.onChange({target:{value:Xj(d),name:n},type:yc.CHANGE}),[n]),onBlur:_.useCallback(()=>u.current.onBlur({target:{value:Q(a._formValues,n),name:n},type:yc.BLUR}),[n,a]),ref:_.useCallback(d=>{const h=Q(a._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[a._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Q(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Q(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Q(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Q(c.validatingFields,n)},error:{enumerable:!0,get:()=>Q(c.errors,n)}})}}const qD=e=>e.render(HD(e));var GD=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},Ex=e=>({isOnSubmit:!e||e===Rn.onSubmit,isOnBlur:e===Rn.onBlur,isOnChange:e===Rn.onChange,isOnAll:e===Rn.all,isOnTouch:e===Rn.onTouched}),_x=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const zi=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const i=Q(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(zi(l,t))break}else if(at(l)&&zi(l,t))break}}};var KD=(e,t,n)=>{const r=Ui(Q(e,n));return Te(r,"root",t[n]),Te(e,n,r),e},Hm=e=>e.type==="file",ur=e=>typeof e=="function",wc=e=>{if(!zm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ml=e=>qn(e),qm=e=>e.type==="radio",bc=e=>e instanceof RegExp;const Px={value:!1,isValid:!1},Ax={value:!0,isValid:!0};var i1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ze(e[0].attributes.value)?Ze(e[0].value)||e[0].value===""?Ax:{value:e[0].value,isValid:!0}:Ax:Px}return Px};const Tx={isValid:!1,value:null};var o1=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Tx):Tx;function Rx(e,t,n="validate"){if(Ml(e)||Array.isArray(e)&&e.every(Ml)||hn(e)&&!e)return{type:n,message:Ml(e)?e:"",ref:t}}var aa=e=>at(e)&&!bc(e)?e:{value:e,message:""},Ix=async(e,t,n,r,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:x,valueAsNumber:g,mount:v,disabled:y}=e._f,w=Q(t,x);if(!v||y)return{};const b=o?o[0]:i,j=T=>{r&&b.reportValidity&&(b.setCustomValidity(hn(T)?"":T||""),b.reportValidity())},N={},S=qm(i),k=Io(i),E=S||k,U=(g||Hm(i))&&Ze(i.value)&&Ze(w)||wc(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,M=GD.bind(null,x,n,N),K=(T,G,D,z=rr.maxLength,H=rr.minLength)=>{const J=T?G:D;N[x]={type:T?z:H,message:J,ref:i,...M(T?z:H,J)}};if(a?!Array.isArray(w)||!w.length:l&&(!E&&(U||Mt(w))||hn(w)&&!w||k&&!i1(o).isValid||S&&!o1(o).isValid)){const{value:T,message:G}=Ml(l)?{value:!!l,message:l}:aa(l);if(T&&(N[x]={type:rr.required,message:G,ref:b,...M(rr.required,G)},!n))return j(G),N}if(!U&&(!Mt(d)||!Mt(h))){let T,G;const D=aa(h),z=aa(d);if(!Mt(w)&&!isNaN(w)){const H=i.valueAsNumber||w&&+w;Mt(D.value)||(T=H>D.value),Mt(z.value)||(G=H<z.value)}else{const H=i.valueAsDate||new Date(w),J=X=>new Date(new Date().toDateString()+" "+X),P=i.type=="time",L=i.type=="week";qn(D.value)&&w&&(T=P?J(w)>J(D.value):L?w>D.value:H>new Date(D.value)),qn(z.value)&&w&&(G=P?J(w)<J(z.value):L?w<z.value:H<new Date(z.value))}if((T||G)&&(K(!!T,D.message,z.message,rr.max,rr.min),!n))return j(N[x].message),N}if((c||u)&&!U&&(qn(w)||a&&Array.isArray(w))){const T=aa(c),G=aa(u),D=!Mt(T.value)&&w.length>+T.value,z=!Mt(G.value)&&w.length<+G.value;if((D||z)&&(K(D,T.message,G.message),!n))return j(N[x].message),N}if(f&&!U&&qn(w)){const{value:T,message:G}=aa(f);if(bc(T)&&!w.match(T)&&(N[x]={type:rr.pattern,message:G,ref:i,...M(rr.pattern,G)},!n))return j(G),N}if(p){if(ur(p)){const T=await p(w,t),G=Rx(T,b);if(G&&(N[x]={...G,...M(rr.validate,G.message)},!n))return j(G.message),N}else if(at(p)){let T={};for(const G in p){if(!Vt(T)&&!n)break;const D=Rx(await p[G](w,t),b,G);D&&(T={...D,...M(G,D.message)},j(D.message),n&&(N[x]=T))}if(!Vt(T)&&(N[x]={ref:b,...T},!n))return N}}return j(!0),N};function YD(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ze(e)?r++:e[t[r++]];return e}function QD(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ze(e[t]))return!1;return!0}function ft(e,t){const n=Array.isArray(t)?t:Vm(t)?[t]:e1(t),r=n.length===1?e:YD(e,n),a=n.length-1,i=n[a];return r&&delete r[i],a!==0&&(at(r)&&Vt(r)||Array.isArray(r)&&QD(r))&&ft(e,n.slice(0,-1)),e}var bd=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},nf=e=>Mt(e)||!Jj(e);function Lr(e,t){if(nf(e)||nf(t))return e===t;if(Es(e)&&Es(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n){const i=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Es(i)&&Es(o)||at(i)&&at(o)||Array.isArray(i)&&Array.isArray(o)?!Lr(i,o):i!==o)return!1}}return!0}var l1=e=>e.type==="select-multiple",JD=e=>qm(e)||Io(e),jd=e=>wc(e)&&e.isConnected,c1=e=>{for(const t in e)if(ur(e[t]))return!0;return!1};function jc(e,t={}){const n=Array.isArray(e);if(at(e)||n)for(const r in e)Array.isArray(e[r])||at(e[r])&&!c1(e[r])?(t[r]=Array.isArray(e[r])?[]:{},jc(e[r],t[r])):Mt(e[r])||(t[r]=!0);return t}function u1(e,t,n){const r=Array.isArray(e);if(at(e)||r)for(const a in e)Array.isArray(e[a])||at(e[a])&&!c1(e[a])?Ze(t)||nf(n[a])?n[a]=Array.isArray(e[a])?jc(e[a],[]):{...jc(e[a])}:u1(e[a],Mt(t)?{}:t[a],n[a]):n[a]=!Lr(e[a],t[a]);return n}var xi=(e,t)=>u1(e,t,jc(t)),d1=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ze(e)?e:t?e===""?NaN:e&&+e:n&&qn(e)?new Date(e):r?r(e):e;function Nd(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Hm(t)?t.files:qm(t)?o1(e.refs).value:l1(t)?[...t.selectedOptions].map(({value:n})=>n):Io(t)?i1(e.refs).value:d1(Ze(t.value)?e.ref.value:t.value,e)}var XD=(e,t,n,r)=>{const a={};for(const i of e){const o=Q(t,i);o&&Te(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},vi=e=>Ze(e)?e:bc(e)?e.source:at(e)?bc(e.value)?e.value.source:e.value:e;const Ox="AsyncFunction";var ZD=e=>(!e||!e.validate)&&!!(ur(e.validate)&&e.validate.constructor.name===Ox||at(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Ox)),e5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Dx(e,t,n){const r=Q(e,n);if(r||Vm(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=Q(t,i),l=Q(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:n}}var t5=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,n5=(e,t)=>!wu(Q(e,t)).length&&ft(e,t);const r5={mode:Rn.onSubmit,reValidateMode:Rn.onChange,shouldFocusError:!0};function s5(e={}){let t={...r5,...e},n={submitCount:0,isDirty:!1,isLoading:ur(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=at(t.defaultValues)||at(t.values)?zt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:zt(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:bd(),array:bd(),state:bd()},f=Ex(t.mode),p=Ex(t.reValidateMode),x=t.criteriaMode===Rn.all,g=C=>A=>{clearTimeout(u),u=setTimeout(C,A)},v=async C=>{if(!e.disabled&&(d.isValid||C)){const A=t.resolver?Vt((await E()).errors):await M(r,!0);A!==n.isValid&&h.state.next({isValid:A})}},y=(C,A)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((C||Array.from(l.mount)).forEach(O=>{O&&(A?Te(n.validatingFields,O,A):ft(n.validatingFields,O))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Vt(n.validatingFields)}))},w=(C,A=[],O,Z,Y=!0,W=!0)=>{if(Z&&O&&!e.disabled){if(o.action=!0,W&&Array.isArray(Q(r,C))){const ce=O(Q(r,C),Z.argA,Z.argB);Y&&Te(r,C,ce)}if(W&&Array.isArray(Q(n.errors,C))){const ce=O(Q(n.errors,C),Z.argA,Z.argB);Y&&Te(n.errors,C,ce),n5(n.errors,C)}if(d.touchedFields&&W&&Array.isArray(Q(n.touchedFields,C))){const ce=O(Q(n.touchedFields,C),Z.argA,Z.argB);Y&&Te(n.touchedFields,C,ce)}d.dirtyFields&&(n.dirtyFields=xi(a,i)),h.state.next({name:C,isDirty:T(C,A),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Te(i,C,A)},b=(C,A)=>{Te(n.errors,C,A),h.state.next({errors:n.errors})},j=C=>{n.errors=C,h.state.next({errors:n.errors,isValid:!1})},N=(C,A,O,Z)=>{const Y=Q(r,C);if(Y){const W=Q(i,C,Ze(O)?Q(a,C):O);Ze(W)||Z&&Z.defaultChecked||A?Te(i,C,A?W:Nd(Y._f)):z(C,W),o.mount&&v()}},S=(C,A,O,Z,Y)=>{let W=!1,ce=!1;const me={name:C};if(!e.disabled){const Qe=!!(Q(r,C)&&Q(r,C)._f&&Q(r,C)._f.disabled);if(!O||Z){d.isDirty&&(ce=n.isDirty,n.isDirty=me.isDirty=T(),W=ce!==me.isDirty);const Fe=Qe||Lr(Q(a,C),A);ce=!!(!Qe&&Q(n.dirtyFields,C)),Fe||Qe?ft(n.dirtyFields,C):Te(n.dirtyFields,C,!0),me.dirtyFields=n.dirtyFields,W=W||d.dirtyFields&&ce!==!Fe}if(O){const Fe=Q(n.touchedFields,C);Fe||(Te(n.touchedFields,C,O),me.touchedFields=n.touchedFields,W=W||d.touchedFields&&Fe!==O)}W&&Y&&h.state.next(me)}return W?me:{}},k=(C,A,O,Z)=>{const Y=Q(n.errors,C),W=d.isValid&&hn(A)&&n.isValid!==A;if(e.delayError&&O?(c=g(()=>b(C,O)),c(e.delayError)):(clearTimeout(u),c=null,O?Te(n.errors,C,O):ft(n.errors,C)),(O?!Lr(Y,O):Y)||!Vt(Z)||W){const ce={...Z,...W&&hn(A)?{isValid:A}:{},errors:n.errors,name:C};n={...n,...ce},h.state.next(ce)}},E=async C=>{y(C,!0);const A=await t.resolver(i,t.context,XD(C||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(C),A},U=async C=>{const{errors:A}=await E(C);if(C)for(const O of C){const Z=Q(A,O);Z?Te(n.errors,O,Z):ft(n.errors,O)}else n.errors=A;return A},M=async(C,A,O={valid:!0})=>{for(const Z in C){const Y=C[Z];if(Y){const{_f:W,...ce}=Y;if(W){const me=l.array.has(W.name),Qe=Y._f&&ZD(Y._f);Qe&&d.validatingFields&&y([Z],!0);const Fe=await Ix(Y,i,x,t.shouldUseNativeValidation&&!A,me);if(Qe&&d.validatingFields&&y([Z]),Fe[W.name]&&(O.valid=!1,A))break;!A&&(Q(Fe,W.name)?me?KD(n.errors,Fe,W.name):Te(n.errors,W.name,Fe[W.name]):ft(n.errors,W.name))}!Vt(ce)&&await M(ce,A,O)}}return O.valid},K=()=>{for(const C of l.unMount){const A=Q(r,C);A&&(A._f.refs?A._f.refs.every(O=>!jd(O)):!jd(A._f.ref))&&xe(C)}l.unMount=new Set},T=(C,A)=>!e.disabled&&(C&&A&&Te(i,C,A),!Lr(q(),a)),G=(C,A,O)=>a1(C,l,{...o.mount?i:Ze(A)?a:qn(C)?{[C]:A}:A},O,A),D=C=>wu(Q(o.mount?i:a,C,e.shouldUnregister?Q(a,C,[]):[])),z=(C,A,O={})=>{const Z=Q(r,C);let Y=A;if(Z){const W=Z._f;W&&(!W.disabled&&Te(i,C,d1(A,W)),Y=wc(W.ref)&&Mt(A)?"":A,l1(W.ref)?[...W.ref.options].forEach(ce=>ce.selected=Y.includes(ce.value)):W.refs?Io(W.ref)?W.refs.length>1?W.refs.forEach(ce=>(!ce.defaultChecked||!ce.disabled)&&(ce.checked=Array.isArray(Y)?!!Y.find(me=>me===ce.value):Y===ce.value)):W.refs[0]&&(W.refs[0].checked=!!Y):W.refs.forEach(ce=>ce.checked=ce.value===Y):Hm(W.ref)?W.ref.value="":(W.ref.value=Y,W.ref.type||h.values.next({name:C,values:{...i}})))}(O.shouldDirty||O.shouldTouch)&&S(C,Y,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&X(C)},H=(C,A,O)=>{for(const Z in A){const Y=A[Z],W=`${C}.${Z}`,ce=Q(r,W);(l.array.has(C)||at(Y)||ce&&!ce._f)&&!Es(Y)?H(W,Y,O):z(W,Y,O)}},J=(C,A,O={})=>{const Z=Q(r,C),Y=l.array.has(C),W=zt(A);Te(i,C,W),Y?(h.array.next({name:C,values:{...i}}),(d.isDirty||d.dirtyFields)&&O.shouldDirty&&h.state.next({name:C,dirtyFields:xi(a,i),isDirty:T(C,W)})):Z&&!Z._f&&!Mt(W)?H(C,W,O):z(C,W,O),_x(C,l)&&h.state.next({...n}),h.values.next({name:o.mount?C:void 0,values:{...i}})},P=async C=>{o.mount=!0;const A=C.target;let O=A.name,Z=!0;const Y=Q(r,O),W=()=>A.type?Nd(Y._f):Xj(C),ce=me=>{Z=Number.isNaN(me)||Es(me)&&isNaN(me.getTime())||Lr(me,Q(i,O,me))};if(Y){let me,Qe;const Fe=W(),$n=C.type===yc.BLUR||C.type===yc.FOCUS_OUT,Cr=!e5(Y._f)&&!t.resolver&&!Q(n.errors,O)&&!Y._f.deps||t5($n,Q(n.touchedFields,O),n.isSubmitted,p,f),Ys=_x(O,l,$n);Te(i,O,Fe),$n?(Y._f.onBlur&&Y._f.onBlur(C),c&&c(0)):Y._f.onChange&&Y._f.onChange(C);const ni=S(O,Fe,$n,!1),Mo=!Vt(ni)||Ys;if(!$n&&h.values.next({name:O,type:C.type,values:{...i}}),Cr)return d.isValid&&(e.mode==="onBlur"?$n&&v():v()),Mo&&h.state.next({name:O,...Ys?{}:ni});if(!$n&&Ys&&h.state.next({...n}),t.resolver){const{errors:ri}=await E([O]);if(ce(Fe),Z){const Su=Dx(n.errors,r,O),Qs=Dx(ri,r,Su.name||O);me=Qs.error,O=Qs.name,Qe=Vt(ri)}}else y([O],!0),me=(await Ix(Y,i,x,t.shouldUseNativeValidation))[O],y([O]),ce(Fe),Z&&(me?Qe=!1:d.isValid&&(Qe=await M(r,!0)));Z&&(Y._f.deps&&X(Y._f.deps),k(O,Qe,me,ni))}},L=(C,A)=>{if(Q(n.errors,A)&&C.focus)return C.focus(),1},X=async(C,A={})=>{let O,Z;const Y=Ui(C);if(t.resolver){const W=await U(Ze(C)?C:Y);O=Vt(W),Z=C?!Y.some(ce=>Q(W,ce)):O}else C?(Z=(await Promise.all(Y.map(async W=>{const ce=Q(r,W);return await M(ce&&ce._f?{[W]:ce}:ce)}))).every(Boolean),!(!Z&&!n.isValid)&&v()):Z=O=await M(r);return h.state.next({...!qn(C)||d.isValid&&O!==n.isValid?{}:{name:C},...t.resolver||!C?{isValid:O}:{},errors:n.errors}),A.shouldFocus&&!Z&&zi(r,L,C?Y:l.mount),Z},q=C=>{const A={...o.mount?i:a};return Ze(C)?A:qn(C)?Q(A,C):C.map(O=>Q(A,O))},ne=(C,A)=>({invalid:!!Q((A||n).errors,C),isDirty:!!Q((A||n).dirtyFields,C),error:Q((A||n).errors,C),isValidating:!!Q(n.validatingFields,C),isTouched:!!Q((A||n).touchedFields,C)}),ue=C=>{C&&Ui(C).forEach(A=>ft(n.errors,A)),h.state.next({errors:C?n.errors:{}})},je=(C,A,O)=>{const Z=(Q(r,C,{_f:{}})._f||{}).ref,Y=Q(n.errors,C)||{},{ref:W,message:ce,type:me,...Qe}=Y;Te(n.errors,C,{...Qe,...A,ref:Z}),h.state.next({name:C,errors:n.errors,isValid:!1}),O&&O.shouldFocus&&Z&&Z.focus&&Z.focus()},ot=(C,A)=>ur(C)?h.values.subscribe({next:O=>C(G(void 0,A),O)}):G(C,A,!0),xe=(C,A={})=>{for(const O of C?Ui(C):l.mount)l.mount.delete(O),l.array.delete(O),A.keepValue||(ft(r,O),ft(i,O)),!A.keepError&&ft(n.errors,O),!A.keepDirty&&ft(n.dirtyFields,O),!A.keepTouched&&ft(n.touchedFields,O),!A.keepIsValidating&&ft(n.validatingFields,O),!t.shouldUnregister&&!A.keepDefaultValue&&ft(a,O);h.values.next({values:{...i}}),h.state.next({...n,...A.keepDirty?{isDirty:T()}:{}}),!A.keepIsValid&&v()},se=({disabled:C,name:A,field:O,fields:Z,value:Y})=>{if(hn(C)&&o.mount||C){const W=C?void 0:Ze(Y)?Nd(O?O._f:Q(Z,A)._f):Y;Te(i,A,W),S(A,W,!1,!1,!0)}},Ce=(C,A={})=>{let O=Q(r,C);const Z=hn(A.disabled)||hn(e.disabled);return Te(r,C,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:C}},name:C,mount:!0,...A}}),l.mount.add(C),O?se({field:O,disabled:hn(A.disabled)?A.disabled:e.disabled,name:C,value:A.value}):N(C,!0,A.value),{...Z?{disabled:A.disabled||e.disabled}:{},...t.progressive?{required:!!A.required,min:vi(A.min),max:vi(A.max),minLength:vi(A.minLength),maxLength:vi(A.maxLength),pattern:vi(A.pattern)}:{},name:C,onChange:P,onBlur:P,ref:Y=>{if(Y){Ce(C,A),O=Q(r,C);const W=Ze(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,ce=JD(W),me=O._f.refs||[];if(ce?me.find(Qe=>Qe===W):W===O._f.ref)return;Te(r,C,{_f:{...O._f,...ce?{refs:[...me.filter(jd),W,...Array.isArray(Q(a,C))?[{}]:[]],ref:{type:W.type,name:C}}:{ref:W}}}),N(C,!1,void 0,W)}else O=Q(r,C,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||A.shouldUnregister)&&!(Zj(l.array,C)&&o.action)&&l.unMount.add(C)}}},Ve=()=>t.shouldFocusError&&zi(r,L,l.mount),Ne=C=>{hn(C)&&(h.state.next({disabled:C}),zi(r,(A,O)=>{const Z=Q(r,O);Z&&(A.disabled=Z._f.disabled||C,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(Y=>{Y.disabled=Z._f.disabled||C}))},0,!1))},Ee=(C,A)=>async O=>{let Z;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let Y=zt(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:W,values:ce}=await E();n.errors=W,Y=ce}else await M(r);if(ft(n.errors,"root"),Vt(n.errors)){h.state.next({errors:{}});try{await C(Y,O)}catch(W){Z=W}}else A&&await A({...n.errors},O),Ve(),setTimeout(Ve);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vt(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},Re=(C,A={})=>{Q(r,C)&&(Ze(A.defaultValue)?J(C,zt(Q(a,C))):(J(C,A.defaultValue),Te(a,C,zt(A.defaultValue))),A.keepTouched||ft(n.touchedFields,C),A.keepDirty||(ft(n.dirtyFields,C),n.isDirty=A.defaultValue?T(C,zt(Q(a,C))):T()),A.keepError||(ft(n.errors,C),d.isValid&&v()),h.state.next({...n}))},bt=(C,A={})=>{const O=C?zt(C):a,Z=zt(O),Y=Vt(C),W=Y?a:Z;if(A.keepDefaultValues||(a=O),!A.keepValues){if(A.keepDirtyValues){const ce=new Set([...l.mount,...Object.keys(xi(a,i))]);for(const me of Array.from(ce))Q(n.dirtyFields,me)?Te(W,me,Q(i,me)):J(me,Q(W,me))}else{if(zm&&Ze(C))for(const ce of l.mount){const me=Q(r,ce);if(me&&me._f){const Qe=Array.isArray(me._f.refs)?me._f.refs[0]:me._f.ref;if(wc(Qe)){const Fe=Qe.closest("form");if(Fe){Fe.reset();break}}}}r={}}i=e.shouldUnregister?A.keepDefaultValues?zt(a):{}:zt(W),h.array.next({values:{...W}}),h.values.next({values:{...W}})}l={mount:A.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!A.keepIsValid||!!A.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:A.keepSubmitCount?n.submitCount:0,isDirty:Y?!1:A.keepDirty?n.isDirty:!!(A.keepDefaultValues&&!Lr(C,a)),isSubmitted:A.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Y?{}:A.keepDirtyValues?A.keepDefaultValues&&i?xi(a,i):n.dirtyFields:A.keepDefaultValues&&C?xi(a,C):A.keepDirty?n.dirtyFields:{},touchedFields:A.keepTouched?n.touchedFields:{},errors:A.keepErrors?n.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Jt=(C,A)=>bt(ur(C)?C(i):C,A);return{control:{register:Ce,unregister:xe,getFieldState:ne,handleSubmit:Ee,setError:je,_executeSchema:E,_getWatch:G,_getDirty:T,_updateValid:v,_removeUnmounted:K,_updateFieldArray:w,_updateDisabledField:se,_getFieldArray:D,_reset:bt,_resetDefaultValues:()=>ur(t.defaultValues)&&t.defaultValues().then(C=>{Jt(C,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:C=>{n={...n,...C}},_disableForm:Ne,_subjects:h,_proxyFormState:d,_setErrors:j,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(C){o=C},get _defaultValues(){return a},get _names(){return l},set _names(C){l=C},get _formState(){return n},set _formState(C){n=C},get _options(){return t},set _options(C){t={...t,...C}}},trigger:X,register:Ce,handleSubmit:Ee,watch:ot,setValue:J,getValues:q,reset:Jt,resetField:Re,clearErrors:ue,unregister:xe,setError:je,setFocus:(C,A={})=>{const O=Q(r,C),Z=O&&O._f;if(Z){const Y=Z.refs?Z.refs[0]:Z.ref;Y.focus&&(Y.focus(),A.shouldSelect&&Y.select())}},getFieldState:ne}}function Oo(e={}){const t=_.useRef(),n=_.useRef(),[r,a]=_.useState({isDirty:!1,isValidating:!1,isLoading:ur(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ur(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...s5(e),formState:r});const i=t.current.control;return i._options=e,Wm({subject:i._subjects.state,next:o=>{r1(o,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),_.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),_.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),_.useEffect(()=>{e.values&&!Lr(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),_.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),_.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),_.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),_.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[r]),t.current.formState=n1(r,i),t.current}const Do=zD,h1=m.createContext({}),lt=({...e})=>s.jsx(h1.Provider,{value:{name:e.name},children:s.jsx(qD,{...e})}),ju=()=>{const e=m.useContext(h1),t=m.useContext(f1),{getFieldState:n,formState:r}=bu(),a=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},f1=m.createContext({}),et=m.forwardRef(({className:e,...t},n)=>{const r=m.useId();return s.jsx(f1.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:ie("space-y-2",e),...t})})});et.displayName="FormItem";const tt=m.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:a}=ju();return s.jsx(le,{ref:n,className:ie(r&&"text-destructive",e),htmlFor:a,...t})});tt.displayName="FormLabel";const nt=m.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:i}=ju();return s.jsx(ss,{ref:t,id:r,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});nt.displayName="FormControl";const a5=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=ju();return s.jsx("p",{ref:n,id:r,className:ie("text-sm text-muted-foreground",e),...t})});a5.displayName="FormDescription";const ct=m.forwardRef(({className:e,children:t,...n},r)=>{const{error:a,formMessageId:i}=ju(),o=a?String(a?.message):t;return o?s.jsx("p",{ref:r,id:i,className:ie("text-sm font-medium text-destructive",e),...n,children:o}):null});ct.displayName="FormMessage";const Gm=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[a,i]=m.useState(!1),{toast:o}=be(),l=m.useCallback(async d=>{t(!0);try{console.log("Creating secure bank account:",d);const h=await es.createBankAccount(d);if(!h.success)throw new Error(h.error||"Failed to create bank account");return o({title:"Bank Account Created",description:"Your bank account has been created. Micro-deposit verification will begin shortly."}),h.data}catch(h){throw console.error("Bank account creation error:",h),o({title:"Account Creation Failed",description:h instanceof Error?h.message:"Failed to create bank account",variant:"destructive"}),h}finally{t(!1)}},[o]),c=m.useCallback(async d=>{r(!0);try{console.log("Verifying bank account micro-deposits");const h=await es.verifyBankAccount(d);if(!h.success)throw new Error(h.error||"Failed to verify bank account");const f=h.data.verificationStatus==="verified";return o({title:f?"Account Verified":"Verification Failed",description:h.data.message,variant:f?"default":"destructive"}),h.data}catch(h){throw console.error("Bank account verification error:",h),o({title:"Verification Failed",description:h instanceof Error?h.message:"Failed to verify bank account",variant:"destructive"}),h}finally{r(!1)}},[o]),u=m.useCallback(async d=>{i(!0);try{console.log("Processing secure deposit to verified account");const h=await es.processSecureDeposit(d);if(!h.success)throw new Error(h.error||"Failed to process secure deposit");return o({title:"Secure Deposit Initiated",description:`$${d.amount.toFixed(2)} will be transferred to your verified bank account within 1-2 business days.`}),h.data}catch(h){throw console.error("Secure deposit error:",h),o({title:"Deposit Failed",description:h instanceof Error?h.message:"Failed to process secure deposit",variant:"destructive"}),h}finally{i(!1)}},[o]);return{loading:e,verificationLoading:n,depositLoading:a,createBankAccount:l,verifyBankAccount:c,processSecureDeposit:u}},Nc=({onAccountCreated:e})=>{const[t,n]=m.useState(!1),{loading:r,createBankAccount:a}=Gm(),i=Oo({defaultValues:{accountHolderName:"",routingNumber:"",accountNumber:"",confirmAccountNumber:"",accountType:"checking"}}),o=u=>u.length!==9?"Routing number must be 9 digits":/^\d+$/.test(u)?!0:"Routing number must contain only numbers",l=u=>u.length<4||u.length>17?"Account number must be 4-17 digits":/^\d+$/.test(u)?!0:"Account number must contain only numbers",c=async u=>{if(u.accountNumber!==u.confirmAccountNumber){i.setError("confirmAccountNumber",{message:"Account numbers do not match"});return}try{await a({accountHolderName:u.accountHolderName,routingNumber:u.routingNumber,accountNumber:u.accountNumber,accountType:u.accountType}),i.reset(),n(!1),e()}catch(d){console.error("Form submission error:",d)}};return t?s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-green-500"}),"Secure Bank Account Setup"]})}),s.jsxs(I,{children:[s.jsx(Do,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-4",children:[s.jsx(lt,{control:i.control,name:"accountHolderName",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Account Holder Name"}),s.jsx(nt,{children:s.jsx(ae,{placeholder:"Full name as it appears on your account",...u,disabled:r})}),s.jsx(ct,{})]})}),s.jsx(lt,{control:i.control,name:"routingNumber",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Routing Number"}),s.jsx(nt,{children:s.jsx(ae,{placeholder:"9-digit routing number",maxLength:9,...u,disabled:r})}),s.jsx(ct,{})]}),rules:{required:"Routing number is required",validate:o}}),s.jsx(lt,{control:i.control,name:"accountNumber",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Account Number"}),s.jsx(nt,{children:s.jsx(ae,{type:"password",placeholder:"Bank account number",...u,disabled:r})}),s.jsx(ct,{})]}),rules:{required:"Account number is required",validate:l}}),s.jsx(lt,{control:i.control,name:"confirmAccountNumber",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Confirm Account Number"}),s.jsx(nt,{children:s.jsx(ae,{type:"password",placeholder:"Re-enter account number",...u,disabled:r})}),s.jsx(ct,{})]}),rules:{required:"Please confirm your account number"}}),s.jsx(lt,{control:i.control,name:"accountType",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Account Type"}),s.jsxs(fr,{onValueChange:u.onChange,defaultValue:u.value,disabled:r,children:[s.jsx(nt,{children:s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Select account type"})})}),s.jsxs(Qn,{children:[s.jsx(qe,{value:"checking",children:"Checking"}),s.jsx(qe,{value:"savings",children:"Savings"})]})]}),s.jsx(ct,{})]})}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>n(!1),disabled:r,className:"flex-1",children:"Cancel"}),s.jsx(F,{type:"submit",disabled:r,className:"flex-1",children:r?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Account"]})})]})]})}),s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[s.jsx(As,{className:"h-3 w-3 inline mr-1"}),"Your bank information is encrypted and securely processed by Stripe. We never store your full account details."]})})]})]}):s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-green-500"}),"Add Secure Bank Account"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Securely connect your bank account for verified deposits"}),s.jsxs(F,{onClick:()=>n(!0),className:"w-full",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"Connect Bank Account"]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Security Features:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Bank details secured by Stripe encryption"}),s.jsx("li",{children:" Micro-deposit verification required"}),s.jsx("li",{children:" Full PCI compliance maintained"}),s.jsx("li",{children:" Account numbers never stored in full"})]})]})]})]})},m1=({bankAccount:e,onVerificationComplete:t})=>{const[n,r]=m.useState(!1),{verificationLoading:a,verifyBankAccount:i}=Gm(),o=Oo({defaultValues:{amount1:"",amount2:""}}),l=h=>{switch(h){case"verified":return s.jsx(Me,{className:"h-4 w-4 text-green-500"});case"verifying":return s.jsx(jn,{className:"h-4 w-4 text-yellow-500"});case"failed":return s.jsx(hr,{className:"h-4 w-4 text-red-500"});default:return s.jsx(jn,{className:"h-4 w-4 text-gray-500"})}},c=h=>{switch(h){case"verified":return"bg-green-100 text-green-800";case"verifying":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=h=>{switch(h){case"verified":return"Your bank account is verified and ready for secure deposits";case"verifying":return"Micro-deposits have been sent to your account. Enter the amounts below to verify.";case"failed":return"Verification failed. Please check the amounts and try again.";default:return"Verification pending"}},d=async h=>{const f=Math.round(parseFloat(h.amount1)*100),p=Math.round(parseFloat(h.amount2)*100);if(isNaN(f)||isNaN(p)){o.setError("amount1",{message:"Please enter valid amounts"});return}if(f<1||f>99||p<1||p>99){o.setError("amount1",{message:"Amounts must be between $0.01 and $0.99"});return}try{await i({bankAccountId:e.id,amounts:[f,p]}),o.reset(),r(!1),t()}catch(x){console.error("Verification error:",x)}};return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Bank Account Verification"}),s.jsxs(fe,{className:c(e.verification_status),children:[l(e.verification_status),s.jsx("span",{className:"ml-1 capitalize",children:e.verification_status})]})]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Account Holder"}),s.jsx("p",{className:"font-medium",children:e.account_holder_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Bank"}),s.jsx("p",{className:"font-medium",children:e.bank_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Account"}),s.jsxs("p",{className:"font-medium",children:["****",e.account_number_last4]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Routing"}),s.jsxs("p",{className:"font-medium",children:["****",e.routing_number_last4]})]})]})}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsx("p",{className:"text-sm text-blue-800",children:u(e.verification_status)})}),e.verification_status==="verifying"&&!n&&s.jsx(F,{onClick:()=>r(!0),className:"w-full",variant:"outline",children:"Enter Micro-Deposit Amounts"}),n&&e.verification_status==="verifying"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:s.jsx("strong",{children:"Micro-Deposit Verification"})}),s.jsx("p",{className:"text-sm text-yellow-700",children:"We've sent two small deposits (less than $1.00 each) to your bank account. These typically appear within 1-2 business days. Enter the exact amounts below."})]}),s.jsx(Do,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(lt,{control:o.control,name:"amount1",render:({field:h})=>s.jsxs(et,{children:[s.jsx(tt,{children:"First Amount"}),s.jsx(nt,{children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(ae,{placeholder:"0.XX",className:"pl-8",...h,disabled:a})]})}),s.jsx(ct,{})]}),rules:{required:"Amount is required",pattern:{value:/^\d+\.\d{2}$/,message:"Enter amount as X.XX (e.g., 0.23)"}}}),s.jsx(lt,{control:o.control,name:"amount2",render:({field:h})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Second Amount"}),s.jsx(nt,{children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(ae,{placeholder:"0.XX",className:"pl-8",...h,disabled:a})]})}),s.jsx(ct,{})]}),rules:{required:"Amount is required",pattern:{value:/^\d+\.\d{2}$/,message:"Enter amount as X.XX (e.g., 0.45)"}}})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:a,className:"flex-1",children:"Cancel"}),s.jsx(F,{type:"submit",disabled:a,className:"flex-1",children:a?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Account"})]})]})})]}),e.verification_status==="verified"&&s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Me,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"font-semibold text-green-800",children:"Account Verified"})]}),s.jsxs("p",{className:"text-sm text-green-700",children:["Your bank account is verified and ready for secure deposits. Verified on: ",new Date(e.verified_at).toLocaleDateString()]})]}),e.verification_status==="failed"&&s.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(hr,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"font-semibold text-red-800",children:"Verification Failed"})]}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"The micro-deposit amounts you entered were incorrect. Please check your bank statement and try again."}),s.jsx(F,{onClick:()=>r(!0),variant:"outline",size:"sm",children:"Try Again"})]})]})]})};var Km="Dialog",[p1,g1]=Zn(Km),[i5,Ln]=p1(Km),x1=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=yr({prop:r,defaultProp:a,onChange:i});return s.jsx(i5,{scope:t,triggerRef:l,contentRef:c,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};x1.displayName=Km;var v1="DialogTrigger",y1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ln(v1,n),i=ke(t,a.triggerRef);return s.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Jm(a.open),...r,ref:i,onClick:oe(e.onClick,a.onOpenToggle)})});y1.displayName=v1;var Ym="DialogPortal",[o5,w1]=p1(Ym,{forceMount:void 0}),b1=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=Ln(Ym,t);return s.jsx(o5,{scope:t,forceMount:n,children:m.Children.map(r,o=>s.jsx(Nr,{present:n||i.open,children:s.jsx(zc,{asChild:!0,container:a,children:o})}))})};b1.displayName=Ym;var Sc="DialogOverlay",j1=m.forwardRef((e,t)=>{const n=w1(Sc,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Ln(Sc,e.__scopeDialog);return i.modal?s.jsx(Nr,{present:r||i.open,children:s.jsx(l5,{...a,ref:t})}):null});j1.displayName=Sc;var l5=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ln(Sc,n);return s.jsx(Lm,{as:ss,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(de.div,{"data-state":Jm(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Us="DialogContent",N1=m.forwardRef((e,t)=>{const n=w1(Us,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Ln(Us,e.__scopeDialog);return s.jsx(Nr,{present:r||i.open,children:i.modal?s.jsx(c5,{...a,ref:t}):s.jsx(u5,{...a,ref:t})})});N1.displayName=Us;var c5=m.forwardRef((e,t)=>{const n=Ln(Us,e.__scopeDialog),r=m.useRef(null),a=ke(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Bb(i)},[]),s.jsx(S1,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),u5=m.forwardRef((e,t)=>{const n=Ln(Us,e.__scopeDialog),r=m.useRef(!1),a=m.useRef(!1);return s.jsx(S1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;n.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),S1=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ln(Us,n),c=m.useRef(null),u=ke(t,c);return Fb(),s.jsxs(s.Fragment,{children:[s.jsx(Fm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(No,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Jm(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(h5,{titleId:l.titleId}),s.jsx(m5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Qm="DialogTitle",C1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ln(Qm,n);return s.jsx(de.h2,{id:a.titleId,...r,ref:t})});C1.displayName=Qm;var k1="DialogDescription",E1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ln(k1,n);return s.jsx(de.p,{id:a.descriptionId,...r,ref:t})});E1.displayName=k1;var _1="DialogClose",P1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ln(_1,n);return s.jsx(de.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>a.onOpenChange(!1))})});P1.displayName=_1;function Jm(e){return e?"open":"closed"}var A1="DialogTitleWarning",[d5,T1]=Mk(A1,{contentName:Us,titleName:Qm,docsSlug:"dialog"}),h5=({titleId:e})=>{const t=T1(A1),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},f5="DialogDescriptionWarning",m5=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T1(f5).contentName}}.`;return m.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},p5=x1,g5=y1,x5=b1,v5=j1,y5=N1,w5=C1,b5=E1,R1=P1,I1="AlertDialog",[j5,K3]=Zn(I1,[g1]),Sr=g1(),O1=e=>{const{__scopeAlertDialog:t,...n}=e,r=Sr(t);return s.jsx(p5,{...r,...n,modal:!0})};O1.displayName=I1;var N5="AlertDialogTrigger",D1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Sr(n);return s.jsx(g5,{...a,...r,ref:t})});D1.displayName=N5;var S5="AlertDialogPortal",M1=e=>{const{__scopeAlertDialog:t,...n}=e,r=Sr(t);return s.jsx(x5,{...r,...n})};M1.displayName=S5;var C5="AlertDialogOverlay",F1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Sr(n);return s.jsx(v5,{...a,...r,ref:t})});F1.displayName=C5;var Ta="AlertDialogContent",[k5,E5]=j5(Ta),L1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Sr(n),o=m.useRef(null),l=ke(t,o),c=m.useRef(null);return s.jsx(d5,{contentName:Ta,titleName:$1,docsSlug:"alert-dialog",children:s.jsx(k5,{scope:n,cancelRef:c,children:s.jsxs(y5,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:oe(a.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(tm,{children:r}),s.jsx(P5,{contentRef:o})]})})})});L1.displayName=Ta;var $1="AlertDialogTitle",B1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Sr(n);return s.jsx(w5,{...a,...r,ref:t})});B1.displayName=$1;var U1="AlertDialogDescription",z1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Sr(n);return s.jsx(b5,{...a,...r,ref:t})});z1.displayName=U1;var _5="AlertDialogAction",V1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=Sr(n);return s.jsx(R1,{...a,...r,ref:t})});V1.displayName=_5;var W1="AlertDialogCancel",H1=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=E5(W1,n),i=Sr(n),o=ke(t,a);return s.jsx(R1,{...i,...r,ref:o})});H1.displayName=W1;var P5=({contentRef:e})=>{const t=`\`${Ta}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ta}\` by passing a \`${U1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ta}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},A5=O1,T5=D1,R5=M1,q1=F1,G1=L1,K1=V1,Y1=H1,Q1=B1,J1=z1;const I5=A5,O5=T5,D5=R5,X1=m.forwardRef(({className:e,...t},n)=>s.jsx(q1,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));X1.displayName=q1.displayName;const Z1=m.forwardRef(({className:e,...t},n)=>s.jsxs(D5,{children:[s.jsx(X1,{}),s.jsx(G1,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Z1.displayName=G1.displayName;const eN=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});eN.displayName="AlertDialogHeader";const tN=({className:e,...t})=>s.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});tN.displayName="AlertDialogFooter";const nN=m.forwardRef(({className:e,...t},n)=>s.jsx(Q1,{ref:n,className:ie("text-lg font-semibold",e),...t}));nN.displayName=Q1.displayName;const rN=m.forwardRef(({className:e,...t},n)=>s.jsx(J1,{ref:n,className:ie("text-sm text-muted-foreground",e),...t}));rN.displayName=J1.displayName;const sN=m.forwardRef(({className:e,...t},n)=>s.jsx(K1,{ref:n,className:ie(Am(),e),...t}));sN.displayName=K1.displayName;const aN=m.forwardRef(({className:e,...t},n)=>s.jsx(Y1,{ref:n,className:ie(Am({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));aN.displayName=Y1.displayName;const iN=({currentBalance:e,verifiedAccounts:t,userEmail:n,userId:r,onDepositSuccess:a})=>{const[i,o]=m.useState(!1),{depositLoading:l,processSecureDeposit:c}=Gm(),u=Oo({defaultValues:{amount:"",selectedAccountId:t[0]?.id||""}}),d=u.watch("amount"),h=parseFloat(d)||0,f=u.watch("selectedAccountId"),p=t.find(y=>y.id===f),x=h>=10&&h<=e&&h<=5e3,g=()=>h?h<10?"Minimum deposit amount is $10.00":h>e?"Insufficient balance":h>5e3?"Maximum deposit amount is $5,000.00":"":"",v=async()=>{if(!(!p||!x))try{await c({amount:h,bankAccountId:p.id,userBalance:e}),u.reset(),o(!1),a(h)}catch(y){console.error("Secure deposit error:",y)}};return t.length===0?s.jsx(R,{children:s.jsxs(I,{className:"text-center p-8",children:[s.jsx(st,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No verified accounts available for secure deposits"})]})}):s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-green-500"}),"Secure Deposit to Verified Bank Account"]})}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Available EarnFlow Balance"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",e.toFixed(2)]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Me,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Verified Account Security"})]}),s.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[s.jsx("li",{children:" Only verified bank accounts can receive deposits"}),s.jsx("li",{children:" Micro-deposit verification completed"}),s.jsx("li",{children:" Secure transfer via Stripe infrastructure"}),s.jsx("li",{children:" Full audit trail maintained"})]})]}),s.jsx(Do,{...u,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(lt,{control:u.control,name:"selectedAccountId",render:({field:y})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Select Verified Bank Account"}),s.jsxs(fr,{onValueChange:y.onChange,value:y.value,children:[s.jsx(nt,{children:s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Choose your verified account"})})}),s.jsx(Qn,{children:t.map(w=>s.jsx(qe,{value:w.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{children:[w.bank_name," ****",w.account_number_last4]})]})},w.id))})]}),s.jsx(ct,{})]})}),s.jsx(lt,{control:u.control,name:"amount",render:({field:y})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Deposit Amount"}),s.jsx(nt,{children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",children:"$"}),s.jsx(ae,{type:"number",placeholder:"10.00",className:"pl-8",step:"0.01",min:"10",max:Math.min(e,5e3),...y,disabled:l})]})}),g()&&s.jsx("p",{className:"text-sm text-destructive",children:g()}),s.jsx(ct,{})]})}),p&&s.jsxs("div",{className:"p-3 bg-blue-50 rounded-md",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Selected Account Details:"}),s.jsxs("p",{className:"text-sm text-blue-700",children:[p.account_holder_name,"  ",p.bank_name]}),s.jsxs("p",{className:"text-sm text-blue-700",children:["Account ****",p.account_number_last4,"  Verified "]})]}),s.jsxs("div",{className:"p-3 bg-yellow-50 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ko,{className:"h-4 w-4 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Processing Information"})]}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Secure deposits to verified accounts typically arrive within 1-2 business days. Processing fees may apply as per your Stripe agreement."})]}),s.jsxs(I5,{open:i,onOpenChange:o,children:[s.jsx(O5,{asChild:!0,children:s.jsx(F,{disabled:!x||!p||l,className:"w-full",size:"lg",children:l?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing Secure Deposit..."]}):s.jsxs(s.Fragment,{children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"Initiate Secure Deposit $",h.toFixed(2)]})})}),s.jsxs(Z1,{children:[s.jsxs(eN,{children:[s.jsxs(nN,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-green-500"}),"Confirm Secure Deposit"]}),s.jsxs(rN,{className:"space-y-3",children:[s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Deposit Amount:"}),s.jsxs("span",{className:"font-semibold",children:["$",h.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"To Account:"}),s.jsxs("span",{children:[p?.bank_name," ****",p?.account_number_last4]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Account Holder:"}),s.jsx("span",{children:p?.account_holder_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Verification Status:"}),s.jsx("span",{className:"text-green-600",children:" Verified"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Estimated Arrival:"}),s.jsx("span",{children:"1-2 business days"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Remaining Balance:"}),s.jsxs("span",{children:["$",(e-h).toFixed(2)]})]})]})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This secure deposit will be processed immediately to your verified bank account. The transaction is irreversible once confirmed."})]})]}),s.jsxs(tN,{children:[s.jsx(aN,{disabled:l,children:"Cancel"}),s.jsx(sN,{onClick:v,disabled:l,className:"bg-green-600 hover:bg-green-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"Confirm Secure Deposit"]})})]})]})]})]})}),s.jsxs("div",{className:"text-xs text-center text-muted-foreground",children:[s.jsx(As,{className:"h-3 w-3 inline mr-1"}),"All deposits are secured with bank-grade encryption and require verified account confirmation"]})]})]})},Xm=m.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Xm.displayName="Textarea";const M5=()=>{const[e,t]=m.useState(!1),{toast:n}=be(),r=m.useCallback(async a=>{t(!0);try{console.log("Updating bank account:",a);const i=await es.updateBankAccount(a);if(!i.success)throw new Error(i.error||"Failed to update bank account");return n({title:"Bank Account Updated",description:"Your bank account has been updated. New micro-deposit verification will begin shortly."}),i.data}catch(i){throw console.error("Bank account update error:",i),n({title:"Update Failed",description:i instanceof Error?i.message:"Failed to update bank account",variant:"destructive"}),i}finally{t(!1)}},[n]);return{loading:e,updateBankAccount:r}},oN=({bankAccount:e,onUpdateComplete:t})=>{const[n,r]=m.useState(!1),{loading:a,updateBankAccount:i}=M5(),o=Oo({defaultValues:{routingNumber:"",accountNumber:"",confirmAccountNumber:"",updateReason:""}}),l=d=>d.length!==9?"Routing number must be 9 digits":/^\d+$/.test(d)?!0:"Routing number must contain only numbers",c=d=>d.length<4||d.length>17?"Account number must be 4-17 digits":/^\d+$/.test(d)?!0:"Account number must contain only numbers",u=async d=>{if(d.accountNumber!==d.confirmAccountNumber){o.setError("confirmAccountNumber",{message:"Account numbers do not match"});return}if(!d.updateReason.trim()){o.setError("updateReason",{message:"Please provide a reason for this update"});return}try{await i({bankAccountId:e.id,routingNumber:d.routingNumber,accountNumber:d.accountNumber,updateReason:d.updateReason}),o.reset(),r(!1),t()}catch(h){console.error("Form submission error:",h)}};return n?s.jsxs(R,{className:"border-orange-200",children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2 text-orange-800",children:[s.jsx(Ur,{className:"h-5 w-5"}),"Update Bank Account Information"]})}),s.jsxs(I,{children:[s.jsx(Do,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-4",children:[s.jsx(lt,{control:o.control,name:"routingNumber",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"New Routing Number"}),s.jsx(nt,{children:s.jsx(ae,{placeholder:"9-digit routing number",maxLength:9,...d,disabled:a})}),s.jsx(ct,{})]}),rules:{required:"Routing number is required",validate:l}}),s.jsx(lt,{control:o.control,name:"accountNumber",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"New Account Number"}),s.jsx(nt,{children:s.jsx(ae,{type:"password",placeholder:"Bank account number",...d,disabled:a})}),s.jsx(ct,{})]}),rules:{required:"Account number is required",validate:c}}),s.jsx(lt,{control:o.control,name:"confirmAccountNumber",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Confirm New Account Number"}),s.jsx(nt,{children:s.jsx(ae,{type:"password",placeholder:"Re-enter account number",...d,disabled:a})}),s.jsx(ct,{})]}),rules:{required:"Please confirm your account number"}}),s.jsx(lt,{control:o.control,name:"updateReason",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Reason for Update"}),s.jsx(nt,{children:s.jsx(Xm,{placeholder:"Please explain why you're updating your bank account information...",...d,disabled:a,rows:3})}),s.jsx(ct,{})]}),rules:{required:"Please provide a reason for this update",minLength:{value:10,message:"Please provide a more detailed reason (at least 10 characters)"}}}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:a,className:"flex-1",children:"Cancel"}),s.jsx(F,{type:"submit",disabled:a,className:"flex-1",variant:"destructive",children:a?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Update Account"]})})]})]})}),s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:s.jsxs("p",{className:"text-xs text-gray-600",children:[s.jsx(As,{className:"h-3 w-3 inline mr-1"}),"Your bank information is encrypted and securely processed by Stripe. Previous account details will be archived for security purposes."]})})]})]}):s.jsxs(R,{className:"border-orange-200",children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2 text-orange-800",children:[s.jsx(Ur,{className:"h-5 w-5"}),"Update Bank Account"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ko,{className:"h-5 w-5 text-orange-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Important Notice"}),s.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[s.jsx("li",{children:" Updating will require new micro-deposit verification"}),s.jsx("li",{children:" Current verification status will be reset"}),s.jsx("li",{children:" Previous account information will be archived"}),s.jsx("li",{children:" This action cannot be undone"})]})]})]})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-muted-foreground mb-4",children:["Current Account: ",e.bank_name,"  ****",e.account_number_last4]}),s.jsxs(F,{onClick:()=>r(!0),variant:"outline",className:"w-full",children:[s.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Update Account Information"]})]})]})]})},F5=({currentBalance:e,onDepositSuccess:t,userEmail:n,userId:r})=>{const[a,i]=m.useState([]),[o,l]=m.useState([]),[c,u]=m.useState(!0),[d,h]=m.useState("accounts"),[f,p]=m.useState(null),{toast:x}=be(),g=async()=>{try{const E=await es.getUserBankAccounts();i(E)}catch(E){console.error("Failed to load bank accounts:",E),x({title:"Loading Error",description:"Failed to load bank accounts",variant:"destructive"})}},v=async()=>{try{const E=await es.getBankAccountAuditLog();l(E)}catch(E){console.error("Failed to load audit log:",E)}};m.useEffect(()=>{(async()=>{u(!0),await Promise.all([g(),v()]),u(!1)})()},[]);const y=()=>{g(),v(),h("verification")},w=()=>{g(),v()},b=E=>{t(E),v()},j=()=>{g(),v(),p(null),h("verification")},N=a.filter(E=>E.verification_status==="verified"),S=a.filter(E=>E.verification_status!=="verified"),k=E=>{const U={verified:"bg-green-100 text-green-800",verifying:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",pending:"bg-gray-100 text-gray-800"};return U[E]||U.pending};return c?s.jsx(R,{children:s.jsx(I,{className:"flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading secure bank dashboard..."})]})})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-green-500"}),"Secure Bank Transfer Dashboard"]})}),s.jsxs(I,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx(Me,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"font-semibold text-green-800",children:N.length}),s.jsx("p",{className:"text-sm text-green-600",children:"Verified Accounts"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx(im,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),s.jsxs("p",{className:"font-semibold text-blue-800",children:["$",e.toFixed(2)]}),s.jsx("p",{className:"text-sm text-blue-600",children:"Available Balance"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx(ko,{className:"h-8 w-8 text-orange-500 mx-auto mb-2"}),s.jsx("p",{className:"font-semibold text-orange-800",children:S.length}),s.jsx("p",{className:"text-sm text-orange-600",children:"Pending Verification"})]})]}),s.jsxs(Gs,{value:d,onValueChange:h,className:"w-full",children:[s.jsxs(xs,{className:"grid w-full grid-cols-5",children:[s.jsx(Pe,{value:"accounts",children:"Accounts"}),s.jsx(Pe,{value:"verification",children:"Verification"}),s.jsx(Pe,{value:"update",children:"Update"}),s.jsx(Pe,{value:"deposit",children:"Secure Deposit"}),s.jsx(Pe,{value:"history",children:"History"})]}),s.jsxs(Ae,{value:"accounts",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Your Bank Accounts"}),a.length===0&&s.jsxs(F,{onClick:()=>h("verification"),children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Add First Account"]})]}),a.length===0?s.jsx(Nc,{onAccountCreated:y}):s.jsx("div",{className:"space-y-4",children:a.length>0&&s.jsxs("div",{className:"space-y-4",children:[a.map(E=>s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:E.account_holder_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[E.bank_name,"  ****",E.account_number_last4]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(E.created_at).toLocaleDateString()]}),E.updated_by_user_at&&s.jsxs("p",{className:"text-xs text-orange-600",children:["Updated ",new Date(E.updated_by_user_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:k(E.verification_status),children:E.verification_status}),E.verification_status==="verified"&&s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>{p(E),h("update")},children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Update"]})]})]})})},E.id)),a.length<3&&s.jsx(Nc,{onAccountCreated:y})]})})]}),s.jsxs(Ae,{value:"verification",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Account Verification"}),S.length===0?s.jsxs("div",{className:"text-center p-8",children:[s.jsx(Me,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"All accounts are verified!"})]}):s.jsx("div",{className:"space-y-4",children:S.map(E=>s.jsx(m1,{bankAccount:E,onVerificationComplete:w},E.id))})]}),s.jsxs(Ae,{value:"update",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Update Bank Account Information"}),f?s.jsx(oN,{bankAccount:f,onUpdateComplete:j}):s.jsx(R,{children:s.jsxs(I,{className:"text-center p-8",children:[s.jsx(Ur,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No account selected for update"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select an account from the Accounts tab to update its information"}),s.jsx(F,{onClick:()=>h("accounts"),className:"mt-4",variant:"outline",children:"Go to Accounts"})]})})]}),s.jsxs(Ae,{value:"deposit",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Secure Deposit to Verified Account"}),N.length===0?s.jsx(R,{children:s.jsxs(I,{className:"text-center p-8",children:[s.jsx(st,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No verified accounts available"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You must verify at least one bank account before processing deposits"}),s.jsx(F,{onClick:()=>h("accounts"),className:"mt-4",variant:"outline",children:"Add & Verify Account"})]})}):s.jsx(iN,{currentBalance:e,verifiedAccounts:N,userEmail:n,userId:r,onDepositSuccess:b})]}),s.jsxs(Ae,{value:"history",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Security Audit Log"}),o.length===0?s.jsxs("div",{className:"text-center p-8",children:[s.jsx(om,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No activity yet"})]}):s.jsx("div",{className:"space-y-2",children:o.slice(0,10).map(E=>s.jsx(R,{children:s.jsx(I,{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:E.action.replace(/_/g," ").toUpperCase()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(E.created_at).toLocaleString()})]}),E.details?.amount&&s.jsxs(fe,{variant:"outline",children:["$",E.details.amount.toFixed(2)]})]})})},E.id))})]})]})]})]})})},L5=({service:e,onPurchase:t})=>s.jsxs("div",{className:"relative p-6 border rounded-lg hover:shadow-lg transition-all duration-200 bg-white",children:[e.popularBadge&&s.jsx("div",{className:"absolute -top-2 left-4 bg-orange-500 text-white text-xs px-3 py-1 rounded-full font-semibold",children:"Popular Choice"}),s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"font-bold text-lg",children:e.name}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${pb(e.category)}`,children:e.category}),e.cjAffiliateId&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"CJ Affiliate"})]})]}),s.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:e.product}),s.jsx("p",{className:"text-xs text-gray-600 mb-4 line-clamp-2",children:e.description}),s.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[s.jsx(Gc,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsx("span",{className:"text-sm font-medium",children:e.rating}),s.jsx("span",{className:"text-xs text-gray-500",children:"(Real reviews)"}),e.epc&&s.jsxs("span",{className:"text-xs text-blue-600 ml-2",children:["EPC: ",e.epc]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Key Features:"}),s.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:e.features.slice(0,3).map((n,r)=>s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1 h-1 bg-green-500 rounded-full"}),n]},r))})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[e.originalPrice&&s.jsxs("p",{className:"text-xs text-gray-500 line-through",children:["$",e.originalPrice]}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:mb(e)})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-orange-600",children:[s.jsx(ln,{className:"h-3 w-3"}),s.jsxs("span",{children:["We earn $",N4(e.price,e.commissionRate)]})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(e.commissionRate*100).toFixed(0),"% commission"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(jn,{className:"h-3 w-3 text-blue-500"}),s.jsx("span",{className:"text-xs text-blue-600 capitalize",children:e.billingPeriod==="one-time"?"One-time purchase":`${e.billingPeriod} billing`})]}),s.jsxs(F,{onClick:()=>t(e),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"sm",children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),e.billingPeriod==="one-time"?"Buy Now":"Start Subscription"]}),s.jsxs("div",{className:"mt-3 flex items-center justify-center gap-1 text-xs text-gray-500",children:[s.jsx(st,{className:"h-3 w-3"}),s.jsxs("span",{children:["Secure checkout via ",e.name]})]})]}),$5=()=>s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[s.jsxs("h5",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(ln,{className:"h-5 w-5"}),"Real Affiliate Partnership Program"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h6",{className:"font-semibold text-blue-800 mb-2",children:"For You:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Access real premium services at competitive prices"}),s.jsx("li",{children:" Verified partnerships with trusted brands"}),s.jsx("li",{children:" Exclusive deals through our affiliate network"}),s.jsx("li",{children:" Support our platform at no additional cost"})]})]}),s.jsxs("div",{children:[s.jsx("h6",{className:"font-semibold text-blue-800 mb-2",children:"Our Partnership Model:"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Real commission earnings (4-25%)"}),s.jsx("li",{children:" Commission Junction (CJ Affiliate) integration"}),s.jsx("li",{children:" Direct partnerships with service providers"}),s.jsx("li",{children:" Monthly payout processing"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-white rounded border-l-4 border-green-500",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:" ACTIVE INTEGRATION:"})," Your CJ Affiliate Publisher ID ",s.jsx("strong",{children:"7602933"})," is now integrated! All 1-800-FLORALS affiliate links and optimization tasks are using YOUR actual CJ Publisher ID to ensure you earn real commissions."]})}),s.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded border border-green-200",children:s.jsxs("p",{className:"text-xs text-green-700",children:[s.jsx("strong",{children:"Publisher ID 7602933"})," | All affiliate tracking and commission earning is now configured with your actual CJ Affiliate account."]})})]}),lN=()=>{const{handlePurchase:e}=fb();return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"h-5 w-5"}),"Partner Affiliate Services",s.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:"(Real affiliate partnerships - including CJ Affiliate network!)"})]})}),s.jsxs(I,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Nm.map(t=>s.jsx(L5,{service:t,onPurchase:e},t.id))}),s.jsx($5,{})]})]})},B5=({tasksCompleted:e,maxTasks:t,hasWithdrawn:n,earnings:r,userEmail:a,userId:i,onTaskComplete:o,onResetAccount:l,onSecureBankDeposit:c})=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(ND,{tasksCompleted:e,maxTasks:t,hasWithdrawn:n,onTaskComplete:o,onResetAccount:l,userEmail:a,userId:i}),s.jsx(F5,{currentBalance:r,onDepositSuccess:c,userEmail:a,userId:i}),s.jsx(lN,{})]}),U5=e=>{switch(e){case"pending":return jn;case"confirmed":return Me;case"failed":return hr;default:return jn}},z5=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V5=(e,t="mainnet")=>t==="mainnet"?`https://mempool.space/tx/${e}`:`https://mempool.space/testnet/tx/${e}`,W5=(e,t="mainnet")=>{window.open(V5(e,t),"_blank")},yi=e=>e.type==="withdrawal"&&e.address==="Bank Account Transfer",H5=({transaction:e})=>{const t=U5(e.status);return s.jsxs(go,{children:[s.jsx(gn,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[yi(e)?s.jsx(im,{className:"h-4 w-4 text-blue-500"}):e.type==="withdrawal"?s.jsx(Ms,{className:"h-4 w-4 text-orange-500"}):s.jsx("div",{className:"h-4 w-4 bg-green-500 rounded-full"}),s.jsx("span",{className:"capitalize",children:yi(e)?"Bank Deposit":e.type})]})}),s.jsx(gn,{children:s.jsxs("span",{className:e.type==="withdrawal"?"text-red-600":"text-green-600",children:[e.type==="withdrawal"?"-":"+","$",e.amount.toFixed(2)]})}),s.jsx(gn,{children:e.address?s.jsx("div",{className:`text-xs ${yi(e)?"text-blue-600 font-medium":"font-mono break-all max-w-[200px]"}`,children:e.address}):s.jsx("span",{className:"text-muted-foreground",children:"Task completion"})}),s.jsx(gn,{children:s.jsx(fe,{className:z5(e.status),children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(t,{className:"h-4 w-4"}),s.jsx("span",{className:"capitalize",children:e.status})]})})}),s.jsx(gn,{children:s.jsxs("div",{className:"text-sm",children:[e.timestamp.toLocaleDateString(),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.timestamp.toLocaleTimeString()})]})}),s.jsx(gn,{children:e.txHash&&!yi(e)?s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>W5(e.txHash,e.network||"mainnet"),className:"flex items-center gap-1",children:[s.jsx(as,{className:"h-3 w-3"}),"View"]}):yi(e)?s.jsx("span",{className:"text-blue-600 text-sm",children:"Bank Transfer"}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})})]})},q5=()=>s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-5 w-5"}),"Transaction History"]})}),s.jsx(I,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ms,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No transactions yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Your withdrawals and earnings will appear here"})]})})]}),G5=({transactions:e})=>{const t=e.some(n=>n.status==="pending");return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Pending Transactions:"})," Bitcoin mainnet transactions typically take 10-60 minutes to confirm. Bank deposits take 1-2 business days to process. You can track Bitcoin transactions in real-time on mempool.space."]})}),s.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Block Explorer:"})," Bitcoin transactions can be viewed on"," ",s.jsx("a",{href:"https://mempool.space",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"mempool.space"})," ","for detailed blockchain information. Bank deposits are processed through Stripe and will appear in your bank account within 1-2 business days."]})})]})},K5=({transactions:e})=>e.length===0?s.jsx(q5,{}):s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-5 w-5"}),"Transaction History",s.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-auto",children:"Powered by mempool.space"})]})}),s.jsxs(I,{children:[s.jsxs(Im,{children:[s.jsx(Om,{children:s.jsxs(go,{children:[s.jsx(pn,{children:"Type"}),s.jsx(pn,{children:"Amount"}),s.jsx(pn,{children:"Address/Details"}),s.jsx(pn,{children:"Status"}),s.jsx(pn,{children:"Date"}),s.jsx(pn,{children:"Explorer"})]})}),s.jsx(Dm,{children:e.map(t=>s.jsx(H5,{transaction:t},t.id))})]}),s.jsx(G5,{transactions:e})]})]}),Y5=({transactions:e})=>s.jsx(K5,{transactions:e}),Q5=()=>{const{user:e}=tr(),[t,n]=m.useState(0),[r,a]=m.useState(0),[i,o]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!1),{toast:h}=be(),f=20,p=e?.email||"",x=e?.id||"",{addCommission:g}=Pm(x),{resetTasks:v,resetAccount:y}=_4(r,f,()=>{a(0)},()=>{n(0),a(0),o(!1),c([])}),w=k=>{const E={...k,id:Math.random().toString(36).substr(2,9),timestamp:new Date};return c(U=>[E,...U]),E.id},b=(k,E)=>{c(U=>U.map(M=>M.id===k?{...M,...E}:M))},j=async k=>{n(E=>E+k),a(E=>E+1),w({type:"earning",amount:k,status:"confirmed"}),x&&await g(Math.round(k*100),`Task completion earnings: $${k.toFixed(2)}`,"task_completion")},N=()=>{const k=w({type:"withdrawal",amount:t,status:"pending"});n(0),o(!0),setTimeout(()=>{b(k,{status:"confirmed"})},1e3)},S=k=>{const E=w({type:"withdrawal",amount:k,status:"pending",address:"Verified Bank Account Transfer"});n(U=>U-k),h({title:"Secure Deposit Initiated",description:`$${k.toFixed(2)} securely transferred to your verified bank account.`}),setTimeout(()=>{b(E,{status:"confirmed"})},2e3)};return e?u?s.jsx(xb,{onBack:()=>d(!1)}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(T4,{userEmail:p,onShowPrivacyPolicy:()=>d(!0)}),s.jsx(H4,{earnings:t,tasksCompleted:r,maxTasks:f,onResetTasks:v,userEmail:p,userId:x}),s.jsx(jD,{userId:x}),s.jsx(B5,{tasksCompleted:r,maxTasks:f,hasWithdrawn:i,earnings:t,userEmail:p,userId:x,onTaskComplete:j,onResetAccount:y,onWithdraw:N,onSecureBankDeposit:S}),s.jsx(Y5,{transactions:l})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Commission Payout Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to access your earnings and request payouts"})]}),s.jsx(gb,{})]})})},J5=()=>s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(Q5,{})})}),X5=({connectAccountId:e})=>{const t={totalRevenue:12543.5,monthlyRevenue:3240.75,activePartners:8,pendingPayouts:1250};return s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(ze,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",t.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from last month"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"This Month"}),s.jsx(ln,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",t.monthlyRevenue.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+8% from last month"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Active Partners"}),s.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.activePartners}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 new this month"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Pending Payouts"}),s.jsx(oo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",t.pendingPayouts.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Next payout in 3 days"})]})]})]})},Z5=({connectAccountId:e})=>{const t=[{id:"1",partner:"Google AdSense",amount:1250,date:"2024-01-15",status:"completed",campaign:"Banner Ads Q1"},{id:"2",partner:"Facebook Audience Network",amount:875.5,date:"2024-01-14",status:"completed",campaign:"Video Ads"},{id:"3",partner:"Amazon Associates",amount:432.25,date:"2024-01-13",status:"pending",campaign:"Product Recommendations"}];return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5"}),"Payment History"]})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:t.map(n=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(io,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n.partner}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.campaign}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(oo,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:n.date})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-lg",children:["$",n.amount.toFixed(2)]}),s.jsx(fe,{variant:n.status==="completed"?"default":"secondary",children:n.status})]})]},n.id))})})]})},eM=({connectAccountId:e})=>{const[t,n]=m.useState(!1),[r,a]=m.useState(""),[i,o]=m.useState(""),{toast:l}=be(),c=[{id:"1",name:"Google AdSense",email:"partner@google.com",totalRevenue:8450.75,status:"active",apiKey:"pk_partner_google_..."},{id:"2",name:"Facebook Audience Network",email:"partner@facebook.com",totalRevenue:3240.5,status:"active",apiKey:"pk_partner_facebook_..."}],u=()=>{if(!r||!i){l({title:"Missing Information",description:"Please provide both partner name and email.",variant:"destructive"});return}l({title:"Partner Added",description:`${r} has been added as an advertising partner.`}),a(""),o(""),n(!1)},d=()=>{const h=`${window.location.origin}/api/ad-revenue/payment`;navigator.clipboard.writeText(h),l({title:"Copied!",description:"API endpoint copied to clipboard."})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(io,{className:"h-5 w-5"}),"Advertising Partners"]}),s.jsxs(F,{onClick:()=>n(!0),size:"sm",children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Add Partner"]})]})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:c.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(io,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:h.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(ze,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Total: $",h.totalRevenue.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"text-right space-y-2",children:[s.jsx(fe,{variant:h.status==="active"?"default":"secondary",children:h.status}),s.jsx("div",{children:s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:h.apiKey})})]})]},h.id))})})]}),t&&s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Add New Partner"})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"partnerName",children:"Partner Name"}),s.jsx(ae,{id:"partnerName",placeholder:"e.g., Google AdSense",value:r,onChange:h=>a(h.target.value)})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"partnerEmail",children:"Contact Email"}),s.jsx(ae,{id:"partnerEmail",type:"email",placeholder:"partner@company.com",value:i,onChange:h=>o(h.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:u,children:"Add Partner"}),s.jsx(F,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(_E,{className:"h-5 w-5"}),"API Integration"]})}),s.jsx(I,{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(le,{children:"Payment API Endpoint"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(ae,{value:`${window.location.origin}/api/ad-revenue/payment`,readOnly:!0,className:"font-mono text-sm"}),s.jsx(F,{variant:"outline",size:"sm",onClick:d,children:"Copy"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Partners can send POST requests to this endpoint to submit payments."})]})})]})]})};class tM{async createExpressAccount(t){try{console.log("Creating Express account for ad revenue:",t);const{data:n,error:r}=await te.functions.invoke("create-ad-revenue-account",{body:t});if(r)throw new Error(r.message||"Express account creation failed");return n}catch(n){return console.error("Ad Revenue Account Creation Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async receivePayment(t){try{console.log("Processing ad revenue payment:",t);const{data:n,error:r}=await te.functions.invoke("receive-ad-payment",{body:t});if(r)throw new Error(r.message||"Payment processing failed");return n}catch(n){return console.error("Ad Revenue Payment Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}}async getAccountBalance(t){try{const{data:n,error:r}=await te.functions.invoke("get-ad-revenue-balance",{body:{accountId:t}});if(r)throw new Error(r.message||"Failed to get balance");return n}catch(n){throw console.error("Balance fetch error:",n),n}}async requestPayout(t,n){try{const{data:r,error:a}=await te.functions.invoke("request-ad-revenue-payout",{body:{accountId:t,amount:n}});if(a)throw new Error(a.message||"Payout request failed");return r}catch(r){throw console.error("Payout request error:",r),r}}}const cN=new tM,nM=({connectAccountId:e})=>{const[t,n]=m.useState(""),[r,a]=m.useState(!1),{toast:i}=be(),o={available:1250,pending:875.5},l=[{id:"1",amount:1200,date:"2024-01-20",status:"scheduled",method:"ACH Transfer"},{id:"2",amount:800,date:"2024-01-15",status:"completed",method:"Wire Transfer"}],c=async()=>{const u=parseFloat(t);if(!u||u<=0){i({title:"Invalid Amount",description:"Please enter a valid payout amount.",variant:"destructive"});return}if(u>o.available){i({title:"Insufficient Balance",description:"Requested amount exceeds available balance.",variant:"destructive"});return}a(!0);try{await cN.requestPayout(e,u*100),i({title:"Payout Requested",description:`Payout of $${u.toFixed(2)} has been requested.`}),n("")}catch(d){console.error("Payout request error:",d),i({title:"Payout Failed",description:"Failed to request payout. Please try again.",variant:"destructive"})}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5"}),"Available Balance"]})}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:["$",o.available.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready for withdrawal"})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-5 w-5"}),"Pending Balance"]})}),s.jsxs(I,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:["$",o.pending.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing, available soon"})]})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Request Payout"})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"payoutAmount",children:"Amount ($)"}),s.jsx(ae,{id:"payoutAmount",type:"number",placeholder:"0.00",value:t,onChange:u=>n(u.target.value),min:"0",max:o.available,step:"0.01"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum: $",o.available.toFixed(2)]})]}),s.jsxs(F,{onClick:c,disabled:r||!t,className:"w-full",children:[r?"Processing...":"Request Payout",s.jsx(ya,{className:"h-4 w-4 ml-2"})]})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(oo,{className:"h-5 w-5"}),"Payout History"]})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:l.map(u=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["$",u.amount.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u.method}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(oo,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:u.date})]})]})]}),s.jsx(fe,{variant:u.status==="completed"?"default":"secondary",children:u.status})]},u.id))})})]})]})},rM=({onAccountCreated:e})=>{const[t,n]=m.useState(!1),[r,a]=m.useState(""),[i,o]=m.useState(""),{toast:l}=be(),c=async()=>{if(!r||!i){l({title:"Missing Information",description:"Please provide both business email and name.",variant:"destructive"});return}n(!0);try{const u=await cN.createExpressAccount({email:r,businessName:i,businessType:"company",country:"US"});if(u.success&&u.data)e(u.data.accountId),u.data.onboardingUrl&&window.open(u.data.onboardingUrl,"_blank"),l({title:"Account Created Successfully",description:"Your ad revenue collection account has been set up. Complete the onboarding process in the new tab."});else throw new Error(u.error||"Failed to create account")}catch(u){console.error("Account creation error:",u),l({title:"Setup Failed",description:u instanceof Error?u.message:"Failed to set up account",variant:"destructive"})}finally{n(!1)}};return s.jsxs(R,{className:"max-w-2xl mx-auto",children:[s.jsx($,{className:"text-center",children:s.jsxs(B,{className:"flex items-center justify-center gap-2",children:[s.jsx(io,{className:"h-6 w-6"}),"Set Up Ad Revenue Collection"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground text-center",children:"Create a Stripe Connect Express account to start receiving payments from advertising partners."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"businessEmail",children:"Business Email"}),s.jsx(ae,{id:"businessEmail",type:"email",placeholder:"your-business@example.com",value:r,onChange:u=>a(u.target.value),disabled:t})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"businessName",children:"Business Name"}),s.jsx(ae,{id:"businessName",placeholder:"Your Business Name",value:i,onChange:u=>o(u.target.value),disabled:t})]}),s.jsx(F,{onClick:c,disabled:t,className:"w-full",size:"lg",children:t?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating account..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Create Ad Revenue Account"]})})]}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"What happens next:"})," We'll create a Stripe Connect Express account for your business. This allows you to receive payments from advertising partners and manage payouts to your bank account. You'll be redirected to complete the onboarding process."]})})]})]})},sM=()=>{const[e,t]=m.useState(null);return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-7xl space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Ad Revenue Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage payments from advertising partners and track your revenue"})]}),e?s.jsxs(Gs,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(xs,{className:"grid w-full grid-cols-4",children:[s.jsx(Pe,{value:"overview",children:"Overview"}),s.jsx(Pe,{value:"payments",children:"Payment History"}),s.jsx(Pe,{value:"partners",children:"Partners"}),s.jsx(Pe,{value:"payouts",children:"Payouts"})]}),s.jsx(Ae,{value:"overview",children:s.jsx(X5,{connectAccountId:e})}),s.jsx(Ae,{value:"payments",children:s.jsx(Z5,{connectAccountId:e})}),s.jsx(Ae,{value:"partners",children:s.jsx(eM,{connectAccountId:e})}),s.jsx(Ae,{value:"payouts",children:s.jsx(nM,{connectAccountId:e})})]}):s.jsx(rM,{onAccountCreated:t})]})})},aM=()=>s.jsx(sM,{}),iM=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[a,i]=m.useState(!0),{toast:o}=be();m.useEffect(()=>{l()},[]);const l=async()=>{i(!0);try{const{data:u,error:d}=await te.functions.invoke("affiliate-tracking",{body:{affiliateId:"YOUR_AFFILIATE_ID",action:"get_stats"}});d?console.error("Error loading affiliate stats:",d):t(u);const{data:h,error:f}=await te.functions.invoke("income-affiliate",{body:{action:"calculate_earnings",data:{affiliateId:"YOUR_AFFILIATE_ID",timeframe:"monthly"}}});f?console.error("Error loading earnings:",f):r(h)}catch(u){console.error("Error loading affiliate data:",u),o({title:"Loading Error",description:"Failed to load affiliate dashboard data",variant:"destructive"})}finally{i(!1)}},c=async()=>{try{const{data:u,error:d}=await te.functions.invoke("income-affiliate",{body:{action:"process_payout",data:{affiliateId:"YOUR_AFFILIATE_ID",amount:n?.earnings?.total||0,paymentMethod:"bitcoin"}}});if(d)throw d;o({title:"Payout Requested",description:`Payout of $${n?.earnings?.total||0} has been requested and is being processed.`})}catch(u){console.error("Error requesting payout:",u),o({title:"Payout Error",description:"Failed to process payout request",variant:"destructive"})}};return a?s.jsx(R,{children:s.jsx(I,{className:"flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading affiliate dashboard..."})]})})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(ln,{className:"h-6 w-6 text-green-500"}),"Affiliate Revenue Dashboard"]})}),s.jsx(I,{children:s.jsxs(Gs,{defaultValue:"overview",className:"w-full",children:[s.jsxs(xs,{className:"grid w-full grid-cols-3",children:[s.jsx(Pe,{value:"overview",children:"Overview"}),s.jsx(Pe,{value:"performance",children:"Performance"}),s.jsx(Pe,{value:"payouts",children:"Payouts"})]}),s.jsxs(Ae,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Clicks"}),s.jsx("p",{className:"text-2xl font-bold",children:e?.totalClicks||0})]}),s.jsx($E,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversions"}),s.jsx("p",{className:"text-2xl font-bold",children:e?.totalConversions||0})]}),s.jsx(Sh,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Commission"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",e?.totalCommission||"0.00"]})]}),s.jsx(ze,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),s.jsx("p",{className:"text-2xl font-bold",children:e?.conversionRate||"0%"})]}),s.jsx(ln,{className:"h-8 w-8 text-purple-500"})]})})})]}),n&&s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Monthly Earnings Breakdown"})}),s.jsx(I,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-700",children:"Base Earnings"}),s.jsxs("p",{className:"text-xl font-bold text-green-900",children:["$",n.earnings?.base||"0.00"]})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-700",children:"Bonus Earnings"}),s.jsxs("p",{className:"text-xl font-bold text-blue-900",children:["$",n.earnings?.bonus||"0.00"]})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-purple-700",children:"Total Earnings"}),s.jsxs("p",{className:"text-xl font-bold text-purple-900",children:["$",n.earnings?.total||"0.00"]})]})]})})]})]}),s.jsx(Ae,{value:"performance",className:"space-y-4",children:s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Top Performing Services"})}),s.jsx(I,{children:e?.topPerformingServices?s.jsx("div",{className:"space-y-3",children:e.topPerformingServices.map((u,d)=>s.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:u.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.conversions," conversions"]})]}),s.jsxs("p",{className:"font-bold text-green-600",children:["$",u.commission]})]},d))}):s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No performance data available yet"})})]})}),s.jsx(Ae,{value:"payouts",className:"space-y-4",children:s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Payout Management"})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Available for Payout:"}),s.jsxs("span",{className:"text-lg font-bold",children:["$",n?.earnings?.total||"0.00"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Minimum Payout:"}),s.jsx("span",{className:"text-sm",children:"$50.00"})]})]}),s.jsx(F,{onClick:c,className:"w-full",disabled:!n?.earnings?.total||n.earnings.total<50,children:"Request Payout via Bitcoin"}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Payouts are processed within 24 hours via Bitcoin to your registered wallet address."})]})]})})]})})]})})},oM=()=>{const e=[{title:"Total Revenue",value:"$24,567.89",change:"+12.5%",icon:ze,color:"text-green-600"},{title:"Active Partners",value:"48",change:"+8.3%",icon:Fs,color:"text-blue-600"},{title:"Monthly Growth",value:"15.2%",change:"+2.1%",icon:ln,color:"text-purple-600"},{title:"Daily Payouts",value:"24/7",change:"Processing",icon:jn,color:"text-orange-600"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((t,n)=>{const r=t.icon;return s.jsx(R,{children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t.title}),s.jsx("p",{className:"text-2xl font-bold",children:t.value}),s.jsx("p",{className:`text-xs ${t.color}`,children:t.change})]}),s.jsx(r,{className:`h-8 w-8 ${t.color}`})]})})},n)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5"}),"Our Payout Model"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(Me,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:"Daily Payout Processing"}),s.jsx("p",{className:"text-sm text-green-700",children:"Automated daily transfers to your account"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Processing Schedule:"}),s.jsx(fe,{className:"bg-blue-100 text-blue-800",children:"Every 24 Hours"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Minimum Payout:"}),s.jsx("span",{className:"text-sm font-semibold",children:"$10.00"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Payment Method:"}),s.jsx("span",{className:"text-sm",children:"Stripe Transfer"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"Processing Time:"}),s.jsx("span",{className:"text-sm",children:"1-3 Business Days"})]})]}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Daily Processing:"})," Earnings are automatically processed and transferred to your connected Stripe account every day at 6 PM EST, provided you've reached the minimum payout threshold."]})})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(oo,{className:"h-5 w-5"}),"Recent Payout Activity"]})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:[{date:"Today",amount:"$245.67",status:"Processing",color:"bg-yellow-100 text-yellow-800"},{date:"Yesterday",amount:"$189.34",status:"Completed",color:"bg-green-100 text-green-800"},{date:"Jan 23",amount:"$298.12",status:"Completed",color:"bg-green-100 text-green-800"},{date:"Jan 22",amount:"$156.89",status:"Completed",color:"bg-green-100 text-green-800"}].map((t,n)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:t.amount}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.date})]})]}),s.jsx(fe,{className:t.color,children:t.status})]},n))})})]})]})]})},lM=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[s.jsx("header",{className:"bg-white shadow-md",children:s.jsxs("div",{className:"container mx-auto px-4 py-4",children:[s.jsx("h1",{className:"text-3xl font-bold text-purple-800",children:"Affiliate Revenue Center"}),s.jsx("p",{className:"text-purple-600 mt-1",children:"Real partner integrations with detailed analytics and commission tracking"})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-8 space-y-8",children:[s.jsx(lN,{}),s.jsx(oM,{}),s.jsx(iM,{})]})]}),cM=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(null),[a,i]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,h]=m.useState(!1),[f,p]=m.useState(""),{toast:x}=be(),g=[{name:"Coinbase",address:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa"},{name:"Binance",address:"1NDyJtNTjmwk5xPNhjgAMu4HDHigtobu1s"},{name:"Kraken",address:"1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2"},{name:"Custom Exchange",value:"custom"}],v=async()=>{i(!0);try{const{data:S,error:k}=await te.functions.invoke("generate-wallet");if(k)throw k;console.log("Generated wallet:",S),t(S),r(null),x({title:"Wallet Generated!",description:"Your new Bitcoin mainnet wallet has been created."})}catch(S){console.error("Error generating wallet:",S),x({title:"Error",description:`Failed to generate wallet: ${S.message}`,variant:"destructive"})}finally{i(!1)}},y=async()=>{if(e){i(!0);try{const{data:S,error:k}=await te.functions.invoke("get-balance",{body:{address:e.address}});if(k)throw k;console.log("Balance data:",S),r(S),x({title:"Balance Updated",description:`Balance: ${S.balanceBTC} BTC (${S.balanceSats} sats)`})}catch(S){console.error("Error getting balance:",S),x({title:"Error",description:`Failed to get balance: ${S.message}`,variant:"destructive"})}finally{i(!1)}}},w=async()=>{if(!e||!o||!c){x({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}h(!0);try{const{data:S,error:k}=await te.functions.invoke("send-btc",{body:{privateKeyWIF:e.privateKey,recipientAddress:o,amountSats:parseInt(c)}});if(k)throw k;console.log("Transaction result:",S),x({title:"Transaction Sent!",description:`TXID: ${S.txid}`}),l(""),u(""),p(""),await y()}catch(S){console.error("Error sending BTC:",S),x({title:"Transaction Failed",description:`${S.message}`,variant:"destructive"})}finally{h(!1)}},b=S=>{if(p(S),S!=="custom"){const k=g.find(E=>E.address===S);k&&l(k.address)}else l("")},j=async()=>{if(!e||!n||!o){x({title:"Error",description:"Please select an exchange and ensure you have a balance",variant:"destructive"});return}const k=Math.max(0,n.balanceSats-1e3);if(k<=0){x({title:"Insufficient Balance",description:"Not enough balance to cover transaction fees",variant:"destructive"});return}h(!0);try{const{data:E,error:U}=await te.functions.invoke("send-btc",{body:{privateKeyWIF:e.privateKey,recipientAddress:o,amountSats:k}});if(U)throw U;x({title:"Withdrawal Successful!",description:`Sent ${k} sats to exchange. TXID: ${E.txid}`}),await y()}catch(E){console.error("Error withdrawing to exchange:",E),x({title:"Withdrawal Failed",description:`${E.message}`,variant:"destructive"})}finally{h(!1)}},N=S=>{navigator.clipboard.writeText(S),x({title:"Copied!",description:"Address copied to clipboard"})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-5 w-5"}),"Bitcoin Mainnet Wallet"]})}),s.jsx(I,{className:"space-y-4",children:e?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Public Address"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{value:e.address,readOnly:!0,className:"font-mono text-xs"}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>N(e.address),children:s.jsx(D0,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Mm,{value:e.address,size:120})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Private Key (WIF)"}),s.jsx(ae,{value:e.privateKey,readOnly:!0,className:"font-mono text-xs",type:"password"})]})]}):s.jsx(F,{onClick:v,disabled:a,className:"w-full",children:a?"Generating...":"Generate New Wallet"})})]}),e&&s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Wallet Balance"}),s.jsx(F,{variant:"outline",size:"sm",onClick:y,disabled:a,children:s.jsx(Jr,{className:`h-4 w-4 ${a?"animate-spin":""}`})})]})}),s.jsx(I,{children:n?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[n.balanceBTC," BTC"]}),s.jsxs("p",{className:"text-muted-foreground",children:[n.balanceSats," satoshis"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transactions: ",n.transactions]})]}):s.jsx("p",{className:"text-muted-foreground",children:"Click refresh to get balance"})})]}),e&&n&&n.balanceSats>0&&s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Ga,{className:"h-5 w-5"}),"Withdraw to Exchange"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Select Exchange"}),s.jsxs(fr,{value:f,onValueChange:b,children:[s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Choose an exchange or enter custom address"})}),s.jsx(Qn,{children:g.map(S=>s.jsx(qe,{value:S.address||S.value,children:S.name},S.address||S.value))})]})]}),(f==="custom"||f==="")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Exchange Wallet Address"}),s.jsx(ae,{value:o,onChange:S=>l(S.target.value),placeholder:"Enter exchange mainnet address",className:"font-mono"})]}),f&&f!=="custom"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Selected Exchange Address"}),s.jsx("div",{className:"p-2 bg-muted rounded-md",children:s.jsx("p",{className:"font-mono text-xs break-all",children:o})})]}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Withdrawal Amount:"})," ",n.balanceSats-1e3," sats",s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:"(1000 sats reserved for transaction fees)"})]})}),s.jsx(F,{onClick:j,disabled:d||!o||n.balanceSats<=1e3,className:"w-full",children:d?"Processing Withdrawal...":"Withdraw All to Exchange"})]})]}),e&&s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(F0,{className:"h-5 w-5"}),"Send Bitcoin (Manual)"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Recipient Address"}),s.jsx(ae,{value:o,onChange:S=>l(S.target.value),placeholder:"Enter mainnet address (starts with 1, 3, or bc1)",className:"font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Amount (satoshis)"}),s.jsx(ae,{type:"number",value:c,onChange:S=>u(S.target.value),placeholder:"Enter amount in satoshis",min:"1"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"1 BTC = 100,000,000 satoshis"})]}),s.jsx(F,{onClick:w,disabled:d||!o||!c,className:"w-full",children:d?"Sending...":"Send Bitcoin"})]})]})]})},uM=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Bitcoin Mainnet Wallet"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Generate wallets, check balances, and send Bitcoin on mainnet"})]}),s.jsx(cM,{})]})}),dM=[{id:"metamask",name:"MetaMask",icon:""},{id:"walletconnect",name:"WalletConnect",icon:""},{id:"coinbase",name:"Coinbase Wallet",icon:""},{id:"trust",name:"Trust Wallet",icon:""},{id:"phantom",name:"Phantom",icon:""},{id:"custom",name:"Custom Address",icon:""}],hM=({selectedNetwork:e,onWalletConnect:t})=>{const[n,r]=m.useState(null),[a,i]=m.useState(""),{toast:o}=be(),l=async c=>{if(c==="custom"){if(!a.trim()){o({title:"Error",description:"Please enter a valid address",variant:"destructive"});return}t({address:a,balance:"0.0000",network:e,connected:!0}),i("");return}r(c),setTimeout(()=>{const u=`0x${Math.random().toString(16).substr(2,40)}`,d=(Math.random()*10).toFixed(4);t({address:u,balance:d,network:e,connected:!0}),r(null)},2e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:dM.filter(c=>c.id!=="custom").map(c=>s.jsxs(F,{variant:"outline",className:"h-16 flex flex-col gap-2 hover:bg-gray-50",onClick:()=>l(c.id),disabled:n===c.id,children:[s.jsx("span",{className:"text-2xl",children:c.icon}),s.jsx("span",{className:"text-sm",children:n===c.id?"Connecting...":c.name})]},c.id))}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(qc,{className:"h-4 w-4"}),"Connect Custom Address"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ae,{placeholder:"Enter wallet address (0x...)",value:a,onChange:c=>i(c.target.value),className:"flex-1"}),s.jsxs(F,{onClick:()=>l("custom"),disabled:!a.trim(),children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Connect"]})]})]})]})},fM=({wallets:e,onDisconnect:t})=>{const n=a=>({ethereum:"bg-blue-500",bitcoin:"bg-orange-500",polygon:"bg-purple-500",binance:"bg-yellow-500",avalanche:"bg-red-500",solana:"bg-green-500"})[a]||"bg-gray-500",r=a=>`${a.slice(0,6)}...${a.slice(-4)}`;return s.jsxs(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5"}),"Connected Wallets"]})}),s.jsxs(I,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((a,i)=>s.jsx(R,{className:"border border-gray-200",children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fe,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${n(a.network)}`}),a.network]}),s.jsx(qc,{className:"h-3 w-3 text-green-500 fill-current"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),s.jsx("p",{className:"font-mono text-sm",children:r(a.address)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Balance"}),s.jsx("p",{className:"text-lg font-semibold",children:a.balance})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(a.address)},children:"Copy"}),s.jsx(F,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>t(a.address),children:"Disconnect"})]})]})})},`${a.address}-${i}`))}),e.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Jn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No wallets connected yet"})]})]})]})},Sd=[{id:"ethereum",name:"Ethereum",symbol:"ETH",color:"bg-blue-500"},{id:"bitcoin",name:"Bitcoin",symbol:"BTC",color:"bg-orange-500"},{id:"polygon",name:"Polygon",symbol:"MATIC",color:"bg-purple-500"},{id:"binance",name:"Binance Smart Chain",symbol:"BNB",color:"bg-yellow-500"},{id:"avalanche",name:"Avalanche",symbol:"AVAX",color:"bg-red-500"},{id:"solana",name:"Solana",symbol:"SOL",color:"bg-green-500"}],mM=({selectedNetwork:e,onNetworkChange:t})=>{const n=Sd.find(r=>r.id===e);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(fr,{value:e,onValueChange:t,children:[s.jsx(Yn,{className:"w-64",children:s.jsx(mr,{placeholder:"Select network"})}),s.jsx(Qn,{children:Sd.map(r=>s.jsx(qe,{value:r.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${r.color}`}),r.name," (",r.symbol,")"]})},r.id))})]}),n&&s.jsxs(fe,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${n.color}`}),n.name]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:Sd.map(r=>s.jsxs("button",{onClick:()=>t(r.id),className:`p-3 rounded-lg border-2 transition-all ${e===r.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${r.color} mx-auto mb-1`}),s.jsx("p",{className:"text-xs font-medium",children:r.symbol})]},r.id))})]})},pM=()=>{const[e,t]=m.useState([]),[n,r]=m.useState("ethereum"),{toast:a}=be(),i=l=>{t(c=>[...c,l]),a({title:"Wallet Connected",description:`Successfully connected to ${l.network}`})},o=l=>{t(c=>c.filter(u=>u.address!==l)),a({title:"Wallet Disconnected",description:"Wallet has been disconnected"})};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Connected Wallets"}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),s.jsx(Jn,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Active Networks"}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:new Set(e.map(l=>l.network)).size})]}),s.jsx(qc,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:s.jsx(I,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Security Status"}),s.jsx("p",{className:"text-lg font-semibold text-purple-600",children:"Protected"})]}),s.jsx(st,{className:"h-8 w-8 text-purple-500"})]})})})]}),s.jsxs(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"h-5 w-5"}),"Network Configuration"]})}),s.jsx(I,{children:s.jsx(mM,{selectedNetwork:n,onNetworkChange:r})})]}),s.jsxs(R,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"h-5 w-5"}),"Connect Wallet"]})}),s.jsx(I,{children:s.jsx(hM,{selectedNetwork:n,onWalletConnect:i})})]}),e.length>0&&s.jsx(fM,{wallets:e,onDisconnect:o})]})},gM=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4",children:"Decentralized Wallet Hub"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Connect, manage, and interact with multiple blockchain networks through a unified interface"})]}),s.jsx(pM,{})]})}),xM=Co("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uN=m.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:ie(xM({variant:t}),e),...n}));uN.displayName="Alert";const vM=m.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:ie("mb-1 font-medium leading-none tracking-tight",e),...t}));vM.displayName="AlertTitle";const dN=m.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:ie("text-sm [&_p]:leading-relaxed",e),...t}));dN.displayName="AlertDescription";const yM=({currentBalance:e,verifiedAccountsCount:t,totalTransferred:n,completedTransfers:r})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",e.toFixed(2)]})]}),s.jsx(im,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Verified Accounts"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t})]}),s.jsx(Me,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Transferred"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",n.toFixed(2)]})]}),s.jsx(Ga,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completed Transfers"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r})]}),s.jsx(om,{className:"h-8 w-8 text-orange-500"})]})})})]}),wM=({verifiedAccountsCount:e,pendingAccountsCount:t,onNavigateToTab:n})=>s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Quick Actions"]})}),s.jsxs(I,{className:"space-y-3",children:[e===0?s.jsxs(F,{onClick:()=>n("accounts"),className:"w-full",children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Add Your First Bank Account"]}):s.jsxs(s.Fragment,{children:[s.jsxs(F,{onClick:()=>n("transfer"),className:"w-full",children:[s.jsx(Ga,{className:"h-4 w-4 mr-2"}),"Transfer to Bank Account"]}),s.jsxs(F,{onClick:()=>n("accounts"),variant:"outline",className:"w-full",children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Add Another Account"]})]}),t>0&&s.jsxs(F,{onClick:()=>n("verification"),variant:"outline",className:"w-full",children:[s.jsx(ko,{className:"h-4 w-4 mr-2"}),"Complete Verification (",t,")"]})]})]}),bM=({transfers:e})=>s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(om,{className:"h-5 w-5"}),"Recent Transfer Activity"]})}),s.jsx(I,{children:e.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No recent transfers"}):s.jsx("div",{className:"space-y-3",children:e.map(t=>{const n=typeof t.details=="object"&&t.details&&typeof t.details=="object"&&"amount"in t.details&&Number(t.details.amount)||0;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ga,{className:"h-4 w-4 text-green-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium",children:["$",n.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(t.created_at).toLocaleDateString()})]})]}),s.jsx(fe,{variant:"outline",className:"text-xs",children:t.action.replace("secure_deposit_","")})]},t.id)})})})]}),jM=({bankAccounts:e,onUpdateAccount:t})=>{const n=r=>{const a={verified:"bg-green-100 text-green-800",verifying:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",pending:"bg-gray-100 text-gray-800"};return a[r]||a.pending};return s.jsx("div",{className:"space-y-4",children:e.map(r=>s.jsx(R,{children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:r.account_holder_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.bank_name,"  ****",r.account_number_last4]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(r.created_at).toLocaleDateString()]}),r.updated_by_user_at&&s.jsxs("p",{className:"text-xs text-orange-600",children:["Updated ",new Date(r.updated_by_user_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:n(r.verification_status),children:r.verification_status}),r.verification_status==="verified"&&s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>t(r),children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Update"]})]})]})})},r.id))})},NM=({auditLog:e})=>s.jsx("div",{className:"space-y-2",children:e.slice(0,20).map(t=>{const n=typeof t.details=="object"&&t.details&&typeof t.details=="object"&&"amount"in t.details&&Number(t.details.amount)||0,r=typeof t.details=="object"&&t.details&&typeof t.details=="object"&&"verification_confirmed"in t.details?!!t.details.verification_confirmed:!1;return s.jsx(R,{children:s.jsx(I,{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${t.action.includes("verified")?"bg-green-500":t.action.includes("failed")?"bg-red-500":t.action.includes("deposit")?"bg-blue-500":"bg-gray-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:t.action.replace(/_/g," ").toUpperCase()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(t.created_at).toLocaleString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n>0&&s.jsxs(fe,{variant:"outline",children:["$",n.toFixed(2)]}),r&&s.jsxs(fe,{className:"bg-green-100 text-green-800",children:[s.jsx(As,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})})},t.id)})}),SM=({currentBalance:e,onDepositSuccess:t,userEmail:n,userId:r})=>{const[a,i]=m.useState([]),[o,l]=m.useState([]),[c,u]=m.useState(!0),[d,h]=m.useState("overview"),[f,p]=m.useState(null),[x,g]=m.useState({totalTransferred:0,pendingTransfers:0,completedTransfers:0,failedTransfers:0}),{toast:v}=be(),y=async()=>{try{const T=await es.getUserBankAccounts();i(T)}catch(T){console.error("Failed to load bank accounts:",T),v({title:"Loading Error",description:"Failed to load bank accounts",variant:"destructive"})}},w=async()=>{try{const T=await es.getBankAccountAuditLog();l(T);const G=T.reduce((D,z)=>{if(z.action==="secure_deposit_processed"){const H=typeof z.details=="object"&&z.details&&typeof z.details=="object"&&"amount"in z.details&&Number(z.details.amount)||0;D.totalTransferred+=H,D.completedTransfers+=1}else z.action==="secure_deposit_pending"?D.pendingTransfers+=1:z.action==="secure_deposit_failed"&&(D.failedTransfers+=1);return D},{totalTransferred:0,pendingTransfers:0,completedTransfers:0,failedTransfers:0});g(G)}catch(T){console.error("Failed to load audit log:",T)}};m.useEffect(()=>{(async()=>{u(!0),await Promise.all([y(),w()]),u(!1)})()},[]);const b=()=>{y(),w(),h("verification")},j=()=>{y(),w(),h("transfer")},N=T=>{t(T),w(),h("history")},S=()=>{y(),w(),p(null),h("verification")},k=T=>{h(T)},E=T=>{p(T),h("update")},U=a.filter(T=>T.verification_status==="verified"),M=a.filter(T=>T.verification_status!=="verified"),K=()=>o.filter(T=>T.action.includes("secure_deposit")).sort((T,G)=>new Date(G.created_at).getTime()-new Date(T.created_at).getTime()).slice(0,5);return c?s.jsx(R,{children:s.jsx(I,{className:"flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading secure bank transfer dashboard..."})]})})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-6 w-6 text-green-500"}),"Secure Bank Transfer Dashboard"]})}),s.jsx(I,{children:s.jsxs(Gs,{value:d,onValueChange:h,className:"w-full",children:[s.jsxs(xs,{className:"grid w-full grid-cols-6",children:[s.jsx(Pe,{value:"overview",children:"Overview"}),s.jsx(Pe,{value:"accounts",children:"Accounts"}),s.jsx(Pe,{value:"verification",children:"Verification"}),s.jsx(Pe,{value:"transfer",children:"Transfer"}),s.jsx(Pe,{value:"update",children:"Update"}),s.jsx(Pe,{value:"history",children:"History"})]}),s.jsxs(Ae,{value:"overview",className:"space-y-6",children:[s.jsx(yM,{currentBalance:e,verifiedAccountsCount:U.length,totalTransferred:x.totalTransferred,completedTransfers:x.completedTransfers}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(wM,{verifiedAccountsCount:U.length,pendingAccountsCount:M.length,onNavigateToTab:k}),s.jsx(bM,{transfers:K()})]}),M.length>0&&s.jsxs(uN,{children:[s.jsx(ko,{className:"h-4 w-4"}),s.jsxs(dN,{children:["You have ",M.length," bank account",M.length===1?"":"s"," pending verification. Complete verification to enable secure transfers."]})]})]}),s.jsxs(Ae,{value:"accounts",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Your Bank Accounts"}),a.length>0&&a.length<3&&s.jsxs(F,{onClick:()=>h("accounts"),size:"sm",children:[s.jsx($a,{className:"h-4 w-4 mr-2"}),"Add Account"]})]}),a.length===0?s.jsx(Nc,{onAccountCreated:b}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(jM,{bankAccounts:a,onUpdateAccount:E}),a.length<3&&s.jsx(Nc,{onAccountCreated:b})]})]}),s.jsxs(Ae,{value:"verification",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Account Verification"}),M.length===0?s.jsxs("div",{className:"text-center p-8",children:[s.jsx(Me,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"All accounts are verified!"})]}):s.jsx("div",{className:"space-y-4",children:M.map(T=>s.jsx(m1,{bankAccount:T,onVerificationComplete:j},T.id))})]}),s.jsxs(Ae,{value:"transfer",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Secure Transfer to Bank Account"}),U.length===0?s.jsx(R,{children:s.jsxs(I,{className:"text-center p-8",children:[s.jsx(st,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No verified accounts available"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You must verify at least one bank account before processing transfers"}),s.jsx(F,{onClick:()=>h("accounts"),className:"mt-4",variant:"outline",children:"Add & Verify Account"})]})}):s.jsx(iN,{currentBalance:e,verifiedAccounts:U,userEmail:n,userId:r,onDepositSuccess:N})]}),s.jsxs(Ae,{value:"update",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Update Bank Account Information"}),f?s.jsx(oN,{bankAccount:f,onUpdateComplete:S}):s.jsx(R,{children:s.jsxs(I,{className:"text-center p-8",children:[s.jsx(Ur,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No account selected for update"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select an account from the Accounts tab to update its information"}),s.jsx(F,{onClick:()=>h("accounts"),className:"mt-4",variant:"outline",children:"Go to Accounts"})]})})]}),s.jsxs(Ae,{value:"history",className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Transfer History & Security Audit"}),s.jsx(NM,{auditLog:o})]})]})})]})})},CM=({onLogin:e})=>{const[t,n]=m.useState(!0),[r,a]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState(!1),{toast:u}=be(),d=p=>/^[\+]?[1-9][\d]{0,15}$/.test(p.replace(/[\s\-\(\)]/g,"")),h=p=>/^[a-zA-Z0-9_]{3,20}$/.test(p),f=async p=>{if(p.preventDefault(),!r.trim()||!i.trim()){u({title:"Missing information",description:"Please fill in all fields.",variant:"destructive"});return}if(!d(r)){u({title:"Invalid phone number",description:"Please enter a valid phone number.",variant:"destructive"});return}if(!h(i)){u({title:"Invalid username",description:"Username must be 3-20 characters, letters, numbers, and underscores only.",variant:"destructive"});return}c(!0),setTimeout(()=>{const x={phoneNumber:r.trim(),username:i.trim()};u({title:t?"Login successful!":"Account created!",description:`Welcome to EarnFlow, ${i}!`}),e(x),c(!1)},1500)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-bold text-primary mb-4",children:"EarnFlow"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Earn money by interacting with partner advertisements. Get paid instantly with Bitcoin."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(ln,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Instant Earnings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"5% commission per task"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(st,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Privacy First"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimal data required"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(Fs,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Trusted Partners"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium advertisers"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(Gc,{className:"h-8 w-8 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"24/7 Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn anytime"})]})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Privacy Protection"}),s.jsx("p",{className:"text-sm text-green-700",children:"We only collect your phone number and username. No personal information, no tracking, no data selling. Your privacy is our priority."})]})]}),s.jsxs(R,{className:"w-full max-w-md mx-auto",children:[s.jsxs($,{className:"text-center",children:[s.jsx(B,{className:"text-2xl",children:t?"Welcome Back":"Join EarnFlow"}),s.jsx("p",{className:"text-muted-foreground",children:t?"Sign in to continue earning":"Create your account to start earning"})]}),s.jsxs(I,{children:[s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ae,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:r,onChange:p=>a(p.target.value),disabled:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"username",children:"Username"}),s.jsx(ae,{id:"username",type:"text",placeholder:"your_username",value:i,onChange:p=>o(p.target.value),disabled:l}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"3-20 characters, letters, numbers, and underscores only"})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:l,children:l?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Signing In...":"Creating Account..."]}):t?"Sign In":"Create Account"}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>n(!t),className:"text-sm text-primary hover:underline",disabled:l,children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),s.jsx("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsx("p",{className:"text-xs text-blue-700 text-center",children:" Your data is encrypted and secure. We never share your information with third parties."})})]})]})]})})},kM=()=>{const{user:e,loading:t}=tr(),[n]=_.useState(1250.75),r=o=>{console.log(`Deposit of $${o} processed successfully`)};if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Secure Bank Transfer Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Please sign in to access your secure bank transfer dashboard"})]}),s.jsx(CM,{onLogin:()=>{}})]})});const a=e.email||"",i=e.id||"";return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Secure Bank Transfer Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Manage your bank accounts and process secure transfers with complete audit trails"})]}),s.jsx(SM,{currentBalance:n,onDepositSuccess:r,userEmail:a,userId:i})]})})},EM=()=>{const[e,t]=m.useState(!0),[n,r]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,h]=m.useState(!1),{toast:f}=be(),p=It(),{user:x,loading:g}=tr();m.useEffect(()=>{!g&&x&&p("/",{replace:!0})},[x,g,p]);const v=j=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j),y=j=>/^[\+]?[1-9][\d]{0,15}$/.test(j.replace(/[\s\-\(\)]/g,"")),w=j=>/^[a-zA-Z0-9_]{3,20}$/.test(j),b=async j=>{if(j.preventDefault(),!n.trim()||!a.trim()){f({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(!v(n)){f({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}if(a.length<6){f({title:"Invalid password",description:"Password must be at least 6 characters long.",variant:"destructive"});return}if(!e){if(!o.trim()||!c.trim()){f({title:"Missing information",description:"Please fill in all fields for signup.",variant:"destructive"});return}if(!w(o)){f({title:"Invalid username",description:"Username must be 3-20 characters, letters, numbers, and underscores only.",variant:"destructive"});return}if(!y(c)){f({title:"Invalid phone number",description:"Please enter a valid phone number.",variant:"destructive"});return}}h(!0);try{if(e){const{data:N,error:S}=await te.auth.signInWithPassword({email:n.trim(),password:a.trim()});if(S)throw S;f({title:"Login successful!",description:"Welcome back to EarnFlow!"}),window.location.href="/"}else{const{error:N}=await te.auth.signUp({email:n.trim(),password:a.trim(),options:{data:{username:o.trim(),phone_number:c.trim()},emailRedirectTo:`${window.location.origin}/`}});if(N)throw N;f({title:"Account created!",description:"Please check your email to verify your account."})}}catch(N){console.error("Auth error:",N),f({title:e?"Login failed":"Signup failed",description:N.message||"An error occurred. Please try again.",variant:"destructive"})}finally{h(!1)}};return g?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"space-y-6 text-center lg:text-left",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-bold text-primary mb-4",children:"EarnFlow"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:"Earn money by interacting with partner advertisements. Get paid instantly with Bitcoin."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(ln,{className:"h-8 w-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Instant Earnings"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"5% commission per task"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(st,{className:"h-8 w-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Privacy First"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimal data required"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(Fs,{className:"h-8 w-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"Trusted Partners"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium advertisers"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-lg shadow-sm",children:[s.jsx(Gc,{className:"h-8 w-8 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"24/7 Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn anytime"})]})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Privacy Protection"}),s.jsx("p",{className:"text-sm text-green-700",children:"We only collect your email, username and phone number. No personal information, no tracking, no data selling. Your privacy is our priority."})]})]}),s.jsxs(R,{className:"w-full max-w-md mx-auto",children:[s.jsxs($,{className:"text-center",children:[s.jsx(B,{className:"text-2xl",children:e?"Welcome Back":"Join EarnFlow"}),s.jsx("p",{className:"text-muted-foreground",children:e?"Sign in to continue earning":"Create your account to start earning"})]}),s.jsxs(I,{className:"space-y-4",children:[s.jsx(gb,{}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(ae,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:j=>r(j.target.value),disabled:d,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"password",children:"Password"}),s.jsx(ae,{id:"password",type:"password",placeholder:"",value:a,onChange:j=>i(j.target.value),disabled:d,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 6 characters"})]}),!e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"username",children:"Username"}),s.jsx(ae,{id:"username",type:"text",placeholder:"your_username",value:o,onChange:j=>l(j.target.value),disabled:d,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"3-20 characters, letters, numbers, and underscores only"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ae,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:c,onChange:j=>u(j.target.value),disabled:d,required:!0})]})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:d,children:d?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e?"Signing In...":"Creating Account..."]}):e?"Sign In":"Create Account"}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-sm text-primary hover:underline",disabled:d,children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),s.jsx("div",{className:"mt-6 p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsx("p",{className:"text-xs text-blue-700 text-center",children:" Your data is encrypted and secure. We never share your information with third parties."})})]})]})]})})};var Zm="Checkbox",[_M,Y3]=Zn(Zm),[PM,AM]=_M(Zm),hN=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=m.useState(null),x=ke(t,j=>p(j)),g=m.useRef(!1),v=f?d||!!f.closest("form"):!0,[y=!1,w]=yr({prop:a,defaultProp:i,onChange:u}),b=m.useRef(y);return m.useEffect(()=>{const j=f?.form;if(j){const N=()=>w(b.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[f,w]),s.jsxs(PM,{scope:n,state:y,disabled:l,children:[s.jsx(de.button,{type:"button",role:"checkbox","aria-checked":ts(y)?"mixed":y,"aria-required":o,"data-state":pN(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onKeyDown:oe(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:oe(e.onClick,j=>{w(N=>ts(N)?!0:!N),v&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),v&&s.jsx(TM,{control:f,bubbles:!g.current,name:r,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ts(i)?!1:i})]})});hN.displayName=Zm;var fN="CheckboxIndicator",mN=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=AM(fN,n);return s.jsx(Nr,{present:r||ts(i.state)||i.state===!0,children:s.jsx(de.span,{"data-state":pN(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});mN.displayName=fN;var TM=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=m.useRef(null),l=du(n),c=Jc(t);m.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&p){const x=new Event("click",{bubbles:r});d.indeterminate=ts(n),p.call(d,ts(n)?!1:n),d.dispatchEvent(x)}},[l,n,r]);const u=m.useRef(ts(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ts(e){return e==="indeterminate"}function pN(e){return ts(e)?"indeterminate":e?"checked":"unchecked"}var gN=hN,RM=mN;const ep=m.forwardRef(({className:e,...t},n)=>s.jsx(gN,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(RM,{className:ie("flex items-center justify-center text-current"),children:s.jsx(I0,{className:"h-4 w-4"})})}));ep.displayName=gN.displayName;const IM=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,i]=m.useState(""),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,h]=m.useState(0),{toast:f}=be(),{user:p}=tr();m.useEffect(()=>{(async()=>{if(p)try{const{data:v,error:y}=await te.from("commissions").select("amount_earned_cents").eq("user_id",p.id).eq("paid_out",!1);if(y)throw y;const w=v?.reduce((b,j)=>b+j.amount_earned_cents,0)||0;h(w/100)}catch(v){console.error("Error fetching earnings:",v)}})()},[p]),m.useEffect(()=>{p?.email&&r(p.email)},[p]);const x=async()=>{const g=parseFloat(e);if(!g||g<.5){f({title:"Invalid Amount",description:"Minimum payment amount is $0.50",variant:"destructive"});return}if(!n){f({title:"Email Required",description:"Please provide your email address",variant:"destructive"});return}if(c){if(!p){f({title:"Authentication Required",description:"Please sign in to pay with earnings",variant:"destructive"});return}if(g>d){f({title:"Insufficient Earnings",description:`You only have $${d.toFixed(2)} in earnings`,variant:"destructive"});return}l(!0);try{const{error:v}=await te.from("commissions").insert({user_id:p.id,amount_earned_cents:-Math.round(g*100),description:a||`Payment deducted from earnings - $${g}`,source:"earnings_payment",paid_out:!0,paid_at:new Date().toISOString()});if(v)throw v;h(y=>y-g),f({title:"Payment Successful",description:`$${g.toFixed(2)} deducted from your earnings`}),t(""),i(""),u(!1)}catch(v){console.error("Earnings payment error:",v),f({title:"Payment Failed",description:"Failed to process payment with earnings",variant:"destructive"})}finally{l(!1)}return}l(!0);try{const{data:v,error:y}=await te.functions.invoke("create-checkout-session",{body:{amount:Math.round(g*100),description:a||`Payment - $${g}`,successUrl:`${window.location.origin}/payment-success`,cancelUrl:`${window.location.origin}/`,customerEmail:n,mode:"payment"}});if(y)throw y;if(v?.success&&v?.data?.url)window.open(v.data.url,"_blank"),f({title:"Payment Link Created",description:"Stripe checkout opened in a new tab"});else throw new Error(v?.error||"Failed to create payment session")}catch(v){console.error("Payment error:",v),f({title:"Payment Failed",description:v instanceof Error?v.message:"Failed to create payment session",variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-md",children:[p&&s.jsxs(R,{className:"mb-6",children:[s.jsx($,{className:"text-center",children:s.jsxs(B,{className:"flex items-center justify-center gap-2 text-xl",children:[s.jsx(Jn,{className:"h-5 w-5 text-green-600"}),"Your Earnings Balance"]})}),s.jsxs(I,{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",d.toFixed(2)]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Available to use for payments"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"text-center",children:[s.jsxs(B,{className:"flex items-center justify-center gap-2 text-2xl",children:[s.jsx(yt,{className:"h-6 w-6"}),"Make a Payment"]}),s.jsx("p",{className:"text-muted-foreground",children:"Secure payment powered by Stripe"})]}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"amount",children:"Amount ($)"}),s.jsx(ae,{id:"amount",type:"number",placeholder:"0.00",value:e,onChange:g=>t(g.target.value),min:"0.50",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"email",children:"Your Email"}),s.jsx(ae,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:g=>r(g.target.value),disabled:!!p?.email})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(ae,{id:"description",placeholder:"What is this payment for?",value:a,onChange:g=>i(g.target.value)})]}),p&&d>0&&s.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-green-50 rounded-lg",children:[s.jsx(ep,{id:"payWithEarnings",checked:c,onCheckedChange:g=>u(g)}),s.jsxs(le,{htmlFor:"payWithEarnings",className:"text-sm font-medium",children:["Pay with my earnings balance ($",d.toFixed(2)," available)"]})]}),s.jsx(F,{onClick:x,disabled:o||!e||!n||c&&parseFloat(e)>d,className:"w-full",children:o?s.jsx(s.Fragment,{children:"Processing..."}):c?s.jsxs(s.Fragment,{children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Pay with Earnings"]}):s.jsxs(s.Fragment,{children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Pay with Stripe"]})}),c&&parseFloat(e)>d&&s.jsxs("p",{className:"text-sm text-red-600 text-center",children:["Insufficient earnings balance. You need $",(parseFloat(e)-d).toFixed(2)," more."]}),s.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"Secure Payment:"})," ",c?"Payment will be deducted from your earnings balance.":"This payment will be processed securely through Stripe."]})})]})]})]})})},OM=()=>s.jsx(IM,{});var xN="basil",DM=function(t){return t===3?"v3":t},vN="https://js.stripe.com",MM="".concat(vN,"/").concat(xN,"/stripe.js"),FM=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,LM=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Mx="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",$M=function(t){return FM.test(t)||LM.test(t)},BM=function(){for(var t=document.querySelectorAll('script[src^="'.concat(vN,'"]')),n=0;n<t.length;n++){var r=t[n];if($M(r.src))return r}return null},Fx=function(t){var n="",r=document.createElement("script");r.src="".concat(MM).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},UM=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},wi=null,gl=null,xl=null,zM=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},VM=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},WM=function(t){return wi!==null?wi:(wi=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(Mx),window.Stripe){n(window.Stripe);return}try{var a=BM();if(a&&t)console.warn(Mx);else if(!a)a=Fx(t);else if(a&&xl!==null&&gl!==null){var i;a.removeEventListener("load",xl),a.removeEventListener("error",gl),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=Fx(t)}xl=VM(n,r),gl=zM(r),a.addEventListener("load",xl),a.addEventListener("error",gl)}catch(o){r(o);return}}),wi.catch(function(n){return wi=null,Promise.reject(n)}))},HM=function(t,n,r){if(t===null)return null;var a=n[0],i=a.match(/^pk_test/),o=DM(t.version),l=xN;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return UM(c,r),c},bi,yN=!1,wN=function(){return bi||(bi=WM(null).catch(function(t){return bi=null,Promise.reject(t)}),bi)};Promise.resolve().then(function(){return wN()}).catch(function(e){yN||console.warn(e)});var bN=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];yN=!0;var a=Date.now();return wN().then(function(i){return HM(i,n,a)})},jN={exports:{}},qM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GM=qM,KM=GM;function NN(){}function SN(){}SN.resetWarningCache=NN;var YM=function(){function e(r,a,i,o,l,c){if(c!==KM){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SN,resetWarningCache:NN};return n.PropTypes=n,n};jN.exports=YM();var QM=jN.exports;const He=af(QM);function Lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lx(Object(n),!0).forEach(function(r){CN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fl(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fl=function(t){return typeof t}:Fl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function CN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JM(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function XM(e,t){if(e==null)return{};var n=JM(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tp(e,t){return ZM(e)||eF(e,t)||tF(e,t)||nF()}function ZM(e){if(Array.isArray(e))return e}function eF(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function tF(e,t){if(e){if(typeof e=="string")return Bx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bx(e,t)}}function Bx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xt=function(t,n,r){var a=!!r,i=_.useRef(r);_.useEffect(function(){i.current=r},[r]),_.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,o),function(){t.off(n,o)}},[a,n,t,i])},xo=function(t){var n=_.useRef(t);return _.useEffect(function(){n.current=t},[t]),n.current},Va=function(t){return t!==null&&Fl(t)==="object"},rF=function(t){return Va(t)&&typeof t.then=="function"},sF=function(t){return Va(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Ux="[object Object]",aF=function e(t,n){if(!Va(t)||!Va(n))return t===n;var r=Array.isArray(t),a=Array.isArray(n);if(r!==a)return!1;var i=Object.prototype.toString.call(t)===Ux,o=Object.prototype.toString.call(n)===Ux;if(i!==o)return!1;if(!i&&!r)return t===n;var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var f=Object.keys(u);if(f.length!==l.length)return!1;var p=t,x=n,g=function(y){return e(p[y],x[y])};return f.every(g)},kN=function(t,n,r){return Va(t)?Object.keys(t).reduce(function(a,i){var o=!Va(n)||!aF(t[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?$x($x({},a||{}),{},CN({},i,t[i])):a},null):null},EN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",zx=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:EN;if(t===null||sF(t))return t;throw new Error(n)},_N=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:EN;if(rF(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return zx(a,n)})};var r=zx(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},PN=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Nu=_.createContext(null);Nu.displayName="ElementsContext";var AN=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},TN=function(t){var n=t.stripe,r=t.options,a=t.children,i=_.useMemo(function(){return _N(n)},[n]),o=_.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),l=tp(o,2),c=l[0],u=l[1];_.useEffect(function(){var f=!0,p=function(g){u(function(v){return v.stripe?v:{stripe:g,elements:g.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(x){x&&f&&p(x)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){f=!1}},[i,c,r]);var d=xo(n);_.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=xo(r);return _.useEffect(function(){if(c.elements){var f=kN(r,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[r,h,c.elements]),_.useEffect(function(){PN(c.stripe)},[c.stripe]),_.createElement(Nu.Provider,{value:c},a)};TN.propTypes={stripe:He.any,options:He.object};var iF=function(t){var n=_.useContext(Nu);return AN(n,t)},oF=function(){var t=iF("calls useElements()"),n=t.elements;return n};He.func.isRequired;var RN=_.createContext(null);RN.displayName="CheckoutSdkContext";var lF=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},cF=_.createContext(null);cF.displayName="CheckoutContext";He.any,He.shape({fetchClientSecret:He.func.isRequired,elementsOptions:He.object}).isRequired;var rf=function(t){var n=_.useContext(RN),r=_.useContext(Nu);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?lF(n,t):AN(r,t)},uF=["mode"],dF=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ht=function(t,n){var r="".concat(dF(t),"Element"),a=function(c){var u=c.id,d=c.className,h=c.options,f=h===void 0?{}:h,p=c.onBlur,x=c.onFocus,g=c.onReady,v=c.onChange,y=c.onEscape,w=c.onClick,b=c.onLoadError,j=c.onLoaderStart,N=c.onNetworksChange,S=c.onConfirm,k=c.onCancel,E=c.onShippingAddressChange,U=c.onShippingRateChange,M=rf("mounts <".concat(r,">")),K="elements"in M?M.elements:null,T="checkoutSdk"in M?M.checkoutSdk:null,G=_.useState(null),D=tp(G,2),z=D[0],H=D[1],J=_.useRef(null),P=_.useRef(null);Xt(z,"blur",p),Xt(z,"focus",x),Xt(z,"escape",y),Xt(z,"click",w),Xt(z,"loaderror",b),Xt(z,"loaderstart",j),Xt(z,"networkschange",N),Xt(z,"confirm",S),Xt(z,"cancel",k),Xt(z,"shippingaddresschange",E),Xt(z,"shippingratechange",U),Xt(z,"change",v);var L;g&&(t==="expressCheckout"?L=g:L=function(){g(z)}),Xt(z,"ready",L),_.useLayoutEffect(function(){if(J.current===null&&P.current!==null&&(K||T)){var q=null;if(T)switch(t){case"payment":q=T.createPaymentElement(f);break;case"address":if("mode"in f){var ne=f.mode,ue=XM(f,uF);if(ne==="shipping")q=T.createShippingAddressElement(ue);else if(ne==="billing")q=T.createBillingAddressElement(ue);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":q=T.createExpressCheckoutElement(f);break;case"currencySelector":q=T.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else K&&(q=K.create(t,f));J.current=q,H(q),q&&q.mount(P.current)}},[K,T,f]);var X=xo(f);return _.useEffect(function(){if(J.current){var q=kN(f,X,["paymentRequest"]);q&&"update"in J.current&&J.current.update(q)}},[f,X]),_.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),_.createElement("div",{id:u,className:d,ref:P})},i=function(c){rf("mounts <".concat(r,">"));var u=c.id,d=c.className;return _.createElement("div",{id:u,className:d})},o=n?i:a;return o.propTypes={id:He.string,className:He.string,onChange:He.func,onBlur:He.func,onFocus:He.func,onReady:He.func,onEscape:He.func,onClick:He.func,onLoadError:He.func,onLoaderStart:He.func,onNetworksChange:He.func,onConfirm:He.func,onCancel:He.func,onShippingAddressChange:He.func,onShippingRateChange:He.func,options:He.object},o.displayName=r,o.__elementType=t,o},it=typeof window>"u",np=_.createContext(null);np.displayName="EmbeddedCheckoutProviderContext";var IN=function(){var t=_.useContext(np);if(!t)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return t},hF="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",fF=function(t){var n=t.stripe,r=t.options,a=t.children,i=_.useMemo(function(){return _N(n,hF)},[n]),o=_.useRef(null),l=_.useRef(null),c=_.useState({embeddedCheckout:null}),u=tp(c,2),d=u[0],h=u[1];_.useEffect(function(){if(!(l.current||o.current)){var x=function(v){l.current||o.current||(l.current=v,o.current=l.current.initEmbeddedCheckout(r).then(function(y){h({embeddedCheckout:y})}))};i.tag==="async"&&!l.current&&(r.clientSecret||r.fetchClientSecret)?i.stripePromise.then(function(g){g&&x(g)}):i.tag==="sync"&&!l.current&&(r.clientSecret||r.fetchClientSecret)&&x(i.stripe)}},[i,r,d,l]),_.useEffect(function(){return function(){d.embeddedCheckout?(o.current=null,d.embeddedCheckout.destroy()):o.current&&o.current.then(function(){o.current=null,d.embeddedCheckout&&d.embeddedCheckout.destroy()})}},[d.embeddedCheckout]),_.useEffect(function(){PN(l)},[l]);var f=xo(n);_.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[f,n]);var p=xo(r);return _.useEffect(function(){if(p!=null){if(r==null){console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.");return}r.clientSecret===void 0&&r.fetchClientSecret===void 0&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),p.clientSecret!=null&&r.clientSecret!==p.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.fetchClientSecret!=null&&r.fetchClientSecret!==p.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),p.onComplete!=null&&r.onComplete!==p.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),p.onShippingDetailsChange!=null&&r.onShippingDetailsChange!==p.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),p.onLineItemsChange!=null&&r.onLineItemsChange!==p.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")}},[p,r]),_.createElement(np.Provider,{value:d},a)},mF=function(t){var n=t.id,r=t.className,a=IN(),i=a.embeddedCheckout,o=_.useRef(!1),l=_.useRef(null);return _.useLayoutEffect(function(){return!o.current&&i&&l.current!==null&&(i.mount(l.current),o.current=!0),function(){if(o.current&&i)try{i.unmount(),o.current=!1}catch{}}},[i]),_.createElement("div",{ref:l,id:n,className:r})},pF=function(t){var n=t.id,r=t.className;return IN(),_.createElement("div",{id:n,className:r})},gF=it?pF:mF,xF=function(){var t=rf("calls useStripe()"),n=t.stripe;return n};ht("auBankAccount",it);var Vx=ht("card",it);ht("cardNumber",it);ht("cardExpiry",it);ht("cardCvc",it);ht("fpxBank",it);ht("iban",it);ht("idealBank",it);ht("p24Bank",it);ht("epsBank",it);ht("payment",it);ht("expressCheckout",it);ht("currencySelector",it);ht("paymentRequestButton",it);ht("linkAuthentication",it);ht("address",it);ht("shippingAddress",it);ht("paymentMethodMessaging",it);ht("affirmMessage",it);ht("afterpayClearpayMessage",it);const vF=bN("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),yF=({priceId:e,onBack:t,title:n="Complete Your Subscription",description:r="Subscribe to unlock premium features"})=>{const[a,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(!0);m.useEffect(()=>{e&&(async()=>{try{u(!0);const f=hb(void 0,void 0),{data:p,error:x}=await f.functions.invoke("create-embedded-checkout",{body:{priceId:e,mode:"subscription",ui_mode:"embedded",return_url:`${window.location.origin}/subscription-success`}});if(x)throw new Error(x.message||"Failed to create checkout session");if(!p.success||!p.data?.clientSecret)throw new Error(p.error||"Failed to get client secret");i(p.data.clientSecret)}catch(f){l(f instanceof Error?f.message:"Failed to initialize checkout")}finally{u(!1)}})()},[e]);const d={clientSecret:a};return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[t&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),s.jsx(R,{children:s.jsx(I,{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading checkout..."})]})})})]})}):o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[t&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),s.jsx(R,{children:s.jsxs(I,{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-600 mb-4",children:o}),s.jsx(F,{onClick:()=>window.location.reload(),children:"Try Again"})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[t&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:t,variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:n})]}),s.jsxs(R,{children:[s.jsxs($,{children:[s.jsx(B,{children:n}),r&&s.jsx("p",{className:"text-muted-foreground",children:r})]}),s.jsx(I,{children:s.jsx(fF,{stripe:vF,options:d,children:s.jsx(gF,{})})})]})]})})},wF=()=>{const{priceId:e}=PA(),t=It();return e?s.jsx(yF,{priceId:e,onBack:()=>t("/"),title:"Subscribe to EarnFlow",description:"Get your operator license and start earning today"}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-red-600 mb-4",children:"Invalid checkout link"}),s.jsx("button",{onClick:()=>t("/"),children:"Return Home"})]})})})},bF=bN("pk_live_51RBGS0K9RLxvHin2BAeEEZasJJp3IHcwM2QCBIksHEUaDa1GC5MDwwGYbMDejH2Pa9y6ZXvCdoDGTPIEqvmqhcr500r2MxBFkC"),jF=({amount:e,description:t="Payment",onSuccess:n,onError:r})=>{const a=xF(),i=oF(),[o,l]=m.useState(!1),[c,u]=m.useState(""),{toast:d}=be(),h=async f=>{if(f.preventDefault(),!a||!i)return;const p=i.getElement(Vx);if(p){l(!0);try{const x=await Rm.createPaymentIntent({amount:e,description:t,customerEmail:c});if(!x.success||!x.data?.clientSecret)throw new Error(x.error||"Failed to create payment intent");const{error:g,paymentIntent:v}=await a.confirmCardPayment(x.data.clientSecret,{payment_method:{card:p,billing_details:{email:c}}});if(g)throw new Error(g.message);v.status==="succeeded"&&(d({title:"Payment Successful",description:`Payment of $${(e/100).toFixed(2)} completed successfully.`}),n?.(v.id))}catch(x){const g=x instanceof Error?x.message:"Payment failed";d({title:"Payment Failed",description:g,variant:"destructive"}),r?.(g)}finally{l(!1)}}};return s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"email",children:"Email"}),s.jsx(ae,{id:"email",type:"email",value:c,onChange:f=>u(f.target.value),placeholder:"your@email.com",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{children:"Card Details"}),s.jsx("div",{className:"p-3 border rounded-md",children:s.jsx(Vx,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}}}}})})]}),s.jsx(F,{type:"submit",disabled:!a||o,className:"w-full",children:o?"Processing...":`Pay $${(e/100).toFixed(2)}`})]})},NF=e=>{const t={mode:"payment",amount:e.amount,currency:"usd"};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e.onBack&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:e.onBack,variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Payment"})]}),s.jsxs(R,{className:"w-full max-w-md mx-auto",children:[s.jsx($,{children:s.jsx(B,{children:"Payment Details"})}),s.jsx(I,{children:s.jsx(TN,{stripe:bF,options:t,children:s.jsx(jF,{...e})})})]})]})})},SF=()=>{const e=It();return s.jsx(NF,{onBack:()=>e("/"),amount:49.99,description:"EarnFlow Operator License - Monthly Subscription"})},CF=()=>{const{user:e}=tr();return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Commission Payout Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"View your earnings and request payouts from your commission balance"})]}),e?s.jsx(Cb,{userId:e.id}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"Please sign in to view your payout dashboard."})})]})})};class kF{async createDestinationCheckout(t){try{console.log("Creating destination checkout session:",t);const{data:n,error:r}=await te.functions.invoke("create-destination-checkout",{body:t});if(r)throw new Error(r.message||"Destination checkout session creation failed");return n}catch(n){throw console.error("Destination Charge Service Error:",n),n}}calculatePlatformFee(t,n=3){return Math.round(t*(n/100))}formatAmount(t){return(t/100).toFixed(2)}}const Cd=new kF,EF=()=>{const[e,t]=m.useState(!1),{toast:n}=be(),r=m.useCallback(async a=>{t(!0);try{console.log("Creating destination checkout session:",a);const i=await Cd.createDestinationCheckout(a);if(!i.success||!i.data?.url)throw new Error(i.error||"Failed to create destination checkout session");return console.log("Destination checkout session created successfully, URL:",i.data.url),window.location.href=i.data.url,n({title:"Redirecting to Checkout",description:"Redirecting to Stripe to complete your marketplace purchase..."}),i.data}catch(i){throw console.error("Destination checkout error:",i),n({title:"Checkout Failed",description:i instanceof Error?i.message:"Failed to create checkout session",variant:"destructive"}),i}finally{t(!1)}},[n]);return{loading:e,createDestinationCheckout:r,calculatePlatformFee:Cd.calculatePlatformFee,formatAmount:Cd.formatAmount}},_F=({onBack:e})=>{const[t,n]=m.useState(50),[r,a]=m.useState("Marketplace Purchase"),[i,o]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(!1),[h,f]=m.useState(3),{loading:p,createDestinationCheckout:x,calculatePlatformFee:g,formatAmount:v}=EF(),y=Math.round(t*100),w=g(y,h),b=y-w,j=async()=>{if(!i.trim()){alert("Please enter a connected account ID");return}const N=`${window.location.origin}/payment-success`,S=`${window.location.origin}/payment-cancelled`;await x({amount:y,description:r,connectedAccountId:i.trim(),applicationFeeAmount:w,successUrl:N,cancelUrl:S,customerEmail:l.trim()||void 0,onBehalfOf:u})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:e,variant:"outline",size:"sm",disabled:p,children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Destination Charges"})]}),s.jsxs(R,{children:[s.jsxs($,{children:[s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Sh,{className:"h-5 w-5"}),"Marketplace Checkout"]}),s.jsx("p",{className:"text-muted-foreground",children:"Create a checkout session with destination charges for marketplace payments"})]}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"description",children:"Product Description"}),s.jsx(ae,{id:"description",value:r,onChange:N=>a(N.target.value),placeholder:"Enter product description",disabled:p})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"amount",children:"Amount ($)"}),s.jsx(ae,{id:"amount",type:"number",min:"0.50",step:"0.01",value:t,onChange:N=>n(parseFloat(N.target.value)||0),placeholder:"50.00",disabled:p})]}),s.jsxs("div",{children:[s.jsx(le,{htmlFor:"customerEmail",children:"Customer Email (Optional)"}),s.jsx(ae,{id:"customerEmail",type:"email",value:l,onChange:N=>c(N.target.value),placeholder:"customer@example.com",disabled:p})]})]}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"connectedAccount",children:"Connected Account ID"}),s.jsx(ae,{id:"connectedAccount",value:i,onChange:N=>o(N.target.value),placeholder:"acct_1234567890",disabled:p}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"The Stripe Connect account that will receive the funds"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hu,{id:"onBehalfOf",checked:u,onCheckedChange:d,disabled:p}),s.jsx(le,{htmlFor:"onBehalfOf",children:"Use on_behalf_of parameter"})]}),u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"This sets the connected account as the settlement merchant"})]}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{children:[s.jsx(le,{htmlFor:"feePercentage",children:"Platform Fee (%)"}),s.jsx(ae,{id:"feePercentage",type:"number",min:"0",max:"100",step:"0.1",value:h,onChange:N=>f(parseFloat(N.target.value)||0),disabled:p})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(ze,{className:"h-4 w-4"}),"Payment Breakdown"]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Amount:"}),s.jsxs("span",{children:["$",v(y)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Platform Fee (",h,"%):"]}),s.jsxs("span",{children:["$",v(w)]})]}),s.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[s.jsx("span",{children:"To Connected Account:"}),s.jsxs("span",{children:["$",v(b)]})]})]})]})]}),s.jsx(F,{onClick:j,disabled:p||!i.trim()||t<.5,size:"lg",className:"w-full",children:p?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Creating Checkout Session..."})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sh,{className:"h-4 w-4"}),s.jsxs("span",{children:["Create Destination Checkout - $",v(y)]})]})}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"This will create a Stripe Checkout session with destination charges. Funds will be transferred to the connected account after fees are collected."})]})]})]})})},PF=()=>{const e=It();return s.jsx(_F,{onBack:()=>e("/")})};class AF{async createConnectAccount(){try{console.log("Creating Stripe Connect account");const{data:t,error:n}=await te.functions.invoke("create-connect-account");if(n)throw new Error(n.message||"Account creation failed");return t}catch(t){return console.error("Stripe Connect Account Creation Error:",t),{error:t instanceof Error?t.message:"Unknown error occurred"}}}async createAccountLink(t,n,r){try{console.log("Creating account link for:",t);const{data:a,error:i}=await te.functions.invoke("create-connect-account-link",{body:{account:t,returnUrl:n,refreshUrl:r}});if(i)throw new Error(i.message||"Account link creation failed");return a}catch(a){return console.error("Account Link Creation Error:",a),{error:a instanceof Error?a.message:"Unknown error occurred"}}}}const Wx=new AF,TF=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[a,i]=m.useState(),[o,l]=m.useState(!1),[c,u]=m.useState(),{toast:d}=be();m.useEffect(()=>{const p=new URLSearchParams(window.location.search),x=p.get("success"),g=p.get("refresh"),v=p.get("account");x==="true"&&v?(i(v),l(!0),d({title:"Onboarding Successful",description:"Your Stripe account has been set up successfully!"}),window.history.replaceState({},document.title,window.location.pathname)):g==="true"&&v&&(i(v),d({title:"Please Complete Onboarding",description:"Please complete the onboarding process to activate your account.",variant:"destructive"}),window.history.replaceState({},document.title,window.location.pathname))},[d]);const h=async()=>{t(!0),u(void 0);try{const p=await Wx.createConnectAccount();if(p.account)i(p.account),d({title:"Account Created",description:"Your Stripe Connect account has been created successfully."});else throw new Error(p.error||"Failed to create Stripe account")}catch(p){const x=p instanceof Error?p.message:"An unexpected error occurred";u(x),d({title:"Account Creation Failed",description:x,variant:"destructive"})}finally{t(!1)}},f=async()=>{if(a){r(!0),u(void 0);try{const p=await Wx.createAccountLink(a);if(p.url)window.open(p.url,"_blank"),d({title:"Onboarding Link Created",description:"Please complete the onboarding process in the new tab."});else throw new Error(p.error||"Failed to create account link")}catch(p){const x=p instanceof Error?p.message:"An unexpected error occurred";u(x),d({title:"Link Creation Failed",description:x,variant:"destructive"})}finally{r(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Stripe Connect Account Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Set up your account using Stripe's hosted onboarding"})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Account Setup with Links"]})}),s.jsxs(I,{className:"space-y-4",children:[!a&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Step 1: Create Your Stripe Account"}),s.jsx("p",{className:"text-muted-foreground",children:"First, we'll create a Stripe Connect account for you."}),s.jsx(F,{onClick:h,disabled:e,size:"lg",className:"w-full max-w-sm",children:e?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Stripe Account"})]}),a&&!o&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(Me,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-green-600 font-medium",children:"Account Created"})]}),s.jsx("h3",{className:"text-xl font-semibold",children:"Step 2: Complete Onboarding"}),s.jsx("p",{className:"text-muted-foreground",children:"Now complete your account setup through Stripe's secure onboarding process."}),s.jsx(F,{onClick:f,disabled:n,size:"lg",className:"w-full max-w-sm",children:n?s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Link..."]}):s.jsxs(s.Fragment,{children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),"Complete Onboarding"]})})]}),o&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(Me,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-green-600 font-medium text-lg",children:"Setup Complete!"})]}),s.jsx("h3",{className:"text-xl font-semibold",children:"Ready to Accept Payments"}),s.jsx("p",{className:"text-muted-foreground",children:"Your Stripe Connect account is now set up and ready to process payments."})]}),c&&s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-destructive/10 border border-destructive/20 rounded-md",children:[s.jsx(hr,{className:"h-5 w-5 text-destructive"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-destructive font-medium",children:"Error"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c})]})]}),a&&s.jsxs("div",{className:"space-y-3 p-4 bg-muted rounded-md",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Development Information"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{variant:"secondary",children:"Account ID:"}),s.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded font-mono",children:a})]}),o&&s.jsx(fe,{variant:"default",className:"bg-green-500 hover:bg-green-600",children:"Onboarding Completed"})]}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," This implementation uses Stripe's Account Links for onboarding, which redirects users to Stripe's hosted onboarding flow."," ",s.jsxs("a",{href:"https://docs.stripe.com/connect/account-links",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline hover:no-underline",children:["View documentation",s.jsx(as,{className:"h-3 w-3"})]})]})})]})]})]})})},RF=()=>s.jsx(TF,{}),IF=()=>{const e="https://connect.stripe.com/oauth/authorize?redirect_uri=https://connect.stripe.com/hosted/oauth&client_id=ca_SUl4mrgUhkYhtYT8RluxfWhlrtxzYZyF&state=onbrd_SVREc6MpeyXyNQ6t3k6iyrESSc&response_type=code&scope=read_write&stripe_user[country]=US",t=()=>{window.open(e,"_blank")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Connect Your Stripe Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Securely connect your existing Stripe account or create a new one"})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Stripe Connect OAuth"]})}),s.jsxs(I,{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Ready to Connect"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Click the button below to securely connect your Stripe account through Stripe's official OAuth flow. This will allow you to accept payments and manage your account directly through our platform."})]}),s.jsxs(F,{onClick:t,size:"lg",className:"w-full max-w-sm",children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),"Connect Stripe Account"]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-green-500"}),"Security Features"]}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4 text-green-500"}),"Official Stripe OAuth flow"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4 text-green-500"}),"Secure token-based authentication"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4 text-green-500"}),"Read/write permissions for full functionality"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-4 w-4 text-green-500"}),"Pre-configured for US accounts"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:"What Happens Next?"}),s.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx(fe,{variant:"outline",className:"min-w-fit",children:"1"}),s.jsx("span",{children:"You'll be redirected to Stripe's secure connection page"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx(fe,{variant:"outline",className:"min-w-fit",children:"2"}),s.jsx("span",{children:"Sign in to your existing Stripe account or create a new one"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx(fe,{variant:"outline",className:"min-w-fit",children:"3"}),s.jsx("span",{children:"Authorize the connection and return to our platform"})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx(fe,{variant:"outline",className:"min-w-fit",children:"4"}),s.jsx("span",{children:"Start accepting payments immediately"})]})]})]})]}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," This connection uses Stripe's official OAuth protocol, ensuring the highest level of security. Your account credentials are never shared with our platform - only secure access tokens are exchanged."]})}),s.jsxs("div",{className:"p-4 bg-muted rounded-md",children:[s.jsx("h5",{className:"font-semibold text-sm mb-2",children:"Technical Details"}),s.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground font-mono",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Client ID:"})," ca_SUl4mrgUhkYhtYT8RluxfWhlrtxzYZyF"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Scope:"})," read_write"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Country:"})," US (pre-configured)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Response Type:"})," code"]})]})]})]})]})]})})};class OF{async createAndOnboardCustomAccount(t){try{console.log("Creating custom Stripe account:",t);const{data:n,error:r}=await te.functions.invoke("create-custom-stripe-account",{body:t});if(r)throw new Error(r.message||"Custom account creation failed");return n}catch(n){throw console.error("Custom Stripe Account Error:",n),n}}async updateCustomAccount(t,n){try{console.log("Updating custom Stripe account:",t,n);const{data:r,error:a}=await te.functions.invoke("update-custom-stripe-account",{body:{accountId:t,...n}});if(a)throw new Error(a.message||"Custom account update failed");return r}catch(r){throw console.error("Custom Account Update Error:",r),r}}async getAccountRequirements(t){try{console.log("Getting account requirements for:",t);const{data:n,error:r}=await te.functions.invoke("get-account-requirements",{body:{accountId:t}});if(r)throw new Error(r.message||"Failed to get account requirements");return n}catch(n){throw console.error("Get Account Requirements Error:",n),n}}}const ON=new OF,DF=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(null),[a,i]=m.useState(!1),{toast:o}=be(),l=Oo({defaultValues:{productDescription:"",supportPhone:"",businessUrl:"",accountHolderName:"",routingNumber:"",accountNumber:"",tosAccepted:!1}}),c=async u=>{if(!u.tosAccepted){o({title:"Terms Required",description:"You must accept the terms of service to continue.",variant:"destructive"});return}t(!0);try{console.log("Starting custom account onboarding:",u);const d=await ON.createAndOnboardCustomAccount({businessProfile:{productDescription:u.productDescription,supportPhone:u.supportPhone,url:u.businessUrl},externalAccount:{accountHolderName:u.accountHolderName,routingNumber:u.routingNumber,accountNumber:u.accountNumber},tosAcceptance:{userAgent:navigator.userAgent}});if(d.success&&d.data)r(d.data.accountId),i(!0),o({title:"Account Created Successfully",description:"Your custom Stripe account has been set up and is ready for use."});else throw new Error(d.error||"Failed to create custom account")}catch(d){console.error("Custom onboarding error:",d),o({title:"Onboarding Failed",description:d instanceof Error?d.message:"Failed to complete onboarding",variant:"destructive"})}finally{t(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:s.jsxs(R,{children:[s.jsx($,{className:"text-center",children:s.jsxs(B,{className:"flex items-center justify-center gap-2 text-green-600",children:[s.jsx(yt,{className:"h-6 w-6"}),"Custom Account Setup Complete"]})}),s.jsxs(I,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Your custom Stripe Connect account has been successfully created and configured."}),n&&s.jsxs("div",{className:"p-4 bg-muted rounded-md",children:[s.jsx("p",{className:"text-sm font-medium",children:"Account ID:"}),s.jsx("code",{className:"text-xs bg-background px-2 py-1 rounded font-mono",children:n})]}),s.jsx(F,{onClick:()=>window.location.href="/",children:"Return to Dashboard"})]})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Custom Account Setup"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete your custom Stripe Connect account onboarding"})]}),s.jsx(Do,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(io,{className:"h-5 w-5"}),"Business Information"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsx(lt,{control:l.control,name:"productDescription",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Product Description"}),s.jsx(nt,{children:s.jsx(Xm,{placeholder:"Describe your business and the products/services you sell",...u,disabled:e})}),s.jsx(ct,{})]})}),s.jsx(lt,{control:l.control,name:"supportPhone",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Support Phone Number"}),s.jsx(nt,{children:s.jsx(ae,{type:"tel",placeholder:"+1 (555) 123-4567",...u,disabled:e})}),s.jsx(ct,{})]})}),s.jsx(lt,{control:l.control,name:"businessUrl",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Business Website"}),s.jsx(nt,{children:s.jsx(ae,{type:"url",placeholder:"https://your-business.com",...u,disabled:e})}),s.jsx(ct,{})]})})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-5 w-5"}),"Bank Account Information"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsx(lt,{control:l.control,name:"accountHolderName",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Account Holder Name"}),s.jsx(nt,{children:s.jsx(ae,{placeholder:"John Doe or Business Name",...u,disabled:e})}),s.jsx(ct,{})]})}),s.jsx(lt,{control:l.control,name:"routingNumber",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Routing Number"}),s.jsx(nt,{children:s.jsx(ae,{placeholder:"9-digit routing number",...u,disabled:e})}),s.jsx(ct,{})]})}),s.jsx(lt,{control:l.control,name:"accountNumber",render:({field:u})=>s.jsxs(et,{children:[s.jsx(tt,{children:"Account Number"}),s.jsx(nt,{children:s.jsx(ae,{placeholder:"Bank account number",...u,disabled:e})}),s.jsx(ct,{})]})})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(L0,{className:"h-5 w-5"}),"Terms and Conditions"]})}),s.jsx(I,{children:s.jsx(lt,{control:l.control,name:"tosAccepted",render:({field:u})=>s.jsxs(et,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(nt,{children:s.jsx(ep,{checked:u.value,onCheckedChange:u.onChange,disabled:e})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(tt,{children:"I accept the Stripe Connected Account Agreement and authorize this application to access my account"})})]})})})]}),s.jsx(F,{type:"submit",disabled:e,className:"w-full",size:"lg",children:e?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Setting up account..."]}):"Complete Custom Account Setup"})]})}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Custom Account:"})," This setup provides full control over the onboarding experience. All information is collected upfront to minimize future disruptions."]})})]})})},MF=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(!1),[a,i]=m.useState(null),{toast:o}=be(),l=d=>d==="complete"||d==="enabled"?s.jsx(Me,{className:"h-5 w-5 text-green-600"}):d.includes("restricted")||d.includes("rejected")?s.jsx(Hc,{className:"h-5 w-5 text-red-600"}):s.jsx(hr,{className:"h-5 w-5 text-yellow-600"}),c=d=>d==="complete"||d==="enabled"?"text-green-600 bg-green-50 border-green-200":d.includes("restricted")||d.includes("rejected")?"text-red-600 bg-red-50 border-red-200":"text-yellow-600 bg-yellow-50 border-yellow-200",u=async()=>{if(!e.trim()){o({title:"Account ID Required",description:"Please enter a valid account ID.",variant:"destructive"});return}r(!0);try{const d=await ON.getAccountRequirements(e.trim());if(d.success&&d.data)i(d.data),o({title:"Account Information Retrieved",description:`Account state: ${d.data.state}`});else throw new Error(d.error||"Failed to get account information")}catch(d){console.error("Account info error:",d),i(null),o({title:"Failed to Get Account Info",description:d instanceof Error?d.message:"Failed to retrieve account information",variant:"destructive"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(bg,{className:"h-5 w-5"}),"Account Lookup"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"accountId",children:"Stripe Account ID"}),s.jsx(ae,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:e,onChange:d=>t(d.target.value),disabled:n})]}),s.jsx(F,{onClick:u,disabled:n||!e.trim(),children:n?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bg,{className:"h-4 w-4"}),"Get Account Info"]})})]})]}),a&&s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center justify-between",children:["Account Information",s.jsx(F,{variant:"outline",size:"sm",onClick:u,disabled:n,children:s.jsx(Jr,{className:"h-4 w-4"})})]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Account ID"}),s.jsx("p",{className:"font-mono text-sm",children:a.accountId})]}),s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsxs("div",{className:`flex items-center gap-2 mt-1 px-3 py-1 rounded border ${c(a.state)}`,children:[l(a.state),s.jsx("span",{className:"text-sm font-medium",children:a.state})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Charges Enabled"}),s.jsx("p",{className:`text-sm font-medium ${a.chargesEnabled?"text-green-600":"text-red-600"}`,children:a.chargesEnabled?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Payouts Enabled"}),s.jsx("p",{className:`text-sm font-medium ${a.payoutsEnabled?"text-green-600":"text-red-600"}`,children:a.payoutsEnabled?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Details Submitted"}),s.jsx("p",{className:`text-sm font-medium ${a.detailsSubmitted?"text-green-600":"text-yellow-600"}`,children:a.detailsSubmitted?"Yes":"No"})]})]}),a.requirements.currentlyDue.length>0&&s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Currently Due Requirements"}),s.jsx("div",{className:"mt-2 space-y-1",children:a.requirements.currentlyDue.map((d,h)=>s.jsx("div",{className:"text-sm bg-red-50 text-red-700 px-2 py-1 rounded",children:d},h))})]}),a.requirements.eventuallyDue.length>0&&s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Eventually Due Requirements"}),s.jsx("div",{className:"mt-2 space-y-1",children:a.requirements.eventuallyDue.map((d,h)=>s.jsx("div",{className:"text-sm bg-yellow-50 text-yellow-700 px-2 py-1 rounded",children:d},h))})]}),a.requirements.pastDue.length>0&&s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Past Due Requirements"}),s.jsx("div",{className:"mt-2 space-y-1",children:a.requirements.pastDue.map((d,h)=>s.jsx("div",{className:"text-sm bg-red-100 text-red-800 px-2 py-1 rounded font-medium",children:d},h))})]}),a.requirements.disabledReason&&s.jsxs("div",{children:[s.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:"Disabled Reason"}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.requirements.disabledReason})]})]})]})]})};var rp="Radio",[FF,DN]=Zn(rp),[LF,$F]=FF(rp),MN=m.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[h,f]=m.useState(null),p=ke(t,v=>f(v)),x=m.useRef(!1),g=h?u||!!h.closest("form"):!0;return s.jsxs(LF,{scope:n,checked:a,disabled:o,children:[s.jsx(de.button,{type:"button",role:"radio","aria-checked":a,"data-state":$N(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:oe(e.onClick,v=>{a||c?.(),g&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),g&&s.jsx(BF,{control:h,bubbles:!x.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});MN.displayName=rp;var FN="RadioIndicator",LN=m.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=$F(FN,n);return s.jsx(Nr,{present:r||i.checked,children:s.jsx(de.span,{"data-state":$N(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});LN.displayName=FN;var BF=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=m.useRef(null),o=du(n),l=Jc(t);return m.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $N(e){return e?"checked":"unchecked"}var UF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],sp="RadioGroup",[zF,Q3]=Zn(sp,[yu,DN]),BN=yu(),UN=DN(),[VF,WF]=zF(sp),zN=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,p=BN(n),x=fu(u),[g,v]=yr({prop:i,defaultProp:a,onChange:h});return s.jsx(VF,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(Mj,{asChild:!0,...p,orientation:c,dir:x,loop:d,children:s.jsx(de.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...f,ref:t})})})});zN.displayName=sp;var VN="RadioGroupItem",WN=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=WF(VN,n),o=i.disabled||r,l=BN(n),c=UN(n),u=m.useRef(null),d=ke(t,u),h=i.value===a.value,f=m.useRef(!1);return m.useEffect(()=>{const p=g=>{UF.includes(g.key)&&(f.current=!0)},x=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),s.jsx(Fj,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(MN,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:oe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:oe(a.onFocus,()=>{f.current&&u.current?.click()})})})});WN.displayName=VN;var HF="RadioGroupIndicator",HN=m.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=UN(n);return s.jsx(LN,{...a,...r,ref:t})});HN.displayName=HF;var qN=zN,GN=WN,qF=HN;const KN=m.forwardRef(({className:e,...t},n)=>s.jsx(qN,{className:ie("grid gap-2",e),...t,ref:n}));KN.displayName=qN.displayName;const sf=m.forwardRef(({className:e,...t},n)=>s.jsx(GN,{ref:n,className:ie("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(qF,{className:"flex items-center justify-center",children:s.jsx(qc,{className:"h-2.5 w-2.5 fill-current text-current"})})}));sf.displayName=GN.displayName;class GF{async createAccountLink(t){try{console.log("Creating account link:",t);const{data:n,error:r}=await te.functions.invoke("create-account-link",{body:t});if(r)throw new Error(r.message||"Account link creation failed");return n}catch(n){throw console.error("Account Link Error:",n),n}}async getPaymentMethodConfigurations(t){try{console.log("Getting payment method configurations for:",t);const{data:n,error:r}=await te.functions.invoke("get-payment-method-configurations",{body:{accountId:t}});if(r)throw new Error(r.message||"Failed to get payment method configurations");return n}catch(n){throw console.error("Payment Method Config Error:",n),n}}async updatePaymentMethodConfiguration(t,n,r,a){try{console.log("Updating payment method configuration:",{accountId:t,configurationId:n,paymentMethod:r,preference:a});const{data:i,error:o}=await te.functions.invoke("update-payment-method-configuration",{body:{accountId:t,configurationId:n,paymentMethod:r,preference:a}});if(o)throw new Error(o.message||"Failed to update payment method configuration");return i}catch(i){throw console.error("Update Payment Method Config Error:",i),i}}async createCurrencyCheckout(t){try{console.log("Creating currency checkout session:",t);const{data:n,error:r}=await te.functions.invoke("create-currency-checkout",{body:t});if(r)throw new Error(r.message||"Currency checkout creation failed");return n}catch(n){throw console.error("Currency Checkout Error:",n),n}}}const Cc=new GF,KF=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(""),[a,i]=m.useState("currently_due"),{toast:o}=be(),l=async()=>{if(!n.trim()){o({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}t(!0);try{const c=await Cc.createAccountLink({accountId:n.trim(),refreshUrl:`${window.location.origin}/custom-stripe-onboarding?refresh=true`,returnUrl:`${window.location.origin}/custom-stripe-onboarding?success=true`,collectionType:a});if(c.success&&c.data)window.open(c.data.url,"_blank"),o({title:"Account Link Created",description:"Onboarding link opened in a new tab. Complete the process there."});else throw new Error(c.error||"Failed to create account link")}catch(c){console.error("Account link error:",c),o({title:"Failed to Create Account Link",description:c instanceof Error?c.message:"Failed to create account link",variant:"destructive"})}finally{t(!1)}};return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(OE,{className:"h-5 w-5"}),"Progressive Onboarding with Account Links"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"accountId",children:"Stripe Account ID"}),s.jsx(ae,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:c=>r(c.target.value),disabled:e})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(le,{children:"Information Collection Type"}),s.jsxs(KN,{value:a,onValueChange:c=>i(c),disabled:e,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sf,{value:"currently_due",id:"currently_due"}),s.jsx(le,{htmlFor:"currently_due",className:"text-sm",children:"Currently Due - Collect only immediately required information"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sf,{value:"eventually_due",id:"eventually_due"}),s.jsx(le,{htmlFor:"eventually_due",className:"text-sm",children:"Eventually Due - Collect all required information upfront"})]})]})]}),s.jsx(F,{onClick:l,disabled:e||!n.trim(),className:"w-full",children:e?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Creating Account Link..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4"}),"Create Onboarding Link"]})}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Account Links:"})," These provide a Stripe-hosted onboarding flow that's fully compliant and automatically handles all verification requirements. Perfect for progressive onboarding."]})})]})]})},YF=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(""),[a,i]=m.useState([]),[o,l]=m.useState(null),{toast:c}=be(),u=async()=>{if(!n.trim()){c({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}t(!0);try{const f=await Cc.getPaymentMethodConfigurations(n.trim());if(f.success&&f.data)i(f.data),c({title:"Payment Methods Loaded",description:`Found ${f.data.length} payment method configurations.`});else throw new Error(f.error||"Failed to get payment method configurations")}catch(f){console.error("Payment method config error:",f),c({title:"Failed to Load Payment Methods",description:f instanceof Error?f.message:"Failed to load configurations",variant:"destructive"})}finally{t(!1)}},d=async(f,p,x)=>{l(`${f}-${p}`);try{const g=await Cc.updatePaymentMethodConfiguration(n.trim(),f,p,x?"on":"off");if(g.success)await u(),c({title:"Payment Method Updated",description:`${p} has been ${x?"enabled":"disabled"}.`});else throw new Error(g.error||"Failed to update payment method")}catch(g){console.error("Update payment method error:",g),c({title:"Update Failed",description:g instanceof Error?g.message:"Failed to update payment method",variant:"destructive"})}finally{l(null)}},h=f=>({card:"Credit/Debit Cards",affirm:"Affirm",afterpay_clearpay:"Afterpay/Clearpay",sepa_debit:"SEPA Direct Debit",ideal:"iDEAL",bancontact:"Bancontact",sofort:"Sofort",giropay:"Giropay",eps:"EPS",p24:"Przelewy24",alipay:"Alipay",wechat_pay:"WeChat Pay",acss_debit:"Pre-authorized Debit"})[f]||f.replace(/_/g," ").replace(/\b\w/g,x=>x.toUpperCase());return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(Zt,{className:"h-5 w-5"}),"Payment Method Configuration"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"accountId",children:"Stripe Account ID"}),s.jsx(ae,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:f=>r(f.target.value),disabled:e})]}),s.jsx(F,{onClick:u,disabled:e||!n.trim(),children:e?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Loading..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-4 w-4"}),"Load Payment Methods"]})})]})]}),a.map(f=>s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"text-lg",children:[f.name," Configuration",f.is_default&&s.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(Default)"})]})}),s.jsx(I,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(f).filter(([p,x])=>typeof x=="object"&&x!==null&&"available"in x&&"display_preference"in x).map(([p,x])=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:h(p)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:x.available?"Available":"Not Available"})]}),s.jsx(hu,{checked:x.display_preference?.value==="on",onCheckedChange:g=>d(f.id,p,g),disabled:!x.available||o===`${f.id}-${p}`})]},p))})})]},f.id))]})},QF=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(""),[a,i]=m.useState("USD"),[o,l]=m.useState("20.00"),[c,u]=m.useState("Sample Product"),{toast:d}=be(),h=[{code:"USD",name:"US Dollar",symbol:"$"},{code:"EUR",name:"Euro",symbol:""},{code:"GBP",name:"British Pound",symbol:""},{code:"CAD",name:"Canadian Dollar",symbol:"C$"},{code:"AUD",name:"Australian Dollar",symbol:"A$"},{code:"JPY",name:"Japanese Yen",symbol:""}],f=v=>({USD:["Cards","ACH Direct Debit","Affirm","Afterpay"],EUR:["Cards","SEPA Direct Debit","iDEAL","Bancontact","Sofort","Giropay"],GBP:["Cards","Bacs Direct Debit","Klarna"],CAD:["Cards","Pre-authorized Debit"],AUD:["Cards","BECS Direct Debit"],JPY:["Cards","Konbini"]})[v]||["Cards"],p=async()=>{if(!n.trim()){d({title:"Account ID Required",description:"Please enter a valid Stripe account ID.",variant:"destructive"});return}if(!o||parseFloat(o)<=0){d({title:"Invalid Amount",description:"Please enter a valid amount.",variant:"destructive"});return}t(!0);try{const v=Math.round(parseFloat(o)*100),y=await Cc.createCurrencyCheckout({accountId:n.trim(),currency:a,amount:v,productName:c,successUrl:`${window.location.origin}/custom-stripe-onboarding?checkout=success`,cancelUrl:`${window.location.origin}/custom-stripe-onboarding?checkout=cancelled`});if(y.success&&y.data)window.open(y.data.url,"_blank"),d({title:"Checkout Created",description:"Checkout session opened in a new tab."});else throw new Error(y.error||"Failed to create checkout session")}catch(v){console.error("Checkout error:",v),d({title:"Checkout Failed",description:v instanceof Error?v.message:"Failed to create checkout session",variant:"destructive"})}finally{t(!1)}},x=h.find(v=>v.code===a),g=f(a);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(RE,{className:"h-5 w-5"}),"Currency-Based Checkout Demo"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"accountId",children:"Connected Account ID"}),s.jsx(ae,{id:"accountId",placeholder:"acct_xxxxxxxxxxxxx",value:n,onChange:v=>r(v.target.value),disabled:e})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"currency",children:"Currency"}),s.jsxs(fr,{value:a,onValueChange:i,disabled:e,children:[s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Select currency"})}),s.jsx(Qn,{children:h.map(v=>s.jsxs(qe,{value:v.code,children:[v.code," - ",v.name]},v.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(le,{htmlFor:"amount",children:["Amount (",x?.symbol,")"]}),s.jsx(ae,{id:"amount",type:"number",step:"0.01",min:"0.50",placeholder:"20.00",value:o,onChange:v=>l(v.target.value),disabled:e})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"productName",children:"Product Name"}),s.jsx(ae,{id:"productName",placeholder:"Sample Product",value:c,onChange:v=>u(v.target.value),disabled:e})]}),s.jsx(F,{onClick:p,disabled:e||!n.trim(),className:"w-full",children:e?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Creating Checkout..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-4 w-4"}),"Create ",a," Checkout"]})})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"text-lg",children:["Available Payment Methods for ",a]})}),s.jsxs(I,{children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:g.map(v=>s.jsx("div",{className:"p-2 bg-muted rounded text-sm text-center",children:v},v))}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Payment methods automatically adapt based on the selected currency and connected account's location."})]})]})]})},JF=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-6xl",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-4xl font-bold text-primary mb-2",children:"Advanced Stripe Connect"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete Stripe Connect platform with advanced features"})]}),s.jsxs(Gs,{defaultValue:"custom-onboard",className:"space-y-6",children:[s.jsxs(xs,{className:"grid w-full grid-cols-5",children:[s.jsx(Pe,{value:"custom-onboard",children:"Custom Onboarding"}),s.jsx(Pe,{value:"account-links",children:"Account Links"}),s.jsx(Pe,{value:"manage",children:"Account Manager"}),s.jsx(Pe,{value:"payment-methods",children:"Payment Methods"}),s.jsx(Pe,{value:"currency-demo",children:"Currency Demo"})]}),s.jsx(Ae,{value:"custom-onboard",children:s.jsx(DF,{})}),s.jsx(Ae,{value:"account-links",children:s.jsx(KF,{})}),s.jsx(Ae,{value:"manage",children:s.jsx(MF,{})}),s.jsx(Ae,{value:"payment-methods",children:s.jsx(YF,{})}),s.jsx(Ae,{value:"currency-demo",children:s.jsx(QF,{})})]})]})});class XF{async createExpressAccount(t){try{console.log("Creating Express account with prefilled data:",t);const{data:n,error:r}=await te.functions.invoke("create-prefilled-express-account",{body:t});if(r)throw new Error(r.message||"Express account creation failed");return n}catch(n){throw console.error("Express Account Creation Error:",n),n}}async createCustomAccount(t){try{console.log("Creating Custom account with prefilled data:",t);const{data:n,error:r}=await te.functions.invoke("create-prefilled-custom-account",{body:t});if(r)throw new Error(r.message||"Custom account creation failed");return n}catch(n){throw console.error("Custom Account Creation Error:",n),n}}async createStandardAccount(t){try{console.log("Creating Standard account with prefilled data:",t);const{data:n,error:r}=await te.functions.invoke("create-prefilled-standard-account",{body:t});if(r)throw new Error(r.message||"Standard account creation failed");return n}catch(n){throw console.error("Standard Account Creation Error:",n),n}}async updateAccountWithPrefill(t,n){try{console.log("Updating account with prefilled data:",t,n);const{data:r,error:a}=await te.functions.invoke("update-prefilled-account",{body:{accountId:t,...n}});if(a)throw new Error(a.message||"Account update failed");return r}catch(r){throw console.error("Account Update Error:",r),r}}}const kd=new XF,ZF=({onResultsUpdate:e})=>{const[t,n]=m.useState(!1),r=async()=>{n(!0);const a=[];a.push({name:"Express Account Creation",status:"pending"}),e([...a]);try{const i=await kd.createExpressAccount({email:"test-express@example.com",country:"US",accountType:"express",businessType:"individual",businessName:"Test Express Business",productDescription:"Test product for Express account",firstName:"John",lastName:"Doe",userId:"test_express_user",platformSource:"test_suite"});a[a.length-1]={name:"Express Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Express account"}}catch(i){a[a.length-1]={name:"Express Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}e([...a]),a.push({name:"Custom Account Creation",status:"pending"}),e([...a]);try{const i=await kd.createCustomAccount({email:"test-custom@example.com",country:"US",accountType:"custom",businessType:"company",businessName:"Test Custom Business",productDescription:"Test product for Custom account",companyName:"Test Custom Corp",taxId:"12-3456789",userId:"test_custom_user",platformSource:"test_suite"});a[a.length-1]={name:"Custom Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Custom account"}}catch(i){a[a.length-1]={name:"Custom Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}e([...a]),a.push({name:"Standard Account Creation",status:"pending"}),e([...a]);try{const i=await kd.createStandardAccount({email:"test-standard@example.com",country:"US",accountType:"standard",businessType:"individual",businessName:"Test Standard Business",userId:"test_standard_user",platformSource:"test_suite"});a[a.length-1]={name:"Standard Account Creation",status:i.success?"success":"error",message:i.success?`Account ${i.data?.accountId} created successfully`:i.error||"Failed to create Standard account"}}catch(i){a[a.length-1]={name:"Standard Account Creation",status:"error",message:i instanceof Error?i.message:"Unknown error"}}e([...a]),n(!1)};return s.jsx(F,{onClick:r,disabled:t,className:"w-full",children:t?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Running Prefilled Account Tests..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(UE,{className:"h-4 w-4"}),"Run Prefilled Account Creation Tests"]})})},e3=({status:e})=>{switch(e){case"success":return s.jsx(Me,{className:"h-4 w-4 text-green-500"});case"error":return s.jsx(Hc,{className:"h-4 w-4 text-red-500"});default:return s.jsx(kt,{className:"h-4 w-4 animate-spin"})}},t3=({status:e})=>{switch(e){case"success":return s.jsx(fe,{variant:"default",className:"bg-green-500",children:"Pass"});case"error":return s.jsx(fe,{variant:"destructive",children:"Fail"});default:return s.jsx(fe,{variant:"secondary",children:"Testing..."})}},n3=({result:e})=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e3,{status:e.status}),s.jsx("span",{className:"text-sm",children:e.name})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t3,{status:e.status}),e.message&&s.jsx("span",{className:"text-xs text-muted-foreground max-w-40 truncate",children:e.message})]})]}),r3=({results:e})=>e.length===0?null:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Test Results:"}),e.map((t,n)=>s.jsx(n3,{result:t},n))]}),s3=()=>{const[e,t]=m.useState([]);return s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(zE,{className:"h-5 w-5"}),"Stripe Integration Test Suite"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsx(ZF,{onResultsUpdate:t}),s.jsx(r3,{results:e}),s.jsx("div",{className:"p-3 bg-green-50 rounded-md border border-green-200",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"HTTPS Ready:"})," This test suite automatically detects your current protocol (HTTP/HTTPS) and configures all URLs accordingly. Your Stripe integration will work properly over HTTPS in production."]})}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," This test suite verifies that all Stripe edge functions are deployed and working correctly. The tests create minimal test data to verify connectivity without affecting real transactions."]})})]})]})},a3=()=>{const[e,t]=m.useState(!1),{toast:n}=be(),r=m.useCallback(async a=>{t(!0);try{console.log("Capturing Stripe charge:",a);const i=await Rm.captureCharge(a);if(!i.success)throw new Error(i.error||"Charge capture failed");return n({title:"Charge Captured",description:`Charge ${a.chargeId} has been captured successfully.`}),i.data}catch(i){throw console.error("Charge capture error:",i),n({title:"Charge Capture Failed",description:i instanceof Error?i.message:"Failed to capture charge",variant:"destructive"}),i}finally{t(!1)}},[n]);return{loading:e,captureCharge:r}},i3=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[a,i]=m.useState("full"),{loading:o,captureCharge:l}=a3(),c=async()=>{if(!e.trim())return;const u={chargeId:e.trim()};a==="partial"&&n&&(u.amount=Math.round(parseFloat(n)*100));try{await l(u),t(""),r(""),i("full")}catch{}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),"Stripe Charge Capture"]})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"chargeId",children:"Charge ID"}),s.jsx(ae,{id:"chargeId",placeholder:"ch_1234567890abcdef",value:e,onChange:u=>t(u.target.value),disabled:o}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the Stripe charge ID to capture (e.g., ch_3Ln3cj2eZvKYlo2C1lcnB8f6)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(le,{children:"Capture Type"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"captureType",value:"full",checked:a==="full",onChange:()=>i("full"),disabled:o}),s.jsx("span",{children:"Full Capture"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"captureType",value:"partial",checked:a==="partial",onChange:()=>i("partial"),disabled:o}),s.jsx("span",{children:"Partial Capture"})]})]})]}),a==="partial"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(le,{htmlFor:"amount",children:"Amount to Capture ($)"}),s.jsx(ae,{id:"amount",type:"number",step:"0.01",min:"0",placeholder:"10.00",value:n,onChange:u=>r(u.target.value),disabled:o})]}),s.jsx(F,{onClick:c,disabled:o||!e.trim()||a==="partial"&&!n,className:"w-full",children:o?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"h-4 w-4 animate-spin"}),"Capturing Charge..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{className:"h-4 w-4"}),a==="full"?"Capture Full Amount":`Capture $${n||"0.00"}`]})})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{className:"text-lg",children:"About Charge Capture"})}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Authorization vs Capture:"})," Some charges are authorized but not captured immediately"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Full Capture:"})," Captures the entire authorized amount"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Partial Capture:"})," Captures only part of the authorized amount"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Time Limit:"})," Authorized charges must be captured within 7 days"]})]})})]})]})},o3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:()=>e("/"),variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Stripe Integration Test"})]}),s.jsxs(Gs,{defaultValue:"integration",className:"w-full",children:[s.jsxs(xs,{className:"grid w-full grid-cols-2",children:[s.jsx(Pe,{value:"integration",children:"Integration Tests"}),s.jsx(Pe,{value:"capture",children:"Charge Capture"})]}),s.jsx(Ae,{value:"integration",className:"space-y-4",children:s.jsx(s3,{})}),s.jsx(Ae,{value:"capture",className:"space-y-4",children:s.jsx(i3,{})})]})]})})},l3=()=>{const e=[{name:"Stripe Payment Integration",status:"passing",description:"Payment processing is working correctly"},{name:"User Authentication",status:"passing",description:"Google OAuth and email auth functional"},{name:"Database Connections",status:"passing",description:"Supabase connection established"},{name:"Affiliate Tracking",status:"passing",description:"Partner integrations are active"},{name:"Payout Processing",status:"warning",description:"Some manual verification required"}],t=r=>{switch(r){case"passing":return s.jsx(Me,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(hr,{className:"h-4 w-4 text-yellow-500"});default:return s.jsx(jn,{className:"h-4 w-4 text-gray-500"})}},n=r=>{switch(r){case"passing":return s.jsx(fe,{className:"bg-green-100 text-green-800",children:"Passing"});case"warning":return s.jsx(fe,{className:"bg-yellow-100 text-yellow-800",children:"Warning"});default:return s.jsx(fe,{variant:"secondary",children:"Pending"})}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(F,{asChild:!0,variant:"outline",size:"sm",children:s.jsxs(pt,{to:"/",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Production Test Dashboard"})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"System Status Overview"})}),s.jsx(I,{children:s.jsx("div",{className:"space-y-4",children:e.map((r,a)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[t(r.status),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:r.name}),s.jsx("p",{className:"text-sm text-gray-600",children:r.description})]})]}),n(r.status)]},a))})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{className:"text-lg",children:"Active Users"})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:"1,247"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Currently online"})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{className:"text-lg",children:"Transactions Today"})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"89"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Successful payments"})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{className:"text-lg",children:"System Uptime"})}),s.jsxs(I,{children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"99.9%"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Last 30 days"})]})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Recent Activity"})}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Payment processor health check"}),s.jsx(fe,{className:"bg-green-100 text-green-800",children:"Completed"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Database backup verification"}),s.jsx(fe,{className:"bg-green-100 text-green-800",children:"Completed"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Affiliate link validation"}),s.jsx(fe,{className:"bg-yellow-100 text-yellow-800",children:"In Progress"})]})]})})]})]})})};class c3{async fetchBalanceTransactions(t){try{console.log("Fetching balance transactions:",t);const{data:n,error:r}=await te.functions.invoke("fetch-balance-transactions",{body:t});if(r)throw new Error(r.message||"Failed to fetch balance transactions");return n}catch(n){throw console.error("Balance Transaction Service Error:",n),n}}async getBalanceTransaction(t){try{console.log("Fetching balance transaction:",t);const{data:n,error:r}=await te.functions.invoke("get-balance-transaction",{body:{transactionId:t}});if(r)throw new Error(r.message||"Failed to fetch balance transaction");return n.data}catch(n){throw console.error("Get Balance Transaction Error:",n),n}}}const u3=new c3,YN=()=>{const[e,t]=m.useState([]),[n,r]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(null),{toast:c}=be(),u=m.useCallback(async(p={},x=!1)=>{r(!0),l(null);try{const g=await u3.fetchBalanceTransactions(p);if(!g.success)throw new Error(g.error||"Failed to fetch transactions");t(x?v=>[...v,...g.data.data]:g.data.data),i(g.data.has_more)}catch(g){const v=g instanceof Error?g.message:"Failed to fetch transactions";l(v),c({title:"Error",description:v,variant:"destructive"})}finally{r(!1)}},[c]),d=m.useCallback(async p=>{if(!a||n||e.length===0)return;const x=e[e.length-1];await u({starting_after:x.id,filters:p},!0)},[a,n,e,u]),h=m.useCallback(async p=>{await u({filters:p})},[u]),f=m.useCallback(async()=>{await u()},[u]);return{transactions:e,loading:n,hasMore:a,error:o,fetchTransactions:u,loadMore:d,applyFilters:h,refresh:f}},d3=()=>{const{transactions:e,loading:t,fetchTransactions:n}=YN(),[r,a]=m.useState({totalIn:0,totalOut:0,netAmount:0,totalFees:0,transactionCount:0});m.useEffect(()=>{n({limit:100})},[n]),m.useEffect(()=>{if(e.length>0){const l=e.reduce((c,u)=>(u.amount>0?c.totalIn+=u.amount:c.totalOut+=Math.abs(u.amount),c.netAmount+=u.net,c.totalFees+=u.fee,c.transactionCount+=1,c),{totalIn:0,totalOut:0,netAmount:0,totalFees:0,transactionCount:0});a(l)}},[e]);const i=(l,c="usd")=>{const u=l/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:c.toUpperCase()}).format(u)},o=()=>e.sort((l,c)=>c.created-l.created).slice(0,5);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Total Incoming"}),s.jsx(Ga,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i(r.totalIn)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Money received"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Total Outgoing"}),s.jsx(NE,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:i(r.totalOut)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Money sent out"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Net Amount"}),s.jsx(ze,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(I,{children:[s.jsx("div",{className:`text-2xl font-bold ${r.netAmount>=0?"text-green-600":"text-red-600"}`,children:i(r.netAmount)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"After fees"})]})]}),s.jsxs(R,{children:[s.jsxs($,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Total Fees"}),s.jsx(jE,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(I,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:i(r.totalFees)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.transactionCount," transactions"]})]})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Recent Transactions"})}),s.jsx(I,{children:t?s.jsx("div",{className:"text-center py-4",children:"Loading recent transactions..."}):o().length>0?s.jsx("div",{className:"space-y-3",children:o().map(l=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${l.amount<0?"bg-red-500":"bg-green-500"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:l.type.replace("_"," ")}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(l.created*1e3).toLocaleDateString()})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`font-medium ${l.amount<0?"text-red-600":"text-green-600"}`,children:[l.amount<0?"-":"+",i(Math.abs(l.amount),l.currency)]}),s.jsx(fe,{className:"text-xs",children:l.status})]})]},l.id))}):s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No recent transactions"})})]})]})},h3=({transaction:e,onViewDetails:t})=>{const n=c=>{switch(c){case"charge":case"payment":return yt;case"refund":return Jr;case"transfer":return ya;case"payout":return ze;default:return e.amount<0?SE:CE}},r=c=>{switch(c){case"available":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"in_transit":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},a=(c,u)=>{const d=Math.abs(c)/100;return new Intl.NumberFormat("en-US",{style:"currency",currency:u.toUpperCase()}).format(d)},i=c=>new Date(c*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),o=n(e.type),l=e.amount<0;return s.jsx(R,{className:"hover:shadow-md transition-shadow",children:s.jsx(I,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${l?"bg-red-100":"bg-green-100"}`,children:s.jsx(o,{className:`h-4 w-4 ${l?"text-red-600":"text-green-600"}`})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium capitalize",children:e.type.replace("_"," ")}),s.jsx(fe,{className:r(e.status),children:e.status.replace("_"," ")})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:e.description||e.reporting_category}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",i(e.created),e.available_on!==e.created&&s.jsxs("span",{className:"ml-2",children:["Available: ",i(e.available_on)]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-semibold ${l?"text-red-600":"text-green-600"}`,children:[l?"-":"+",a(e.amount,e.currency)]}),e.fee>0&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Fee: ",a(e.fee,e.currency)]}),s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Net: ",a(e.net,e.currency)]}),t&&s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>t(e),className:"mt-2",children:[s.jsx(as,{className:"h-3 w-3 mr-1"}),"Details"]})]})]})})})},f3=()=>{const{transactions:e,loading:t,hasMore:n,error:r,fetchTransactions:a,loadMore:i,applyFilters:o,refresh:l}=YN(),[c,u]=m.useState({}),[d,h]=m.useState(!1);m.useEffect(()=>{a()},[a]);const f=(g,v)=>{const y={...c};v?y[g]=v:delete y[g],u(y)},p=()=>{o(c)},x=()=>{u({}),a()};return s.jsxs(R,{children:[s.jsxs($,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(B,{className:"flex items-center gap-2",children:"Balance Transactions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>h(!d),children:[s.jsx(TE,{className:"h-4 w-4 mr-1"}),"Filters"]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:l,disabled:t,children:[s.jsx(Jr,{className:`h-4 w-4 mr-1 ${t?"animate-spin":""}`}),"Refresh"]})]})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted rounded-md",children:[s.jsxs(fr,{onValueChange:g=>f("type",g),children:[s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Transaction Type"})}),s.jsxs(Qn,{children:[s.jsx(qe,{value:"",children:"All Types"}),s.jsx(qe,{value:"charge",children:"Charge"}),s.jsx(qe,{value:"refund",children:"Refund"}),s.jsx(qe,{value:"transfer",children:"Transfer"}),s.jsx(qe,{value:"payout",children:"Payout"}),s.jsx(qe,{value:"adjustment",children:"Adjustment"})]})]}),s.jsxs(fr,{onValueChange:g=>f("status",g),children:[s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Status"})}),s.jsxs(Qn,{children:[s.jsx(qe,{value:"",children:"All Statuses"}),s.jsx(qe,{value:"available",children:"Available"}),s.jsx(qe,{value:"pending",children:"Pending"}),s.jsx(qe,{value:"in_transit",children:"In Transit"})]})]}),s.jsxs(fr,{onValueChange:g=>f("reporting_category",g),children:[s.jsx(Yn,{children:s.jsx(mr,{placeholder:"Category"})}),s.jsxs(Qn,{children:[s.jsx(qe,{value:"",children:"All Categories"}),s.jsx(qe,{value:"charge",children:"Charge"}),s.jsx(qe,{value:"refund",children:"Refund"}),s.jsx(qe,{value:"transfer",children:"Transfer"}),s.jsx(qe,{value:"payout",children:"Payout"})]})]}),s.jsxs("div",{className:"flex gap-2 md:col-span-3",children:[s.jsx(F,{onClick:p,size:"sm",children:"Apply Filters"}),s.jsx(F,{onClick:x,variant:"outline",size:"sm",children:"Clear Filters"})]})]})]}),s.jsxs(I,{children:[r&&s.jsxs("div",{className:"text-center py-8 text-red-600",children:[s.jsxs("p",{children:["Error loading transactions: ",r]}),s.jsx(F,{onClick:l,className:"mt-2",children:"Try Again"})]}),!r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:e.map(g=>s.jsx(h3,{transaction:g},g.id))}),e.length===0&&!t&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No balance transactions found"})}),t&&s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(kt,{className:"h-6 w-6 animate-spin"})}),n&&!t&&s.jsx("div",{className:"text-center mt-6",children:s.jsx(F,{onClick:()=>i(c),variant:"outline",children:"Load More"})})]})]})]})},m3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-6xl space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{onClick:()=>e("/"),variant:"outline",size:"sm",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Balance Transactions"})]}),s.jsxs(Gs,{defaultValue:"dashboard",className:"space-y-6",children:[s.jsxs(xs,{className:"grid w-full grid-cols-2",children:[s.jsx(Pe,{value:"dashboard",children:"Dashboard"}),s.jsx(Pe,{value:"transactions",children:"All Transactions"})]}),s.jsx(Ae,{value:"dashboard",children:s.jsx(d3,{})}),s.jsx(Ae,{value:"transactions",children:s.jsx(f3,{})})]})]})})},p3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsxs(I,{className:"p-6 text-center space-y-4",children:[s.jsx(Zt,{className:"h-16 w-16 text-blue-500 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Account Setup Simulation"}),s.jsx("div",{className:"p-4 bg-blue-50 rounded-md",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(IE,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Simulation Mode Active"}),s.jsx("p",{className:"text-sm text-blue-700",children:"You're using a restricted Stripe API key. For live Express accounts and real payouts, you'll need full API access and proper Stripe Connect setup."})]})]})}),s.jsx("p",{className:"text-gray-600",children:"This is a demonstration of the account setup flow. In production, this would connect to Stripe's Express account onboarding process."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(F,{onClick:()=>e("/account-setup-success"),className:"w-full",children:"Continue to Success Page"}),s.jsxs(F,{onClick:()=>e("/"),variant:"outline",className:"w-full",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})]})})})},g3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsxs(I,{className:"p-6 text-center space-y-4",children:[s.jsx(Me,{className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup Complete!"}),s.jsx("p",{className:"text-gray-600",children:"Your bank account has been successfully verified. You can now proceed with withdrawals."}),s.jsxs(F,{onClick:()=>e("/"),className:"w-full",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})})})},x3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsxs(I,{className:"p-6 text-center space-y-4",children:[s.jsx(Hc,{className:"h-16 w-16 text-red-500 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup Cancelled"}),s.jsx("p",{className:"text-gray-600",children:"The bank account setup process was cancelled. You can try again anytime from your dashboard."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(F,{onClick:()=>e("/"),className:"w-full",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),s.jsxs(F,{onClick:()=>e("/"),variant:"outline",className:"w-full",children:[s.jsx(lm,{className:"h-4 w-4 mr-2"}),"Try Setup Again"]})]})]})})})},v3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsxs(I,{className:"p-6 text-center space-y-4",children:[s.jsx(Me,{className:"h-16 w-16 text-green-500 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Successful!"}),s.jsx("p",{className:"text-gray-600",children:"Your withdrawal has been processed successfully. Funds will arrive in your bank account within 1-2 business days."}),s.jsxs(F,{onClick:()=>e("/"),className:"w-full",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]})]})})})},y3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:s.jsx(R,{className:"w-full max-w-md",children:s.jsxs(I,{className:"p-6 text-center space-y-4",children:[s.jsx(Hc,{className:"h-16 w-16 text-red-500 mx-auto"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Cancelled"}),s.jsx("p",{className:"text-gray-600",children:"The withdrawal process was cancelled. Your funds remain available in your account."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(F,{onClick:()=>e("/"),className:"w-full",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Return to Dashboard"]}),s.jsxs(F,{onClick:()=>e("/"),variant:"outline",className:"w-full",children:[s.jsx(lm,{className:"h-4 w-4 mr-2"}),"Try Withdrawal Again"]})]})]})})})},w3=()=>{const[e]=tT(),t=It(),{toast:n}=be(),[r,a]=m.useState("loading"),[i,o]=m.useState(null),l=e.get("session_id");return m.useEffect(()=>{l?(async()=>{try{a("complete"),o({customer_email:"user@example.com",amount_total:999,currency:"usd"}),n({title:"Subscription Activated!",description:"Your subscription has been successfully activated."})}catch{a("failed"),n({title:"Verification Failed",description:"Unable to verify your subscription. Please contact support.",variant:"destructive"})}})():a("no-session")},[l,n]),r==="loading"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:s.jsx(R,{children:s.jsx(I,{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Verifying your subscription..."})]})})})})}):r==="failed"||r==="no-session"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:s.jsx(R,{children:s.jsxs(I,{className:"text-center py-12",children:[s.jsxs("div",{className:"text-red-600 mb-4",children:[s.jsx("p",{className:"text-lg font-medium",children:r==="no-session"?"No session found":"Subscription verification failed"}),s.jsx("p",{className:"text-sm",children:"Please contact support if you believe this is an error."})]}),s.jsx(F,{onClick:()=>t("/"),children:"Return Home"})]})})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsx("div",{className:"container mx-auto max-w-2xl space-y-6",children:s.jsxs(R,{children:[s.jsxs($,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Me,{className:"h-10 w-10 text-green-600"})}),s.jsx(B,{className:"text-2xl text-green-800",children:"Subscription Activated!"})]}),s.jsxs(I,{className:"text-center space-y-6",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("p",{className:"text-green-800 font-medium mb-2",children:"Thank you for subscribing to EarnFlow!"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Your subscription has been successfully activated and you now have access to all premium features."})]}),i&&s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Subscription Details"}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["Email: ",i.customer_email]}),s.jsxs("p",{children:["Amount: $",(i.amount_total/100).toFixed(2)," ",i.currency.toUpperCase()]}),s.jsx("p",{children:"Status: Active"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(F,{onClick:()=>t("/"),size:"lg",className:"flex items-center gap-2",children:[s.jsx(M0,{className:"h-4 w-4"}),"Go to Dashboard"]}),s.jsxs(F,{onClick:()=>t("/profile"),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[s.jsx(L0,{className:"h-4 w-4"}),"Manage Subscription"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"You can manage your subscription anytime from your account settings."})]})]})})})},b3=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(F,{asChild:!0,variant:"outline",size:"sm",children:s.jsxs(pt,{to:"/",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Contact Us"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(FE,{className:"h-5 w-5"}),"Email Support"]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"For general inquiries and support requests"}),s.jsx("a",{href:"mailto:support@earnflow.com",className:"text-blue-600 hover:text-blue-800 font-medium",children:"support@earnflow.com"})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(LE,{className:"h-5 w-5"}),"Live Chat"]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Available Monday-Friday, 9 AM - 6 PM EST"}),s.jsx(F,{className:"w-full",children:"Start Live Chat"})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsxs(B,{className:"flex items-center gap-2",children:[s.jsx(BE,{className:"h-5 w-5"}),"Phone Support"]})}),s.jsxs(I,{children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"For urgent matters and payment issues"}),s.jsx("a",{href:"tel:+1-555-EARNFLOW",className:"text-blue-600 hover:text-blue-800 font-medium",children:"+1 (555) EARN-FLOW"})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Business Hours"})}),s.jsx(I,{children:s.jsxs("div",{className:"space-y-2 text-gray-600",children:[s.jsx("p",{children:"Monday - Friday: 9:00 AM - 6:00 PM EST"}),s.jsx("p",{children:"Saturday: 10:00 AM - 4:00 PM EST"}),s.jsx("p",{children:"Sunday: Closed"})]})})]})]}),s.jsxs(R,{children:[s.jsx($,{children:s.jsx(B,{children:"Frequently Asked Questions"})}),s.jsxs(I,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"How do I get paid?"}),s.jsx("p",{className:"text-gray-600",children:"Payments are processed through Stripe and other secure payment processors. You can set up automatic payouts or request manual withdrawals."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"When do I receive my earnings?"}),s.jsx("p",{className:"text-gray-600",children:"Earnings are typically processed within 2-3 business days after completion of tasks and verification of partner commissions."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Is my personal information safe?"}),s.jsx("p",{className:"text-gray-600",children:"Yes, we use industry-standard encryption and never sell your personal information to third parties. View our Privacy Policy for more details."})]})]})]})]})}),j3=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:s.jsxs("div",{className:"container mx-auto max-w-4xl space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(F,{asChild:!0,variant:"outline",size:"sm",children:s.jsxs(pt,{to:"/",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsx("h1",{className:"text-3xl font-bold text-primary",children:"About EarnFlow"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Our Mission"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"EarnFlow is a platform that connects users with real earning opportunities through affiliate partnerships and ad revenue sharing. We believe in transparent, fair compensation for user engagement and provide secure payment processing through trusted partners."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"How It Works"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-gray-700",children:" Complete tasks and interact with partner advertisements"}),s.jsx("p",{className:"text-gray-700",children:" Earn commissions through verified affiliate partnerships"}),s.jsx("p",{className:"text-gray-700",children:" Receive secure payments via Stripe and other trusted processors"}),s.jsx("p",{className:"text-gray-700",children:" Track your earnings and payment history in real-time"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Privacy & Security"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your privacy is our priority. We collect minimal personal information, use industry-standard encryption, and never sell your data to third parties. All payments are processed through secure, PCI-compliant payment processors."})]})]})]})}),N3=()=>{const e=Xa();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},S3=()=>{const e=It(),t=()=>{e("/dashboard")};return s.jsx(xb,{onBack:t})},C3=[{title:"Home",to:"/",icon:s.jsx(M0,{className:"h-4 w-4"}),page:s.jsx(E4,{})},{title:"Dashboard",to:"/dashboard",icon:s.jsx(wg,{className:"h-4 w-4"}),page:s.jsx(J5,{})},{title:"Ad Revenue",to:"/ad-revenue",icon:s.jsx(ze,{className:"h-4 w-4"}),page:s.jsx(aM,{})},{title:"Affiliate Revenue",to:"/affiliate-revenue",icon:s.jsx(ln,{className:"h-4 w-4"}),page:s.jsx(lM,{})},{title:"Bitcoin Wallet",to:"/bitcoin-wallet",icon:s.jsx(Ms,{className:"h-4 w-4"}),page:s.jsx(uM,{})},{title:"Decentralized Wallet",to:"/decentralized-wallet",icon:s.jsx(Jn,{className:"h-4 w-4"}),page:s.jsx(gM,{})},{title:"Secure Bank Transfer",to:"/secure-bank-transfer",icon:s.jsx(st,{className:"h-4 w-4"}),page:s.jsx(kM,{})},{title:"Auth",to:"/auth",icon:s.jsx(Fs,{className:"h-4 w-4"}),page:s.jsx(EM,{})},{title:"Payment",to:"/payment",icon:s.jsx(yt,{className:"h-4 w-4"}),page:s.jsx(OM,{})},{title:"Embedded Checkout",to:"/embedded-checkout",icon:s.jsx(yt,{className:"h-4 w-4"}),page:s.jsx(wF,{})},{title:"Stripe Payment",to:"/stripe-payment",icon:s.jsx(yt,{className:"h-4 w-4"}),page:s.jsx(SF,{})},{title:"Payout Integration",to:"/payout-integration",icon:s.jsx(ze,{className:"h-4 w-4"}),page:s.jsx(CF,{})},{title:"Destination Checkout",to:"/destination-checkout",icon:s.jsx(yt,{className:"h-4 w-4"}),page:s.jsx(PF,{})},{title:"Stripe Connect Link",to:"/stripe-connect-link",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(RF,{})},{title:"Stripe Connect OAuth",to:"/stripe-connect-oauth",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(IF,{})},{title:"Custom Stripe Onboarding",to:"/custom-stripe-onboarding",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(JF,{})},{title:"Stripe Test",to:"/stripe-test",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(o3,{})},{title:"Production Test",to:"/production-test",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(l3,{})},{title:"Balance Transactions",to:"/balance-transactions",icon:s.jsx(wg,{className:"h-4 w-4"}),page:s.jsx(m3,{})},{title:"Account Setup Simulation",to:"/account-setup-simulation",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(p3,{})},{title:"Account Setup Success",to:"/account-setup-success",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(g3,{})},{title:"Account Setup Cancelled",to:"/account-setup-cancelled",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(x3,{})},{title:"Withdrawal Success",to:"/withdrawal-success",icon:s.jsx(ze,{className:"h-4 w-4"}),page:s.jsx(v3,{})},{title:"Withdrawal Cancelled",to:"/withdrawal-cancelled",icon:s.jsx(ze,{className:"h-4 w-4"}),page:s.jsx(y3,{})},{title:"Subscription Success",to:"/subscription-success",icon:s.jsx(yt,{className:"h-4 w-4"}),page:s.jsx(w3,{})},{title:"Contact",to:"/contact",icon:s.jsx(Fs,{className:"h-4 w-4"}),page:s.jsx(b3,{})},{title:"About",to:"/about",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(j3,{})},{title:"Privacy Policy",to:"/privacy-policy",icon:s.jsx(st,{className:"h-4 w-4"}),page:s.jsx(S3,{})},{title:"404",to:"/404",icon:s.jsx(Zt,{className:"h-4 w-4"}),page:s.jsx(N3,{})}],k3=()=>{const e=It();return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"container mx-auto px-4 max-w-2xl",children:s.jsxs(R,{children:[s.jsxs($,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Me,{className:"h-16 w-16 text-green-500"})}),s.jsx(B,{className:"text-2xl text-green-600",children:"Payment Successful!"})]}),s.jsxs(I,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"Thank you for your payment to Lovable.dev. Your transaction has been processed successfully and the funds have been deposited into our Stripe account."}),s.jsx("p",{className:"text-sm text-gray-500",children:"You should receive a confirmation email from Stripe shortly with your payment details."}),s.jsxs("div",{className:"pt-4",children:[s.jsx(F,{onClick:()=>e("/"),className:"mr-2",children:"Return to Dashboard"}),s.jsx(F,{variant:"outline",onClick:()=>window.close(),children:"Close Window"})]})]})]})})})},E3=new XP,_3=()=>s.jsx(eA,{client:E3,children:s.jsxs(PP,{children:[s.jsx(E2,{}),s.jsx(n_,{}),s.jsx(JA,{children:s.jsxs(VA,{children:[C3.map(({to:e,page:t})=>s.jsx(Oh,{path:e,element:t},e)),s.jsx(Oh,{path:"/payment-success",element:s.jsx(k3,{})})]})})]})});a0(document.getElementById("root")).render(s.jsx(_3,{}));
